(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,t.Raven=e()}})(function(){return function c(d,e,t){function r(s,o){if(!e[s]){if(!d[s]){var i="function"==typeof require&&require;if(!o&&i)return i(s,!0);if(n)return n(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var p=e[s]={exports:{}};d[s][0].call(p.exports,function(t){var e=d[s][1][t];return r(e?e:t)},p,p.exports,c,d,e,t)}return e[s].exports}for(var n="function"==typeof require&&require,a=0;a<t.length;a++)r(t[a]);return r}({1:[function(e,t,n){function r(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(a,o){if(0<n.length){var l=n.indexOf(this);~l?n.splice(l+1):n.push(this),~l?r.splice(l,Infinity,a):r.push(a),~n.indexOf(o)&&(o=t.call(this,a,o))}else n.push(o);return null==e?o:e.call(this,a,o)}}n=t.exports=function(e,t,n,a){return JSON.stringify(e,r(t,a),n)},n.getSerialize=r},{}],2:[function(e,t){"use strict";function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,t.exports=n},{}],3:[function(e,t){"use strict";t.exports={wrapMethod:function(e,t,n){var r=e[t];if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var t=[].slice.call(arguments),o=""+t.join(" ");n&&n(o,{level:a,logger:"console",extra:{arguments:t}}),r&&Function.prototype.apply.call(r,e,t)}}}}},{}],4:[function(e,t){(function(n){"use strict";function r(){return+new Date}function a(){for(var e in this._hasJSON=!!("object"==typeof JSON&&JSON.stringify),this._hasDocument=!o(I),this._lastCapturedException=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,stackTraceLimit:50,autoBreadcrumbs:!0},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=w.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=r(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=w.location,this._lastHref=this._location&&this._location.href,this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}function o(e){return void 0===e}function l(e){return"function"==typeof e}function s(e){return"[object String]"===R.toString.call(e)}function i(e){return"object"==typeof e&&null!==e}function c(e){for(var t in e)return!1;return!0}function d(e){var t=R.toString.call(e);return i(e)&&"[object Error]"===t||"[object Exception]"===t||e instanceof Error}function u(e,t){var n,r;if(o(e.length))for(n in e)_(e,n)&&t.call(null,n,e[n]);else if(r=e.length,r)for(n=0;n<r;n++)t.call(null,n,e[n])}function p(e,t){return t?(u(t,function(t,n){e[t]=n}),e):e}function g(e,t){return!t||e.length<=t?e:e.substr(0,t)+"\u2026"}function _(e,t){return R.hasOwnProperty.call(e,t)}function m(e){for(var t,n=[],r=0,a=e.length;r<a;r++)t=e[r],s(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function b(e){var t=[];return u(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")}function h(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}}function f(){var e=w.crypto||w.msCrypto;if(!o(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=16384|4095&t[3],t[4]=32768|16383&t[4];var n=function(e){for(var t=e.toString(16);4>t.length;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"===e?t:8|3&t;return n.toString(16)})}function v(e){for(var t,n=[],r=0,a=0,o=" > ",l=o.length;e&&r++<5&&(t=x(e),!("html"===t||1<r&&a+n.length*l+t.length>=80));)n.push(t),a+=t.length,e=e.parentNode;return n.reverse().join(o)}function x(e){var t,n,r,a,o,l=[];if(!e||!e.tagName)return"";if(l.push(e.tagName.toLowerCase()),e.id&&l.push("#"+e.id),t=e.className,t&&s(t))for(n=t.split(" "),o=0;o<n.length;o++)l.push("."+n[o]);var i=["type","name","title","alt"];for(o=0;o<i.length;o++)r=i[o],a=e.getAttribute(r),a&&l.push("["+r+"=\""+a+"\"]");return l.join("")}function y(e,t,n,r){var a=e[t];e[t]=n(a),r&&r.push([e,t,a])}var E=e(6),k=e(2),S=e(1),C=e(3).wrapMethod,O=["source","protocol","user","pass","host","port","path"],T=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,w="undefined"==typeof window?"undefined"==typeof n?"undefined"==typeof self?{}:self:n:window,I=w.document;a.prototype={VERSION:"3.9.1",debug:!1,TraceKit:E,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var r=n._globalOptions;t&&u(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:r[e]=t}),n.setDSN(e),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=m(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&m(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&m(r.whitelistUrls),r.includePaths=m(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var a={xhr:!0,console:!0,dom:!0,location:!0},o=r.autoBreadcrumbs;return"[object Object]"==={}.toString.call(o)?o=p(a,o):!1!==o&&(o=a),r.autoBreadcrumbs=o,E.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(E.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),r=n.path.lastIndexOf("/"),a=n.path.substr(1,r);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(r+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+a+"api/"+t._globalProject+"/store/"},context:function(e,t,n){return l(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(t,e,n){function r(){var r=[],o=arguments.length,s=!t||t&&!1!==t.deep;for(n&&l(n)&&n.apply(this,arguments);o--;)r[o]=s?a.wrap(t,arguments[o]):arguments[o];try{return e.apply(this,r)}catch(n){throw a._ignoreNextOnError(),a.captureException(n,t),n}}var a=this;if(o(e)&&!l(t))return t;if(l(t)&&(e=t,t=void 0),!l(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(t){return e}for(var s in e)_(e,s)&&(r[s]=e[s]);return r.prototype=e.prototype,e.__raven_wrapper__=r,r.__raven__=!0,r.__inner__=e,r},uninstall:function(){return E.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(e,t){if(!d(e))return this.captureMessage(e,p({trimHeadFrames:1,stacktrace:!0},t));this._lastCapturedException=e;try{var n=E.computeStackTrace(e);this._handleStackInfo(n,t)}catch(t){if(e!==t)throw t}return this},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){t=t||{};var n=p({message:e+""},t);if(this._globalOptions.stacktrace||t&&t.stacktrace){var r;try{throw new Error(e)}catch(e){r=e}r.name=null,t=p({fingerprint:e,trimHeadFrames:(t.trimHeadFrames||0)+1},t);var a=E.computeStackTrace(r),o=this._prepareFrames(a,t);n.stacktrace={frames:o.reverse()}}return this._send(n),this}},captureBreadcrumb:function(e){var t=p({timestamp:r()/1e3},e);if(l(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(i(n)&&!c(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(S(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=l(e)?function(n){return e(n,t)}:e,this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=l(e)?function(n){return e(n,t)}:e,this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=l(e)?function(n){return e(n,t)}:e,this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=w.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(I){e=e||{};var t=e.eventId||this.lastEventId();if(!t)throw new k("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new k("Missing DSN");var r=encodeURIComponent,a="";a+="?eventId="+r(t),a+="&dsn="+r(n);var o=e.user||this._globalContext.user;o&&(o.name&&(a+="&name="+r(o.name)),o.email&&(a+="&email="+r(o.email)));var l=this._getGlobalServer(this._parseDSN(n)),s=I.createElement("script");s.async=!0,s.src=l+"/api/embed/error-page/"+a,(I.head||I.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),I.createEvent?(n=I.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=I.createEventObject(),n.eventType=e),t)_(t,r)&&(n[r]=t[r]);if(I.createEvent)I.dispatchEvent(n);else try{I.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){t._lastCapturedEvent=n;var r,a=n.target;try{r=v(a)}catch(t){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n=t.target,r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var a=e._keypressTimeout;a||e._breadcrumbEventHandler("input")(t),clearTimeout(a),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},1e3)}}},_captureUrlChange:function(e,t){var n=h(this._location.href),r=h(t),a=h(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===a.protocol&&n.host===a.host&&(e=a.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_instrumentTryCatch:function(){function e(e){return function(){for(var t=Array(arguments.length),r=0;r<t.length;++r)t[r]=arguments[r];var a=t[0];return l(a)&&(t[0]=n.wrap(a)),e.apply?e.apply(this,t):e(t[0],t[1])}}function t(e){var t=w[e]&&w[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(y(t,"addEventListener",function(t){return function(r,o,l,s){try{o&&o.handleEvent&&(o.handleEvent=n.wrap(o.handleEvent))}catch(e){}var i,c,d;return a&&a.dom&&("EventTarget"===e||"Node"===e)&&(c=n._breadcrumbEventHandler("click"),d=n._keypressEventHandler(),i=function(e){if(e)return"click"===e.type?c(e):"keypress"===e.type?d(e):void 0}),t.call(this,r,n.wrap(o,void 0,i),l,s)}},r),y(t,"removeEventListener",function(e){return function(t,n,r,a){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(t){}return e.call(this,t,n,r,a)}},r))}var n=this,r=n._wrappedBuiltIns,a=this._globalOptions.autoBreadcrumbs;y(w,"setTimeout",e,r),y(w,"setInterval",e,r),w.requestAnimationFrame&&y(w,"requestAnimationFrame",function(e){return function(t){return e(n.wrap(t))}},r);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],s=0;s<o.length;s++)t(o[s]);var i=w.jQuery||w.$;i&&i.fn&&i.fn.ready&&y(i.fn,"ready",function(e){return function(t){return e.call(this,n.wrap(t))}},r)},_instrumentBreadcrumbs:function(){function e(e,n){e in n&&l(n[e])&&y(n,e,function(e){return t.wrap(e)})}var t=this,n=this._globalOptions.autoBreadcrumbs,r=t._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in w){var a=XMLHttpRequest.prototype;y(a,"open",function(e){return function(n,r){return s(r)&&-1===r.indexOf(t._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),e.apply(this,arguments)}},r),y(a,"send",function(n){return function(){function r(){if(a.__raven_xhr&&(1===a.readyState||4===a.readyState)){try{a.__raven_xhr.status_code=a.status}catch(t){}t.captureBreadcrumb({type:"http",category:"xhr",data:a.__raven_xhr})}}for(var a=this,o=["onload","onerror","onprogress"],s=0;s<o.length;s++)e(o[s],a);return"onreadystatechange"in a&&l(a.onreadystatechange)?y(a,"onreadystatechange",function(e){return t.wrap(e,void 0,r)}):a.onreadystatechange=r,n.apply(this,arguments)}},r)}n.xhr&&"fetch"in w&&y(w,"fetch",function(e){return function(){for(var n=Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var a="GET";n[1]&&n[1].method&&(a=n[1].method);var o={method:a,url:n[0],status_code:null};return t.captureBreadcrumb({type:"http",category:"fetch",data:o}),e.apply(this,n).then(function(e){return o.status_code=e.status,e})}},r),n.dom&&this._hasDocument&&(I.addEventListener?(I.addEventListener("click",t._breadcrumbEventHandler("click"),!1),I.addEventListener("keypress",t._keypressEventHandler(),!1)):(I.attachEvent("onclick",t._breadcrumbEventHandler("click")),I.attachEvent("onkeypress",t._keypressEventHandler())));var o=w.chrome,i=o&&o.app&&o.app.runtime,c=!i&&w.history&&history.pushState;if(n.location&&c){var d=w.onpopstate;w.onpopstate=function(){var e=t._location.href;if(t._captureUrlChange(t._lastHref,e),d)return d.apply(this,arguments)},y(history,"pushState",function(e){return function(){var n=2<arguments.length?arguments[2]:void 0;return n&&t._captureUrlChange(t._lastHref,n+""),e.apply(this,arguments)}},r)}if(n.console&&"console"in w&&console.log){var p=function(e,n){t.captureBreadcrumb({message:e,level:n.level,category:"console"})};u(["debug","info","warn","error","log"],function(e,t){C(console,t,p)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){e=this._wrappedBuiltIns.shift();var t=e[0],n=e[1],r=e[2];t[n]=r}},_drainPlugins:function(){var e=this;u(this._plugins,function(t,n){var r=n[0],a=n[1];r.apply(e,[e].concat(a))})},_parseDSN:function(e){var t=T.exec(e),n={},r=7;try{for(;r--;)n[O[r]]=t[r]||""}catch(t){throw new k("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new k("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(u(e.stack,function(e,t){var a=n._normalizeFrame(t);a&&r.push(a)}),t&&t.trimHeadFrames))for(var a=0;a<t.trimHeadFrames&&a<r.length;a++)r[a].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit),r},_normalizeFrame:function(e){if(e.url){var t={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return t.in_app=(!this._globalOptions.includePaths.test||this._globalOptions.includePaths.test(t.filename))&&!/(Raven|TraceKit)\./.test(t["function"])&&!/raven\.(min\.)?js$/.test(t.filename),t}},_processException:function(e,t,n,r,a,o){var l;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t))&&(t+="",a&&a.length?(n=a[0].filename||n,a.reverse(),l={frames:a}):n&&(l={frames:[{filename:n,lineno:r,in_app:!0}]}),!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n))){var s=p({exception:{values:[{type:e,value:t,stacktrace:l}]},culprit:n},o);this._send(s)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=g(e.message,t)),e.exception){var n=e.exception.values[0];n.value=g(n.value,t)}return e},_getHttpData:function(){if(this._hasDocument&&I.location&&I.location.href){var e={headers:{"User-Agent":navigator.userAgent}};return e.url=I.location.href,I.referrer&&(e.headers.Referer=I.referrer),e}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},a=this._getHttpData();a&&(n.request=a),e.trimHeadFrames&&delete e.trimHeadFrames,e=p(n,e),e.tags=p(p({},this._globalContext.tags),e.tags),e.extra=p(p({},this._globalContext.extra),e.extra),e.extra["session:duration"]=r()-this._startTime,this._breadcrumbs&&0<this._breadcrumbs.length&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),c(e.tags)&&delete e.tags,this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),l(t.dataCallback)&&(e=t.dataCallback(e)||e);!e||c(e)||l(t.shouldSendCallback)&&!t.shouldSendCallback(e)||this._sendProcessedPayload(e)},_getUuid:function(){return f()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this._lastEventId=e.event_id||(e.event_id=this._getUuid()),e=this._trimPacket(e),this._logDebug("debug","Raven about to send:",e),!!this.isSetup()){var a={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(a.sentry_secret=this._globalSecret);var o=e.exception&&e.exception.values[0];this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:e.message,event_id:e.event_id,level:e.level||"error"});var l=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:l,auth:a,data:e,options:r,onSuccess:function(){n._triggerEvent("success",{data:e,src:l}),t&&t()},onError:function(r){n._triggerEvent("failure",{data:e,src:l}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}},_makeRequest:function(e){function t(){200===n.status?e.onSuccess&&e.onSuccess():e.onError&&e.onError(new Error("Sentry error code: "+n.status))}var n=new XMLHttpRequest,r="withCredentials"in n||"undefined"!=typeof XDomainRequest;if(r){var a=e.url;"withCredentials"in n?n.onreadystatechange=function(){4!==n.readyState||t()}:(n=new XDomainRequest,a=a.replace(/^https?:/,""),n.onload=t),n.open("POST",a+"?"+b(e.auth)),n.send(S(e.data))}},_logDebug:function(e){this._originalConsoleMethods[e]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){o(t)?delete this._globalContext[e]:this._globalContext[e]=p(this._globalContext[e]||{},t)}};var R=Object.prototype;"undefined"!=typeof __DEV__&&__DEV__&&(a.utils={isUndefined:o,isFunction:l,isString:s,isObject:i,isEmptyObject:c,isError:d,each:u,objectMerge:p,truncate:g,hasKey:_,joinRegExp:m,urlencode:b,uuid4:f,htmlTreeAsString:v,htmlElementAsString:x,parseUrl:h,fill:y});a.prototype.setUser=a.prototype.setUserContext,a.prototype.setReleaseContext=a.prototype.setRelease,t.exports=a}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{1:1,2:2,3:3,6:6}],5:[function(e,t){(function(n){"use strict";var r=e(4),a="undefined"==typeof window?"undefined"==typeof n?"undefined"==typeof self?{}:self:n:window,o=a.Raven,l=new r;l.noConflict=function(){return a.Raven=o,l},l.afterLoad(),t.exports=l}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{4:4}],6:[function(e,t){(function(e){"use strict";function n(){return"undefined"==typeof document?"":document.location.href}var r={collectWindowErrors:!0,debug:!1},a="undefined"==typeof window?"undefined"==typeof e?"undefined"==typeof self?{}:self:e:window,o=[].slice,l="?",s=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;r.report=function(){function e(e,t){var n=null;if(!t||r.collectWindowErrors){for(var a in _)if(_.hasOwnProperty(a))try{_[a].apply(null,[e].concat(o.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function t(t,a,o,i,c){var u=null;if(h)r.computeStackTrace.augmentStackTraceWithInitialElement(h,a,o,t),d();else if(c)u=r.computeStackTrace(c),e(u,!0);else{var g,_,m={url:a,line:o,column:i},b=t;if("[object String]"==={}.toString.call(t)){var _=t.match(s);_&&(g=_[1],b=_[2])}m.func=l,u={name:g,message:b,url:n(),stack:[m]},e(u,!0)}return!!p&&p.apply(this,arguments)}function i(){g||(p=a.onerror,a.onerror=t,g=!0)}function c(){g&&(a.onerror=p,g=!1,p=void 0)}function d(){var t=h,n=m;m=null,h=null,b=null,e.apply(null,[t,!1].concat(n))}function u(e,t){var n=o.call(arguments,1);if(h){if(b===e)return;d()}var a=r.computeStackTrace(e);if(h=a,b=e,m=n,setTimeout(function(){b===e&&d()},a.incomplete?2e3:0),!1!==t)throw e}var p,g,_=[],m=null,b=null,h=null;return u.subscribe=function(e){i(),_.push(e)},u.unsubscribe=function(e){for(var t=_.length-1;0<=t;--t)_[t]===e&&_.splice(t,1)},u.uninstall=function(){c(),_=[]},u}(),r.computeStackTrace=function(){function e(e){if("undefined"!=typeof e.stack&&e.stack){for(var t,r,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=e.stack.split("\n"),d=[],u=/^(.*) is undefined$/.exec(e.message),p=0,i=c.length;p<i;++p){if(t=a.exec(c[p])){var g=t[2]&&-1!==t[2].indexOf("native");r={url:g?null:t[2],func:t[1]||l,args:g?[t[2]]:[],line:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}else if(t=s.exec(c[p]))r={url:t[2],func:t[1]||l,args:[],line:+t[3],column:t[4]?+t[4]:null};else if(t=o.exec(c[p]))r={url:t[3],func:t[1]||l,args:t[2]?t[2].split(","):[],line:t[4]?+t[4]:null,column:t[5]?+t[5]:null};else continue;!r.func&&r.line&&(r.func=l),d.push(r)}return d.length?(d[0].column||"undefined"==typeof e.columnNumber||(d[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:n(),stack:d}):null}}function t(e,t,n){var r={url:t,line:n};if(r.url&&r.line){if(e.incomplete=!1,r.func||(r.func=l),0<e.stack.length&&e.stack[0].url===r.url){if(e.stack[0].line===r.line)return!1;if(!e.stack[0].line&&e.stack[0].func===r.func)return e.stack[0].line=r.line,!1}return e.stack.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function a(e,s){for(var i,c,d=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],p={},g=!1,_=a.caller;_&&!g;_=_.caller)if(_!==o&&_!==r.report){if(c={url:null,func:l,line:null,column:null},_.name?c.func=_.name:(i=d.exec(_.toString()))&&(c.func=i[1]),"undefined"==typeof c.func)try{c.func=i.input.substring(0,i.input.indexOf("{"))}catch(t){}p[""+_]?g=!0:p[""+_]=!0,u.push(c)}s&&u.splice(0,s);var m={name:e.name,message:e.message,url:n(),stack:u};return t(m,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),m}function o(t,o){var l=null;o=null==o?0:+o;try{if(l=e(t),l)return l}catch(t){if(r.debug)throw t}try{if(l=a(t,o+1),l)return l}catch(t){if(r.debug)throw t}return{name:t.name,message:t.message,url:n()}}return o.augmentStackTraceWithInitialElement=t,o.computeStackTraceFromStackProp=e,o}(),t.exports=r}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}]},{},[5])(5)});
(function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,b=b.Raven||(b.Raven={}),b=b.Plugins||(b.Plugins={}),b.Angular=a()}})(function(){return function b(c,d,e){function a(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof require&&require;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var f=d[h]={exports:{}};c[h][0].call(f.exports,function(b){var d=c[h][1][b];return a(d?d:b)},f,f.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof require&&require,f=0;f<e.length;f++)a(e[f]);return a}({1:[function(a,b){"use strict";function c(a,b){function d(a,b){return function(c,d){a.captureException(c,{extra:{cause:d}}),b(c,d)}}b=b||window.angular;b&&(b.module("ngRaven",[]).provider("Raven",function(){this.$get=["$window",function(){return a}]}).config(["$provide",function(a){a.decorator("$exceptionHandler",["Raven","$delegate",d])}]),a.setDataCallback(function(a,b){c._normalizeData(a),b&&b(a)}))}var d=/^\[((?:[$a-zA-Z0-9]+:)?(?:[$a-zA-Z0-9]+))\] (.*?)\n?(\S+)$/;c._normalizeData=function(a){var b=a.exception;if(b){b=b.values[0];var c=d.exec(b.value);c&&(b.type=c[1],b.value=c[2],a.message=b.type+": "+b.value,a.extra.angularDocs=c[3].substr(0,250))}},b.exports=c},{}]},{},[1])(1)});
!function(c,a){"object"==typeof module&&module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):c.Spinner=a()}(this,function(){"use strict";function p(e,f){var b,c=document.createElement(e||"div");for(b in f)c[b]=f[b];return c}function q(d){for(var a=1,e=arguments.length;e>a;a++)d.appendChild(arguments[a]);return d}function a(j,a,b,m){var d=["opacity",a,~~(100*j),b,m].join("-"),e=.01+100*(b/m),f=k(1-(1-j)/a*(100-e),j),g=t.substring(0,t.indexOf("Animation")).toLowerCase();return l[d]||(i.insertRule("@"+(g&&"-"+g+"-"||"")+"keyframes "+d+"{0%{opacity:"+f+"}"+e+"%{opacity:"+j+"}"+(e+.01)+"%{opacity:1}"+(e+a)%100+"%{opacity:"+j+"}100%{opacity:"+f+"}}",i.cssRules.length),l[d]=1),d}function r(g,a){var b,c,h=g.style;if(a=a.charAt(0).toUpperCase()+a.slice(1),void 0!==h[a])return a;for(c=0;c<f.length;c++)if(b=f[c]+a,void 0!==h[b])return b}function s(d,a){for(var b in a)d.style[r(d,b)||b]=a[b];return d}function b(e){for(var a,c=1;c<arguments.length;c++)for(var b in a=arguments[c],a)void 0===e[b]&&(e[b]=a[b]);return e}function e(c,d){return"string"==typeof c?c:c[d%c.length]}function d(c){this.opts=b(c||{},d.defaults,g)}function c(){function b(a,b){return p("<"+a+" xmlns=\"urn:schemas-microsoft.com:vml\" class=\"spin-vml\">",b)}i.addRule(".spin-vml","behavior:url(#default#VML)"),d.prototype.lines=function(c,g){function d(){return s(b("group",{coordsize:h+" "+h,coordorigin:-n+" "+-n}),{width:h,height:h})}function a(c,a,f){q(o,q(s(d(),{rotation:360/g.lines*c+"deg",left:~~a}),q(s(b("roundrect",{arcsize:g.corners}),{width:n,height:g.scale*g.width,left:g.scale*g.radius,top:-g.scale*g.width>>1,filter:f}),b("fill",{color:e(g.color,c),opacity:g.opacity}),b("stroke",{opacity:0}))))}var f,n=g.scale*(g.length+g.width),h=2*g.scale*n,i=2*(-(g.width+g.length)*g.scale)+"px",o=s(d(),{position:"absolute",top:i,left:i});if(g.shadow)for(f=1;f<=g.lines;f++)a(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=g.lines;f++)a(f);return q(c,o)},d.prototype.opacity=function(f,a,b,c){var d=f.firstChild;c=c.shadow&&c.lines||0,d&&a+c<d.childNodes.length&&(d=d.childNodes[a+c],d=d&&d.firstChild,d=d&&d.firstChild,d&&(d.opacity=b))}}var t,i,k=Math.max,f=["webkit","Moz","ms","O"],l={},g={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(d.defaults={},b(d.prototype,{spin:function(a){this.stop();var b=this,c=b.opts,d=b.el=p(null,{className:c.className});if(s(d,{position:c.position,width:0,zIndex:c.zIndex,left:c.left,top:c.top}),a&&a.insertBefore(d,a.firstChild||null),d.setAttribute("role","progressbar"),b.lines(d,b.opts),!t){var e,f=0,g=(c.lines-1)*(1-c.direction)/2,h=c.fps,i=h/c.speed,l=(1-c.opacity)/(i*c.trail/100),m=i/c.lines;!function j(){f++;for(var n=0;n<c.lines;n++)e=k(1-(f+(c.lines-n)*m)%i*l,c.opacity),b.opacity(d,n*c.direction+g,e,c);b.timeout=b.el&&setTimeout(j,~~(1e3/h))}()}return b},stop:function(){var b=this.el;return b&&(clearTimeout(this.timeout),b.parentNode&&b.parentNode.removeChild(b),this.el=void 0),this},lines:function(b,d){function c(a,e){return s(p(),{position:"absolute",width:d.scale*(d.length+d.width)+"px",height:d.scale*d.width+"px",background:a,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/d.lines*g+d.rotate)+"deg) translate("+d.scale*d.radius+"px,0)",borderRadius:(d.corners*d.scale*d.width>>1)+"px"})}for(var f,g=0,h=(d.lines-1)*(1-d.direction)/2;g<d.lines;g++)f=s(p(),{position:"absolute",top:1+~(d.scale*d.width/2)+"px",transform:d.hwaccel?"translate3d(0,0,0)":"",opacity:d.opacity,animation:t&&a(d.opacity,d.trail,h+g*d.direction,d.lines)+" "+1/d.speed+"s linear infinite"}),d.shadow&&q(f,s(c("#000","0 0 4px #000"),{top:"2px"})),q(b,q(f,c(e(d.color,g),"0 0 1px rgba(0,0,0,.1)")));return b},opacity:function(d,a,b){a<d.childNodes.length&&(d.childNodes[a].style.opacity=b)}}),"undefined"!=typeof document){i=function(){var a=p("style",{type:"text/css"});return q(document.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}();var h=s(p("group"),{behavior:"url(#default#VML)"});!r(h,"transform")&&h.adj?c():t=r(h,"animation")}return d});
(function(){function A(b){function f(c,d,f,e,g,h){for(;0<=g&&h>g;g+=b){var i=e?e[g]:g;f=d(f,c[i],i,c)}return f}return function(g,h,e,j){h=m(h,j,4);var i=!J(g)&&d.keys(g),k=(i||g).length,a=0<b?0:k-1;return 3>arguments.length&&(e=g[i?i[a]:a],a+=b),f(g,h,e,i,a,k)}}function n(a){return function(c,d,f){d=b(d,f);for(var e=w(c),g=0<a?0:e-1;0<=g&&e>g;g+=a)if(d(c[g],g,c))return g;return-1}}function t(b,c,g){return function(h,e,j){var k=0,l=w(h);if("number"==typeof j)0<b?k=0<=j?j:G(j+l,k):l=0<=j?Math.min(j+1,l):j+l+1;else if(g&&j&&l)return j=g(h,e),h[j]===e?j:-1;if(e!==e)return j=c(f.call(h,k,l),d.isNaN),0<=j?j+k:-1;for(j=0<b?k:l-1;0<=j&&l>j;j+=b)if(h[j]===e)return j;return-1}}function C(a,b){var c=M.length,f=a.constructor,g=d.isFunction(f)&&f.prototype||o,h="constructor";for(d.has(a,h)&&!d.contains(b,h)&&b.push(h);c--;)h=M[c],h in a&&a[h]!==g[h]&&!d.contains(b,h)&&b.push(h)}var e=Math.floor,G=Math.max,r=this,u=r._,i=Array.prototype,o=Object.prototype,a=Function.prototype,c=i.push,f=i.slice,H=o.toString,l=o.hasOwnProperty,p=Array.isArray,h=Object.keys,s=a.bind,g=Object.create,v=function(){},d=function(a){return a instanceof d?a:this instanceof d?void(this._wrapped=a):new d(a)};"undefined"==typeof exports?r._=d:("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports._=d),d.VERSION="1.8.3";var m=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};}return function(){return a.apply(b,arguments)}},b=function(a,b,c){return null==a?d.identity:d.isFunction(a)?m(a,b,c):d.isObject(a)?d.matcher(a):d.property(a)};d.iteratee=function(a,c){return b(a,c,1/0)};var x=function(b,d){return function(g){var h=arguments.length;if(2>h||null==g)return g;for(var e=1;h>e;e++)for(var j,f=arguments[e],i=b(f),k=i.length,a=0;k>a;a++)j=i[a],d&&void 0!==g[j]||(g[j]=f[j]);return g}},y=function(a){if(!d.isObject(a))return{};if(g)return g(a);v.prototype=a;var b=new v;return v.prototype=null,b},j=function(a){return function(b){return null==b?void 0:b[a]}},w=j("length"),J=function(a){var b=w(a);return"number"==typeof b&&0<=b&&9007199254740991>=b};d.each=d.forEach=function(a,b,c){b=m(b,c);var f,e;if(J(a))for(f=0,e=a.length;e>f;f++)b(a[f],f,a);else{var g=d.keys(a);for(f=0,e=g.length;e>f;f++)b(a[g[f]],g[f],a)}return a},d.map=d.collect=function(c,f,g){f=b(f,g);for(var h,a=!J(c)&&d.keys(c),e=(a||c).length,j=Array(e),i=0;e>i;i++)h=a?a[i]:i,j[i]=f(c[h],h,c);return j},d.reduce=d.foldl=d.inject=A(1),d.reduceRight=d.foldr=A(-1),d.find=d.detect=function(a,b,c){var f;return f=J(a)?d.findIndex(a,b,c):d.findKey(a,b,c),void 0!==f&&-1!==f?a[f]:void 0},d.filter=d.select=function(a,c,f){var g=[];return c=b(c,f),d.each(a,function(a,b,d){c(a,b,d)&&g.push(a)}),g},d.reject=function(a,c,e){return d.filter(a,d.negate(b(c)),e)},d.every=d.all=function(a,c,f){c=b(c,f);for(var g,h=!J(a)&&d.keys(a),e=(h||a).length,j=0;e>j;j++)if(g=h?h[j]:j,!c(a[g],g,a))return!1;return!0},d.some=d.any=function(a,c,f){c=b(c,f);for(var g,h=!J(a)&&d.keys(a),e=(h||a).length,j=0;e>j;j++)if(g=h?h[j]:j,c(a[g],g,a))return!0;return!1},d.contains=d.includes=d.include=function(a,b,c,f){return J(a)||(a=d.values(a)),("number"!=typeof c||f)&&(c=0),0<=d.indexOf(a,b,c)},d.invoke=function(a,b){var c=f.call(arguments,2),g=d.isFunction(b);return d.map(a,function(a){var d=g?b:a[b];return null==d?d:d.apply(a,c)})},d.pluck=function(a,b){return d.map(a,d.property(b))},d.where=function(a,b){return d.filter(a,d.matcher(b))},d.findWhere=function(a,b){return d.find(a,d.matcher(b))},d.max=function(f,g,h){var j,k,l=-1/0,i=-1/0;if(null==g&&null!=f){f=J(f)?f:d.values(f);for(var e=0,a=f.length;a>e;e++)j=f[e],j>l&&(l=j)}else g=b(g,h),d.each(f,function(a,b,c){k=g(a,b,c),(k>i||k===-1/0&&l===-1/0)&&(l=a,i=k)});return l},d.min=function(f,g,h){var j,k,l=1/0,i=1/0;if(null==g&&null!=f){f=J(f)?f:d.values(f);for(var e=0,a=f.length;a>e;e++)j=f[e],l>j&&(l=j)}else g=b(g,h),d.each(f,function(a,b,c){k=g(a,b,c),(i>k||1/0===k&&1/0===l)&&(l=a,i=k)});return l},d.shuffle=function(a){for(var b,c=J(a)?a:d.values(a),f=c.length,e=Array(f),g=0;f>g;g++)b=d.random(0,g),b!==g&&(e[g]=e[b]),e[b]=c[g];return e},d.sample=function(a,b,c){return null==b||c?(J(a)||(a=d.values(a)),a[d.random(a.length-1)]):d.shuffle(a).slice(0,G(0,b))},d.sortBy=function(a,c,e){return c=b(c,e),d.pluck(d.map(a,function(a,b,d){return{value:a,index:b,criteria:c(a,b,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var k=function(a){return function(c,f,g){var h={};return f=b(f,g),d.each(c,function(b,d){var e=f(b,d,c);a(h,b,e)}),h}};d.groupBy=k(function(a,b,c){d.has(a,c)?a[c].push(b):a[c]=[b]}),d.indexBy=k(function(a,b,c){a[c]=b}),d.countBy=k(function(a,b,c){d.has(a,c)?a[c]++:a[c]=1}),d.toArray=function(a){return a?d.isArray(a)?f.call(a):J(a)?d.map(a,d.identity):d.values(a):[]},d.size=function(a){return null==a?0:J(a)?a.length:d.keys(a).length},d.partition=function(a,c,f){c=b(c,f);var g=[],e=[];return d.each(a,function(a,b,d){(c(a,b,d)?g:e).push(a)}),[g,e]},d.first=d.head=d.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:d.initial(a,a.length-b)},d.initial=function(a,b,c){return f.call(a,0,G(0,a.length-(null==b||c?1:b)))},d.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:d.rest(a,G(0,a.length-b))},d.rest=d.tail=d.drop=function(a,b,c){return f.call(a,null==b||c?1:b)},d.compact=function(a){return d.filter(a,d.identity)};var F=function(b,g,h,j){for(var e,c=[],k=0,i=j||0,m=w(b);m>i;i++)if(e=b[i],J(e)&&(d.isArray(e)||d.isArguments(e))){g||(e=F(e,g,h));var a=0,f=e.length;for(c.length+=f;f>a;)c[k++]=e[a++]}else h||(c[k++]=e);return c};d.flatten=function(a,b){return F(a,b,!1)},d.without=function(a){return d.difference(a,f.call(arguments,1))},d.uniq=d.unique=function(g,h,j,k){d.isBoolean(h)||(k=j,j=h,h=!1),null!=j&&(j=b(j,k));for(var e=[],l=[],i=0,m=w(g);m>i;i++){var a=g[i],c=j?j(a,i,g):a;h?(i&&l===c||e.push(a),l=c):j?d.contains(l,c)||(l.push(c),e.push(a)):d.contains(e,a)||e.push(a)}return e},d.union=function(){return d.uniq(F(arguments,!0,!0))},d.intersection=function(a){for(var b,c=[],f=arguments.length,g=0,e=w(a);e>g;g++)if(b=a[g],!d.contains(c,b)){for(var h=1;f>h&&d.contains(arguments[h],b);h++);h===f&&c.push(b)}return c},d.difference=function(a){var b=F(arguments,!0,!0,1);return d.filter(a,function(a){return!d.contains(b,a)})},d.zip=function(){return d.unzip(arguments)},d.unzip=function(a){for(var b=a&&d.max(a,w).length||0,c=Array(b),f=0;b>f;f++)c[f]=d.pluck(a,f);return c},d.object=function(a,b){for(var c={},d=0,e=w(a);e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},d.findIndex=n(1),d.findLastIndex=n(-1),d.sortedIndex=function(c,d,f,g){f=b(f,g,1);for(var h,a=f(d),j=0,i=w(c);i>j;)h=e((j+i)/2),f(c[h])<a?j=h+1:i=h;return j},d.indexOf=t(1,d.findIndex,d.sortedIndex),d.lastIndexOf=t(-1,d.findLastIndex),d.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=G(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var O=function(a,b,c,f,e){if(!(f instanceof b))return a.apply(c,e);var g=y(a.prototype),h=a.apply(g,e);return d.isObject(h)?h:g};d.bind=function(a,b){if(s&&a.bind===s)return s.apply(a,f.call(arguments,1));if(!d.isFunction(a))throw new TypeError("Bind must be called on a function");var c=f.call(arguments,2),g=function(){return O(a,g,b,this,c.concat(f.call(arguments)))};return g},d.partial=function(a){var b=f.call(arguments,1),c=function(){for(var f=0,e=b.length,g=Array(e),h=0;e>h;h++)g[h]=b[h]===d?arguments[f++]:b[h];for(;f<arguments.length;)g.push(arguments[f++]);return O(a,c,this,this,g)};return c},d.bindAll=function(a){var b,c,f=arguments.length;if(1>=f)throw new Error("bindAll must be passed function names");for(b=1;f>b;b++)c=arguments[b],a[c]=d.bind(a[c],a);return a},d.memoize=function(a,b){var c=function(f){var e=c.cache,g=""+(b?b.apply(this,arguments):f);return d.has(e,g)||(e[g]=a.apply(this,arguments)),e[g]};return c.cache={},c},d.delay=function(a,b){var c=f.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},d.defer=d.partial(d.delay,d,1),d.throttle=function(b,g,h){var j,e,k,i=null,m=0;h||(h={});var a=function(){m=!1===h.leading?0:d.now(),i=null,k=b.apply(j,e),i||(j=e=null)};return function(){var c=d.now();m||!1!==h.leading||(m=c);var f=g-(c-m);return j=this,e=arguments,0>=f||f>g?(i&&(clearTimeout(i),i=null),m=c,k=b.apply(j,e),i||(j=e=null)):i||!1===h.trailing||(i=setTimeout(a,f)),k}},d.debounce=function(b,g,h){var j,k,l,i,m,a=function(){var c=d.now()-i;g>c&&0<=c?j=setTimeout(a,g-c):(j=null,h||(m=b.apply(l,k),j||(l=k=null)))};return function(){l=this,k=arguments,i=d.now();var c=h&&!j;return j||(j=setTimeout(a,g)),c&&(m=b.apply(l,k),l=k=null),m}},d.wrap=function(a,b){return d.partial(b,a)},d.negate=function(a){return function(){return!a.apply(this,arguments)}},d.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},d.after=function(a,b){return function(){return 1>--a?b.apply(this,arguments):void 0}},d.before=function(a,b){var c;return function(){return 0<--a&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},d.once=d.partial(d.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];d.keys=function(a){if(!d.isObject(a))return[];if(h)return h(a);var b=[];for(var c in a)d.has(a,c)&&b.push(c);return E&&C(a,b),b},d.allKeys=function(a){if(!d.isObject(a))return[];var b=[];for(var c in a)b.push(c);return E&&C(a,b),b},d.values=function(a){for(var b=d.keys(a),c=b.length,f=Array(c),e=0;c>e;e++)f[e]=a[b[e]];return f},d.mapObject=function(c,f,g){f=b(f,g);for(var h,e=d.keys(c),j=e.length,i={},k=0;j>k;k++)h=e[k],i[h]=f(c[h],h,c);return i},d.pairs=function(a){for(var b=d.keys(a),c=b.length,f=Array(c),e=0;c>e;e++)f[e]=[b[e],a[b[e]]];return f},d.invert=function(a){for(var b={},c=d.keys(a),f=0,e=c.length;e>f;f++)b[a[c[f]]]=c[f];return b},d.functions=d.methods=function(a){var b=[];for(var c in a)d.isFunction(a[c])&&b.push(c);return b.sort()},d.extend=x(d.allKeys),d.extendOwn=d.assign=x(d.keys),d.findKey=function(a,c,f){c=b(c,f);for(var g,e=d.keys(a),h=0,i=e.length;i>h;h++)if(g=e[h],c(a[g],g,a))return g},d.pick=function(b,g,h){var j,e,k={},i=b;if(null==i)return k;d.isFunction(g)?(e=d.allKeys(i),j=m(g,h)):(e=F(arguments,!1,!1,1),j=function(a,b,c){return b in c},i=Object(i));for(var n=0,a=e.length;a>n;n++){var c=e[n],f=i[c];j(f,c,i)&&(k[c]=f)}return k},d.omit=function(a,b,c){if(d.isFunction(b))b=d.negate(b);else{var f=d.map(F(arguments,!1,!1,1),String);b=function(a,b){return!d.contains(f,b)}}return d.pick(a,b,c)},d.defaults=x(d.allKeys,!0),d.create=function(a,b){var c=y(a);return b&&d.extendOwn(c,b),c},d.clone=function(a){return d.isObject(a)?d.isArray(a)?a.slice():d.extend({},a):a},d.tap=function(a,b){return b(a),a},d.isMatch=function(a,b){var c=d.keys(b),f=c.length;if(null==a)return!f;for(var g,h=Object(a),j=0;f>j;j++)if(g=c[j],b[g]!==h[g]||!(g in h))return!1;return!0};var I=function(b,g,h,j){if(b===g)return 0!==b||1/b==1/g;if(null==b||null==g)return b===g;b instanceof d&&(b=b._wrapped),g instanceof d&&(g=g._wrapped);var e=H.call(b);if(e!==H.call(g))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+b==""+g;case"[object Number]":return+b==+b?0==+b?1/+b==1/g:+b==+g:+g!=+g;case"[object Date]":case"[object Boolean]":return+b==+g;}var k="[object Array]"===e;if(!k){if("object"!=typeof b||"object"!=typeof g)return!1;var m=b.constructor,o=g.constructor;if(m!==o&&!(d.isFunction(m)&&m instanceof m&&d.isFunction(o)&&o instanceof o)&&"constructor"in b&&"constructor"in g)return!1}h=h||[],j=j||[];for(var a=h.length;a--;)if(h[a]===b)return j[a]===g;if(h.push(b),j.push(g),k){if(a=b.length,a!==g.length)return!1;for(;a--;)if(!I(b[a],g[a],h,j))return!1}else{var c,f=d.keys(b);if(a=f.length,d.keys(g).length!==a)return!1;for(;a--;)if(c=f[a],!d.has(g,c)||!I(b[c],g[c],h,j))return!1}return h.pop(),j.pop(),!0};d.isEqual=function(a,b){return I(a,b)},d.isEmpty=function(a){return!(null!=a)||(J(a)&&(d.isArray(a)||d.isString(a)||d.isArguments(a))?0===a.length:0===d.keys(a).length)},d.isElement=function(a){return a&&1===a.nodeType},d.isArray=p||function(a){return"[object Array]"===H.call(a)},d.isObject=function(a){var b=typeof a;return"function"==b||"object"==b&&!!a},d.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){d["is"+a]=function(b){return H.call(b)==="[object "+a+"]"}}),d.isArguments(arguments)||(d.isArguments=function(a){return d.has(a,"callee")}),typeof /./!="function"&&"object"!=typeof Int8Array&&(d.isFunction=function(a){return"function"==typeof a||!1}),d.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},d.isNaN=function(a){return d.isNumber(a)&&a!==+a},d.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===H.call(a)},d.isNull=function(a){return null===a},d.isUndefined=function(a){return void 0===a},d.has=function(a,b){return null!=a&&l.call(a,b)},d.noConflict=function(){return r._=u,this},d.identity=function(a){return a},d.constant=function(a){return function(){return a}},d.noop=function(){},d.property=j,d.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},d.matcher=d.matches=function(a){return a=d.extendOwn({},a),function(b){return d.isMatch(b,a)}},d.times=function(a,b,c){var d=Array(G(0,a));b=m(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},d.random=function(a,b){return null==b&&(b=a,a=0),a+e(Math.random()*(b-a+1))},d.now=Date.now||function(){return new Date().getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=d.invert(N),Q=function(a){var b=function(b){return a[b]},c="(?:"+d.keys(a).join("|")+")",f=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,f.test(a)?a.replace(e,b):a}};d.escape=Q(N),d.unescape=Q(B),d.result=function(a,b,c){var f=null==a?void 0:a[b];return void 0===f&&(f=c),d.isFunction(f)?f.call(a):f};var R=0;d.uniqueId=function(a){var b=++R+"";return a?a+b:b},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,D=function(a){return"\\"+K[a]};d.template=function(b,a,g){!a&&g&&(a=g),a=d.defaults({},a,d.templateSettings);var h=RegExp([(a.escape||q).source,(a.interpolate||q).source,(a.evaluate||q).source].join("|")+"|$","g"),j=0,k="__p+='";b.replace(h,function(c,d,f,e,g){return k+=b.slice(j,g).replace(z,D),j=g+c.length,d?k+="'+\n((__t=("+d+"))==null?'':_.escape(__t))+\n'":f?k+="'+\n((__t=("+f+"))==null?'':__t)+\n'":e&&(k+="';\n"+e+"\n__p+='"),c}),k+="';\n",a.variable||(k="with(obj||{}){\n"+k+"}\n"),k="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+k+"return __p;\n";try{var e=new Function(a.variable||"obj","_",k)}catch(b){throw b.source=k,b}var i=function(a){return e.call(this,a,d)},c=a.variable||"obj";return i.source="function("+c+"){\n"+k+"}",i},d.chain=function(a){var b=d(a);return b._chain=!0,b};var L=function(a,b){return a._chain?d(b).chain():b};d.mixin=function(a){d.each(d.functions(a),function(b){var e=d[b]=a[b];d.prototype[b]=function(){var a=[this._wrapped];return c.apply(a,arguments),L(this,e.apply(d,a))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=i[a];d.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],L(this,c)}}),d.each(["concat","join","slice"],function(a){var b=i[a];d.prototype[a]=function(){return L(this,b.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},d.prototype.valueOf=d.prototype.toJSON=d.prototype.value,d.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return d})}).call(this);
!function(c,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):c.moment=a()}(this,function(){"use strict";function A(){return tb.apply(null,arguments)}function D(b){return b instanceof Array||"[object Array]"===Object.prototype.toString.call(b)}function E(b){return null!=b&&"[object Object]"===Object.prototype.toString.call(b)}function c(c){for(var a in c)return!1;return!0}function F(b){return void 0===b}function G(b){return"number"==typeof b||"[object Number]"===Object.prototype.toString.call(b)}function f(b){return b instanceof Date||"[object Date]"===Object.prototype.toString.call(b)}function d(e,a){var b,c=[];for(b=0;b<e.length;++b)c.push(a(e[b],b));return c}function g(c,a){return Object.prototype.hasOwnProperty.call(c,a)}function h(d,a){for(var b in a)g(a,b)&&(d[b]=a[b]);return g(a,"toString")&&(d.toString=a.toString),g(a,"valueOf")&&(d.valueOf=a.valueOf),d}function k(e,a,b,c){return Ja(e,a,b,c,!0).utc()}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function H(c){return null==c._pf&&(c._pf=b()),c._pf}function i(e){if(null==e._isValid){var a=H(e),b=Ab.call(a.parsedDateParts,function(b){return null!=b}),c=!isNaN(e._d.getTime())&&0>a.overflow&&!a.empty&&!a.invalidMonth&&!a.invalidWeekday&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&b);if(e._strict&&(c=c&&0===a.charsLeftOver&&0===a.unusedTokens.length&&void 0===a.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return c;e._isValid=c}return e._isValid}function e(c){var a=k(NaN);return null==c?H(a).userInvalidated=!0:h(H(a),c),a}function j(f,a){var b,c,d;if(F(a._isAMomentObject)||(f._isAMomentObject=a._isAMomentObject),F(a._i)||(f._i=a._i),F(a._f)||(f._f=a._f),F(a._l)||(f._l=a._l),F(a._strict)||(f._strict=a._strict),F(a._tzm)||(f._tzm=a._tzm),F(a._isUTC)||(f._isUTC=a._isUTC),F(a._offset)||(f._offset=a._offset),F(a._pf)||(f._pf=H(a)),F(a._locale)||(f._locale=a._locale),0<Bb.length)for(b=0;b<Bb.length;b++)c=Bb[b],d=a[c],F(d)||(f[c]=d);return f}function l(a){j(this,a),this._d=new Date(null==a._d?NaN:a._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1==Cb&&(Cb=!0,A.updateOffset(this),Cb=!1)}function m(b){return b instanceof l||null!=b&&null!=b._isAMomentObject}function n(b){return 0>b?zb(b)||0:yb(b)}function o(d){var e=+d,b=0;return 0!=e&&isFinite(e)&&(b=n(e)),b}function p(h,a,b){var i,d=xb(h.length,a.length),e=wb(h.length-a.length),f=0;for(i=0;i<d;i++)(b&&h[i]!==a[i]||!b&&o(h[i])!==o(a[i]))&&f++;return f+e}function a(a){!1===A.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function q(i,b){var c=!0;return h(function(){if(null!=A.deprecationHandler&&A.deprecationHandler(null,i),c){for(var d,e=[],f=0;f<arguments.length;f++){if(d="","object"==typeof arguments[f]){for(var g in d+="\n["+f+"] ",arguments[0])d+=g+": "+arguments[0][g]+", ";d=d.slice(0,-2)}else d=arguments[f];e.push(d)}a(i+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+new Error().stack),c=!1}return b.apply(this,arguments)},b)}function r(d,b){null!=A.deprecationHandler&&A.deprecationHandler(d,b),Db[d]||(a(b),Db[d]=!0)}function s(b){return b instanceof Function||"[object Function]"===Object.prototype.toString.call(b)}function t(d,a){var b,c=h({},d);for(b in a)g(a,b)&&(E(d[b])&&E(a[b])?(c[b]={},h(c[b],d[b]),h(c[b],a[b])):null==a[b]?delete c[b]:c[b]=a[b]);for(b in d)g(d,b)&&!g(a,b)&&E(d[b])&&(c[b]=h({},c[b]));return c}function u(b){null!=b&&this.set(b)}function v(d,a){var b=d.toLowerCase();Ib[b]=Ib[b+"s"]=Ib[a]=d}function w(b){return"string"==typeof b?Ib[b]||Ib[b.toLowerCase()]:void 0}function x(e){var a,b,c={};for(b in e)g(e,b)&&(a=w(b),a&&(c[a]=e[b]));return c}function y(c,a){Jb[c]=a}function z(d){var a=[];for(var b in d)a.push({unit:b,priority:Jb[b]});return a.sort(function(c,a){return c.priority-a.priority}),a}function B(a,b){return function(c){return null==c?C(this,a):(I(this,a,c),A.updateOffset(this,b),this)}}function C(c,a){return c.isValid()?c._d["get"+(c._isUTC?"UTC":"")+a]():NaN}function I(d,a,b){d.isValid()&&d._d["set"+(d._isUTC?"UTC":"")+a](b)}function J(f,a,b){var c=""+wb(f),d=a-c.length;return(0<=f?b?"+":"":"-")+Math.pow(10,Math.max(0,d)).toString().substr(1)+c}function K(f,a,b,c){var g=c;"string"==typeof c&&(g=function(){return this[c]()}),f&&(Nb[f]=g),a&&(Nb[a[0]]=function(){return J(g.apply(this,arguments),a[1],a[2])}),b&&(Nb[b]=function(){return this.localeData().ordinal(g.apply(this,arguments),f)})}function L(b){return b.match(/\[[\s\S]/)?b.replace(/^\[|\]$/g,""):b.replace(/\\/g,"")}function M(g){var a,h,c=g.match(Kb);for(a=0,h=c.length;a<h;a++)c[a]=Nb[c[a]]?Nb[c[a]]:L(c[a]);return function(a){var b,d="";for(b=0;b<h;b++)d+=s(c[b])?c[b].call(a,g):c[b];return d}}function N(c,a){return c.isValid()?(a=O(a,c.localeData()),Mb[a]=Mb[a]||M(a),Mb[a](c)):c.localeData().invalidDate()}function O(e,f){function a(b){return f.longDateFormat(b)||b}var b=5;for(Lb.lastIndex=0;0<=b&&Lb.test(e);)e=e.replace(Lb,a),Lb.lastIndex=0,b-=1;return e}function P(d,e,b){dc[d]=s(e)?e:function(c){return c&&b?b:e}}function Q(c,a){return g(dc,c)?dc[c](a._strict,a._locale):new RegExp(R(c))}function R(b){return S(b.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(f,a,b,c,d){return a||b||c||d}))}function S(b){return b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function T(e,f){var b,c=f;for("string"==typeof e&&(e=[e]),G(f)&&(c=function(b,a){a[f]=o(b)}),b=0;b<e.length;b++)ec[e[b]]=c}function U(c,f){T(c,function(b,a,c,d){c._w=c._w||{},f(b,c._w,c,d)})}function V(d,a,b){null!=a&&g(ec,d)&&ec[d](a,b._a,b,d)}function W(c,a){return new Date(Date.UTC(c,a+1,0)).getUTCDate()}function X(h,a,b){var c,d,e,f=h.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],c=0;12>c;++c)e=k([2e3,c]),this._shortMonthsParse[c]=this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[c]=this.months(e,"").toLocaleLowerCase();return b?"MMM"===a?(d=oc.call(this._shortMonthsParse,f),-1===d?null:d):(d=oc.call(this._longMonthsParse,f),-1===d?null:d):"MMM"===a?(d=oc.call(this._shortMonthsParse,f),-1===d?(d=oc.call(this._longMonthsParse,f),-1===d?null:d):d):(d=oc.call(this._longMonthsParse,f),-1===d?(d=oc.call(this._shortMonthsParse,f),-1===d?null:d):d)}function Y(d,a){var e;if(!d.isValid())return d;if("string"==typeof a)if(/^\d+$/.test(a))a=o(a);else if(a=d.localeData().monthsParse(a),!G(a))return d;return e=xb(d.date(),W(d.year(),a)),d._d["set"+(d._isUTC?"UTC":"")+"Month"](a,e),d}function Z(a){return null==a?C(this,"Month"):(Y(this,a),A.updateOffset(this,!0),this)}function $(){function g(c,d){return d.length-c.length}var a,b,c=[],d=[],e=[];for(a=0;12>a;a++)b=k([2e3,a]),c.push(this.monthsShort(b,"")),d.push(this.months(b,"")),e.push(this.months(b,"")),e.push(this.monthsShort(b,""));for(c.sort(g),d.sort(g),e.sort(g),a=0;12>a;a++)c[a]=S(c[a]),d[a]=S(d[a]);for(a=0;24>a;a++)e[a]=S(e[a]);this._monthsRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+c.join("|")+")","i")}function _(b){return aa(b)?366:365}function aa(b){return 0==b%4&&0!=b%100||0==b%400}function ba(i,a,b,c,d,e,f){var g=new Date(i,a,b,c,d,e,f);return 100>i&&0<=i&&isFinite(g.getFullYear())&&g.setFullYear(i),g}function ca(c){var a=new Date(Date.UTC.apply(null,arguments));return 100>c&&0<=c&&isFinite(a.getUTCFullYear())&&a.setUTCFullYear(c),a}function da(f,a,b){var c=7+a-b,d=(7+ca(f,0,c).getUTCDay()-a)%7;return-d+c-1}function ea(h,a,b,c,d){var e,k,l=da(h,c,d),i=1+7*(a-1)+(7+b-c)%7+l;return 0>=i?(e=h-1,k=_(e)+i):i>_(h)?(e=h+1,k=i-_(h)):(e=h,k=i),{year:e,dayOfYear:k}}function fa(h,a,b){var c,i,j=da(h.year(),a,b),f=yb((h.dayOfYear()-j-1)/7)+1;return 1>f?(i=h.year()-1,c=f+ga(i,a,b)):f>ga(h.year(),a,b)?(c=f-ga(h.year(),a,b),i=h.year()+1):(i=h.year(),c=f),{week:c,year:i}}function ga(f,a,b){var c=da(f,a,b),d=da(f+1,a,b);return(_(f)-c+d)/7}function ha(c,d){return"string"==typeof c?isNaN(c)?(c=d.weekdaysParse(c),"number"==typeof c?c:null):parseInt(c,10):c}function ia(c,d){return"string"==typeof c?d.weekdaysParse(c)%7||7:isNaN(c)?null:c}function ja(h,a,b){var c,d,e,f=h.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],c=0;7>c;++c)e=k([2000,1]).day(c),this._minWeekdaysParse[c]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[c]=this.weekdaysShort(e,"").toLocaleLowerCase(),this._weekdaysParse[c]=this.weekdays(e,"").toLocaleLowerCase();return b?"dddd"===a?(d=oc.call(this._weekdaysParse,f),-1===d?null:d):"ddd"===a?(d=oc.call(this._shortWeekdaysParse,f),-1===d?null:d):(d=oc.call(this._minWeekdaysParse,f),-1===d?null:d):"dddd"===a?(d=oc.call(this._weekdaysParse,f),-1===d?(d=oc.call(this._shortWeekdaysParse,f),-1===d?(d=oc.call(this._minWeekdaysParse,f),-1===d?null:d):d):d):"ddd"===a?(d=oc.call(this._shortWeekdaysParse,f),-1===d?(d=oc.call(this._weekdaysParse,f),-1===d?(d=oc.call(this._minWeekdaysParse,f),-1===d?null:d):d):d):(d=oc.call(this._minWeekdaysParse,f),-1===d?(d=oc.call(this._weekdaysParse,f),-1===d?(d=oc.call(this._shortWeekdaysParse,f),-1===d?null:d):d):d)}function ka(){function l(c,d){return d.length-c.length}var a,b,c,d,e,f=[],g=[],h=[],i=[];for(a=0;7>a;a++)b=k([2000,1]).day(a),c=this.weekdaysMin(b,""),d=this.weekdaysShort(b,""),e=this.weekdays(b,""),f.push(c),g.push(d),h.push(e),i.push(c),i.push(d),i.push(e);for(f.sort(l),g.sort(l),h.sort(l),i.sort(l),a=0;7>a;a++)g[a]=S(g[a]),h[a]=S(h[a]),i[a]=S(i[a]);this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+f.join("|")+")","i")}function la(){return this.hours()%12||12}function ma(c,a){K(c,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}function na(c,a){return a._meridiemParse}function oa(b){return b?b.toLowerCase().replace("_","-"):b}function pa(g){for(var a,b,c,d,e=0;e<g.length;){for(d=oa(g[e]).split("-"),a=d.length,b=oa(g[e+1]),b=b?b.split("-"):null;0<a;){if(c=qa(d.slice(0,a).join("-")))return c;if(b&&b.length>=a&&p(d,b,!0)>=a-1)break;a--}e++}return null}function qa(c){var a=null;if(!vc[c]&&"undefined"!=typeof module&&module&&module.exports)try{a=rc._abbr,require("./locale/"+c),ra(a)}catch(b){}return vc[c]}function ra(d,a){var b;return d&&(b=F(a)?ta(d):sa(d,a),b&&(rc=b)),rc._abbr}function sa(d,e){if(null!==e){var f=uc;if(e.abbr=d,null!=vc[d])r("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),f=vc[d]._config;else if(null!=e.parentLocale){if(null==vc[e.parentLocale])return wc[e.parentLocale]||(wc[e.parentLocale]=[]),wc[e.parentLocale].push({name:d,config:e}),null;f=vc[e.parentLocale]._config}return vc[d]=new u(t(f,e)),wc[d]&&wc[d].forEach(function(b){sa(b.name,b.config)}),ra(d),vc[d]}return delete vc[d],null}function ta(c){var d;if(c&&c._locale&&c._locale._abbr&&(c=c._locale._abbr),!c)return rc;if(!D(c)){if(d=qa(c))return d;c=[c]}return pa(c)}function ua(d){var a,b=d._a;return b&&-2===H(d).overflow&&(a=0>b[gc]||11<b[gc]?gc:1>b[hc]||b[hc]>W(b[fc],b[gc])?hc:0>b[ic]||24<b[ic]||24===b[ic]&&(0!==b[jc]||0!==b[kc]||0!==b[lc])?ic:0>b[jc]||59<b[jc]?jc:0>b[kc]||59<b[kc]?kc:0>b[lc]||999<b[lc]?lc:-1,H(d)._overflowDayOfYear&&(a<fc||a>hc)&&(a=hc),H(d)._overflowWeeks&&-1===a&&(a=mc),H(d)._overflowWeekday&&-1===a&&(a=nc),H(d).overflow=a),d}function va(j){var a,b,c,k,e,f,g=j._i,h=xc.exec(g)||yc.exec(g);if(h){for(H(j).iso=!0,a=0,b=Ac.length;a<b;a++)if(Ac[a][1].exec(h[1])){k=Ac[a][0],c=!1!==Ac[a][2];break}if(null==k)return void(j._isValid=!1);if(h[3]){for(a=0,b=Bc.length;a<b;a++)if(Bc[a][1].exec(h[3])){e=(h[2]||" ")+Bc[a][0];break}if(null==e)return void(j._isValid=!1)}if(!c&&null!=e)return void(j._isValid=!1);if(h[4]){if(!zc.exec(h[4]))return void(j._isValid=!1);f="Z"}j._f=k+(e||"")+(f||""),Ca(j)}else j._isValid=!1}function wa(k){var a,b,c,d,e,f,g,h,i={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(a=k._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),b=Dc.exec(a)){if(c=b[1]?"ddd"+(5===b[1].length?", ":" "):"",d="D MMM "+(10<b[2].length?"YYYY ":"YY "),e="HH:mm"+(b[4]?":ss":""),b[1]){var j=new Date(b[2]),l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][j.getDay()];if(b[1].substr(0,3)!==l)return H(k).weekdayMismatch=!0,void(k._isValid=!1)}switch(b[5].length){case 2:0===h?g=" +0000":(h="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(b[5][1].toUpperCase())-12,g=(0>h?" -":" +")+(""+h).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:g=i[b[5]];break;default:g=i[" GMT"];}b[5]=g,k._i=b.splice(1).join(""),f=" ZZ",k._f=c+d+e+f,Ca(k),H(k).rfc2822=!0}else k._isValid=!1}function xa(a){var b=Cc.exec(a._i);return null===b?(va(a),void(!1===a._isValid&&(delete a._isValid,wa(a),!1===a._isValid&&(delete a._isValid,A.createFromInputFallback(a))))):void(a._d=new Date(+b[1]))}function ya(d,a,b){return null==d?null==a?b:a:d}function za(a){var b=new Date(A.now());return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function Aa(g){var a,b,c,d,e=[];if(!g._d){for(c=za(g),g._w&&null==g._a[hc]&&null==g._a[gc]&&Ba(g),null!=g._dayOfYear&&(d=ya(g._a[fc],c[fc]),(g._dayOfYear>_(d)||0===g._dayOfYear)&&(H(g)._overflowDayOfYear=!0),b=ca(d,0,g._dayOfYear),g._a[gc]=b.getUTCMonth(),g._a[hc]=b.getUTCDate()),a=0;3>a&&null==g._a[a];++a)g._a[a]=e[a]=c[a];for(;7>a;a++)g._a[a]=e[a]=null==g._a[a]?2===a?1:0:g._a[a];24===g._a[ic]&&0===g._a[jc]&&0===g._a[kc]&&0===g._a[lc]&&(g._nextDay=!0,g._a[ic]=0),g._d=(g._useUTC?ca:ba).apply(null,e),null!=g._tzm&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[ic]=24)}}function Ba(k){var a,b,c,d,e,f,g,h;if(a=k._w,null!=a.GG||null!=a.W||null!=a.E)e=1,f=4,b=ya(a.GG,k._a[fc],fa(Ka(),1,4).year),c=ya(a.W,1),d=ya(a.E,1),(1>d||7<d)&&(h=!0);else{e=k._locale._week.dow,f=k._locale._week.doy;var i=fa(Ka(),e,f);b=ya(a.gg,k._a[fc],i.year),c=ya(a.w,i.week),null==a.d?null==a.e?d=e:(d=a.e+e,(0>a.e||6<a.e)&&(h=!0)):(d=a.d,(0>d||6<d)&&(h=!0))}1>c||c>ga(b,e,f)?H(k)._overflowWeeks=!0:null==h?(g=ea(b,c,d,e,f),k._a[fc]=g.year,k._dayOfYear=g.dayOfYear):H(k)._overflowWeekday=!0}function Ca(a){if(a._f===A.ISO_8601)return void va(a);if(a._f===A.RFC_2822)return void wa(a);a._a=[],H(a).empty=!0;var b,c,k,e,f,g=""+a._i,h=g.length,i=0;for(k=O(a._f,a._locale).match(Kb)||[],b=0;b<k.length;b++)e=k[b],c=(g.match(Q(e,a))||[])[0],c&&(f=g.substr(0,g.indexOf(c)),0<f.length&&H(a).unusedInput.push(f),g=g.slice(g.indexOf(c)+c.length),i+=c.length),Nb[e]?(c?H(a).empty=!1:H(a).unusedTokens.push(e),V(e,c,a)):a._strict&&!c&&H(a).unusedTokens.push(e);H(a).charsLeftOver=h-i,0<g.length&&H(a).unusedInput.push(g),12>=a._a[ic]&&!0===H(a).bigHour&&0<a._a[ic]&&(H(a).bigHour=void 0),H(a).parsedDateParts=a._a.slice(0),H(a).meridiem=a._meridiem,a._a[ic]=Da(a._locale,a._a[ic],a._meridiem),Aa(a),ua(a)}function Da(e,a,b){var c;return null==b?a:null==e.meridiemHour?null==e.isPM?a:(c=e.isPM(b),c&&12>a&&(a+=12),c||12!==a||(a=0),a):e.meridiemHour(a,b)}function Ea(g){var a,b,c,d,e;if(0===g._f.length)return H(g).invalidFormat=!0,void(g._d=new Date(NaN));for(d=0;d<g._f.length;d++)e=0,a=j({},g),null!=g._useUTC&&(a._useUTC=g._useUTC),a._f=g._f[d],Ca(a),i(a)&&(e+=H(a).charsLeftOver,e+=10*H(a).unusedTokens.length,H(a).score=e,(null==c||e<c)&&(c=e,b=a));h(g,b||a)}function Fa(c){if(!c._d){var a=x(c._i);c._a=d([a.year,a.month,a.day||a.date,a.hour,a.minute,a.second,a.millisecond],function(b){return b&&parseInt(b,10)}),Aa(c)}}function Ga(c){var a=new l(ua(Ha(c)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Ha(c){var a=c._i,g=c._f;return c._locale=c._locale||ta(c._l),null===a||void 0===g&&""===a?e({nullInput:!0}):("string"==typeof a&&(c._i=a=c._locale.preparse(a)),m(a)?new l(ua(a)):(f(a)?c._d=a:D(g)?Ea(c):g?Ca(c):Ia(c),i(c)||(c._d=null),c))}function Ia(a){var b=a._i;F(b)?a._d=new Date(A.now()):f(b)?a._d=new Date(b.valueOf()):"string"==typeof b?xa(a):D(b)?(a._a=d(b.slice(0),function(b){return parseInt(b,10)}),Aa(a)):E(b)?Fa(a):G(b)?a._d=new Date(b):A.createFromInputFallback(a)}function Ja(d,a,b,e,f){var g={};return!0!==b&&!1!==b||(e=b,b=void 0),(E(d)&&c(d)||D(d)&&0===d.length)&&(d=void 0),g._isAMomentObject=!0,g._useUTC=g._isUTC=f,g._l=b,g._i=d,g._f=a,g._strict=e,Ga(g)}function Ka(e,a,b,c){return Ja(e,a,b,c,!1)}function La(c,a){var b,d;if(1===a.length&&D(a[0])&&(a=a[0]),!a.length)return Ka();for(b=a[0],d=1;d<a.length;++d)a[d].isValid()&&!a[d][c](b)||(b=a[d]);return b}function Ma(e){for(var a in e)if(-1===Gc.indexOf(a)||null!=e[a]&&isNaN(e[a]))return!1;for(var b=!1,c=0;c<Gc.length;++c)if(e[Gc[c]]){if(b)return!1;parseFloat(e[Gc[c]])!==o(e[Gc[c]])&&(b=!0)}return!0}function Na(l){var a=x(l),b=a.year||0,c=a.quarter||0,d=a.month||0,m=a.week||0,f=a.day||0,n=a.hour||0,h=a.minute||0,i=a.second||0,j=a.millisecond||0;this._isValid=Ma(a),this._milliseconds=+j+1e3*i+6e4*h+60*(60*(1e3*n)),this._days=+f+7*m,this._months=+d+3*c+12*b,this._data={},this._locale=ta(),this._bubble()}function Oa(b){return b instanceof Na}function Pa(b){return 0>b?-1*vb(-1*b):vb(b)}function Qa(c,d){K(c,0,0,function(){var b=this.utcOffset(),e="+";return 0>b&&(b=-b,e="-"),e+J(~~(b/60),2)+d+J(~~b%60,2)})}function Ra(g,a){var b=(a||"").match(g);if(null===b)return null;var c=b[b.length-1]||[],d=(c+"").match(Hc)||["-",0,0],e=+(60*d[1])+o(d[2]);return 0===e?0:"+"===d[0]?e:-e}function Sa(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(m(a)||f(a)?a.valueOf():Ka(a).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+d),A.updateOffset(c,!1),c):Ka(a).local()}function Ta(b){return 15*-vb(b._d.getTimezoneOffset()/15)}function Ua(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Va(i,a){var b,c,d,e=i,j=null;return Oa(i)?e={ms:i._milliseconds,d:i._days,M:i._months}:G(i)?(e={},a?e[a]=i:e.milliseconds=i):(j=Ic.exec(i))?(b="-"===j[1]?-1:1,e={y:0,d:o(j[hc])*b,h:o(j[ic])*b,m:o(j[jc])*b,s:o(j[kc])*b,ms:o(Pa(1e3*j[lc]))*b}):(j=Jc.exec(i))?(b="-"===j[1]?-1:1,e={y:Wa(j[2],b),M:Wa(j[3],b),w:Wa(j[4],b),d:Wa(j[5],b),h:Wa(j[6],b),m:Wa(j[7],b),s:Wa(j[8],b)}):null==e?e={}:"object"==typeof e&&("from"in e||"to"in e)&&(d=Ya(Ka(e.from),Ka(e.to)),e={},e.ms=d.milliseconds,e.M=d.months),c=new Na(e),Oa(i)&&g(i,"_locale")&&(c._locale=i._locale),c}function Wa(d,a){var b=d&&parseFloat(d.replace(",","."));return(isNaN(b)?0:b)*a}function Xa(d,a){var e={milliseconds:0,months:0};return e.months=a.month()-d.month()+12*(a.year()-d.year()),d.clone().add(e.months,"M").isAfter(a)&&--e.months,e.milliseconds=+a-+d.clone().add(e.months,"M"),e}function Ya(d,a){var b;return d.isValid()&&a.isValid()?(a=Sa(a,d),d.isBefore(a)?b=Xa(d,a):(b=Xa(a,d),b.milliseconds=-b.milliseconds,b.months=-b.months),b):{milliseconds:0,months:0}}function Za(g,a){return function(b,h){var i,e;return null===h||isNaN(+h)||(r(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),e=b,b=h,h=e),b="string"==typeof b?+b:b,i=Va(b,h),$a(this,i,g),this}}function $a(a,b,c,d){var e=b._milliseconds,f=Pa(b._days),g=Pa(b._months);a.isValid()&&(d=null==d||d,e&&a._d.setTime(a._d.valueOf()+e*c),f&&I(a,"Date",C(a,"Date")+f*c),g&&Y(a,C(a,"Month")+g*c),d&&A.updateOffset(a,f||g))}function _a(g,a){var b,c,d=12*(a.year()-g.year())+(a.month()-g.month()),e=g.clone().add(d,"months");return 0>a-e?(b=g.clone().add(d-1,"months"),c=(a-e)/(e-b)):(b=g.clone().add(d+1,"months"),c=(a-e)/(b-e)),-(d+c)||0}function ab(c){var a;return void 0===c?this._locale._abbr:(a=ta(c),null!=a&&(this._locale=a),this)}function bb(){return this._locale}function cb(c,a){K(0,[c,c.length],0,a)}function db(g,a,b,c,d){var e;return null==g?fa(this,c,d).year:(e=ga(g,c,d),a>e&&(a=e),eb.call(this,g,a,b,c,d))}function eb(h,a,b,c,d){var e=ea(h,a,b,c,d),f=ca(e.year,0,e.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}function fb(c,a){a[lc]=o(1e3*("0."+c))}function gb(b){return b}function hb(g,a,b,c){var d=ta(),e=k().set(c,a);return d[b](e,g)}function ib(f,a,b){if(G(f)&&(a=f,f=void 0),f=f||"",null!=a)return hb(f,a,b,"month");var c,d=[];for(c=0;12>c;c++)d[c]=hb(f,c,b,"month");return d}function jb(g,j,b,c){"boolean"==typeof g?(G(j)&&(b=j,j=void 0),j=j||""):(j=g,b=j,g=!1,G(j)&&(b=j,j=void 0),j=j||"");var d=ta(),e=g?d._week.dow:0;if(null!=b)return hb(j,(b+e)%7,c,"day");var f,h=[];for(f=0;7>f;f++)h[f]=hb(j,(f+e)%7,c,"day");return h}function kb(f,a,b,c){var d=Va(a,b);return f._milliseconds+=c*d._milliseconds,f._days+=c*d._days,f._months+=c*d._months,f._bubble()}function lb(b){return 0>b?yb(b):zb(b)}function mb(b){return 4800*b/146097}function nb(b){return 146097*b/4800}function ob(b){return function(){return this.as(b)}}function pb(b){return function(){return this.isValid()?this._data[b]:NaN}}function qb(f,a,b,g,d){return d.relativeTime(a||1,!!b,f,g)}function rb(l,m,b){var c=Va(l).abs(),d=id(c.as("s")),e=id(c.as("m")),f=id(c.as("h")),g=id(c.as("d")),h=id(c.as("M")),i=id(c.as("y")),j=d<=jd.ss&&["s",d]||d<jd.s&&["ss",d]||1>=e&&["m"]||e<jd.m&&["mm",e]||1>=f&&["h"]||f<jd.h&&["hh",f]||1>=g&&["d"]||g<jd.d&&["dd",g]||1>=h&&["M"]||h<jd.M&&["MM",h]||1>=i&&["y"]||["yy",i];return j[2]=m,j[3]=0<+l,j[4]=b,qb.apply(null,j)}function sb(){if(!this.isValid())return this.localeData().invalidDate();var o,a,b,c=kd(this._milliseconds)/1e3,d=kd(this._days),e=kd(this._months);o=n(c/60),a=n(o/60),c%=60,o%=60,b=n(e/12),e%=12;var f=b,g=e,h=d,i=a,j=o,k=c,l=this.asSeconds();return l?(0>l?"-":"")+"P"+(f?f+"Y":"")+(g?g+"M":"")+(h?h+"D":"")+(i||j||k?"T":"")+(i?i+"H":"")+(j?j+"M":"")+(k?k+"S":""):"P0D"}var tb,ub,vb=Math.round,wb=Math.abs,xb=Math.min,yb=Math.floor,zb=Math.ceil;ub=Array.prototype.some?Array.prototype.some:function(e){for(var a=Object(this),b=a.length>>>0,c=0;c<b;c++)if(c in a&&e.call(this,a[c],c,a))return!0;return!1};var Ab=ub,Bb=A.momentProperties=[],Cb=!1,Db={};A.suppressDeprecationWarnings=!1,A.deprecationHandler=null;var Eb=Object.keys?Object.keys:function(d){var a,b=[];for(a in d)g(d,a)&&b.push(a);return b};var Fb,Gb=Eb,Hb=/\d{1,2}/,Ib={},Jb={},Kb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Lb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mb={},Nb={},Ob=/\d/,Pb=/\d\d/,Qb=/\d{3}/,Rb=/\d{4}/,Sb=/[+-]?\d{6}/,Tb=/\d\d?/,Ub=/\d\d\d\d?/,Vb=/\d\d\d\d\d\d?/,Wb=/\d{1,3}/,Xb=/\d{1,4}/,Yb=/[+-]?\d{1,6}/,Zb=/\d+/,$b=/[+-]?\d+/,_b=/Z|[+-]\d\d:?\d\d/gi,ac=/Z|[+-]\d\d(?::?\d\d)?/gi,bc=/[+-]?\d+(\.\d{1,3})?/,cc=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,dc={},ec={},fc=0,gc=1,hc=2,ic=3,jc=4,kc=5,lc=6,mc=7,nc=8;Fb=Array.prototype.indexOf?Array.prototype.indexOf:function(c){var a;for(a=0;a<this.length;++a)if(this[a]===c)return a;return-1};var oc=Fb;K("M",["MM",2],"Mo",function(){return this.month()+1}),K("MMM",0,0,function(b){return this.localeData().monthsShort(this,b)}),K("MMMM",0,0,function(b){return this.localeData().months(this,b)}),v("month","M"),y("month",8),P("M",Tb),P("MM",Tb,Pb),P("MMM",function(c,a){return a.monthsShortRegex(c)}),P("MMMM",function(c,a){return a.monthsRegex(c)}),T(["M","MM"],function(c,a){a[gc]=o(c)-1}),T(["MMM","MMMM"],function(f,a,b,c){var d=b._locale.monthsParse(f,c,b._strict);null==d?H(b).invalidMonth=f:a[gc]=d});var pc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;K("Y",0,0,function(){var b=this.year();return 9999>=b?""+b:"+"+b}),K(0,["YY",2],0,function(){return this.year()%100}),K(0,["YYYY",4],0,"year"),K(0,["YYYYY",5],0,"year"),K(0,["YYYYYY",6,!0],0,"year"),v("year","y"),y("year",1),P("Y",$b),P("YY",Tb,Pb),P("YYYY",Xb,Rb),P("YYYYY",Yb,Sb),P("YYYYYY",Yb,Sb),T(["YYYYY","YYYYYY"],fc),T("YYYY",function(a,b){b[fc]=2===a.length?A.parseTwoDigitYear(a):o(a)}),T("YY",function(a,b){b[fc]=A.parseTwoDigitYear(a)}),T("Y",function(c,a){a[fc]=parseInt(c,10)}),A.parseTwoDigitYear=function(b){return o(b)+(68<o(b)?1900:2e3)};var qc=B("FullYear",!0);K("w",["ww",2],"wo","week"),K("W",["WW",2],"Wo","isoWeek"),v("week","w"),v("isoWeek","W"),y("week",5),y("isoWeek",5),P("w",Tb),P("ww",Tb,Pb),P("W",Tb),P("WW",Tb,Pb),U(["w","ww","W","WW"],function(e,a,b,c){a[c.substr(0,1)]=o(e)});K("d",0,"do","day"),K("dd",0,0,function(b){return this.localeData().weekdaysMin(this,b)}),K("ddd",0,0,function(b){return this.localeData().weekdaysShort(this,b)}),K("dddd",0,0,function(b){return this.localeData().weekdays(this,b)}),K("e",0,0,"weekday"),K("E",0,0,"isoWeekday"),v("day","d"),v("weekday","e"),v("isoWeekday","E"),y("day",11),y("weekday",11),y("isoWeekday",11),P("d",Tb),P("e",Tb),P("E",Tb),P("dd",function(c,a){return a.weekdaysMinRegex(c)}),P("ddd",function(c,a){return a.weekdaysShortRegex(c)}),P("dddd",function(c,a){return a.weekdaysRegex(c)}),U(["dd","ddd","dddd"],function(f,a,b,c){var d=b._locale.weekdaysParse(f,c,b._strict);null==d?H(b).invalidWeekday=f:a.d=d}),U(["d","e","E"],function(e,a,b,c){a[c]=o(e)});K("H",["HH",2],0,"hour"),K("h",["hh",2],0,la),K("k",["kk",2],0,function(){return this.hours()||24}),K("hmm",0,0,function(){return""+la.apply(this)+J(this.minutes(),2)}),K("hmmss",0,0,function(){return""+la.apply(this)+J(this.minutes(),2)+J(this.seconds(),2)}),K("Hmm",0,0,function(){return""+this.hours()+J(this.minutes(),2)}),K("Hmmss",0,0,function(){return""+this.hours()+J(this.minutes(),2)+J(this.seconds(),2)}),ma("a",!0),ma("A",!1),v("hour","h"),y("hour",13),P("a",na),P("A",na),P("H",Tb),P("h",Tb),P("k",Tb),P("HH",Tb,Pb),P("hh",Tb,Pb),P("kk",Tb,Pb),P("hmm",Ub),P("hmmss",Vb),P("Hmm",Ub),P("Hmmss",Vb),T(["H","HH"],ic),T(["k","kk"],function(c,a){var b=o(c);a[ic]=24===b?0:b}),T(["a","A"],function(d,a,b){b._isPm=b._locale.isPM(d),b._meridiem=d}),T(["h","hh"],function(d,a,b){a[ic]=o(d),H(b).bigHour=!0}),T("hmm",function(e,a,b){var c=e.length-2;a[ic]=o(e.substr(0,c)),a[jc]=o(e.substr(c)),H(b).bigHour=!0}),T("hmmss",function(f,a,b){var c=f.length-4,d=f.length-2;a[ic]=o(f.substr(0,c)),a[jc]=o(f.substr(c,2)),a[kc]=o(f.substr(d)),H(b).bigHour=!0}),T("Hmm",function(c,a){var b=c.length-2;a[ic]=o(c.substr(0,b)),a[jc]=o(c.substr(b))}),T("Hmmss",function(c,a){var b=c.length-4,d=c.length-2;a[ic]=o(c.substr(0,b)),a[jc]=o(c.substr(b,2)),a[kc]=o(c.substr(d))});var rc,sc=/[ap]\.?m?\.?/i,tc=B("Hours",!0),uc={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Hb,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],meridiemParse:sc},vc={},wc={},xc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zc=/Z|[+-]\d\d(?::?\d\d)?/,Ac=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Bc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cc=/^\/?Date\((\-?\d+)/i,Dc=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;A.createFromInputFallback=q("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(b){b._d=new Date(b._i+(b._useUTC?" UTC":""))}),A.ISO_8601=function(){},A.RFC_2822=function(){};var Ec=q("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=Ka.apply(null,arguments);return this.isValid()&&b.isValid()?b<this?this:b:e()}),Fc=q("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=Ka.apply(null,arguments);return this.isValid()&&b.isValid()?b>this?this:b:e()}),Gc=["year","quarter","month","week","day","hour","minute","second","millisecond"];Qa("Z",":"),Qa("ZZ",""),P("Z",ac),P("ZZ",ac),T(["Z","ZZ"],function(d,a,b){b._useUTC=!0,b._tzm=Ra(ac,d)});var Hc=/([\+\-]|\d\d)/gi;A.updateOffset=function(){};var Ic=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Jc=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Va.fn=Na.prototype,Va.invalid=function(){return Va(NaN)};var Kc=Za(1,"add"),Lc=Za(-1,"subtract");A.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",A.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Mc=q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return void 0===b?this.localeData():this.locale(b)});K(0,["gg",2],0,function(){return this.weekYear()%100}),K(0,["GG",2],0,function(){return this.isoWeekYear()%100}),cb("gggg","weekYear"),cb("ggggg","weekYear"),cb("GGGG","isoWeekYear"),cb("GGGGG","isoWeekYear"),v("weekYear","gg"),v("isoWeekYear","GG"),y("weekYear",1),y("isoWeekYear",1),P("G",$b),P("g",$b),P("GG",Tb,Pb),P("gg",Tb,Pb),P("GGGG",Xb,Rb),P("gggg",Xb,Rb),P("GGGGG",Yb,Sb),P("ggggg",Yb,Sb),U(["gggg","ggggg","GGGG","GGGGG"],function(e,a,b,c){a[c.substr(0,2)]=o(e)}),U(["gg","GG"],function(a,b,c,d){b[d]=A.parseTwoDigitYear(a)}),K("Q",0,"Qo","quarter"),v("quarter","Q"),y("quarter",7),P("Q",Ob),T("Q",function(c,a){a[gc]=3*(o(c)-1)}),K("D",["DD",2],"Do","date"),v("date","D"),y("date",9),P("D",Tb),P("DD",Tb,Pb),P("Do",function(c,a){return c?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),T(["D","DD"],hc),T("Do",function(c,a){a[hc]=o(c.match(Tb)[0],10)});var Nc=B("Date",!0);K("DDD",["DDDD",3],"DDDo","dayOfYear"),v("dayOfYear","DDD"),y("dayOfYear",4),P("DDD",Wb),P("DDDD",Qb),T(["DDD","DDDD"],function(d,a,b){b._dayOfYear=o(d)}),K("m",["mm",2],0,"minute"),v("minute","m"),y("minute",14),P("m",Tb),P("mm",Tb,Pb),T(["m","mm"],jc);var Oc=B("Minutes",!1);K("s",["ss",2],0,"second"),v("second","s"),y("second",15),P("s",Tb),P("ss",Tb,Pb),T(["s","ss"],kc);var Pc=B("Seconds",!1);K("S",0,0,function(){return~~(this.millisecond()/100)}),K(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),K(0,["SSS",3],0,"millisecond"),K(0,["SSSS",4],0,function(){return 10*this.millisecond()}),K(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),K(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),K(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),K(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),K(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),v("millisecond","ms"),y("millisecond",16),P("S",Wb,Ob),P("SS",Wb,Pb),P("SSS",Wb,Qb);var Qc;for(Qc="SSSS";9>=Qc.length;Qc+="S")P(Qc,Zb);for(Qc="S";9>=Qc.length;Qc+="S")T(Qc,fb);var Rc=B("Milliseconds",!1);K("z",0,0,"zoneAbbr"),K("zz",0,0,"zoneName");var Sc=l.prototype;Sc.add=Kc,Sc.calendar=function(a,b){var c=a||Ka(),d=Sa(c,this).startOf("day"),e=A.calendarFormat(this,d)||"sameElse",f=b&&(s(b[e])?b[e].call(this,c):b[e]);return this.format(f||this.localeData().calendar(e,this,Ka(c)))},Sc.clone=function(){return new l(this)},Sc.diff=function(h,a,b){var c,d,e,f;return this.isValid()?(c=Sa(h,this),c.isValid()?(d=6e4*(c.utcOffset()-this.utcOffset()),a=w(a),"year"===a||"month"===a||"quarter"===a?(f=_a(this,c),"quarter"===a?f/=3:"year"==a&&(f/=12)):(e=this-c,f="second"===a?e/1e3:"minute"===a?e/6e4:"hour"===a?e/36e5:"day"===a?(e-d)/864e5:"week"===a?(e-d)/6048e5:e),b?f:n(f)):NaN):NaN},Sc.endOf=function(b){return b=w(b),void 0===b||"millisecond"===b?this:("date"===b&&(b="day"),this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms"))},Sc.format=function(a){a||(a=this.isUtc()?A.defaultFormatUtc:A.defaultFormat);var b=N(this,a);return this.localeData().postformat(b)},Sc.from=function(c,d){return this.isValid()&&(m(c)&&c.isValid()||Ka(c).isValid())?Va({to:this,from:c}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()},Sc.fromNow=function(b){return this.from(Ka(),b)},Sc.to=function(c,d){return this.isValid()&&(m(c)&&c.isValid()||Ka(c).isValid())?Va({from:this,to:c}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()},Sc.toNow=function(b){return this.to(Ka(),b)},Sc.get=function(b){return b=w(b),s(this[b])?this[b]():this},Sc.invalidAt=function(){return H(this).overflow},Sc.isAfter=function(d,a){var b=m(d)?d:Ka(d);return this.isValid()&&b.isValid()&&(a=w(F(a)?"millisecond":a),"millisecond"===a?this.valueOf()>b.valueOf():b.valueOf()<this.clone().startOf(a).valueOf())},Sc.isBefore=function(d,a){var b=m(d)?d:Ka(d);return this.isValid()&&b.isValid()&&(a=w(F(a)?"millisecond":a),"millisecond"===a?this.valueOf()<b.valueOf():this.clone().endOf(a).valueOf()<b.valueOf())},Sc.isBetween=function(e,a,b,c){return c=c||"()",("("===c[0]?this.isAfter(e,b):!this.isBefore(e,b))&&(")"===c[1]?this.isBefore(a,b):!this.isAfter(a,b))},Sc.isSame=function(e,a){var b,c=m(e)?e:Ka(e);return this.isValid()&&c.isValid()&&(a=w(a||"millisecond"),"millisecond"===a?this.valueOf()===c.valueOf():(b=c.valueOf(),this.clone().startOf(a).valueOf()<=b&&b<=this.clone().endOf(a).valueOf()))},Sc.isSameOrAfter=function(c,a){return this.isSame(c,a)||this.isAfter(c,a)},Sc.isSameOrBefore=function(c,a){return this.isSame(c,a)||this.isBefore(c,a)},Sc.isValid=function(){return i(this)},Sc.lang=Mc,Sc.locale=ab,Sc.localeData=bb,Sc.max=Fc,Sc.min=Ec,Sc.parsingFlags=function(){return h({},H(this))},Sc.set=function(e,f){if("object"==typeof e){e=x(e);for(var b=z(e),c=0;c<b.length;c++)this[b[c].unit](e[b[c].unit])}else if(e=w(e),s(this[e]))return this[e](f);return this},Sc.startOf=function(b){switch(b=w(b)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0);}return"week"===b&&this.weekday(0),"isoWeek"===b&&this.isoWeekday(1),"quarter"===b&&this.month(3*yb(this.month()/3)),this},Sc.subtract=Lc,Sc.toArray=function(){var b=this;return[b.year(),b.month(),b.date(),b.hour(),b.minute(),b.second(),b.millisecond()]},Sc.toObject=function(){var b=this;return{years:b.year(),months:b.month(),date:b.date(),hours:b.hours(),minutes:b.minutes(),seconds:b.seconds(),milliseconds:b.milliseconds()}},Sc.toDate=function(){return new Date(this.valueOf())},Sc.toISOString=function(){if(!this.isValid())return null;var b=this.clone().utc();return 0>b.year()||9999<b.year()?N(b,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):s(Date.prototype.toISOString)?this.toDate().toISOString():N(b,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Sc.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",a="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z");var b="["+e+"(\"]",c=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",d=a+"[\")]";return this.format(b+c+"-MM-DD[T]HH:mm:ss.SSS"+d)},Sc.toJSON=function(){return this.isValid()?this.toISOString():null},Sc.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Sc.unix=function(){return yb(this.valueOf()/1e3)},Sc.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Sc.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Sc.year=qc,Sc.isLeapYear=function(){return aa(this.year())},Sc.weekYear=function(b){return db.call(this,b,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Sc.isoWeekYear=function(b){return db.call(this,b,this.isoWeek(),this.isoWeekday(),1,4)},Sc.quarter=Sc.quarters=function(b){return null==b?zb((this.month()+1)/3):this.month(3*(b-1)+this.month()%3)},Sc.month=Z,Sc.daysInMonth=function(){return W(this.year(),this.month())},Sc.week=Sc.weeks=function(c){var a=this.localeData().week(this);return null==c?a:this.add(7*(c-a),"d")},Sc.isoWeek=Sc.isoWeeks=function(c){var a=fa(this,1,4).week;return null==c?a:this.add(7*(c-a),"d")},Sc.weeksInYear=function(){var b=this.localeData()._week;return ga(this.year(),b.dow,b.doy)},Sc.isoWeeksInYear=function(){return ga(this.year(),1,4)},Sc.date=Nc,Sc.day=Sc.days=function(c){if(!this.isValid())return null==c?NaN:this;var a=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==c?a:(c=ha(c,this.localeData()),this.add(c-a,"d"))},Sc.weekday=function(c){if(!this.isValid())return null==c?NaN:this;var a=(this.day()+7-this.localeData()._week.dow)%7;return null==c?a:this.add(c-a,"d")},Sc.isoWeekday=function(c){if(!this.isValid())return null==c?NaN:this;if(null!=c){var a=ia(c,this.localeData());return this.day(this.day()%7?a:a-7)}return this.day()||7},Sc.dayOfYear=function(c){var a=vb((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==c?a:this.add(c-a,"d")},Sc.hour=Sc.hours=tc,Sc.minute=Sc.minutes=Oc,Sc.second=Sc.seconds=Pc,Sc.millisecond=Sc.milliseconds=Rc,Sc.utcOffset=function(a,g,h){var i,e=this._offset||0;if(!this.isValid())return null==a?NaN:this;if(null!=a){if("string"!=typeof a)16>wb(a)&&!h&&(a=60*a);else if(a=Ra(ac,a),null===a)return this;return!this._isUTC&&g&&(i=Ta(this)),this._offset=a,this._isUTC=!0,null!=i&&this.add(i,"m"),e!==a&&(!g||this._changeInProgress?$a(this,Va(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,A.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?e:Ta(this)},Sc.utc=function(b){return this.utcOffset(0,b)},Sc.local=function(b){return this._isUTC&&(this.utcOffset(0,b),this._isUTC=!1,b&&this.subtract(Ta(this),"m")),this},Sc.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var b=Ra(_b,this._i);null==b?this.utcOffset(0,!0):this.utcOffset(b)}return this},Sc.hasAlignedHourOffset=function(b){return!!this.isValid()&&(b=b?Ka(b).utcOffset():0,0==(this.utcOffset()-b)%60)},Sc.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Sc.isLocal=function(){return!!this.isValid()&&!this._isUTC},Sc.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Sc.isUtc=Ua,Sc.isUTC=Ua,Sc.zoneAbbr=function(){return this._isUTC?"UTC":""},Sc.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Sc.dates=q("dates accessor is deprecated. Use date instead.",Nc),Sc.months=q("months accessor is deprecated. Use month instead",Z),Sc.years=q("years accessor is deprecated. Use year instead",qc),Sc.zone=q("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(c,d){return null==c?-this.utcOffset():("string"!=typeof c&&(c=-c),this.utcOffset(c,d),this)}),Sc.isDSTShifted=q("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!F(this._isDSTShifted))return this._isDSTShifted;var c={};if(j(c,this),c=Ha(c),c._a){var a=c._isUTC?k(c._a):Ka(c._a);this._isDSTShifted=this.isValid()&&0<p(c._a,a.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var Tc=u.prototype;Tc.calendar=function(e,a,b){var c=this._calendar[e]||this._calendar.sameElse;return s(c)?c.call(a,b):c},Tc.longDateFormat=function(d){var a=this._longDateFormat[d],b=this._longDateFormat[d.toUpperCase()];return a||!b?a:(this._longDateFormat[d]=b.replace(/MMMM|MM|DD|dddd/g,function(b){return b.slice(1)}),this._longDateFormat[d])},Tc.invalidDate=function(){return this._invalidDate},Tc.ordinal=function(b){return this._ordinal.replace("%d",b)},Tc.preparse=gb,Tc.postformat=gb,Tc.relativeTime=function(f,a,b,c){var d=this._relativeTime[b];return s(d)?d(f,a,b,c):d.replace(/%d/i,f)},Tc.pastFuture=function(d,a){var b=this._relativeTime[0<d?"future":"past"];return s(b)?b(a):b.replace(/%s/i,a)},Tc.set=function(d){var a,b;for(b in d)a=d[b],s(a)?this[b]=a:this["_"+b]=a;this._config=d,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Tc.months=function(c,a){return c?D(this._months)?this._months[c.month()]:this._months[(this._months.isFormat||pc).test(a)?"format":"standalone"][c.month()]:D(this._months)?this._months:this._months.standalone},Tc.monthsShort=function(c,a){return c?D(this._monthsShort)?this._monthsShort[c.month()]:this._monthsShort[pc.test(a)?"format":"standalone"][c.month()]:D(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Tc.monthsParse=function(g,a,b){var h,d,e;if(this._monthsParseExact)return X.call(this,g,a,b);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),h=0;12>h;h++){if(d=k([2e3,h]),b&&!this._longMonthsParse[h]&&(this._longMonthsParse[h]=new RegExp("^"+this.months(d,"").replace(".","")+"$","i"),this._shortMonthsParse[h]=new RegExp("^"+this.monthsShort(d,"").replace(".","")+"$","i")),b||this._monthsParse[h]||(e="^"+this.months(d,"")+"|^"+this.monthsShort(d,""),this._monthsParse[h]=new RegExp(e.replace(".",""),"i")),b&&"MMMM"===a&&this._longMonthsParse[h].test(g))return h;if(b&&"MMM"===a&&this._shortMonthsParse[h].test(g))return h;if(!b&&this._monthsParse[h].test(g))return h}},Tc.monthsRegex=function(b){return this._monthsParseExact?(g(this,"_monthsRegex")||$.call(this),b?this._monthsStrictRegex:this._monthsRegex):(g(this,"_monthsRegex")||(this._monthsRegex=cc),this._monthsStrictRegex&&b?this._monthsStrictRegex:this._monthsRegex)},Tc.monthsShortRegex=function(b){return this._monthsParseExact?(g(this,"_monthsRegex")||$.call(this),b?this._monthsShortStrictRegex:this._monthsShortRegex):(g(this,"_monthsShortRegex")||(this._monthsShortRegex=cc),this._monthsShortStrictRegex&&b?this._monthsShortStrictRegex:this._monthsShortRegex)},Tc.week=function(b){return fa(b,this._week.dow,this._week.doy).week},Tc.firstDayOfYear=function(){return this._week.doy},Tc.firstDayOfWeek=function(){return this._week.dow},Tc.weekdays=function(c,a){return c?D(this._weekdays)?this._weekdays[c.day()]:this._weekdays[this._weekdays.isFormat.test(a)?"format":"standalone"][c.day()]:D(this._weekdays)?this._weekdays:this._weekdays.standalone},Tc.weekdaysMin=function(b){return b?this._weekdaysMin[b.day()]:this._weekdaysMin},Tc.weekdaysShort=function(b){return b?this._weekdaysShort[b.day()]:this._weekdaysShort},Tc.weekdaysParse=function(g,a,b){var h,d,e;if(this._weekdaysParseExact)return ja.call(this,g,a,b);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),h=0;7>h;h++){if(d=k([2000,1]).day(h),b&&!this._fullWeekdaysParse[h]&&(this._fullWeekdaysParse[h]=new RegExp("^"+this.weekdays(d,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[h]=new RegExp("^"+this.weekdaysShort(d,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[h]=new RegExp("^"+this.weekdaysMin(d,"").replace(".",".?")+"$","i")),this._weekdaysParse[h]||(e="^"+this.weekdays(d,"")+"|^"+this.weekdaysShort(d,"")+"|^"+this.weekdaysMin(d,""),this._weekdaysParse[h]=new RegExp(e.replace(".",""),"i")),b&&"dddd"===a&&this._fullWeekdaysParse[h].test(g))return h;if(b&&"ddd"===a&&this._shortWeekdaysParse[h].test(g))return h;if(b&&"dd"===a&&this._minWeekdaysParse[h].test(g))return h;if(!b&&this._weekdaysParse[h].test(g))return h}},Tc.weekdaysRegex=function(b){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||ka.call(this),b?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,"_weekdaysRegex")||(this._weekdaysRegex=cc),this._weekdaysStrictRegex&&b?this._weekdaysStrictRegex:this._weekdaysRegex)},Tc.weekdaysShortRegex=function(b){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||ka.call(this),b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=cc),this._weekdaysShortStrictRegex&&b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Tc.weekdaysMinRegex=function(b){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||ka.call(this),b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=cc),this._weekdaysMinStrictRegex&&b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Tc.isPM=function(b){return"p"===(b+"").toLowerCase().charAt(0)},Tc.meridiem=function(d,a,b){return 11<d?b?"pm":"PM":b?"am":"AM"},ra("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(d){var a=d%10,b=1===o(d%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th";return d+b}}),A.lang=q("moment.lang is deprecated. Use moment.locale instead.",ra),A.langData=q("moment.langData is deprecated. Use moment.localeData instead.",ta);var Uc=wb,Vc=ob("ms"),Wc=ob("s"),Xc=ob("m"),Yc=ob("h"),Zc=ob("d"),$c=ob("w"),_c=ob("M"),ad=ob("y"),bd=pb("milliseconds"),cd=pb("seconds"),dd=pb("minutes"),ed=pb("hours"),fd=pb("days"),gd=pb("months"),hd=pb("years"),id=vb,jd={ss:44,s:45,m:45,h:22,d:26,M:11},kd=wb,ld=Na.prototype;return ld.isValid=function(){return this._isValid},ld.abs=function(){var b=this._data;return this._milliseconds=Uc(this._milliseconds),this._days=Uc(this._days),this._months=Uc(this._months),b.milliseconds=Uc(b.milliseconds),b.seconds=Uc(b.seconds),b.minutes=Uc(b.minutes),b.hours=Uc(b.hours),b.months=Uc(b.months),b.years=Uc(b.years),this},ld.add=function(c,a){return kb(this,c,a,1)},ld.subtract=function(c,a){return kb(this,c,a,-1)},ld.as=function(e){if(!this.isValid())return NaN;var a,b,c=this._milliseconds;if(e=w(e),"month"===e||"year"===e)return a=this._days+c/864e5,b=this._months+mb(a),"month"===e?b:b/12;switch(a=this._days+vb(nb(this._months)),e){case"week":return a/7+c/6048e5;case"day":return a+c/864e5;case"hour":return 24*a+c/36e5;case"minute":return 1440*a+c/6e4;case"second":return 86400*a+c/1e3;case"millisecond":return yb(864e5*a)+c;default:throw new Error("Unknown unit "+e);}},ld.asMilliseconds=Vc,ld.asSeconds=Wc,ld.asMinutes=Xc,ld.asHours=Yc,ld.asDays=Zc,ld.asWeeks=$c,ld.asMonths=_c,ld.asYears=ad,ld.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*o(this._months/12):NaN},ld._bubble=function(){var j,a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;return 0<=e&&0<=f&&0<=g||0>=e&&0>=f&&0>=g||(e+=864e5*lb(nb(g)+f),f=0,g=0),h.milliseconds=e%1e3,j=n(e/1e3),h.seconds=j%60,a=n(j/60),h.minutes=a%60,b=n(a/60),h.hours=b%24,f+=n(b/24),d=n(mb(f)),g+=d,f-=lb(nb(d)),c=n(g/12),g%=12,h.days=f,h.months=g,h.years=c,this},ld.get=function(b){return b=w(b),this.isValid()?this[b+"s"]():NaN},ld.milliseconds=bd,ld.seconds=cd,ld.minutes=dd,ld.hours=ed,ld.days=fd,ld.weeks=function(){return n(this.days()/7)},ld.months=gd,ld.years=hd,ld.humanize=function(d){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),b=rb(this,!d,e);return d&&(b=e.pastFuture(+this,b)),e.postformat(b)},ld.toISOString=sb,ld.toString=sb,ld.toJSON=sb,ld.locale=ab,ld.localeData=bb,ld.toIsoString=q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",sb),ld.lang=Mc,K("X",0,0,"unix"),K("x",0,0,"valueOf"),P("x",$b),P("X",bc),T("X",function(d,a,b){b._d=new Date(1e3*parseFloat(d,10))}),T("x",function(d,a,b){b._d=new Date(o(d))}),A.version="2.18.1",function(b){tb=b}(Ka),A.fn=Sc,A.min=function(){var b=[].slice.call(arguments,0);return La("isBefore",b)},A.max=function(){var b=[].slice.call(arguments,0);return La("isAfter",b)},A.now=function(){return Date.now?Date.now():+new Date},A.utc=k,A.unix=function(b){return Ka(1e3*b)},A.months=function(c,a){return ib(c,a,"months")},A.isDate=f,A.locale=ra,A.invalid=e,A.duration=Va,A.isMoment=m,A.weekdays=function(d,a,b){return jb(d,a,b,"weekdays")},A.parseZone=function(){return Ka.apply(null,arguments).parseZone()},A.localeData=ta,A.isDuration=Oa,A.monthsShort=function(c,a){return ib(c,a,"monthsShort")},A.weekdaysMin=function(d,a,b){return jb(d,a,b,"weekdaysMin")},A.defineLocale=sa,A.updateLocale=function(e,a){if(null!=a){var b,c=uc;null!=vc[e]&&(c=vc[e]._config),a=t(c,a),b=new u(a),b.parentLocale=vc[e],vc[e]=b,ra(e)}else null!=vc[e]&&(null==vc[e].parentLocale?null!=vc[e]&&delete vc[e]:vc[e]=vc[e].parentLocale);return vc[e]},A.locales=function(){return Gb(vc)},A.weekdaysShort=function(d,a,b){return jb(d,a,b,"weekdaysShort")},A.normalizeUnits=w,A.relativeTimeRounding=function(b){return void 0===b?id:"function"==typeof b&&(id=b,!0)},A.relativeTimeThreshold=function(c,a){return void 0!==jd[c]&&(void 0===a?jd[c]:(jd[c]=a,"s"===c&&(jd.ss=a-1),!0))},A.calendarFormat=function(d,a){var b=d.diff(a,"days",!0);return-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse"},A.prototype=Sc,A});
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"==typeof window?this:window,function(ee,a){function te(e){var t=e.length,n=Re.type(e);return"function"===n||Re.isWindow(e)?!1:1===e.nodeType&&t||"array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e}function s(e,t,n){if(Re.isFunction(t))return Re.grep(e,function(e,a){return!!t.call(e,a,e)!==n});if(t.nodeType)return Re.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(v.test(t))return Re.filter(t,e,n);t=Re.filter(t,e)}return Re.grep(e,function(e){return 0<=Re.inArray(e,t)!==n})}function x(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function E(e){var t=B[e]={};return Re.each(e.match(D)||[],function(e,n){t[n]=!0}),t}function H(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),ee.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),ee.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(H(),Re.ready())}function K(e,t,n){if(void 0===n&&1===e.nodeType){var a="data-"+t.replace(N,"-$1").toLowerCase();if(n=e.getAttribute(a),"string"==typeof n){try{n=!("true"!==n)||"false"!==n&&("null"===n?null:+n+""===n?+n:L.test(n)?Re.parseJSON(n):n)}catch(t){}Re.data(e,t,n)}else n=void 0}return n}function P(e){for(var t in e)if(("data"!==t||!Re.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function Q(t,n,a,o){if(Re.acceptData(t)){var e,d,s=Re.expando,l=t.nodeType,i=l?Re.cache:t,r=l?t[s]:t[s]&&s;if(r&&i[r]&&(o||i[r].data)||void 0!==a||"string"!=typeof n)return r||(r=l?t[s]=Be.pop()||Re.guid++:s),i[r]||(i[r]=l?{}:{toJSON:Re.noop}),("object"==typeof n||"function"==typeof n)&&(o?i[r]=Re.extend(i[r],n):i[r].data=Re.extend(i[r].data,n)),d=i[r],o||(d.data||(d.data={}),d=d.data),void 0!==a&&(d[Re.camelCase(n)]=a),"string"==typeof n?(e=d[n],null==e&&(e=d[Re.camelCase(n)])):e=d,e}}function R(t,n,a){if(Re.acceptData(t)){var o,d,e=t.nodeType,s=e?Re.cache:t,i=e?t[Re.expando]:Re.expando;if(s[i]){if(n&&(o=a?s[i]:s[i].data)){for(Re.isArray(n)?n=n.concat(Re.map(n,Re.camelCase)):(n in o)?n=[n]:(n=Re.camelCase(n),n=(n in o)?[n]:n.split(" ")),d=n.length;d--;)delete o[n[d]];if(a?!P(o):!Re.isEmptyObject(o))return}(a||(delete s[i].data,P(s[i])))&&(e?Re.cleanData([t],!0):Ie.deleteExpando||s!=s.window?delete s[i]:s[i]=null)}}}function S(){return!0}function ne(){return!1}function ae(){try{return y.activeElement}catch(e){}}function oe(e){var t=Z.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function de(t,n){var a,o,d=0,e=typeof t.getElementsByTagName==M?typeof t.querySelectorAll==M?void 0:t.querySelectorAll(n||"*"):t.getElementsByTagName(n||"*");if(!e)for(e=[],a=t.childNodes||t;null!=(o=a[d]);d++)!n||Re.nodeName(o,n)?e.push(o):Re.merge(e,de(o,n));return void 0===n||n&&Re.nodeName(t,n)?Re.merge([t],e):e}function se(e){W.test(e.type)&&(e.defaultChecked=e.checked)}function ie(e,t){return Re.nodeName(e,"table")&&Re.nodeName(11===t.nodeType?t.firstChild:t,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function le(e){return e.type=(null!==Re.find.attr(e,"type"))+"/"+e.type,e}function re(e){var t=et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function pe(e,t){for(var n,a=0;null!=(n=e[a]);a++)Re._data(n,"globalEval",!t||Re._data(t[a],"globalEval"))}function ce(t,n){if(1===n.nodeType&&Re.hasData(t)){var a,o,d,e=Re._data(t),s=Re._data(n,e),i=e.events;if(i)for(a in delete s.handle,s.events={},i)for(o=0,d=i[a].length;d>o;o++)Re.event.add(n,a,i[a][o]);s.data&&(s.data=Re.extend({},s.data))}}function ue(t,n){var a,o,d;if(1===n.nodeType){if(a=n.nodeName.toLowerCase(),!Ie.noCloneEvent&&n[Re.expando]){for(o in d=Re._data(n),d.events)Re.removeEvent(n,o,d.handle);n.removeAttribute(Re.expando)}"script"===a&&n.text!==t.text?(le(n).text=t.text,re(n)):"object"===a?(n.parentNode&&(n.outerHTML=t.outerHTML),Ie.html5Clone&&t.innerHTML&&!Re.trim(n.innerHTML)&&(n.innerHTML=t.innerHTML)):"input"===a&&W.test(t.type)?(n.defaultChecked=n.checked=t.checked,n.value!==t.value&&(n.value=t.value)):"option"===a?n.defaultSelected=n.selected=t.defaultSelected:("input"==a||"textarea"==a)&&(n.defaultValue=t.defaultValue)}}function he(t,n){var a=Re(n.createElement(t)).appendTo(n.body),o=ee.getDefaultComputedStyle?ee.getDefaultComputedStyle(a[0]).display:Re.css(a[0],"display");return a.detach(),o}function fe(e){var t=y,n=st[e];return n||(n=he(e,t),"none"!==n&&n||(dt=(dt||Re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(dt[0].contentWindow||dt[0].contentDocument).document,t.write(),t.close(),n=he(e,t),dt.detach()),st[e]=n),n}function me(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function ge(t,n){if(n in t)return n;for(var a=n.charAt(0).toUpperCase()+n.slice(1),o=n,d=xt.length;d--;)if(n=xt[d]+a,n in t)return n;return o}function ye(t,n){for(var a,o,d,s=[],i=0,l=t.length;l>i;i++)o=t[i],o.style&&(s[i]=Re._data(o,"olddisplay"),a=o.style.display,n?(s[i]||"none"!==a||(o.style.display=""),""===o.style.display&&U(o)&&(s[i]=Re._data(o,"olddisplay",fe(o.nodeName)))):s[i]||(d=U(o),(a&&"none"!==a||!d)&&Re._data(o,"olddisplay",d?a:Re.css(o,"display"))));for(i=0;l>i;i++)o=t[i],o.style&&(n&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=n?s[i]||"":"none"));return t}function be(e,t,n){var a=mt.exec(t);return a?Me(0,a[1]-(n||0))+(a[2]||"px"):t}function xe(t,n,a,o,d){for(var e=a===(o?"border":"content")?4:"width"===n?1:0,s=0;4>e;e+=2)"margin"===a&&(s+=Re.css(t,a+T[e],!0,d)),o?("content"===a&&(s-=Re.css(t,"padding"+T[e],!0,d)),"margin"!==a&&(s-=Re.css(t,"border"+T[e]+"Width",!0,d))):(s+=Re.css(t,"padding"+T[e],!0,d),"padding"!==a&&(s+=Re.css(t,"border"+T[e]+"Width",!0,d)));return s}function ve(t,n,a){var o=!0,d="width"===n?t.offsetWidth:t.offsetHeight,e=it(t),s=Ie.boxSizing()&&"border-box"===Re.css(t,"boxSizing",!1,e);if(0>=d||null==d){if(d=lt(t,n,e),(0>d||null==d)&&(d=t.style[n]),pt.test(d))return d;o=s&&(Ie.boxSizingReliable()||d===t.style[n]),d=parseFloat(d)||0}return d+xe(t,n,a||(s?"border":"content"),o,e)+"px"}function Te(t,n,a,o,d){return new Te.prototype.init(t,n,a,o,d)}function Ce(){return setTimeout(function(){vt=void 0}),vt=Re.now()}function we(t,n){var o,s={height:t},d=0;for(n=n?1:0;4>d;d+=2-n)o=T[d],s["margin"+o]=s["padding"+o]=t;return n&&(s.opacity=s.width=t),s}function Ne(t,n,a){for(var o,d=(Et[n]||[]).concat(Et["*"]),e=0,s=d.length;s>e;e++)if(o=d[e].call(a,n,t))return o}function ke(t,n){var a,o,d,e,s;for(a in t)if(o=Re.camelCase(a),d=n[o],e=t[a],Re.isArray(e)&&(d=e[1],e=t[a]=e[0]),a!==o&&(t[o]=e,delete t[a]),s=Re.cssHooks[o],s&&"expand"in s)for(a in e=s.expand(e),delete t[o],e)a in t||(t[a]=e[a],n[a]=d);else n[o]=d}function Ee(t,n,o){var s,l,e=0,d=kt.length,r=Re.Deferred().always(function(){delete p.elem}),p=function(){if(l)return!1;for(var e=vt||Ce(),n=Me(0,u.startTime+u.duration-e),a=n/u.duration||0,o=1-a,d=0,s=u.tweens.length;s>d;d++)u.tweens[d].run(o);return r.notifyWith(t,[u,o,n]),1>o&&s?n:(r.resolveWith(t,[u]),!1)},u=r.promise({elem:t,props:Re.extend({},n),opts:Re.extend(!0,{specialEasing:{}},o),originalProperties:n,originalOptions:o,startTime:vt||Ce(),duration:o.duration,tweens:[],createTween:function(e,n){var a=Re.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(a),a},stop:function(e){var n=0,a=e?u.tweens.length:0;if(l)return this;for(l=!0;a>n;n++)u.tweens[n].run(1);return e?r.resolveWith(t,[u,e]):r.rejectWith(t,[u,e]),this}}),i=u.props;for(ke(i,u.opts.specialEasing);d>e;e++)if(s=kt[e].call(u,t,i,u.opts))return s;return Re.map(i,Ne,u),Re.isFunction(u.opts.start)&&u.opts.start.call(t,u),Re.fx.timer(Re.extend(p,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function Se(t){return function(n,a){"string"!=typeof n&&(a=n,n="*");var o,d=0,e=n.toLowerCase().match(D)||[];if(Re.isFunction(a))for(;o=e[d++];)"+"===o.charAt(0)?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(a)):(t[o]=t[o]||[]).push(a)}}function je(t,n,o,s){function d(a){var r;return l[a]=!0,Re.each(t[a]||[],function(t,a){var i=a(n,o,s);return"string"!=typeof i||e||l[i]?e?!(r=i):void 0:(n.dataTypes.unshift(i),d(i),!1)}),r}var l={},e=t===Qt;return d(n.dataTypes[0])||!l["*"]&&d("*")}function De(t,n){var a,o,d=Re.ajaxSettings.flatOptions||{};for(o in n)void 0!==n[o]&&((d[o]?t:a||(a={}))[o]=n[o]);return a&&Re.extend(!0,t,a),t}function Le(t,n,a){for(var o,d,e,s,l=t.contents,r=t.dataTypes;"*"===r[0];)r.shift(),void 0==d&&(d=t.mimeType||n.getResponseHeader("Content-Type"));if(d)for(s in l)if(l[s]&&l[s].test(d)){r.unshift(s);break}if(r[0]in a)e=r[0];else{for(s in a){if(!r[0]||t.converters[s+" "+r[0]]){e=s;break}o||(o=s)}e=e||o}return e?(e!==r[0]&&r.unshift(e),a[e]):void 0}function Ae(t,n,a,o){var d,e,s,l,r,p={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)p[s.toLowerCase()]=t.converters[s];for(e=c.shift();e;)if(t.responseFields[e]&&(a[t.responseFields[e]]=n),!r&&o&&t.dataFilter&&(n=t.dataFilter(n,t.dataType)),r=e,e=c.shift())if("*"===e)e=r;else if("*"!==r&&r!==e){if(s=p[r+" "+e]||p["* "+e],!s)for(d in p)if(l=d.split(" "),l[1]===e&&(s=p[r+" "+l[0]]||p["* "+l[0]])){!0===s?s=p[d]:!0!==p[d]&&(e=l[0],c.unshift(l[1]));break}if(!0!==s)if(s&&t.throws)n=s(n);else try{n=s(n)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+r+" to "+e}}}return{state:"success",data:n}}function He(t,n,a,o){if(Re.isArray(n))Re.each(n,function(n,d){a||Zt.test(t)?o(t,d):He(t+"["+("object"==typeof d?n:"")+"]",d,a,o)});else if(a||"object"!==Re.type(n))o(t,n);else for(var d in n)He(t+"["+d+"]",n[d],a,o)}function qe(){try{return new ee.XMLHttpRequest}catch(e){}}function _e(){try{return new ee.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function Oe(e){return Re.isWindow(e)?e:!(9!==e.nodeType)&&(e.defaultView||e.parentWindow)}var Me=Math.max,Be=[],Fe=Be.slice,Pe=Be.concat,We=Be.push,e=Be.indexOf,d={},c=d.toString,ze=d.hasOwnProperty,i="".trim,Ie={},h="1.11.0",Re=function(e,t){return new Re.fn.init(e,t)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,k=function(e,t){return t.toUpperCase()};Re.fn=Re.prototype={jquery:h,constructor:Re,selector:"",length:0,toArray:function(){return Fe.call(this)},get:function(e){return null==e?Fe.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=Re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Re.each(this,e,t)},map:function(e){return this.pushStack(Re.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Fe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(0<=n&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:We,sort:Be.sort,splice:Be.splice},Re.extend=Re.fn.extend=function(){var t,n,a,o,d,e,s=arguments[0]||{},l=1,r=arguments.length,i=!1;for("boolean"==typeof s&&(i=s,s=arguments[l]||{},l++),"object"==typeof s||Re.isFunction(s)||(s={}),l===r&&(s=this,l--);r>l;l++)if(null!=(d=arguments[l]))for(o in d)t=s[o],a=d[o],s!==a&&(i&&a&&(Re.isPlainObject(a)||(n=Re.isArray(a)))?(n?(n=!1,e=t&&Re.isArray(t)?t:[]):e=t&&Re.isPlainObject(t)?t:{},s[o]=Re.extend(i,e,a)):void 0!==a&&(s[o]=a));return s},Re.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Re.type(e)},isArray:Array.isArray||function(e){return"array"===Re.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return 0<=e-parseFloat(e)},isEmptyObject:function(e){for(var t in e)return!1;return!0},isPlainObject:function(e){if(!e||"object"!==Re.type(e)||e.nodeType||Re.isWindow(e))return!1;try{if(e.constructor&&!ze.call(e,"constructor")&&!ze.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(Ie.ownLast)for(var t in e)return ze.call(e,t);for(t in e);return void 0==t||ze.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[c.call(e)]||"object":typeof e},globalEval:function(e){e&&Re.trim(e)&&(ee.execScript||function(e){ee.eval.call(ee,e)})(e)},camelCase:function(e){return e.replace(o,"ms-").replace(p,k)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(t,n,a){var o,d=0,e=t.length,s=te(t);if(a){if(s)for(;e>d&&(o=n.apply(t[d],a),!1!==o);d++);else for(d in t)if(o=n.apply(t[d],a),!1===o)break;}else if(s)for(;e>d&&(o=n.call(t[d],d,t[d]),!1!==o);d++);else for(d in t)if(o=n.call(t[d],d,t[d]),!1===o)break;return t},trim:!i.call("\uFEFF\xA0")?function(e){return null==e?"":i.call(e)}:function(e){return null==e?"":(e+"").replace(g,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(te(Object(e))?Re.merge(n,"string"==typeof e?[e]:e):We.call(n,e)),n},inArray:function(t,n,a){var o;if(n){if(e)return e.call(n,t,a);for(o=n.length,a=a?0>a?Me(0,o+a):a:0;o>a;a++)if(a in n&&n[a]===t)return a}return-1},merge:function(t,n){for(var a=+n.length,o=0,d=t.length;a>o;)t[d++]=n[o++];if(a!=a)for(;void 0!==n[o];)t[d++]=n[o++];return t.length=d,t},grep:function(t,n,a){for(var o,d=[],e=0,s=t.length;s>e;e++)o=!n(t[e],e),o!==!a&&d.push(t[e]);return d},map:function(e,t,n){var a,o=0,d=e.length,s=te(e),l=[];if(s)for(;d>o;o++)a=t(e[o],o,n),null!=a&&l.push(a);else for(o in e)a=t(e[o],o,n),null!=a&&l.push(a);return Pe.apply([],l)},guid:1,proxy:function(t,n){var a,o,e;return"string"==typeof n&&(e=t[n],n=t,t=e),Re.isFunction(t)?(a=Fe.call(arguments,2),o=function(){return t.apply(n||this,a.concat(Fe.call(arguments)))},o.guid=t.guid=t.guid||Re.guid++,o):void 0},now:function(){return+new Date},support:Ie}),Re.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var r=function(ee){function te(t,n,l,d){var r,f,y,h,i,b,m,p,x,u;if((n?n.ownerDocument||n:s)!==je&&c(n),n=n||je,l=l||[],!t||"string"!=typeof t)return l;if(1!==(h=n.nodeType)&&9!==h)return[];if(De&&!d){if(r=R.exec(t))if(!(y=r[1])){if(r[2])return C.apply(l,n.getElementsByTagName(t)),l;if((y=r[3])&&Ce.getElementsByClassName&&n.getElementsByClassName)return C.apply(l,n.getElementsByClassName(y)),l}else if(9===h){if(f=n.getElementById(y),!f||!f.parentNode)return l;if(f.id===y)return l.push(f),l}else if(n.ownerDocument&&(f=n.ownerDocument.getElementById(y))&&Le(n,f)&&f.id===y)return l.push(f),l;if(Ce.qsa&&(!k||!k.test(t))){if(p=m=Ae,x=n,u=9===h&&t,1===h&&"object"!==n.nodeName.toLowerCase()){for(b=ce(t),(m=n.getAttribute("id"))?p=m.replace($,"\\$&"):n.setAttribute("id",p),p="[id='"+p+"'] ",i=b.length;i--;)b[i]=p+ue(b[i]);x=X.test(t)&&re(n.parentNode)||n,u=b.join(",")}if(u)try{return C.apply(l,x.querySelectorAll(u)),l}catch(e){}finally{m||n.removeAttribute("id")}}}return ve(t.replace(O,"$1"),n,l,d)}function a(){function t(a,o){return n.push(a+" ")>we.cacheLength&&delete t[n.shift()],t[a+" "]=o}var n=[];return t}function ne(e){return e[Ae]=!0,e}function ae(e){var t=je.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function oe(t,n){for(var a=t.split("|"),o=t.length;o--;)we.attrHandle[a[o]]=n}function de(e,t){var n=t&&e,a=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||g)-(~e.sourceIndex||g);if(a)return a;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function se(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ie(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function le(t){return ne(function(n){return n=+n,ne(function(a,o){for(var d,e=t([],a.length,n),s=e.length;s--;)a[d=e[s]]&&(a[d]=!(o[d]=a[d]))})})}function re(e){return e&&typeof e.getElementsByTagName!=f&&e}function pe(){}function ce(t,n){var a,o,d,s,l,p,i,u=r[t+" "];if(u)return n?0:u.slice(0);for(l=t,p=[],i=we.preFilter;l;){for(s in(!a||(o=M.exec(l)))&&(o&&(l=l.slice(o[0].length)||l),p.push(d=[])),a=!1,(o=B.exec(l))&&(a=o.shift(),d.push({value:a,type:o[0].replace(O," ")}),l=l.slice(a.length)),we.filter)(o=P[s].exec(l))&&(!i[s]||(o=i[s](o)))&&(a=o.shift(),d.push({value:a,type:s,matches:o}),l=l.slice(a.length));if(!a)break}return n?l.length:l?te.error(t):r(t,p).slice(0)}function ue(e){for(var t=0,n=e.length,a="";n>t;t++)a+=e[t].value;return a}function he(n,a,o){var s=a.dir,d=o&&"parentNode"===s,e=t++;return a.first?function(e,t,a){for(;e=e[s];)if(1===e.nodeType||d)return n(e,t,a)}:function(t,a,o){var l,r,i=[He,e];if(o){for(;t=t[s];)if((1===t.nodeType||d)&&n(t,a,o))return!0;}else for(;t=t[s];)if(1===t.nodeType||d){if(r=t[Ae]||(t[Ae]={}),(l=r[s])&&l[0]===He&&l[1]===e)return i[2]=l[2];if(r[s]=i,i[2]=n(t,a,o))return!0}}}function fe(t){return 1<t.length?function(n,a,o){for(var d=t.length;d--;)if(!t[d](n,a,o))return!1;return!0}:t[0]}function me(t,n,a,o,d){for(var e,s=[],l=0,r=t.length;r>l;l++)(e=t[l])&&(!a||a(e,o,d))&&(s.push(e),null!=n&&n.push(l));return s}function ge(t,a,s,c,d,e){return c&&!c[Ae]&&(c=ge(c)),d&&!d[Ae]&&(d=ge(d,e)),ne(function(e,u,g,h){var i,y,x,l=[],m=[],n=u.length,o=e||xe(a||"*",g.nodeType?[g]:g,[]),p=t&&(e||!a)?me(o,l,t,g,h):o,v=s?d||(e?t:n||c)?[]:u:p;if(s&&s(p,v,g,h),c)for(i=me(v,m),c(i,[],g,h),y=i.length;y--;)(x=i[y])&&(v[m[y]]=!(p[m[y]]=x));if(!e)v=me(v===u?v.splice(n,v.length):v),d?d(null,u,v,h):C.apply(u,v);else if(d||t){if(d){for(i=[],y=v.length;y--;)(x=v[y])&&i.push(p[y]=x);d(null,v=[],i,h)}for(y=v.length;y--;)(x=v[y])&&-1<(i=d?E.call(e,x):l[y])&&(e[i]=!(u[i]=x))}})}function ye(t){for(var n,a,o,e=t.length,s=we.relative[t[0].type],d=s||we.relative[" "],i=s?1:0,r=he(function(e){return e===n},d,!0),p=he(function(e){return-1<E.call(n,e)},d,!0),l=[function(e,t,a){return!s&&(a||t!==Ee)||((n=t).nodeType?r(e,t,a):p(e,t,a))}];e>i;i++)if(a=we.relative[t[i].type])l=[he(fe(l),a)];else{if(a=we.filter[t[i].type].apply(null,t[i].matches),a[Ae]){for(o=++i;e>o&&!we.relative[t[o].type];o++);return ge(1<i&&fe(l),1<i&&ue(t.slice(0,i-1).concat({value:" "===t[i-2].type?"*":""})).replace(O,"$1"),a,o>i&&ye(t.slice(i,o)),e>o&&ye(t=t.slice(o)),e>o&&ue(t))}l.push(a)}return fe(l)}function be(t,a){var d=0<a.length,l=0<t.length,e=function(e,c,u,i,h){var g,m,n,y=0,p="0",b=e&&[],r=[],s=Ee,T=e||l&&we.find.TAG("*",h),v=He+=null==s?1:Math.random()||.1,w=T.length;for(h&&(Ee=c!==je&&c);p!==w&&null!=(g=T[p]);p++){if(l&&g){for(m=0;n=t[m++];)if(n(g,c,u)){i.push(g);break}h&&(He=v)}d&&((g=!n&&g)&&y--,e&&b.push(g))}if(y+=p,d&&p!==y){for(m=0;n=a[m++];)n(b,r,c,u);if(e){if(0<y)for(;p--;)b[p]||r[p]||(r[p]=x.call(i));r=me(r)}C.apply(i,r),h&&!e&&0<r.length&&1<y+a.length&&te.uniqueSort(i)}return h&&(He=v,Ee=s),b};return d?ne(e):e}function xe(t,n,a){for(var o=0,d=n.length;d>o;o++)te(t,n[o],a);return a}function ve(t,o,d,e){var s,r,i,p,c,l=ce(t);if(!e&&1===l.length){if(r=l[0]=l[0].slice(0),2<r.length&&"ID"===(i=r[0]).type&&Ce.getById&&9===o.nodeType&&De&&we.relative[r[1].type]){if(o=(we.find.ID(i.matches[0].replace(_,U),o)||[])[0],!o)return d;t=t.slice(r.shift().value.length)}for(s=P.needsContext.test(t)?0:r.length;s--&&(i=r[s],!we.relative[p=i.type]);)if((c=we.find[p])&&(e=c(i.matches[0].replace(_,U),X.test(r[0].type)&&re(o.parentNode)||o))){if(r.splice(s,1),t=e.length&&ue(r),!t)return C.apply(d,e),d;break}}return ke(t,l)(e,o,!De,d,X.test(t)&&re(o.parentNode)||o),d}var Te,Ce,we,Ne,d,ke,Ee,Se,i,c,je,l,De,k,h,p,Le,Ae="sizzle"+-new Date,s=ee.document,He=0,t=0,e=a(),r=a(),u=a(),m=function(e,t){return e===t&&(i=!0),0},f="undefined",g=-2147483648,y={}.hasOwnProperty,b=[],x=b.pop,v=b.push,C=b.push,w=b.slice,E=b.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",A="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",L=H.replace("w","w#"),q="\\["+A+"*("+H+")"+A+"*(?:([*^$|!~]?=)"+A+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+L+")|)|)"+A+"*\\]",N=":("+H+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+q.replace(3,8)+")*)|.*)\\)|)",O=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,M=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,B=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,F=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,S=new RegExp(N),T=new RegExp("^"+L+"$"),P={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+N),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},z=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,I=/^[^{]+\{\s*\[native \w/,R=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,$=/'|\\/g,_=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,U=function(e,t,n){var a=String.fromCharCode,o="0x"+t-65536;return o!=o||n?t:0>o?a(o+65536):a(55296|o>>10,56320|1023&o)};try{C.apply(b=w.call(s.childNodes),s.childNodes),b[s.childNodes.length].nodeType}catch(e){C={apply:b.length?function(e,t){v.apply(e,w.call(t))}:function(e,t){for(var n=e.length,a=0;e[n++]=t[a++];);e.length=n-1}}}for(Te in Ce=te.support={},d=te.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},c=te.setDocument=function(t){var n,o=t?t.ownerDocument||t:s,e=o.defaultView;return o!==je&&9===o.nodeType&&o.documentElement?(je=o,l=o.documentElement,De=!d(o),e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",function(){c()},!1):e.attachEvent&&e.attachEvent("onunload",function(){c()})),Ce.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),Ce.getElementsByTagName=ae(function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length}),Ce.getElementsByClassName=I.test(o.getElementsByClassName)&&ae(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),Ce.getById=ae(function(e){return l.appendChild(e).id=Ae,!o.getElementsByName||!o.getElementsByName(Ae).length}),Ce.getById?(we.find.ID=function(e,t){if(typeof t.getElementById!=f&&De){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},we.filter.ID=function(e){var t=e.replace(_,U);return function(e){return e.getAttribute("id")===t}}):(delete we.find.ID,we.filter.ID=function(e){var t=e.replace(_,U);return function(e){var n=typeof e.getAttributeNode!=f&&e.getAttributeNode("id");return n&&n.value===t}}),we.find.TAG=Ce.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName==f?void 0:t.getElementsByTagName(e)}:function(t,n){var a,o=[],d=0,e=n.getElementsByTagName(t);if("*"===t){for(;a=e[d++];)1===a.nodeType&&o.push(a);return o}return e},we.find.CLASS=Ce.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!=f&&De?t.getElementsByClassName(e):void 0},h=[],k=[],(Ce.qsa=I.test(o.querySelectorAll))&&(ae(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&k.push("[*^$]="+A+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||k.push("\\["+A+"*(?:value|"+D+")"),e.querySelectorAll(":checked").length||k.push(":checked")}),ae(function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&k.push("name"+A+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||k.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),k.push(",.*:")})),(Ce.matchesSelector=I.test(p=l.webkitMatchesSelector||l.mozMatchesSelector||l.oMatchesSelector||l.msMatchesSelector))&&ae(function(e){Ce.disconnectedMatch=p.call(e,"div"),p.call(e,"[s!='']:x"),h.push("!=",N)}),k=k.length&&new RegExp(k.join("|")),h=h.length&&new RegExp(h.join("|")),n=I.test(l.compareDocumentPosition),Le=n||I.test(l.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||a&&1===a.nodeType&&(n.contains?n.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},m=n?function(e,t){if(e===t)return i=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!Ce.sortDetached&&t.compareDocumentPosition(e)===n?e===o||e.ownerDocument===s&&Le(s,e)?-1:t===o||t.ownerDocument===s&&Le(s,t)?1:Se?E.call(Se,e)-E.call(Se,t):0:4&n?-1:1)}:function(e,t){if(e===t)return i=!0,0;var n,a=0,d=e.parentNode,l=t.parentNode,r=[e],p=[t];if(!d||!l)return e===o?-1:t===o?1:d?-1:l?1:Se?E.call(Se,e)-E.call(Se,t):0;if(d===l)return de(e,t);for(n=e;n=n.parentNode;)r.unshift(n);for(n=t;n=n.parentNode;)p.unshift(n);for(;r[a]===p[a];)a++;return a?de(r[a],p[a]):r[a]===s?-1:p[a]===s?1:0},o):je},te.matches=function(e,t){return te(e,null,null,t)},te.matchesSelector=function(e,t){if((e.ownerDocument||e)!==je&&c(e),t=t.replace(F,"='$1']"),!(!Ce.matchesSelector||!De||h&&h.test(t)||k&&k.test(t)))try{var a=p.call(e,t);if(a||Ce.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(t){}return 0<te(t,je,null,[e]).length},te.contains=function(e,t){return(e.ownerDocument||e)!==je&&c(e),Le(e,t)},te.attr=function(t,a){(t.ownerDocument||t)!==je&&c(t);var o=we.attrHandle[a.toLowerCase()],e=o&&y.call(we.attrHandle,a.toLowerCase())?o(t,a,!De):void 0;return void 0===e?Ce.attributes||!De?t.getAttribute(a):(e=t.getAttributeNode(a))&&e.specified?e.value:null:e},te.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},te.uniqueSort=function(t){var n,a=[],o=0,e=0;if(i=!Ce.detectDuplicates,Se=!Ce.sortStable&&t.slice(0),t.sort(m),i){for(;n=t[e++];)n===t[e]&&(o=a.push(e));for(;o--;)t.splice(a[o],1)}return Se=null,t},Ne=te.getText=function(e){var t,n="",a=0,o=e.nodeType;if(!o)for(;t=e[a++];)n+=Ne(t);else if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Ne(e)}else if(3===o||4===o)return e.nodeValue;return n},we=te.selectors={cacheLength:50,createPseudo:ne,match:P,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_,U),e[3]=(e[4]||e[5]||"").replace(_,U),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||te.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&te.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return P.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&S.test(n)&&(t=ce(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_,U).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(t){var n=e[t+" "];return n||(n=new RegExp("(^|"+A+")"+t+"("+A+"|$)"))&&e(t,function(e){return n.test("string"==typeof e.className&&e.className||typeof e.getAttribute!=f&&e.getAttribute("class")||"")})},ATTR:function(t,n,a){return function(o){var d=te.attr(o,t);return null==d?"!="===n:!n||(d+="","="===n?d===a:"!="===n?d!==a:"^="===n?a&&0===d.indexOf(a):"*="===n?a&&-1<d.indexOf(a):"$="===n?a&&d.slice(-a.length)===a:"~="===n?-1<(" "+d+" ").indexOf(a):"|="===n&&(d===a||d.slice(0,a.length+1)===a+"-"))}},CHILD:function(s,t,n,a,d){var e="nth"!==s.slice(0,3),u="last"!==s.slice(-4),f="of-type"===t;return 1===a&&0===d?function(e){return!!e.parentNode}:function(g,y,c){var b,x,v,l,m,n,T=e==u?"previousSibling":"nextSibling",p=g.parentNode,C=f&&g.nodeName.toLowerCase(),r=!c&&!f;if(p){if(e){for(;T;){for(v=g;v=v[T];)if(f?v.nodeName.toLowerCase()===C:1===v.nodeType)return!1;n=T="only"===s&&!n&&"nextSibling"}return!0}if(n=[u?p.firstChild:p.lastChild],u&&r){for(x=p[Ae]||(p[Ae]={}),b=x[s]||[],m=b[0]===He&&b[1],l=b[0]===He&&b[2],v=m&&p.childNodes[m];v=++m&&v&&v[T]||(l=m=0)||n.pop();)if(1===v.nodeType&&++l&&v===g){x[s]=[He,m,l];break}}else if(r&&(b=(g[Ae]||(g[Ae]={}))[s])&&b[0]===He)l=b[1];else for(;(v=++m&&v&&v[T]||(l=m=0)||n.pop())&&!((f?v.nodeName.toLowerCase()===C:1===v.nodeType)&&++l&&(r&&((v[Ae]||(v[Ae]={}))[s]=[He,l]),v===g)););return l-=d,l===a||0==l%a&&0<=l/a}}},PSEUDO:function(t,n){var o,s=we.pseudos[t]||we.setFilters[t.toLowerCase()]||te.error("unsupported pseudo: "+t);return s[Ae]?s(n):1<s.length?(o=[t,t,"",n],we.setFilters.hasOwnProperty(t.toLowerCase())?ne(function(e,t){for(var a,o=s(e,n),d=o.length;d--;)a=E.call(e,o[d]),e[a]=!(t[a]=o[d])}):function(e){return s(e,0,o)}):s}},pseudos:{not:ne(function(e){var t=[],n=[],o=ke(e.replace(O,"$1"));return o[Ae]?ne(function(t,n,a,d){for(var e,s=o(t,null,d,[]),i=t.length;i--;)(e=s[i])&&(t[i]=!(n[i]=e))}):function(d,a,e){return t[0]=d,o(t,null,e,n),!n.pop()}}),has:ne(function(e){return function(t){return 0<te(e,t).length}}),contains:ne(function(e){return function(t){return-1<(t.textContent||t.innerText||Ne(t)).indexOf(e)}}),lang:ne(function(e){return T.test(e||"")||te.error("unsupported lang: "+e),e=e.replace(_,U).toLowerCase(),function(t){var n;do if(n=De?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=ee.location&&ee.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===l},focus:function(e){return e===je.activeElement&&(!je.hasFocus||je.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!we.pseudos.empty(e)},header:function(e){return W.test(e.nodeName)},input:function(e){return z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:le(function(){return[0]}),last:le(function(e,t){return[t-1]}),eq:le(function(e,t,n){return[0>n?n+t:n]}),even:le(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:le(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:le(function(e,t,n){for(var a=0>n?n+t:n;0<=--a;)e.push(a);return e}),gt:le(function(e,t,n){for(var a=0>n?n+t:n;++a<t;)e.push(a);return e})}},we.pseudos.nth=we.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})we.pseudos[Te]=se(Te);for(Te in{submit:!0,reset:!0})we.pseudos[Te]=ie(Te);return pe.prototype=we.filters=we.pseudos,we.setFilters=new pe,ke=te.compile=function(t,n){var a,o=[],d=[],e=u[t+" "];if(!e){for(n||(n=ce(t)),a=n.length;a--;)e=ye(n[a]),e[Ae]?o.push(e):d.push(e);e=u(t,be(d,o))}return e},(Ce.sortStable=Ae.split("").sort(m).join("")===Ae,Ce.detectDuplicates=!!i,c(),Ce.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(je.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||oe("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),Ce.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||oe("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||oe(D,function(e,t,n){var a;return n?void 0:!0===e[t]?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null}),te)}(ee);Re.find=r,Re.expr=r.selectors,Re.expr[":"]=Re.expr.pseudos,Re.unique=r.uniqueSort,Re.text=r.getText,Re.isXMLDoc=r.isXML,Re.contains=r.contains;var t=Re.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;Re.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?Re.find.matchesSelector(a,e)?[a]:[]:Re.find.matches(e,Re.grep(t,function(e){return 1===e.nodeType}))},Re.fn.extend({find:function(t){var n,o=[],s=this,d=s.length;if("string"!=typeof t)return this.pushStack(Re(t).filter(function(){for(n=0;d>n;n++)if(Re.contains(s[n],this))return!0}));for(n=0;d>n;n++)Re.find(t,s[n],o);return o=this.pushStack(1<d?Re.unique(o):o),o.selector=this.selector?this.selector+" "+t:t,o},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&t.test(e)?Re(e):e||[],!1).length}});var w,y=ee.document,j=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=Re.fn.init=function(e,t){var n,o;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:j.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||w).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Re?t[0]:t,Re.merge(this,Re.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),u.test(n[1])&&Re.isPlainObject(t))for(n in t)Re.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(o=y.getElementById(n[2]),o&&o.parentNode){if(o.id!==n[2])return w.find(e);this.length=1,this[0]=o}return this.context=y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Re.isFunction(e)?"undefined"==typeof w.ready?e(Re):w.ready(e):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Re.makeArray(e,this))};A.prototype=Re.fn,w=Re(y);var q=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};Re.extend({dir:function(t,n,a){for(var o=[],d=t[n];d&&9!==d.nodeType&&(void 0===a||1!==d.nodeType||!Re(d).is(a));)1===d.nodeType&&o.push(d),d=d[n];return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Re.fn.extend({has:function(e){var t,n=Re(e,this),a=n.length;return this.filter(function(){for(t=0;a>t;t++)if(Re.contains(this,n[t]))return!0})},closest:function(n,o){for(var s,i=0,d=this.length,e=[],l=t.test(n)||"string"!=typeof n?Re(n,o||this.context):0;d>i;i++)for(s=this[i];s&&s!==o;s=s.parentNode)if(11>s.nodeType&&(l?-1<l.index(s):1===s.nodeType&&Re.find.matchesSelector(s,n))){e.push(s);break}return this.pushStack(1<e.length?Re.unique(e):e)},index:function(e){return e?"string"==typeof e?Re.inArray(this[0],Re(e)):Re.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Re.unique(Re.merge(this.get(),Re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Re.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Re.dir(e,"parentNode",n)},next:function(e){return x(e,"nextSibling")},prev:function(e){return x(e,"previousSibling")},nextAll:function(e){return Re.dir(e,"nextSibling")},prevAll:function(e){return Re.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Re.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Re.dir(e,"previousSibling",n)},siblings:function(e){return Re.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Re.sibling(e.firstChild)},contents:function(e){return Re.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Re.merge([],e.childNodes)}},function(t,n){Re.fn[t]=function(a,o){var s=Re.map(this,n,a);return"Until"!==t.slice(-5)&&(o=a),o&&"string"==typeof o&&(s=Re.filter(o,s)),1<this.length&&(C[t]||(s=Re.unique(s)),q.test(t)&&(s=s.reverse())),this.pushStack(s)}});var D=/\S+/g,B={};Re.Callbacks=function(t){t="string"==typeof t?B[t]||E(t):Re.extend({},t);var n,o,s,r,e,p,u=[],f=!t.once&&[],m=function(a){for(o=t.memory&&a,s=!0,e=p||0,p=0,r=u.length,n=!0;u&&r>e;e++)if(!1===u[e].apply(a[0],a[1])&&t.stopOnFalse){o=!1;break}n=!1,u&&(f?f.length&&m(f.shift()):o?u=[]:g.disable())},g={add:function(){if(u){var e=u.length;!function e(n){Re.each(n,function(n,a){var o=Re.type(a);"function"===o?t.unique&&g.has(a)||u.push(a):a&&a.length&&"string"!==o&&e(a)})}(arguments),n?r=u.length:o&&(p=e,m(o))}return this},remove:function(){return u&&Re.each(arguments,function(t,a){for(var o;-1<(o=Re.inArray(a,u,o));)u.splice(o,1),n&&(r>=o&&r--,e>=o&&e--)}),this},has:function(e){return e?-1<Re.inArray(e,u):u&&u.length},empty:function(){return u=[],r=0,this},disable:function(){return u=f=o=void 0,this},disabled:function(){return!u},lock:function(){return f=void 0,o||g.disable(),this},locked:function(){return!f},fireWith:function(e,t){return!u||s&&!f||(t=t||[],t=[e,t.slice?t.slice():t],n?f.push(t):m(t)),this},fire:function(){return g.fireWith(this,arguments),this},fired:function(){return!!s}};return g},Re.extend({Deferred:function(t){var n=[["resolve","done",Re.Callbacks("once memory"),"resolved"],["reject","fail",Re.Callbacks("once memory"),"rejected"],["notify","progress",Re.Callbacks("memory")]],a="pending",o={state:function(){return a},always:function(){return d.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Re.Deferred(function(t){Re.each(n,function(n,s){var i=Re.isFunction(e[n])&&e[n];d[s[1]](function(){var e=i&&i.apply(this,arguments);e&&Re.isFunction(e.promise)?e.promise().done(t.resolve).fail(t.reject).progress(t.notify):t[s[0]+"With"](this===o?t.promise():this,i?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null==e?o:Re.extend(e,o)}},d={};return o.pipe=o.then,Re.each(n,function(e,t){var s=t[2],i=t[3];o[t[1]]=s.add,i&&s.add(function(){a=i},n[1^e][2].disable,n[2][2].lock),d[t[0]]=function(){return d[t[0]+"With"](this===d?o:this,arguments),this},d[t[0]+"With"]=s.fireWith}),o.promise(d),t&&t.call(d,d),d},when:function(t){var n,a,o,d=0,s=Fe.call(arguments),i=s.length,l=1!==i||t&&Re.isFunction(t.promise)?i:0,r=1===l?t:Re.Deferred(),e=function(t,a,o){return function(d){a[t]=this,o[t]=1<arguments.length?Fe.call(arguments):d,o===n?r.notifyWith(a,o):--l||r.resolveWith(a,o)}};if(1<i)for(n=Array(i),a=Array(i),o=Array(i);i>d;d++)s[d]&&Re.isFunction(s[d].promise)?s[d].promise().done(e(d,o,s)).fail(r.reject).progress(e(d,a,n)):--l;return l||r.resolveWith(o,s),r.promise()}});var F;Re.fn.ready=function(e){return Re.ready.promise().done(e),this},Re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Re.readyWait++:Re.ready(!0)},ready:function(e){if(!0===e?! --Re.readyWait:!Re.isReady){if(!y.body)return setTimeout(Re.ready);Re.isReady=!0,!0!==e&&0<--Re.readyWait||(F.resolveWith(y,[Re]),Re.fn.trigger&&Re(y).trigger("ready").off("ready"))}}}),Re.ready.promise=function(e){if(!F)if(F=Re.Deferred(),"complete"===y.readyState)setTimeout(Re.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),ee.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),ee.attachEvent("onload",J);var t=!1;try{t=null==ee.frameElement&&y.documentElement}catch(e){}t&&t.doScroll&&!function n(){if(!Re.isReady){try{t.doScroll("left")}catch(e){return setTimeout(n,50)}H(),Re.ready()}}()}return F.promise(e)};var z,M="undefined";for(z in Re(Ie))break;Ie.ownLast="0"!==z,Ie.inlineBlockNeedsLayout=!1,Re(function(){var e,t,n=y.getElementsByTagName("body")[0];n&&(e=y.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=y.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!=M&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(Ie.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=y.createElement("div");if(null==Ie.deleteExpando){Ie.deleteExpando=!0;try{delete e.test}catch(e){Ie.deleteExpando=!1}}e=null}(),Re.acceptData=function(e){var t=Re.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!=n&&9!=n?!1:!t||!0!==t&&e.getAttribute("classid")===t};var L=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;Re.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?Re.cache[e[Re.expando]]:e[Re.expando],!!e&&!P(e)},data:function(e,t,n){return Q(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return Q(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)}}),Re.fn.extend({data:function(t,n){var o,s,d,e=this[0],i=e&&e.attributes;if(void 0===t){if(this.length&&(d=Re.data(e),1===e.nodeType&&!Re._data(e,"parsedAttrs"))){for(o=i.length;o--;)s=i[o].name,0===s.indexOf("data-")&&(s=Re.camelCase(s.slice(5)),K(e,s,d[s]));Re._data(e,"parsedAttrs",!0)}return d}return"object"==typeof t?this.each(function(){Re.data(this,t)}):1<arguments.length?this.each(function(){Re.data(this,t,n)}):e?K(e,t,Re.data(e,t)):void 0},removeData:function(e){return this.each(function(){Re.removeData(this,e)})}}),Re.extend({queue:function(e,t,n){var a;return e?(t=(t||"fx")+"queue",a=Re._data(e,t),n&&(!a||Re.isArray(n)?a=Re._data(e,t,Re.makeArray(n)):a.push(n)),a||[]):void 0},dequeue:function(t,n){n=n||"fx";var a=Re.queue(t,n),o=a.length,s=a.shift(),e=Re._queueHooks(t,n);"inprogress"===s&&(s=a.shift(),o--),s&&("fx"===n&&a.unshift("inprogress"),delete e.stop,s.call(t,function(){Re.dequeue(t,n)},e)),!o&&e&&e.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Re._data(e,n)||Re._data(e,n,{empty:Re.Callbacks("once memory").add(function(){Re._removeData(e,t+"queue"),Re._removeData(e,n)})})}}),Re.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Re.queue(this[0],e):void 0===t?this:this.each(function(){var n=Re.queue(this,e,t);Re._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(t,n){var o,s=1,d=Re.Deferred(),e=this,i=this.length,l=function(){--s||d.resolveWith(e,[e])};for("string"!=typeof t&&(n=t,t=void 0),t=t||"fx";i--;)o=Re._data(e[i],t+"queueHooks"),o&&o.empty&&(s++,o.empty.add(l));return l(),d.promise(n)}});var O=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(e,t){return e=t||e,"none"===Re.css(e,"display")||!Re.contains(e.ownerDocument,e)},V=Re.access=function(t,n,a,o,d,e,s){var l=0,r=t.length,i=null==a;if("object"===Re.type(a))for(l in d=!0,a)Re.access(t,n,l,a[l],!0,e,s);else if(void 0!==o&&(d=!0,Re.isFunction(o)||(s=!0),i&&(s?(n.call(t,o),n=null):(i=n,n=function(e,t,n){return i.call(Re(e),n)})),n))for(;r>l;l++)n(t[l],a,s?o:o.call(t[l],l,n(t[l],a)));return d?t:i?n.call(t):r?n(t[0],a):e},W=/^(?:checkbox|radio)$/i;!function(){var e=y.createDocumentFragment(),t=y.createElement("div"),n=y.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",Ie.leadingWhitespace=3===t.firstChild.nodeType,Ie.tbody=!t.getElementsByTagName("tbody").length,Ie.htmlSerialize=!!t.getElementsByTagName("link").length,Ie.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),Ie.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",Ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",Ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,Ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){Ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==Ie.deleteExpando){Ie.deleteExpando=!0;try{delete t.test}catch(e){Ie.deleteExpando=!1}}e=t=n=null}(),function(){var e,t,n=y.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(Ie[e+"Bubbles"]=t in ee)||(n.setAttribute(t,"t"),Ie[e+"Bubbles"]=!1===n.attributes[t].expando);n=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,G=/^(?:mouse|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;Re.event={global:{},add:function(t,a,s,u,y){var b,f,g,h,i,x,v,l,m,T,p,C=Re._data(t);if(C){for(s.handler&&(h=s,s=h.handler,y=h.selector),s.guid||(s.guid=Re.guid++),(f=C.events)||(f=C.events={}),(x=C.handle)||(x=C.handle=function(e){return typeof Re==M||e&&Re.event.triggered===e.type?void 0:Re.event.dispatch.apply(x.elem,arguments)},x.elem=t),a=(a||"").match(D)||[""],g=a.length;g--;)b=_.exec(a[g])||[],m=p=b[1],T=(b[2]||"").split(".").sort(),m&&(i=Re.event.special[m]||{},m=(y?i.delegateType:i.bindType)||m,i=Re.event.special[m]||{},v=Re.extend({type:m,origType:p,data:u,handler:s,guid:s.guid,selector:y,needsContext:y&&Re.expr.match.needsContext.test(y),namespace:T.join(".")},h),(l=f[m])||(l=f[m]=[],l.delegateCount=0,i.setup&&!1!==i.setup.call(t,u,T,x)||(t.addEventListener?t.addEventListener(m,x,!1):t.attachEvent&&t.attachEvent("on"+m,x))),i.add&&(i.add.call(t,v),v.handler.guid||(v.handler.guid=s.guid)),y?l.splice(l.delegateCount++,0,v):l.push(v),Re.event.global[m]=!0);t=null}},remove:function(t,n,a,s,d){var c,u,f,h,i,g,y,l,m,o,p,b=Re.hasData(t)&&Re._data(t);if(b&&(g=b.events)){for(n=(n||"").match(D)||[""],i=n.length;i--;)if(f=_.exec(n[i])||[],m=p=f[1],o=(f[2]||"").split(".").sort(),m){for(y=Re.event.special[m]||{},m=(s?y.delegateType:y.bindType)||m,l=g[m]||[],f=f[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),h=c=l.length;c--;)u=l[c],!d&&p!==u.origType||a&&a.guid!==u.guid||f&&!f.test(u.namespace)||s&&s!==u.selector&&("**"!==s||!u.selector)||(l.splice(c,1),u.selector&&l.delegateCount--,y.remove&&y.remove.call(t,u));h&&!l.length&&(y.teardown&&!1!==y.teardown.call(t,o,b.handle)||Re.removeEvent(t,m,b.handle),delete g[m])}else for(m in g)Re.event.remove(t,m+n[i],a,s,!0);Re.isEmptyObject(g)&&(delete b.handle,Re._removeData(t,"events"))}},trigger:function(t,n,a,d){var s,r,c,u,i,h,l,f=[a||y],o=ze.call(t,"type")?t.type:t,p=ze.call(t,"namespace")?t.namespace.split("."):[];if(c=h=a=a||y,3!==a.nodeType&&8!==a.nodeType&&!$.test(o+Re.event.triggered)&&(0<=o.indexOf(".")&&(p=o.split("."),o=p.shift(),p.sort()),r=0>o.indexOf(":")&&"on"+o,t=t[Re.expando]?t:new Re.Event(o,"object"==typeof t&&t),t.isTrigger=d?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),n=null==n?[t]:Re.makeArray(n,[t]),i=Re.event.special[o]||{},d||!i.trigger||!1!==i.trigger.apply(a,n))){if(!d&&!i.noBubble&&!Re.isWindow(a)){for(u=i.delegateType||o,$.test(u+o)||(c=c.parentNode);c;c=c.parentNode)f.push(c),h=c;h===(a.ownerDocument||y)&&f.push(h.defaultView||h.parentWindow||ee)}for(l=0;(c=f[l++])&&!t.isPropagationStopped();)t.type=1<l?u:i.bindType||o,s=(Re._data(c,"events")||{})[t.type]&&Re._data(c,"handle"),s&&s.apply(c,n),s=r&&c[r],s&&s.apply&&Re.acceptData(c)&&(t.result=s.apply(c,n),!1===t.result&&t.preventDefault());if(t.type=o,!d&&!t.isDefaultPrevented()&&(!i._default||!1===i._default.apply(f.pop(),n))&&Re.acceptData(a)&&r&&a[o]&&!Re.isWindow(a)){h=a[r],h&&(a[r]=null),Re.event.triggered=o;try{a[o]()}catch(e){}Re.event.triggered=void 0,h&&(a[r]=h)}return t.result}},dispatch:function(t){t=Re.event.fix(t);var n,a,o,e,d,s=[],l=Fe.call(arguments),i=(Re._data(this,"events")||{})[t.type]||[],r=Re.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!r.preDispatch||!1!==r.preDispatch.call(this,t)){for(s=Re.event.handlers.call(this,t,i),n=0;(e=s[n++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,d=0;(o=e.handlers[d++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,a=((Re.event.special[o.origType]||{}).handle||o.handler).apply(e.elem,l),void 0!==a&&!1===(t.result=a)&&(t.preventDefault(),t.stopPropagation()));return r.postDispatch&&r.postDispatch.call(this,t),t.result}},handlers:function(t,n){var a,o,d,s,l=[],r=n.delegateCount,p=t.target;if(r&&p.nodeType&&(!t.button||"click"!==t.type))for(;p!=this;p=p.parentNode||this)if(1===p.nodeType&&(!0!==p.disabled||"click"!==t.type)){for(d=[],s=0;r>s;s++)o=n[s],a=o.selector+" ",void 0===d[a]&&(d[a]=o.needsContext?0<=Re(a,this).index(p):Re.find(a,this,null,[p]).length),d[a]&&d.push(o);d.length&&l.push({elem:p,handlers:d})}return r<n.length&&l.push({elem:this,handlers:n.slice(r)}),l},fix:function(t){if(t[Re.expando])return t;var n,a,o,d=t.type,e=t,s=this.fixHooks[d];for(s||(this.fixHooks[d]=s=G.test(d)?this.mouseHooks:Y.test(d)?this.keyHooks:{}),o=s.props?this.props.concat(s.props):this.props,t=new Re.Event(e),n=o.length;n--;)a=o[n],t[a]=e[a];return t.target||(t.target=e.srcElement||y),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,e):t},props:["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","view","which"],fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(e,t){return null==e.which&&(e.which=null==t.charCode?t.keyCode:t.charCode),e}},mouseHooks:{props:["button","buttons","clientX","clientY","fromElement","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"],filter:function(t,n){var a,o,d,e=n.button,s=n.fromElement;return null==t.pageX&&null!=n.clientX&&(o=t.target.ownerDocument||y,d=o.documentElement,a=o.body,t.pageX=n.clientX+(d&&d.scrollLeft||a&&a.scrollLeft||0)-(d&&d.clientLeft||a&&a.clientLeft||0),t.pageY=n.clientY+(d&&d.scrollTop||a&&a.scrollTop||0)-(d&&d.clientTop||a&&a.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?n.toElement:s),t.which||void 0===e||(t.which=1&e?1:2&e?3:4&e?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ae()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===ae()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return Re.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return Re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(t,n,o,s){var d=Re.extend(new Re.Event,o,{type:t,isSimulated:!0,originalEvent:{}});s?Re.event.trigger(d,null,n):Re.event.dispatch.call(n,d),d.isDefaultPrevented()&&o.preventDefault()}},Re.removeEvent=y.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var a="on"+t;e.detachEvent&&(typeof e[a]==M&&(e[a]=null),e.detachEvent(a,n))},Re.Event=function(e,t){return this instanceof Re.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault())?S:ne):this.type=e,t&&Re.extend(this,t),this.timeStamp=e&&e.timeStamp||Re.now(),void(this[Re.expando]=!0)):new Re.Event(e,t)},Re.Event.prototype={isDefaultPrevented:ne,isPropagationStopped:ne,isImmediatePropagationStopped:ne,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=S,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=S,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=S,this.stopPropagation()}},Re.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Re.event.special[e]={delegateType:t,bindType:t,handle:function(n){var a,o=this,d=n.relatedTarget,s=n.handleObj;return(!d||d!==o&&!Re.contains(o,d))&&(n.type=s.origType,a=s.handler.apply(this,arguments),n.type=t),a}}}),Ie.submitBubbles||(Re.event.special.submit={setup:function(){return!Re.nodeName(this,"form")&&void Re.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=Re.nodeName(t,"input")||Re.nodeName(t,"button")?t.form:void 0;n&&!Re._data(n,"submitBubbles")&&(Re.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),Re._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Re.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!Re.nodeName(this,"form")&&void Re.event.remove(this,"._submit")}}),Ie.changeBubbles||(Re.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Re.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Re.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Re.event.simulate("change",this,e,!0)})),!1):void Re.event.add(this,"beforeactivate._change",function(e){var t=e.target;X.test(t.nodeName)&&!Re._data(t,"changeBubbles")&&(Re.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Re.event.simulate("change",this.parentNode,e,!0)}),Re._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Re.event.remove(this,"._change"),!X.test(this.nodeName)}}),Ie.focusinBubbles||Re.each({focus:"focusin",blur:"focusout"},function(t,n){var a=function(e){Re.event.simulate(n,e.target,Re.event.fix(e),!0)};Re.event.special[n]={setup:function(){var o=this.ownerDocument||this,d=Re._data(o,n);d||o.addEventListener(t,a,!0),Re._data(o,n,(d||0)+1)},teardown:function(){var o=this.ownerDocument||this,d=Re._data(o,n)-1;d?Re._data(o,n,d):(o.removeEventListener(t,a,!0),Re._removeData(o,n))}}}),Re.fn.extend({on:function(t,n,o,s,i){var e,l;if("object"==typeof t){for(e in"string"!=typeof n&&(o=o||n,n=void 0),t)this.on(e,n,o,t[e],i);return this}if(null==o&&null==s?(s=n,o=n=void 0):null==s&&("string"==typeof n?(s=o,o=void 0):(s=o,o=n,n=void 0)),!1===s)s=ne;else if(!s)return this;return 1===i&&(l=s,s=function(e){return Re().off(e),l.apply(this,arguments)},s.guid=l.guid||(l.guid=Re.guid++)),this.each(function(){Re.event.add(this,t,s,o,n)})},one:function(e,t,n,a){return this.on(e,t,n,a,1)},off:function(t,n,o){var s,d;if(t&&t.preventDefault&&t.handleObj)return s=t.handleObj,Re(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof t){for(d in t)this.off(d,n,t[d]);return this}return(!1===n||"function"==typeof n)&&(o=n,n=void 0),!1===o&&(o=ne),this.each(function(){Re.event.remove(this,t,o,n)})},trigger:function(e,t){return this.each(function(){Re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Re.event.trigger(e,t,n,!0):void 0}});var Z="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Xe=/ jQuery\d+="(?:null|\d+)"/g,$e=/<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\s\/>]/i,Ve=/^\s+/,Ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Je=/<([\w:]+)/,Ye=/<tbody/i,Qe=/<|&#?\w+;/,Ge=/<(?:script|style|link)/i,Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Ze=/^$|\/(?:java|ecma)script/i,et=/^true\/(.*)/,tt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:Ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},at=oe(y),ot=at.appendChild(y.createElement("div"));nt.optgroup=nt.option,nt.tbody=nt.tfoot=nt.colgroup=nt.caption=nt.thead,nt.th=nt.td,Re.extend({clone:function(t,n,a){var o,d,e,s,l,r=Re.contains(t.ownerDocument,t);if(Ie.html5Clone||Re.isXMLDoc(t)||!$e.test("<"+t.nodeName+">")?e=t.cloneNode(!0):(ot.innerHTML=t.outerHTML,ot.removeChild(e=ot.firstChild)),!(Ie.noCloneEvent&&Ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Re.isXMLDoc(t)))for(o=de(e),l=de(t),s=0;null!=(d=l[s]);++s)o[s]&&ue(d,o[s]);if(n)if(a)for(l=l||de(t),o=o||de(e),s=0;null!=(d=l[s]);s++)ce(d,o[s]);else ce(t,e);return o=de(e,"script"),0<o.length&&pe(o,!r&&de(t,"script")),o=l=d=null,e},buildFragment:function(t,n,a,s){for(var l,e,r,c,u,i,h,f=t.length,m=oe(n),o=[],p=0;f>p;p++)if(e=t[p],e||0===e)if("object"===Re.type(e))Re.merge(o,e.nodeType?[e]:e);else if(Qe.test(e)){for(c=c||m.appendChild(n.createElement("div")),u=(Je.exec(e)||["",""])[1].toLowerCase(),h=nt[u]||nt._default,c.innerHTML=h[1]+e.replace(Ue,"<$1></$2>")+h[2],l=h[0];l--;)c=c.lastChild;if(!Ie.leadingWhitespace&&Ve.test(e)&&o.push(n.createTextNode(Ve.exec(e)[0])),!Ie.tbody)for(e="table"!==u||Ye.test(e)?"<table>"!==h[1]||Ye.test(e)?0:c:c.firstChild,l=e&&e.childNodes.length;l--;)Re.nodeName(i=e.childNodes[l],"tbody")&&!i.childNodes.length&&e.removeChild(i);for(Re.merge(o,c.childNodes),c.textContent="";c.firstChild;)c.removeChild(c.firstChild);c=m.lastChild}else o.push(n.createTextNode(e));for(c&&m.removeChild(c),Ie.appendChecked||Re.grep(de(o,"input"),se),p=0;e=o[p++];)if((!s||-1===Re.inArray(e,s))&&(r=Re.contains(e.ownerDocument,e),c=de(m.appendChild(e),"script"),r&&pe(c),a))for(l=0;e=c[l++];)Ze.test(e.type||"")&&a.push(e);return c=null,m},cleanData:function(t,n){for(var a,o,e,d,s=0,l=Re.expando,i=Re.cache,r=Ie.deleteExpando,p=Re.event.special;null!=(a=t[s]);s++)if((n||Re.acceptData(a))&&(e=a[l],d=e&&i[e])){if(d.events)for(o in d.events)p[o]?Re.event.remove(a,o):Re.removeEvent(a,o,d.handle);i[e]&&(delete i[e],r?delete a[l]:typeof a.removeAttribute==M?a[l]=null:a.removeAttribute(l),Be.push(e))}}}),Re.fn.extend({text:function(e){return V(this,function(e){return void 0===e?Re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ie(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ie(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(t,n){for(var a,o=t?Re.filter(t,this):this,d=0;null!=(a=o[d]);d++)n||1!==a.nodeType||Re.cleanData(de(a)),a.parentNode&&(n&&Re.contains(a.ownerDocument,a)&&pe(de(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&Re.cleanData(de(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&Re.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Re.clone(this,e,t)})},html:function(e){return V(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Xe,""):void 0;if(!("string"!=typeof e||Ge.test(e)||!Ie.htmlSerialize&&$e.test(e)||!Ie.leadingWhitespace&&Ve.test(e)||nt[(Je.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ue,"<$1></$2>");try{for(;o>n;n++)t=this[n]||{},1===t.nodeType&&(Re.cleanData(de(t,!1)),t.innerHTML=e);t=0}catch(t){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Re.cleanData(de(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Pe.apply([],e);var n,a,o,d,s,l,i=0,r=this.length,u=this,h=e[0],f=Re.isFunction(h);if(f||1<r&&"string"==typeof h&&!Ie.checkClone&&Ke.test(h))return this.each(function(n){var a=u.eq(n);f&&(e[0]=h.call(this,n,a.html())),a.domManip(e,t)});if(r&&(l=Re.buildFragment(e,this[0].ownerDocument,!1,this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(d=Re.map(de(l,"script"),le),o=d.length;r>i;i++)a=l,i!=r-1&&(a=Re.clone(a,!0,!0),o&&Re.merge(d,de(a,"script"))),t.call(this[i],a,i);if(o)for(s=d[d.length-1].ownerDocument,Re.map(d,re),i=0;o>i;i++)a=d[i],Ze.test(a.type||"")&&!Re._data(a,"globalEval")&&Re.contains(s,a)&&(a.src?Re._evalUrl&&Re._evalUrl(a.src):Re.globalEval((a.text||a.textContent||a.innerHTML||"").replace(tt,"")));l=n=null}return this}}),Re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Re.fn[e]=function(n){for(var a,o=0,d=[],e=Re(n),s=e.length-1;s>=o;o++)a=o===s?this:this.clone(!0),Re(e[o])[t](a),We.apply(d,a.get());return this.pushStack(d)}});var dt,st={};!function(){var e,t,n=y.createElement("div");n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",Ie.opacity=/^0.5/.test(e.style.opacity),Ie.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",Ie.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,Ie.shrinkWrapBlocks=function(){var n,o,d,e;if(null==t){if(n=y.getElementsByTagName("body")[0],!n)return;e="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",o=y.createElement("div"),d=y.createElement("div"),n.appendChild(o).appendChild(d),t=!1,typeof d.style.zoom!=M&&(d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0"+";width:1px;padding:1px;zoom:1",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t=3!==d.offsetWidth),n.removeChild(o),n=o=d=null}return t}}();var it,lt,rt=/^margin/,pt=new RegExp("^("+O+")(?!px)[a-z%]+$","i"),ct=/^(top|right|bottom|left)$/;ee.getComputedStyle?(it=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},lt=function(t,n,a){var o,d,e,s,i=t.style;return a=a||it(t),s=a?a.getPropertyValue(n)||a[n]:void 0,a&&(""!==s||Re.contains(t.ownerDocument,t)||(s=Re.style(t,n)),pt.test(s)&&rt.test(n)&&(o=i.width,d=i.minWidth,e=i.maxWidth,i.minWidth=i.maxWidth=i.width=s,s=a.width,i.width=o,i.minWidth=d,i.maxWidth=e)),void 0===s?s:s+""}):y.documentElement.currentStyle&&(it=function(e){return e.currentStyle},lt=function(t,n,a){var o,d,e,s,i=t.style;return a=a||it(t),s=a?a[n]:void 0,null==s&&i&&i[n]&&(s=i[n]),pt.test(s)&&!ct.test(n)&&(o=i.left,d=t.runtimeStyle,e=d&&d.left,e&&(d.left=t.currentStyle.left),i.left="fontSize"===n?"1em":s,s=i.pixelLeft+"px",i.left=o,e&&(d.left=e)),void 0===s?s:s+""||"auto"}),!function(){function t(){var t,n,o=y.getElementsByTagName("body")[0];o&&(t=y.createElement("div"),n=y.createElement("div"),t.style.cssText=r,o.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",Re.swap(o,null==o.style.zoom?{}:{zoom:1},function(){a=4===n.offsetWidth}),d=!0,e=!1,s=!0,ee.getComputedStyle&&(e="1%"!==(ee.getComputedStyle(n,null)||{}).top,d="4px"===(ee.getComputedStyle(n,null)||{width:"4px"}).width),o.removeChild(t),n=o=null)}var n,o,a,d,e,s,l=y.createElement("div"),r="border:0;width:0;height:0;position:absolute;top:0;left:-9999px";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=l.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",Ie.opacity=/^0.5/.test(n.style.opacity),Ie.cssFloat=!!n.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",Ie.clearCloneStyle="content-box"===l.style.backgroundClip,n=l=null,Re.extend(Ie,{reliableHiddenOffsets:function(){if(null!=o)return o;var t,n,a,d=y.createElement("div"),e=y.getElementsByTagName("body")[0];if(e)return d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=y.createElement("div"),t.style.cssText=r,e.appendChild(t).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",n=d.getElementsByTagName("td"),n[0].style.cssText="padding:0;margin:0;border:0;display:none",a=0===n[0].offsetHeight,n[0].style.display="",n[1].style.display="none",o=a&&0===n[0].offsetHeight,e.removeChild(t),d=e=null,o},boxSizing:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==d&&t(),d},pixelPosition:function(){return null==e&&t(),e},reliableMarginRight:function(){var t,n,a,o;if(null==s&&ee.getComputedStyle){if(t=y.getElementsByTagName("body")[0],!t)return;n=y.createElement("div"),a=y.createElement("div"),n.style.cssText=r,t.appendChild(n).appendChild(a),o=a.appendChild(y.createElement("div")),o.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0",o.style.marginRight=o.style.width="0",a.style.width="1px",s=!parseFloat((ee.getComputedStyle(o,null)||{}).marginRight),t.removeChild(n)}return s}})}(),Re.swap=function(t,n,a,o){var d,e,s={};for(e in n)s[e]=t.style[e],t.style[e]=n[e];for(e in d=a.apply(t,o||[]),n)t.style[e]=s[e];return d};var ut=/alpha\([^)]*\)/i,ht=/opacity\s*=\s*([^)]*)/,ft=/^(none|table(?!-c[ea]).+)/,mt=new RegExp("^("+O+")(.*)$","i"),gt=new RegExp("^([+-])=("+O+")","i"),yt={position:"absolute",visibility:"hidden",display:"block"},bt={letterSpacing:0,fontWeight:400},xt=["Webkit","O","Moz","ms"];Re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=lt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:Ie.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,a,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var d,e,s,l=Re.camelCase(n),r=t.style;if(n=Re.cssProps[l]||(Re.cssProps[l]=ge(r,l)),s=Re.cssHooks[n]||Re.cssHooks[l],void 0===a)return s&&"get"in s&&void 0!==(d=s.get(t,!1,o))?d:r[n];if(e=typeof a,"string"===e&&(d=gt.exec(a))&&(a=(d[1]+1)*d[2]+parseFloat(Re.css(t,n)),e="number"),null!=a&&a===a&&("number"!==e||Re.cssNumber[l]||(a+="px"),Ie.clearCloneStyle||""!==a||0!==n.indexOf("background")||(r[n]="inherit"),!(s&&"set"in s&&void 0===(a=s.set(t,a,o)))))try{r[n]="",r[n]=a}catch(e){}}},css:function(t,n,a,o){var d,e,s,i=Re.camelCase(n);return n=Re.cssProps[i]||(Re.cssProps[i]=ge(t.style,i)),s=Re.cssHooks[n]||Re.cssHooks[i],s&&"get"in s&&(e=s.get(t,!0,a)),void 0===e&&(e=lt(t,n,o)),"normal"===e&&n in bt&&(e=bt[n]),""===a||a?(d=parseFloat(e),!0===a||Re.isNumeric(d)?d||0:e):e}}),Re.each(["height","width"],function(e,t){Re.cssHooks[t]={get:function(e,n,a){return n?0===e.offsetWidth&&ft.test(Re.css(e,"display"))?Re.swap(e,yt,function(){return ve(e,t,a)}):ve(e,t,a):void 0},set:function(n,a,o){var d=o&&it(n);return be(n,a,o?xe(n,t,o,Ie.boxSizing()&&"border-box"===Re.css(n,"boxSizing",!1,d),d):0)}}}),Ie.opacity||(Re.cssHooks.opacity={get:function(e,t){return ht.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(t,n){var a=t.style,o=t.currentStyle,d=Re.isNumeric(n)?"alpha(opacity="+100*n+")":"",e=o&&o.filter||a.filter||"";a.zoom=1,(1<=n||""===n)&&""===Re.trim(e.replace(ut,""))&&a.removeAttribute&&(a.removeAttribute("filter"),""===n||o&&!o.filter)||(a.filter=ut.test(e)?e.replace(ut,d):e+" "+d)}}),Re.cssHooks.marginRight=me(Ie.reliableMarginRight,function(e,t){return t?Re.swap(e,{display:"inline-block"},lt,[e,"marginRight"]):void 0}),Re.each({margin:"",padding:"",border:"Width"},function(t,n){Re.cssHooks[t+n]={expand:function(a){for(var o=0,d={},e="string"==typeof a?a.split(" "):[a];4>o;o++)d[t+T[o]+n]=e[o]||e[o-2]||e[0];return d}},rt.test(t)||(Re.cssHooks[t+n].set=be)}),Re.fn.extend({css:function(e,t){return V(this,function(t,n,a){var o,d,e={},s=0;if(Re.isArray(n)){for(o=it(t),d=n.length;d>s;s++)e[n[s]]=Re.css(t,n[s],!1,o);return e}return void 0===a?Re.css(t,n):Re.style(t,n,a)},e,t,1<arguments.length)},show:function(){return ye(this,!0)},hide:function(){return ye(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){U(this)?Re(this).show():Re(this).hide()})}}),Re.Tween=Te,Te.prototype={constructor:Te,init:function(t,n,a,o,d,e){this.elem=t,this.prop=a,this.easing=d||"swing",this.options=n,this.start=this.now=this.cur(),this.end=o,this.unit=e||(Re.cssNumber[a]?"":"px")},cur:function(){var e=Te.propHooks[this.prop];return e&&e.get?e.get(this):Te.propHooks._default.get(this)},run:function(e){var t,n=Te.propHooks[this.prop];return this.pos=t=this.options.duration?Re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Te.propHooks._default.set(this),this}},Te.prototype.init.prototype=Te.prototype,Te.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Re.fx.step[e.prop]?Re.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Re.cssProps[e.prop]]||Re.cssHooks[e.prop])?Re.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Te.propHooks.scrollTop=Te.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Re.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2}},Re.fx=Te.prototype.init,Re.fx.step={};var vt,Tt,Ct=/^(?:toggle|show|hide)$/,wt=new RegExp("^(?:([+-])=|)("+O+")([a-z%]*)$","i"),Nt=/queueHooks$/,kt=[function(t,n,a){var s,d,e,l,c,u,i,h,f=this,m={},o=t.style,p=t.nodeType&&U(t),g=Re._data(t,"fxshow");for(s in a.queue||(c=Re._queueHooks(t,"fx"),null==c.unqueued&&(c.unqueued=0,u=c.empty.fire,c.empty.fire=function(){c.unqueued||u()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,Re.queue(t,"fx").length||c.empty.fire()})})),1===t.nodeType&&("height"in n||"width"in n)&&(a.overflow=[o.overflow,o.overflowX,o.overflowY],i=Re.css(t,"display"),h=fe(t.nodeName),"none"===i&&(i=h),"inline"===i&&"none"===Re.css(t,"float")&&(Ie.inlineBlockNeedsLayout&&"inline"!==h?o.zoom=1:o.display="inline-block")),a.overflow&&(o.overflow="hidden",Ie.shrinkWrapBlocks()||f.always(function(){o.overflow=a.overflow[0],o.overflowX=a.overflow[1],o.overflowY=a.overflow[2]})),n)if(d=n[s],Ct.exec(d)){if(delete n[s],e=e||"toggle"===d,d===(p?"hide":"show")){if("show"!==d||!g||void 0===g[s])continue;p=!0}m[s]=g&&g[s]||Re.style(t,s)}if(!Re.isEmptyObject(m))for(s in g?"hidden"in g&&(p=g.hidden):g=Re._data(t,"fxshow",{}),e&&(g.hidden=!p),p?Re(t).show():f.done(function(){Re(t).hide()}),f.done(function(){for(var e in Re._removeData(t,"fxshow"),m)Re.style(t,e,m[e])}),m)l=Ne(p?g[s]:0,s,f),s in g||(g[s]=l.start,p&&(l.end=l.start,l.start="width"===s||"height"===s?1:0))}],Et={"*":[function(t,n){var a=this.createTween(t,n),o=a.cur(),s=wt.exec(n),e=s&&s[3]||(Re.cssNumber[t]?"":"px"),l=(Re.cssNumber[t]||"px"!==e&&+o)&&wt.exec(Re.css(a.elem,t)),r=1,p=20;if(l&&l[3]!==e){e=e||l[3],s=s||[],l=+o||1;do r=r||".5",l/=r,Re.style(a.elem,t,l+e);while(r!=(r=a.cur()/o)&&1!=r&&--p)}return s&&(l=a.start=+l||+o||0,a.unit=e,a.end=s[1]?l+(s[1]+1)*s[2]:+s[2]),a}]};Re.Animation=Re.extend(Ee,{tweener:function(t,n){Re.isFunction(t)?(n=t,t=["*"]):t=t.split(" ");for(var a,o=0,d=t.length;d>o;o++)a=t[o],Et[a]=Et[a]||[],Et[a].unshift(n)},prefilter:function(e,t){t?kt.unshift(e):kt.push(e)}}),Re.speed=function(e,t,n){var o=e&&"object"==typeof e?Re.extend({},e):{complete:n||!n&&t||Re.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Re.isFunction(t)&&t};return o.duration=Re.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in Re.fx.speeds?Re.fx.speeds[o.duration]:Re.fx.speeds._default,(null==o.queue||!0===o.queue)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){Re.isFunction(o.old)&&o.old.call(this),o.queue&&Re.dequeue(this,o.queue)},o},Re.fn.extend({fadeTo:function(e,t,n,a){return this.filter(U).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function(t,n,a,o){var d=Re.isEmptyObject(t),e=Re.speed(n,a,o),s=function(){var n=Ee(this,Re.extend({},t),e);(d||Re._data(this,"finish"))&&n.stop(!0)};return s.finish=s,d||!1===e.queue?this.each(s):this.queue(e.queue,s)},stop:function(t,e,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var a=!0,d=null!=t&&t+"queueHooks",e=Re.timers,s=Re._data(this);if(d)s[d]&&s[d].stop&&o(s[d]);else for(d in s)s[d]&&s[d].stop&&Nt.test(d)&&o(s[d]);for(d=e.length;d--;)e[d].elem!==this||null!=t&&e[d].queue!==t||(e[d].anim.stop(n),a=!1,e.splice(d,1));(a||!n)&&Re.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var n,a=Re._data(this),o=a[t+"queue"],d=a[t+"queueHooks"],e=Re.timers,s=o?o.length:0;for(a.finish=!0,Re.queue(this,t,[]),d&&d.stop&&d.stop.call(this,!0),n=e.length;n--;)e[n].elem===this&&e[n].queue===t&&(e[n].anim.stop(!0),e.splice(n,1));for(n=0;s>n;n++)o[n]&&o[n].finish&&o[n].finish.call(this);delete a.finish})}}),Re.each(["toggle","show","hide"],function(e,t){var n=Re.fn[t];Re.fn[t]=function(o,s,d){return null==o||"boolean"==typeof o?n.apply(this,arguments):this.animate(we(t,!0),o,s,d)}}),Re.each({slideDown:we("show"),slideUp:we("hide"),slideToggle:we("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Re.fn[e]=function(e,n,a){return this.animate(t,e,n,a)}}),Re.timers=[],Re.fx.tick=function(){var e,t=Re.timers,n=0;for(vt=Re.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||Re.fx.stop(),vt=void 0},Re.fx.timer=function(e){Re.timers.push(e),e()?Re.fx.start():Re.timers.pop()},Re.fx.interval=13,Re.fx.start=function(){Tt||(Tt=setInterval(Re.fx.tick,Re.fx.interval))},Re.fx.stop=function(){clearInterval(Tt),Tt=null},Re.fx.speeds={slow:600,fast:200,_default:400},Re.fn.delay=function(e,t){return e=Re.fx?Re.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var a=setTimeout(t,e);n.stop=function(){clearTimeout(a)}})},function(){var t,n,a,o,d=y.createElement("div");d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=d.getElementsByTagName("a")[0],a=y.createElement("select"),o=a.appendChild(y.createElement("option")),n=d.getElementsByTagName("input")[0],t.style.cssText="top:1px",Ie.getSetAttribute="t"!==d.className,Ie.style=/top/.test(t.getAttribute("style")),Ie.hrefNormalized="/a"===t.getAttribute("href"),Ie.checkOn=!!n.value,Ie.optSelected=o.selected,Ie.enctype=!!y.createElement("form").enctype,a.disabled=!0,Ie.optDisabled=!o.disabled,n=y.createElement("input"),n.setAttribute("value",""),Ie.input=""===n.getAttribute("value"),n.value="t",n.setAttribute("type","radio"),Ie.radioValue="t"===n.value,t=n=a=o=d=null}();var St=/\r/g;Re.fn.extend({val:function(t){var n,a,o,d=this[0];{if(arguments.length)return o=Re.isFunction(t),this.each(function(a){var d;1===this.nodeType&&(d=o?t.call(this,a,Re(this).val()):t,null==d?d="":"number"==typeof d?d+="":Re.isArray(d)&&(d=Re.map(d,function(e){return null==e?"":e+""})),n=Re.valHooks[this.type]||Re.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&void 0!==n.set(this,d,"value")||(this.value=d))});if(d)return n=Re.valHooks[d.type]||Re.valHooks[d.nodeName.toLowerCase()],n&&"get"in n&&void 0!==(a=n.get(d,"value"))?a:(a=d.value,"string"==typeof a?a.replace(St,""):null==a?"":a)}}}),Re.extend({valHooks:{option:{get:function(e){var t=Re.find.attr(e,"value");return null==t?Re.text(e):t}},select:{get:function(t){for(var n,a,o=t.options,d=t.selectedIndex,e="select-one"===t.type||0>d,s=e?null:[],l=e?d+1:o.length,r=0>d?l:e?d:0;l>r;r++)if(a=o[r],!(!a.selected&&r!==d||(Ie.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&Re.nodeName(a.parentNode,"optgroup"))){if(n=Re(a).val(),e)return n;s.push(n)}return s},set:function(t,n){for(var a,o,d=t.options,e=Re.makeArray(n),s=d.length;s--;)if(o=d[s],0<=Re.inArray(Re.valHooks.option.get(o),e))try{o.selected=a=!0}catch(e){o.scrollHeight}else o.selected=!1;return a||(t.selectedIndex=-1),d}}}}),Re.each(["radio","checkbox"],function(){Re.valHooks[this]={set:function(e,t){return Re.isArray(t)?e.checked=0<=Re.inArray(Re(e).val(),t):void 0}},Ie.checkOn||(Re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var jt,Dt,Lt=Re.expr.attrHandle,At=/^(?:checked|selected)$/i,Ht=Ie.getSetAttribute,qt=Ie.input;Re.fn.extend({attr:function(e,t){return V(this,Re.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){Re.removeAttr(this,e)})}}),Re.extend({attr:function(t,n,a){var o,d,e=t.nodeType;if(t&&3!==e&&8!==e&&2!==e)return typeof t.getAttribute==M?Re.prop(t,n,a):(1===e&&Re.isXMLDoc(t)||(n=n.toLowerCase(),o=Re.attrHooks[n]||(Re.expr.match.bool.test(n)?Dt:jt)),void 0===a?o&&"get"in o&&null!==(d=o.get(t,n))?d:(d=Re.find.attr(t,n),null==d?void 0:d):null===a?void Re.removeAttr(t,n):o&&"set"in o&&void 0!==(d=o.set(t,a,n))?d:(t.setAttribute(n,a+""),a))},removeAttr:function(t,n){var a,o,d=0,e=n&&n.match(D);if(e&&1===t.nodeType)for(;a=e[d++];)o=Re.propFix[a]||a,Re.expr.match.bool.test(a)?qt&&Ht||!At.test(a)?t[o]=!1:t[Re.camelCase("default-"+a)]=t[o]=!1:Re.attr(t,a,""),t.removeAttribute(Ht?a:o)},attrHooks:{type:{set:function(e,t){if(!Ie.radioValue&&"radio"===t&&Re.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Dt={set:function(e,t,n){return!1===t?Re.removeAttr(e,n):qt&&Ht||!At.test(n)?e.setAttribute(!Ht&&Re.propFix[n]||n,n):e[Re.camelCase("default-"+n)]=e[n]=!0,n}},Re.each(Re.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Lt[t]||Re.find.attr;Lt[t]=qt&&Ht||!At.test(t)?function(t,a,o){var d,e;return o||(e=Lt[a],Lt[a]=d,d=null==n(t,a,o)?null:a.toLowerCase(),Lt[a]=e),d}:function(e,t,n){return n?void 0:e[Re.camelCase("default-"+t)]?t.toLowerCase():null}}),qt&&Ht||(Re.attrHooks.value={set:function(e,t,n){return Re.nodeName(e,"input")?void(e.defaultValue=t):jt&&jt.set(e,t,n)}}),Ht||(jt={set:function(e,t,n){var a=e.getAttributeNode(n);return a||e.setAttributeNode(a=e.ownerDocument.createAttribute(n)),a.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Lt.id=Lt.name=Lt.coords=function(e,t,n){var a;return n?void 0:(a=e.getAttributeNode(t))&&""!==a.value?a.value:null},Re.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:jt.set},Re.attrHooks.contenteditable={set:function(e,t,n){jt.set(e,""!==t&&t,n)}},Re.each(["width","height"],function(e,t){Re.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),Ie.style||(Re.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var _t=/^(?:input|select|textarea|button|object)$/i,Ot=/^(?:a|area)$/i;Re.fn.extend({prop:function(e,t){return V(this,Re.prop,e,t,1<arguments.length)},removeProp:function(e){return e=Re.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),Re.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,n,a){var o,d,e,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return e=1!==s||!Re.isXMLDoc(t),e&&(n=Re.propFix[n]||n,d=Re.propHooks[n]),void 0===a?d&&"get"in d&&null!==(o=d.get(t,n))?o:t[n]:d&&"set"in d&&void 0!==(o=d.set(t,a,n))?o:t[n]=a},propHooks:{tabIndex:{get:function(e){var t=Re.find.attr(e,"tabindex");return t?parseInt(t,10):_t.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}}}),Ie.hrefNormalized||Re.each(["href","src"],function(e,t){Re.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),Ie.optSelected||(Re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),Re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Re.propFix[this.toLowerCase()]=this}),Ie.enctype||(Re.propFix.enctype="encoding");var Mt=/[\t\r\n\f]/g;Re.fn.extend({addClass:function(t){var n,o,s,d,e,l,r=0,p=this.length;if(Re.isFunction(t))return this.each(function(e){Re(this).addClass(t.call(this,e,this.className))});if("string"==typeof t&&t)for(n=(t||"").match(D)||[];p>r;r++)if(o=this[r],s=1===o.nodeType&&(o.className?(" "+o.className+" ").replace(Mt," "):" ")){for(e=0;d=n[e++];)0>s.indexOf(" "+d+" ")&&(s+=d+" ");l=Re.trim(s),o.className!==l&&(o.className=l)}return this},removeClass:function(t){var n,o,s,d,e,l,r=0,p=this.length,i=0===arguments.length||"string"==typeof t&&t;if(Re.isFunction(t))return this.each(function(e){Re(this).removeClass(t.call(this,e,this.className))});if(i)for(n=(t||"").match(D)||[];p>r;r++)if(o=this[r],s=1===o.nodeType&&(o.className?(" "+o.className+" ").replace(Mt," "):"")){for(e=0;d=n[e++];)for(;0<=s.indexOf(" "+d+" ");)s=s.replace(" "+d+" "," ");l=t?Re.trim(s):"",o.className!==l&&(o.className=l)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"==n?e?this.addClass(t):this.removeClass(t):this.each(Re.isFunction(t)?function(n){Re(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"==n)for(var a,o=0,d=Re(this),e=t.match(D)||[];a=e[o++];)d.hasClass(a)?d.removeClass(a):d.addClass(a);else(n==M||"boolean"==n)&&(this.className&&Re._data(this,"__className__",this.className),this.className=this.className||!1===t?"":Re._data(this,"__className__")||"")})},hasClass:function(e){for(var t=0,n=this.length;n>t;t++)if(1===this[t].nodeType&&0<=(" "+this[t].className+" ").replace(Mt," ").indexOf(" "+e+" "))return!0;return!1}}),Re.each(["blur","focus","focusin","focusout","load","resize","scroll","unload","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","submit","keydown","keypress","keyup","error","contextmenu"],function(e,t){Re.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),Re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,a){return this.on(t,e,n,a)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Bt=Re.now(),Ft=/\?/,Pt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;Re.parseJSON=function(t){if(ee.JSON&&ee.JSON.parse)return ee.JSON.parse(t+"");var n,o=null,a=Re.trim(t+"");return a&&!Re.trim(a.replace(Pt,function(t,a,d,s){return n&&a&&(o=0),0===o?t:(n=d||a,o+=!s-!d,"")}))?Function("return "+a)():Re.error("Invalid JSON: "+t)},Re.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{ee.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(n){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||Re.error("Invalid XML: "+e),t};var Wt,zt,It=/#.*$/,Rt=/([?&])_=[^&]*/,Xt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,Ut=/^\/\//,Jt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Yt={},Qt={},Gt="*/".concat("*");try{zt=location.href}catch(e){zt=y.createElement("a"),zt.href="",zt=zt.href}Wt=Jt.exec(zt.toLowerCase())||[],Re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zt,type:"GET",isLocal:$t.test(Wt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Re.parseJSON,"text xml":Re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?De(De(e,Re.ajaxSettings),t):De(Re.ajaxSettings,e)},ajaxPrefilter:Se(Yt),ajaxTransport:Se(Qt),ajax:function(n,y){function T(t,n,a,c){var d,y,r,b,u,v=n;2!=k&&(k=2,f&&clearTimeout(f),h=void 0,e=c||"",E.readyState=0<t?4:0,d=200<=t&&300>t||304===t,a&&(b=Le(i,E,a)),b=Ae(i,b,E,d),d?(i.ifModified&&(u=E.getResponseHeader("Last-Modified"),u&&(Re.lastModified[C]=u),u=E.getResponseHeader("etag"),u&&(Re.etag[C]=u)),204===t||"HEAD"===i.type?v="nocontent":304===t?v="notmodified":(v=b.state,y=b.data,r=b.error,d=!r)):(r=v,(t||!v)&&(v="error",0>t&&(t=0))),E.status=t,E.statusText=(n||v)+"",d?m.resolveWith(N,[y,v,E]):m.rejectWith(N,[E,v,r]),E.statusCode(p),p=void 0,g&&l.trigger(d?"ajaxSuccess":"ajaxError",[E,i,d?y:r]),o.fireWith(N,[E,v]),g&&(l.trigger("ajaxComplete",[E,i]),--Re.active||Re.event.trigger("ajaxStop")))}"object"==typeof n&&(y=n,n=void 0),y=y||{};var b,c,C,e,f,g,h,d,i=Re.ajaxSetup({},y),N=i.context||i,l=i.context&&(N.nodeType||N.jquery)?Re(N):Re.event,m=Re.Deferred(),o=Re.Callbacks("once memory"),p=i.statusCode||{},x={},r={},k=0,t="canceled",E={readyState:0,getResponseHeader:function(t){var n;if(2==k){if(!d)for(d={};n=Xt.exec(e);)d[n[1].toLowerCase()]=n[2];n=d[t.toLowerCase()]}return null==n?null:n},getAllResponseHeaders:function(){return 2==k?e:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return k||(e=r[n]=r[n]||e,x[e]=t),this},overrideMimeType:function(e){return k||(i.mimeType=e),this},statusCode:function(e){if(e)if(2>k)for(var t in e)p[t]=[p[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var n=e||t;return h&&h.abort(n),T(0,n),this}};if(m.promise(E).complete=o.add,E.success=E.done,E.error=E.fail,i.url=((n||i.url||zt)+"").replace(It,"").replace(Ut,Wt[1]+"//"),i.type=y.method||y.type||i.method||i.type,i.dataTypes=Re.trim(i.dataType||"*").toLowerCase().match(D)||[""],null==i.crossDomain&&(b=Jt.exec(i.url.toLowerCase()),i.crossDomain=b&&(b[1]!==Wt[1]||b[2]!==Wt[2]||(b[3]||("http:"===b[1]?"80":"443"))!==(Wt[3]||("http:"===Wt[1]?"80":"443")))),i.data&&i.processData&&"string"!=typeof i.data&&(i.data=Re.param(i.data,i.traditional)),je(Yt,i,y,E),2==k)return E;for(c in g=i.global,g&&0==Re.active++&&Re.event.trigger("ajaxStart"),i.type=i.type.toUpperCase(),i.hasContent=!Vt.test(i.type),C=i.url,i.hasContent||(i.data&&(C=i.url+=(Ft.test(C)?"&":"?")+i.data,delete i.data),!1===i.cache&&(i.url=Rt.test(C)?C.replace(Rt,"$1_="+Bt++):C+(Ft.test(C)?"&":"?")+"_="+Bt++)),i.ifModified&&(Re.lastModified[C]&&E.setRequestHeader("If-Modified-Since",Re.lastModified[C]),Re.etag[C]&&E.setRequestHeader("If-None-Match",Re.etag[C])),(i.data&&i.hasContent&&!1!==i.contentType||y.contentType)&&E.setRequestHeader("Content-Type",i.contentType),E.setRequestHeader("Accept",i.dataTypes[0]&&i.accepts[i.dataTypes[0]]?i.accepts[i.dataTypes[0]]+("*"===i.dataTypes[0]?"":", "+Gt+"; q=0.01"):i.accepts["*"]),i.headers)E.setRequestHeader(c,i.headers[c]);if(i.beforeSend&&(!1===i.beforeSend.call(N,E,i)||2==k))return E.abort();for(c in t="abort",{success:1,error:1,complete:1})E[c](i[c]);if(h=je(Qt,i,y,E)){E.readyState=1,g&&l.trigger("ajaxSend",[E,i]),i.async&&0<i.timeout&&(f=setTimeout(function(){E.abort("timeout")},i.timeout));try{k=1,h.send(x,T)}catch(e){if(!(2>k))throw e;T(-1,e)}}else T(-1,"No Transport");return E},getJSON:function(e,t,n){return Re.get(e,t,n,"json")},getScript:function(e,t){return Re.get(e,void 0,t,"script")}}),Re.each(["get","post"],function(e,t){Re[t]=function(n,o,s,i){return Re.isFunction(o)&&(i=i||s,s=o,o=void 0),Re.ajax({url:n,type:t,dataType:i,data:o,success:s})}}),Re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Re.fn[t]=function(e){return this.on(t,e)}}),Re._evalUrl=function(e){return Re.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Re.fn.extend({wrapAll:function(e){if(Re.isFunction(e))return this.each(function(t){Re(this).wrapAll(e.call(this,t))});if(this[0]){var t=Re(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(Re.isFunction(e)?function(t){Re(this).wrapInner(e.call(this,t))}:function(){var t=Re(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Re.isFunction(e);return this.each(function(n){Re(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Re.nodeName(this,"body")||Re(this).replaceWith(this.childNodes)}).end()}}),Re.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!Ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||Re.css(e,"display"))},Re.expr.filters.visible=function(e){return!Re.expr.filters.hidden(e)};var Kt=/%20/g,Zt=/\[\]$/,en=/\r?\n/g,tn=/^(?:submit|button|image|reset|file)$/i,nn=/^(?:input|select|textarea|keygen)/i;Re.param=function(t,n){var a,o=[],d=function(e,t){t=Re.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===n&&(n=Re.ajaxSettings&&Re.ajaxSettings.traditional),Re.isArray(t)||t.jquery&&!Re.isPlainObject(t))Re.each(t,function(){d(this.name,this.value)});else for(a in t)He(a,t[a],n,d);return o.join("&").replace(Kt,"+")},Re.fn.extend({serialize:function(){return Re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Re.prop(this,"elements");return e?Re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Re(this).is(":disabled")&&nn.test(this.nodeName)&&!tn.test(e)&&(this.checked||!W.test(e))}).map(function(e,t){var n=Re(this).val();return null==n?null:Re.isArray(n)?Re.map(n,function(e){return{name:t.name,value:e.replace(en,"\r\n")}}):{name:t.name,value:n.replace(en,"\r\n")}}).get()}}),Re.ajaxSettings.xhr=void 0===ee.ActiveXObject?qe:function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&qe()||_e()};var an=0,on={},dn=Re.ajaxSettings.xhr();ee.ActiveXObject&&Re(ee).on("unload",function(){for(var e in on)on[e](void 0,!0)}),Ie.cors=!!dn&&"withCredentials"in dn,dn=Ie.ajax=!!dn,dn&&Re.ajaxTransport(function(t){if(!t.crossDomain||Ie.cors){var n;return{send:function(a,o){var d,s=t.xhr(),l=++an;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(d in t.xhrFields)s[d]=t.xhrFields[d];for(d in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)void 0!==a[d]&&s.setRequestHeader(d,a[d]+"");s.send(t.hasContent&&t.data||null),n=function(a,d){var e,r,i;if(n&&(d||4===s.readyState))if(delete on[l],n=void 0,s.onreadystatechange=Re.noop,d)4!==s.readyState&&s.abort();else{i={},e=s.status,"string"==typeof s.responseText&&(i.text=s.responseText);try{r=s.statusText}catch(e){r=""}e||!t.isLocal||t.crossDomain?1223===e&&(e=204):e=i.text?200:404}i&&o(e,r,i,s.getAllResponseHeaders())},t.async?4===s.readyState?setTimeout(n):s.onreadystatechange=on[l]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),Re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Re.globalEval(e),e}}}),Re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Re.ajaxTransport("script",function(t){if(t.crossDomain){var n,a=y.head||Re("head")[0]||y.documentElement;return{send:function(o,d){n=y.createElement("script"),n.async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||d(200,"success"))},a.insertBefore(n,a.firstChild)},abort:function(){n&&n.onload(void 0,!0)}}}});var sn=[],ln=/(=)\?(?=&|$)|\?\?/;Re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=sn.pop()||Re.expando+"_"+Bt++;return this[e]=!0,e}}),Re.ajaxPrefilter("json jsonp",function(t,n,a){var o,e,d,s=!1!==t.jsonp&&(ln.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ln.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=Re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ln,"$1"+o):!1!==t.jsonp&&(t.url+=(Ft.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return d||Re.error(o+" was not called"),d[0]},t.dataTypes[0]="json",e=ee[o],ee[o]=function(){d=arguments},a.always(function(){ee[o]=e,t[o]&&(t.jsonpCallback=n.jsonpCallback,sn.push(o)),d&&Re.isFunction(e)&&e(d[0]),d=e=void 0}),"script"):void 0}),Re.parseHTML=function(t,n,o){if(!t||"string"!=typeof t)return null;"boolean"==typeof n&&(o=n,n=!1),n=n||y;var s=u.exec(t),d=!o&&[];return s?[n.createElement(s[1])]:(s=Re.buildFragment([t],n,d),d&&d.length&&Re(d).remove(),Re.merge([],s.childNodes))};var rn=Re.fn.load;Re.fn.load=function(t,n,o){if("string"!=typeof t&&rn)return rn.apply(this,arguments);var s,d,e,i=this,l=t.indexOf(" ");return 0<=l&&(s=t.slice(l,t.length),t=t.slice(0,l)),Re.isFunction(n)?(o=n,n=void 0):n&&"object"==typeof n&&(e="POST"),0<i.length&&Re.ajax({url:t,type:e,dataType:"html",data:n}).done(function(e){d=arguments,i.html(s?Re("<div>").append(Re.parseHTML(e)).find(s):e)}).complete(o&&function(e,t){i.each(o,d||[e.responseText,t,e])}),this},Re.expr.filters.animated=function(e){return Re.grep(Re.timers,function(t){return e===t.elem}).length};var pn=ee.document.documentElement;Re.offset={setOffset:function(t,n,a){var o,d,e,s,r,p,i,c=Re.css(t,"position"),u=Re(t),l={};"static"===c&&(t.style.position="relative"),r=u.offset(),e=Re.css(t,"top"),p=Re.css(t,"left"),i=("absolute"===c||"fixed"===c)&&-1<Re.inArray("auto",[e,p]),i?(o=u.position(),s=o.top,d=o.left):(s=parseFloat(e)||0,d=parseFloat(p)||0),Re.isFunction(n)&&(n=n.call(t,a,r)),null!=n.top&&(l.top=n.top-r.top+s),null!=n.left&&(l.left=n.left-r.left+d),"using"in n?n.using.call(t,l):u.css(l)}},Re.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Re.offset.setOffset(this,t,e)});var n,a,o={top:0,left:0},d=this[0],e=d&&d.ownerDocument;if(e)return n=e.documentElement,Re.contains(n,d)?(typeof d.getBoundingClientRect!=M&&(o=d.getBoundingClientRect()),a=Oe(e),{top:o.top+(a.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(a.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},position:function(){if(this[0]){var e,t,n={top:0,left:0},a=this[0];return"fixed"===Re.css(a,"position")?t=a.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Re.nodeName(e[0],"html")||(n=e.offset()),n.top+=Re.css(e[0],"borderTopWidth",!0),n.left+=Re.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-Re.css(a,"marginTop",!0),left:t.left-n.left-Re.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||pn;e&&!Re.nodeName(e,"html")&&"static"===Re.css(e,"position");)e=e.offsetParent;return e||pn})}}),Re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);Re.fn[e]=function(a){return V(this,function(o,a,d){var e=Oe(o);return void 0===d?e?t in e?e[t]:e.document.documentElement[a]:o[a]:void(e?e.scrollTo(n?Re(e).scrollLeft():d,n?d:Re(e).scrollTop()):o[a]=d)},e,a,arguments.length,null)}}),Re.each(["top","left"],function(e,t){Re.cssHooks[t]=me(Ie.pixelPosition,function(e,n){return n?(n=lt(e,t),pt.test(n)?Re(e).position()[t]+"px":n):void 0})}),Re.each({Height:"height",Width:"width"},function(t,n){Re.each({padding:"inner"+t,content:n,"":"outer"+t},function(a,e){Re.fn[e]=function(o,s){var e=arguments.length&&(a||"boolean"!=typeof o),i=a||(!0===o||!0===s?"margin":"border");return V(this,function(n,a,o){var d;return Re.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(d=n.documentElement,Me(n.body["scroll"+t],d["scroll"+t],n.body["offset"+t],d["offset"+t],d["client"+t])):void 0===o?Re.css(n,a,i):Re.style(n,a,o,i)},n,e?o:void 0,e,null)}})}),Re.fn.size=function(){return this.length},Re.fn.andSelf=Re.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Re});var cn=ee.jQuery,un=ee.$;return Re.noConflict=function(e){return ee.$===Re&&(ee.$=un),e&&ee.jQuery===Re&&(ee.jQuery=cn),Re},typeof a==M&&(ee.jQuery=ee.$=Re),Re});
(function(t,i,o){"use strict";function p(t){return function(){var n,r=arguments[0];for(n="["+(t?t+":":"")+r+"] http://errors.angularjs.org/1.4.5/"+(t?t+"/":"")+r,r=1;r<arguments.length;r++){n=n+(1==r?"?":"&")+"p"+(r-1)+"=";var a,s=encodeURIComponent;a=arguments[r],a="function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"==typeof a?a:JSON.stringify(a),n+=s(a)}return Error(n)}}function S(e){if(null==e||g(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===Br&&t||V(e)||jr(e)||0===t||"number"==typeof t&&0<t&&t-1 in e}function j(t,n,a){var r,s;if(t)if(Y(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||n.call(a,t[r],r,t);else if(jr(t)||S(t)){for(r=0,s=t.length;r<s;r++)("object"!=typeof t||r in t)&&n.call(a,t[r],r,t)}else if(t.forEach&&t.forEach!==j)t.forEach(n,a,t);else if(h(t))for(r in t)n.call(a,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&n.call(a,t[r],r,t);else for(r in t)Or.call(t,r)&&n.call(a,t[r],r,t);return t}function s(t,n,a){for(var r=Object.keys(t).sort(),s=0;s<r.length;s++)n.call(a,t[r[s]],r[s]);return r}function l(e){return function(t,n){e(n,t)}}function e(){return++aa}function w(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function a(t,n,r){for(var s,i=t.$$hashKey,o=0,e=n.length;o<e;++o)if(s=n[o],W(s)||Y(s))for(var d=Object.keys(s),p=0,l=d.length;p<l;p++){var c=d[p],$=s[c];r&&W($)?F($)?t[c]=new Date($.valueOf()):k($)?t[c]=new RegExp($):(W(t[c])||(t[c]=jr($)?[]:{}),a(t[c],[$],!0)):t[c]=$}return w(t,i),t}function C(e){return a(e,Mr.call(arguments,1),!1)}function d(e){return a(e,Mr.call(arguments,1),!0)}function E(e){return parseInt(e,10)}function A(e,t){return C(Object.create(e),t)}function _(){}function q(e){return e}function O(e){return function(){return e}}function m(e){return Y(e.toString)&&e.toString!==Object.prototype.toString}function N(e){return"undefined"==typeof e}function M(e){return"undefined"!=typeof e}function W(e){return null!==e&&"object"==typeof e}function h(e){return null!==e&&"object"==typeof e&&!sa(e)}function V(e){return"string"==typeof e}function P(e){return"number"==typeof e}function F(e){return"[object Date]"===Vr.call(e)}function Y(e){return"function"==typeof e}function k(e){return"[object RegExp]"===Vr.call(e)}function g(e){return e&&e.window===e}function L(e){return e&&e.$evalAsync&&e.$watch}function J(e){return"boolean"==typeof e}function f(e){return e&&(e.nodeName||e.prop&&e.attr&&e.find)}function ee(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function ce(e){return Ar(e.nodeName||e[0]&&e[0].nodeName)}function _e(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function et(t,n,a,r){if(g(t)||L(t))throw Pr("cpws");if(Dr.test(Vr.call(n)))throw Pr("cpta");if(n){if(t===n)throw Pr("cpi");a=a||[],r=r||[],W(t)&&(a.push(t),r.push(n));if(jr(t))for(i=n.length=0;i<t.length;i++)n.push(et(t[i],null,a,r));else{var s=n.$$hashKey;if(jr(n)?n.length=0:j(n,function(e,t){delete n[t]}),h(t))for(var i in t)n[i]=et(t[i],null,a,r);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(n[i]=et(t[i],null,a,r));else for(i in t)Or.call(t,i)&&(n[i]=et(t[i],null,a,r));w(n,s)}}else if(n=t,W(t)){if(a&&-1!==(s=a.indexOf(t)))return r[s];if(jr(t))return et(t,[],a,r);if(Dr.test(Vr.call(t)))n=new t.constructor(t);else if(F(t))n=new Date(t.getTime());else if(k(t))n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),n.lastIndex=t.lastIndex;else return i=Object.create(sa(t)),et(t,i,a,r);r&&(a.push(t),r.push(n))}return n}function tt(e,t){if(jr(e)){t=t||[];for(var n=0,a=e.length;n<a;n++)t[n]=e[n]}else if(W(e))for(n in t=t||{},e)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(t[n]=e[n]);return t||e}function nt(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r=typeof e;if(r==typeof t&&"object"==r)if(jr(e)){if(!jr(t))return!1;if((r=e.length)==t.length){for(n=0;n<r;n++)if(!nt(e[n],t[n]))return!1;return!0}}else{if(F(e))return!!F(t)&&nt(e.getTime(),t.getTime());if(k(e))return!!k(t)&&e.toString()==t.toString();if(L(e)||L(t)||g(e)||g(t)||jr(t)||F(t)||k(t))return!1;for(n in r=Et(),e)if("$"!==n.charAt(0)&&!Y(e[n])){if(!nt(e[n],t[n]))return!1;r[n]=!0}for(n in t)if(!(n in r||"$"===n.charAt(0)||t[n]===o||Y(t[n])))return!1;return!0}return!1}function at(e,t,n){return e.concat(Mr.call(t,n))}function rt(e,t){var n=2<arguments.length?Mr.call(arguments,2):[];return!Y(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,at(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function c(e,t){var n=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=o:g(t)?n="$WINDOW":t&&i===t?n="$DOCUMENT":L(t)&&(n="$SCOPE"),n}function st(e,t){return"undefined"==typeof e?o:(P(t)||(t=t?2:null),JSON.stringify(e,c,t))}function it(e){return V(e)?JSON.parse(e):e}function ot(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6E4;return isNaN(n)?t:n}function lt(e,t,n){n=n?-1:1;var a=ot(t,e.getTimezoneOffset());return t=e,e=n*(a-e.getTimezoneOffset()),t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function dt(e){e=Va(e).clone();try{e.empty()}catch(e){}var t=Va("<div>").append(e).html();try{return e[0].nodeType===pa?Ar(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Ar(t)})}catch(e){return Ar(t)}}function pt(e){try{return decodeURIComponent(e)}catch(e){}}function ct(e){var t={};return j((e||"").split("&"),function(n){var a,r,e;n&&(r=n=n.replace(/\+/g,"%20"),a=n.indexOf("="),-1!==a&&(r=n.substring(0,a),e=n.substring(a+1)),r=pt(r),M(r)&&(e=!M(e)||pt(e),Or.call(t,r)?jr(t[r])?t[r].push(e):t[r]=[t[r],e]:t[r]=e))}),t}function $t(e){var t=[];return j(e,function(e,n){jr(e)?j(e,function(e){t.push(mt(n,!0)+(!0===e?"":"="+mt(e,!0)))}):t.push(mt(n,!0)+(!0===e?"":"="+mt(e,!0)))}),t.length?t.join("&"):""}function ut(e){return mt(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function mt(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ht(t,n){var a,r,s=Ur.length;for(r=0;r<s;++r)if(a=Ur[r]+n,V(a=t.getAttribute(a)))return a;return null}function b(t,n){var r,s,a={};j(Ur,function(e){e+="app",!r&&t.hasAttribute&&t.hasAttribute(e)&&(r=t,s=t.getAttribute(e))}),j(Ur,function(n){n+="app";var a;!r&&(a=t.querySelector("["+n.replace(":","\\:")+"]"))&&(r=a,s=a.getAttribute(n))}),r&&(a.strictDi=null!==ht(r,"strict-di"),n(r,s?[s]:[],a))}function gt(n,r,a){W(a)||(a={}),a=C({strictDi:!1},a);var s=function(){if(n=Va(n),n.injector()){var e=n[0]===i?"document":dt(n);throw Pr("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),a.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng"),e=Qt(r,a.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,a){e.$apply(function(){t.data("$injector",a),n(t)(e)})}]),e},o=/^NG_ENABLE_DEBUG_INFO!/,e=/^NG_DEFER_BOOTSTRAP!/;return t&&o.test(t.name)&&(a.debugInfoEnabled=!0,t.name=t.name.replace(o,"")),t&&!e.test(t.name)?s():void(t.name=t.name.replace(e,""),Ea.resumeBootstrap=function(e){return j(e,function(e){r.push(e)}),s()},Y(Ea.resumeDeferredBootstrap)&&Ea.resumeDeferredBootstrap())}function ft(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function yt(e){if(e=Ea.element(e).injector(),!e)throw Pr("test");return e.get("$$testability")}function vt(e,t){return t=t||"_",e.replace(Qa,function(e,n){return(n?t:"")+e.toLowerCase()})}function bt(e,t,n){if(!e)throw Pr("areq",t||"?",n||"required");return e}function xt(e,t,n){return n&&jr(e)&&(e=e[e.length-1]),bt(Y(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function St(e,t){if("hasOwnProperty"===e)throw Pr("badname",t)}function wt(t,n,r){if(!n)return t;n=n.split(".");for(var s,i=t,e=n.length,o=0;o<e;o++)s=n[o],t&&(t=(i=t)[s]);return!r&&Y(t)?rt(i,t):t}function Ct(e){var t=e[0];e=e[e.length-1];var n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==e);return Va(n)}function Et(){return Object.create(null)}function kt(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=p("$injector"),a=p("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||p,t(e,"module",function(){var e={};return function(r,i,o){if("hasOwnProperty"===r)throw a("badname","module");return i&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function l(t,n,a,e){return e||(e=p),function(){return e[a||"push"]([t,n,arguments]),m}}function a(t,n){return function(a,s){return s&&Y(s)&&(s.$$moduleName=r),p.push([t,n,arguments]),m}}if(!i)throw n("nomod",r);var p=[],c=[],$=[],u=l("$injector","invoke","push",c),m={_invokeQueue:p,_configBlocks:c,_runBlocks:$,requires:i,name:r,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:l("$provide","value"),constant:l("$provide","constant","unshift"),decorator:a("$provide","decorator"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:u,run:function(e){return $.push(e),this}};return o&&u(o),m})}})}function de(e){return e.replace(Lr,function(t,n,a,r){return r?a.toUpperCase():a}).replace(_r,"Moz$1")}function At(e){return e=e.nodeType,e===Br||!e||9===e}function Ot(t,n){var a,r,s=n.createDocumentFragment(),e=[];if(Kr.test(t)){for(a=a||s.appendChild(n.createElement("div")),r=(Yr.exec(t)||["",""])[1].toLowerCase(),r=Qr[r]||Qr._default,a.innerHTML=r[1]+t.replace(Jr,"<$1></$2>")+r[2],r=r[0];r--;)a=a.lastChild;e=at(e,a.childNodes),a=s.firstChild,a.textContent=""}else e.push(n.createTextNode(t));return s.textContent="",s.innerHTML="",j(e,function(e){s.appendChild(e)}),s}function Mt(e){if(e instanceof Mt)return e;var t;if(V(e)&&(e=Ir(e),t=!0),!(this instanceof Mt)){if(t&&"<"!=e.charAt(0))throw Wr("nosel");return new Mt(e)}if(t){t=i;var n;e=(n=Gr.exec(e))?[t.createElement(n[1])]:(n=Ot(e,t))?n.childNodes:[]}Rt(this,e)}function R(e){return e.cloneNode(!0)}function Tt(t,n){if(n||Pt(t),t.querySelectorAll)for(var a=t.querySelectorAll("*"),r=0,s=a.length;r<s;r++)Pt(a[r])}function Vt(t,n,r,a){if(M(a))throw Wr("offargs");var s=(a=Nt(t))&&a.events,e=a&&a.handle;if(e)if(n)j(n.split(" "),function(n){if(M(r)){var a=s[n];if(_e(a||[],r),a&&0<a.length)return}t.removeEventListener(n,e,!1),delete s[n]});else for(n in s)"$destroy"!==n&&t.removeEventListener(n,e,!1),delete s[n]}function Pt(e,t){var n=e.ng339,a=n&&Fr[n];a&&(t?delete a.data[t]:(a.handle&&(a.events.$destroy&&a.handle({},"$destroy"),Vt(e)),delete Fr[n],e.ng339=o))}function Nt(e,t){var n=e.ng339,n=n&&Fr[n];return t&&!n&&(e.ng339=n=++Hr,n=Fr[n]={events:{},data:{},handle:o}),n}function jt(t,n,r){if(At(t)){var s=M(r),i=!s&&n&&!W(n);if(t=(t=Nt(t,!i))&&t.data,s)t[n]=r;else{if(!n)return t;if(i)return t&&t[n];C(t,n)}}}function Dt(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function It(e,t){t&&e.setAttribute&&j(t.split(" "),function(t){e.setAttribute("class",Ir((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ir(t)+" "," ")))})}function qt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");j(t.split(" "),function(e){e=Ir(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Ir(n))}}function Rt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if(!("number"==typeof n&&t.window!==t))e[e.length++]=t;else if(n)for(var a=0;a<n;a++)e[e.length++]=t[a]}}function Ut(e,t){return Bt(e,"$"+(t||"ngController")+"Controller")}function Bt(t,n,a){for(9==t.nodeType&&(t=t.documentElement),n=jr(n)?n:[n];t;){for(var r=0,s=n.length;r<s;r++)if((a=Va.data(t,n[r]))!==o)return a;t=t.parentNode||11===t.nodeType&&t.host}}function Ft(e){for(Tt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ht(e,t){t||Tt(e);var n=e.parentNode;n&&n.removeChild(e)}function Lt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Va(n).on("load",e)}function _t(e,t){var n=Ra[t.toLowerCase()];return n&&Xr[ce(e)]&&n}function zt(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Zr[t]}function Wt(e,t){var n=function(n,a){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[a||n.type],s=r?r.length:0;if(s){if(N(n.immediatePropagationStopped)){var i=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),i&&i.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},1<s&&(r=tt(r));for(var o=0;o<s;o++)n.isImmediatePropagationStopped()||r[o].call(e,n)}};return n.elem=e,n}function Gt(){this.$get=function(){return C(Mt,{hasClass:function(e,t){return e.attr&&(e=e[0]),Dt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),qt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),It(e,t)}})}}function Kt(t,n){var a=t&&t.$$hashKey;return a?("function"==typeof a&&(a=t.$$hashKey()),a):(a=typeof t,a="function"==a||"object"==a&&null!==t?t.$$hashKey=a+":"+(n||e)():a+":"+t)}function Yt(e,t){if(t){var n=0;this.nextUid=function(){return++n}}j(e,this.put,this)}function Jt(e){return(e=e.toString().replace(rs,"").match(ts))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Qt(n,r){function a(e){return function(t,n){return W(t)?void j(t,l(e)):e(t,n)}}function i(e,t){if(St(e,"service"),(Y(t)||jr(t))&&(t=g.instantiate(t)),!t.$get)throw ss("pget",e);return m[e+"Provider"]=t}function d(e,n){return function(){var a=t.invoke(n,this);if(N(a))throw ss("undef",e);return a}}function e(e,t,n){return i(e,{$get:!1===n?t:d(e,t)})}function p(e){bt(N(e)||jr(e),"modulesToLoad","not an array");var t,n=[];return j(e,function(r){function e(t){var n,a;for(n=0,a=t.length;n<a;n++){var r=t[n],e=g.get(r[0]);e[r[1]].apply(e,r[2])}}if(!h.get(r)){h.put(r,!0);try{V(r)?(t=la(r),n=n.concat(p(t.requires)).concat(t._runBlocks),e(t._invokeQueue),e(t._configBlocks)):Y(r)?n.push(g.invoke(r)):jr(r)?n.push(g.invoke(r)):xt(r,"module")}catch(t){throw jr(r)&&(r=r[r.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ss("modulerr",r,t.stack||t.message||t)}}}),n}function c(t,n){function a(r,a){if(t.hasOwnProperty(r)){if(t[r]===$)throw ss("cdep",r+" <- "+u.join(" <- "));return t[r]}try{return u.unshift(r),t[r]=$,t[r]=n(r,a)}catch(e){throw t[r]===$&&delete t[r],e}finally{u.shift()}}function s(e,t,n,i){"string"==typeof n&&(i=n,n=null);var o,l,s,d=[],p=Qt.$$annotate(e,r,i);for(l=0,o=p.length;l<o;l++){if(s=p[l],"string"!=typeof s)throw ss("itkn",s);d.push(n&&n.hasOwnProperty(s)?n[s]:a(s,i))}return jr(e)&&(e=e[o]),e.apply(t,d)}return{invoke:s,instantiate:function(e,t,n){var a=Object.create((jr(e)?e[e.length-1]:e).prototype||null);return e=s(e,a,t,n),W(e)||Y(e)?e:a},get:a,annotate:Qt.$$annotate,has:function(e){return m.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}r=!0===r;var $={},u=[],h=new Yt([],!0),m={$provide:{provider:a(i),factory:a(e),service:a(function(t,n){return e(t,["$injector",function(e){return e.instantiate(n)}])}),value:a(function(t,n){return e(t,O(n),!1)}),constant:a(function(e,t){St(e,"constant"),m[e]=t,s[e]=t}),decorator:function(e,n){var r=g.get(e+"Provider"),s=r.$get;r.$get=function(){var e=t.invoke(s,r);return t.invoke(n,null,{$delegate:e})}}}},g=m.$injector=c(m,function(e,t){throw Ea.isString(t)&&u.push(t),ss("unpr",u.join(" <- "))}),s={},t=s.$injector=c(s,function(e,n){var a=g.get(e+"Provider",n);return t.invoke(a.$get,a,o,e)});return j(p(n),function(e){e&&t.invoke(e)}),t}function Xt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,a){function s(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===ce(e))return t=e,!0}),t}function e(e){if(e){e.scrollIntoView();var t;t=i.yOffset,Y(t)?t=t():f(t)?(t=t[0],t="fixed"===n.getComputedStyle(t).position?t.getBoundingClientRect().bottom:0):P(t)||(t=0),t&&(e=e.getBoundingClientRect().top,n.scrollBy(0,e-t))}else n.scrollTo(0,0)}function i(t){t=V(t)?t:r.hash();var n;t?(n=o.getElementById(t))?e(n):(n=s(o.getElementsByName(t)))?e(n):"top"===t&&e(null):e(null)}var o=n.document;return t&&a.$watch(function(){return r.hash()},function(e,t){e===t&&""===e||Lt(function(){a.$evalAsync(i)})}),i}]}function Zt(e,t){return e||t?e?t?(jr(e)&&(e=e.join(" ")),jr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function en(e){V(e)&&(e=e.split(" "));var t=Et();return j(e,function(e){e.length&&(t[e]=!0)}),t}function tn(e){return W(e)?e:{}}function nn(n,i,a,o){function d(e){try{e.apply(null,Mr.call(arguments,1))}finally{if(t--,0===t)for(;f.length;)try{f.pop()()}catch(e){a.error(e)}}}function e(){$(),c()}function $(){a:{try{y=g.state;break a}catch(e){}y=void 0}y=N(y)?null:y,nt(y,w)&&(y=w),w=y}function c(){(p!==u.url()||v!==y)&&(p=u.url(),v=y,j(x,function(e){e(u.url(),y)}))}var u=this,l=n.location,g=n.history,m=n.setTimeout,h=n.clearTimeout,s={};u.isMock=!1;var t=0,f=[];u.$$completeOutstandingRequest=d,u.$$incOutstandingRequestCount=function(){t++},u.notifyWhenNoOutstandingRequests=function(e){0===t?e():f.push(e)};var y,v,p=l.href,b=i.find("base"),r=null;$(),v=y,u.url=function(t,a,s){if(N(s)&&(s=null),l!==n.location&&(l=n.location),g!==n.history&&(g=n.history),t){var e=v===s;if(p===t&&(!o.history||e))return u;var i=p&&Vn(p)===Vn(t);return p=t,v=s,!o.history||i&&e?((!i||r)&&(r=t),a?l.replace(t):i?(a=l,s=t.indexOf("#"),t=-1===s?"":t.substr(s),a.hash=t):l.href=t):(g[a?"replaceState":"pushState"](s,"",t),$(),v=y),u}return r||l.href.replace(/%27/g,"'")},u.state=function(){return y};var x=[],S=!1,w=null;u.onUrlChange=function(t){return S||(o.history&&Va(n).on("popstate",e),Va(n).on("hashchange",e),S=!0),x.push(t),t},u.$$applicationDestroyed=function(){Va(n).off("hashchange popstate",e)},u.$$checkUrlChange=c,u.baseHref=function(){var e=b.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(e,n){var a;return t++,a=m(function(){delete s[a],d(e)},n||0),s[a]=!0,a},u.defer.cancel=function(e){return!!s[e]&&(delete s[e],h(e),d(_),!0)}}function an(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,a){return new nn(e,a,t,n)}]}function rn(){this.$get=function(){function e(n,a){function r(t){t!=c&&(u?u==t&&(u=t.n):u=t,e(t.n,t.p),e(t,c),c=t,c.n=null)}function e(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(n in t)throw p("$cacheFactory")("iid",n);var i=0,o=C({},a,{id:n}),d={},l=a&&a.capacity||Er,$={},c=null,u=null;return t[n]={put:function(e,t){if(!N(t)){if(l<Er){var n=$[e]||($[e]={key:e});r(n)}return e in d||i++,d[e]=t,i>l&&this.remove(u.key),t}},get:function(e){if(l<Er){var t=$[e];if(!t)return;r(t)}return d[e]},remove:function(t){if(l<Er){var n=$[t];if(!n)return;n==c&&(c=n.p),n==u&&(u=n.n),e(n.n,n.p),delete $[t]}delete d[t],i--},removeAll:function(){d={},i=0,$={},c=u=null},destroy:function(){$=o=d=null,delete t[n]},info:function(){return C({},o,{size:i})}}}var t={};return e.info=function(){var n={};return j(t,function(t,a){n[a]=t.info()}),n},e.get=function(e){return t[e]},e}}function sn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function on(t,n){function p(t,n,r){var s=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return j(t,function(e,t){var a=e.match(s);if(!a)throw ps("iscp",n,t,e,r?"controller bindings definition":"isolate scope definition");i[t]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||t}}),i}function r(e){var t=e.charAt(0);if(!t||t!==Ar(t))throw ps("baddir",e);if(e!==e.trim())throw ps("baddir",e)}var $={},s=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=ee("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/;this.directive=function e(i,n){return St(i,"directive"),V(i)?(r(i),bt(n,"directiveFactory"),$.hasOwnProperty(i)||($[i]=[],t.factory(i+"Directive",["$injector","$exceptionHandler",function(t,e){var a=[];return j($[i],function(o,d){try{var c=t.invoke(o);Y(c)?c={compile:O(c)}:!c.compile&&c.link&&(c.compile=O(c.link)),c.priority=c.priority||0,c.index=d,c.name=c.name||i,c.require=c.require||c.controller&&c.name,c.restrict=c.restrict||"EA";var $=c,l=c,u=c.name,s={isolateScope:null,bindToController:null};if(W(l.scope)&&(!0===l.bindToController?(s.bindToController=p(l.scope,u,!0),s.isolateScope={}):s.isolateScope=p(l.scope,u,!1)),W(l.bindToController)&&(s.bindToController=p(l.bindToController,u,!0)),W(s.bindToController)){var m=l.controller,h=l.controllerAs;if(!m)throw ps("noctrl",u);var g;a:if(h&&V(h))g=h;else{if(V(m)){var f=$s.exec(m);if(f){g=f[3];break a}}g=void 0}if(!g)throw ps("noident",u)}var n=$.$$bindings=s;W(n.isolateScope)&&(c.$$isolateBindings=n.isolateScope),c.$$moduleName=o.$$moduleName,a.push(c)}catch(t){e(t)}}),a}])),$[i].push(n)):j(i,l(e)),this},this.aHrefSanitizationWhitelist=function(e){return M(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return M(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var e=!0;this.debugInfoEnabled=function(t){return M(t)?(e=t,this):e},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(n,t,a,T,b,w,l,d,r,p,c){function m(e,t){try{e.addClass(t)}catch(e){}}function D(t,n,a,r,s){t instanceof Va||(t=Va(t)),j(t,function(e,n){e.nodeType==pa&&e.nodeValue.match(/\S+/)&&(t[n]=Va(e).wrap("<span></span>").parent()[0])});var i=E(t,n,t,a,r,s);D.$$addScopeClass(t);var o=null;return function(n,a,r){bt(n,"scope"),r=r||{};var s=r.parentBoundTranscludeFn,e=r.transcludeControllers;if(r=r.futureParentElement,s&&s.$$boundTransclude&&(s=s.$$boundTransclude),o||(o=(r=r&&r[0])?"foreignobject"!==ce(r)&&r.toString().match(/SVG/)?"svg":"html":"html"),r="html"===o?a?na.clone.call(t):t:Va(K(o,Va("<div>").append(t).html())),e)for(var l in e)r.data("$"+l+"Controller",e[l].instance);return D.$$addScopeInfo(r,n),a&&a(r,n),i&&i(n,r,r,s),r}}function E(n,r,a,i,d,e){for(var c,$,l,u,y,p=[],s=0;s<n.length;s++)c=new ee,$=S(n[s],[],c,0===s?i:o,d),(e=$.length?P($,n[s],c,r,a,null,[],[],e):null)&&e.scope&&D.$$addScopeClass(c.$$element),c=e&&e.terminal||!(l=n[s].childNodes)||!l.length?null:E(l,e?(e.transcludeOnThisElement||!e.templateOnThisElement)&&e.transclude:r),(e||c)&&(p.push(s,e,c),u=!0,y=y||e),e=null;return u?function(n,a,i,d){var c,$,u,l,m,s,t;if(y)for(t=Array(a.length),l=0;l<p.length;l+=3)c=p[l],t[c]=a[c];else t=a;for(l=0,m=p.length;l<m;)($=t[p[l++]],a=p[l++],c=p[l++],a)?(a.scope?(u=n.$new(),D.$$addScopeInfo(Va($),u),s=a.$$destroyBindings)&&(a.$$destroyBindings=null,u.$on("$destroyed",s)):u=n,s=a.transcludeOnThisElement?g(n,a.transclude,d):!a.templateOnThisElement&&d?d:!d&&r?g(n,r):null,a(c,u,$,i,s,a)):c&&c(n,$.childNodes,o,d)}:null}function g(t,n,a){return function(r,s,e,i,o){return r||(r=t.$new(!1,o),r.$$transcluded=!0),n(r,s,{parentBoundTranscludeFn:a,transcludeControllers:e,futureParentElement:i})}}function S(n,a,r,i,o){var e,d=r.$attr;switch(n.nodeType){case Br:M(a,ln(ce(n)),"E",i,o);for(var c,l,$,m=n.attributes,p=0,t=m&&m.length;p<t;p++){var h=!1,g=!1;c=m[p],e=c.name,l=Ir(c.value),c=ln(e),($=re.test(c))&&(e=e.replace(ea,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var f=c.replace(/(Start|End)$/,"");x(f)&&c===f+"Start"&&(h=e,g=e.substr(0,e.length-5)+"end",e=e.substr(0,e.length-6)),c=ln(e.toLowerCase()),d[c]=e,($||!r.hasOwnProperty(c))&&(r[c]=l,_t(n,c)&&(r[c]=!0)),Q(n,a,l,c,$),M(a,c,"A",i,o,h,g)}if(n=n.className,W(n)&&(n=n.animVal),V(n)&&""!==n)for(;e=u.exec(n);)c=ln(e[2]),M(a,c,"C",i,o)&&(r[c]=Ir(e[3])),n=n.substr(e.index+e[0].length);break;case pa:if(11===vr)for(;n.parentNode&&n.nextSibling&&n.nextSibling.nodeType===pa;)n.nodeValue+=n.nextSibling.nodeValue,n.parentNode.removeChild(n.nextSibling);z(a,n.nodeValue);break;case 8:try{(e=s.exec(n.nodeValue))&&(c=ln(e[1]),M(a,c,"M",i,o)&&(r[c]=Ir(e[2])))}catch(e){}}return a.sort(F),a}function O(t,n,r){var s=[],i=0;if(n&&t.hasAttribute&&t.hasAttribute(n))do{if(!t)throw ps("uterdir",n,r);t.nodeType==Br&&(t.hasAttribute(n)&&i++,t.hasAttribute(r)&&i--),s.push(t),t=t.nextSibling}while(0<i);else s.push(t);return Va(s)}function f(t,n,a){return function(r,s,e,i,o){return s=O(s[0],n,a),t(r,s,e,i,o)}}function P(l,$,u,d,e,p,g,T,c){function m(e,t,n,a){e&&(n&&(e=f(e,n,a)),e.require=E.require,e.directiveName=j,(z===E||E.$$isolateScope)&&(e=U(e,{isolateScope:!0})),g.push(e)),t&&(n&&(t=f(t,n,a)),t.require=E.require,t.directiveName=j,(z===E||E.$$isolateScope)&&(t=U(t,{isolateScope:!0})),T.push(t))}function N(t,n,a,r){var s;if(V(n)){var i=n.match(h);n=n.substring(i[0].length);var o=i[1]||i[3],i="?"===i[2];if("^^"===o?a=a.parent():s=(s=r&&r[n])&&s.instance,s||(r="$"+n+"Controller",s=o?a.inheritedData(r):a.data(r)),!s&&!i)throw ps("ctreq",n,t)}else if(jr(n))for(s=[],o=0,i=n.length;o<i;o++)s[o]=N(t,n[o],a,r);return s||null}function t(t,n,r,s,i,e){var o,d=Et();for(o in s){var p=s[o],$={$scope:p===z||p.$$isolateScope?i:e,$element:t,$attrs:n,$transclude:r},l=p.controller;"@"==l&&(l=n[p.name]),$=w(l,$,!0,p.controllerAs),d[p.name]=$,M||t.data("$"+p.name+"Controller",$.instance)}return d}function s(r,a,i,e,m,d){var l,s,p,c,h,f,y;if($===i?(e=u,y=u.$$element):(y=Va(i),e=new ee(y,u)),z&&(c=a.$new(!0)),m&&(f=function(e,t,n){var a;return L(e)||(n=t,t=e,e=o),M&&(a=h),n||(n=M?y.parent():y),m(e,t,a,n,x)},f.$$boundTransclude=m),_&&(h=t(y,e,f,_,c,a)),z&&(D.$$addScopeInfo(y,c,!0,!(te&&(te===z||te===z.$$originalDirective))),D.$$addScopeClass(y,!0),c.$$isolateBindings=z.$$isolateBindings,Z(a,e,c,c.$$isolateBindings,z,c)),h){var v,b=z||q;for(l in b&&h[b.name]&&(s=b.$$bindings.bindToController,(p=h[b.name])&&p.identifier&&s&&(v=p,d.$$destroyBindings=Z(a,e,p.instance,s,b))),h){p=h[l];var n=p();n!==p.instance&&(p.instance=n,y.data("$"+l+"Controller",n),p===v&&(d.$$destroyBindings(),d.$$destroyBindings=Z(a,e,n,s,b)))}}for(l=0,d=g.length;l<d;l++)s=g[l],J(s,s.isolateScope?c:a,y,e,s.require&&N(s.directiveName,s.require,y,h),f);var x=a;for(z&&(z.template||null===z.templateUrl)&&(x=c),r&&r(x,i.childNodes,o,m),l=T.length-1;0<=l;l--)s=T[l],J(s,s.isolateScope?c:a,y,e,s.require&&N(s.directiveName,s.require,y,h),f)}c=c||{};for(var E,j,b,v,x=-Er,q=c.newScopeDirective,_=c.controllerDirectives,z=c.newIsolateScopeDirective,te=c.templateDirective,ne=c.nonTlbTranscludeDirective,re=!1,n=!1,M=c.hasElementTranscludeDirective,r=u.$$element=Va($),se=d,y=0,ie=l.length;y<ie;y++){E=l[y];var G=E.$$start,oe=E.$$end;if(G&&(r=O($,G,oe)),b=o,x>E.priority)break;if((b=E.scope)&&(E.templateUrl||(W(b)?(H("new/isolated scope",z||q,E,r),z=E):H("new/isolated scope",z,E,r)),q=q||E),j=E.name,!E.templateUrl&&E.controller&&(b=E.controller,_=_||Et(),H("'"+j+"' controller",_[j],E,r),_[j]=E),(b=E.transclude)&&(re=!0,E.$$tlb||(H("transclusion",ne,E,r),ne=E),"element"==b?(M=!0,x=E.priority,b=r,r=u.$$element=Va(i.createComment(" "+j+": "+u[j]+" ")),$=r[0],X(e,Mr.call(b,0),$),se=D(b,d,x,p&&p.name,{nonTlbTranscludeDirective:ne})):(b=Va(R($)).contents(),r.empty(),se=D(b,d))),E.template)if(n=!0,H("template",te,E,r),te=E,b=Y(E.template)?E.template(r,u):E.template,b=ae(b),E.replace){if(p=E,b=Kr.test(b)?pn(K(E.templateNamespace,Ir(b))):[],$=b[0],1!=b.length||$.nodeType!==Br)throw ps("tplrt",j,"");X(e,r,$),ie={$attr:{}},b=S($,[],ie);var le=l.splice(y+1,l.length-(y+1));z&&k(b),l=l.concat(b).concat(le),I(u,ie),ie=l.length}else r.html(b);if(E.templateUrl)n=!0,H("template",te,E,r),te=E,E.replace&&(p=E),s=B(l.splice(y,l.length-y),r,u,e,re&&se,g,T,{controllerDirectives:_,newScopeDirective:q!==E&&q,newIsolateScopeDirective:z,templateDirective:te,nonTlbTranscludeDirective:ne}),ie=l.length;else if(E.compile)try{v=E.compile(r,u,se),Y(v)?m(null,v,G,oe):v&&m(v.pre,v.post,G,oe)}catch(e){a(e,dt(r))}E.terminal&&(s.terminal=!0,x=Cr(x,E.priority))}return s.scope=q&&!0===q.scope,s.transcludeOnThisElement=re,s.templateOnThisElement=n,s.transclude=se,c.hasElementTranscludeDirective=M,s}function k(e){for(var t=0,n=e.length;t<n;t++)e[t]=A(e[t],{$$isolateScope:!0})}function M(e,r,s,i,d,c,u){if(r===d)return null;if(d=null,$.hasOwnProperty(r)){var h;r=n.get(r+"Directive");for(var m=0,p=r.length;m<p;m++)try{h=r[m],(i===o||i>h.priority)&&-1!=h.restrict.indexOf(s)&&(c&&(h=A(h,{$$start:c,$$end:u})),e.push(h),d=h)}catch(e){a(e)}}return d}function x(e){if($.hasOwnProperty(e))for(var t=n.get(e+"Directive"),a=0,r=t.length;a<r;a++)if(e=t[a],e.multiElement)return!0;return!1}function I(t,n){var a=n.$attr,r=t.$attr,s=t.$$element;j(t,function(r,s){"$"!=s.charAt(0)&&(n[s]&&n[s]!==r&&(r+=("style"===s?";":" ")+n[s]),t.$set(s,r,!0,a[s]))}),j(n,function(e,n){"class"==n?(m(s,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==n?(s.attr("style",s.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==n.charAt(0)||t.hasOwnProperty(n)||(t[n]=e,r[n]=a[n])})}function B(n,r,a,i,e,o,c,$){var u,h,s=[],l=r[0],p=n.shift(),f=A(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),y=Y(p.templateUrl)?p.templateUrl(r,a):p.templateUrl,v=p.templateNamespace;return r.empty(),T(y).then(function(t){var d,b;if(t=ae(t),p.replace){if(t=Kr.test(t)?pn(K(v,Ir(t))):[],d=t[0],1!=t.length||d.nodeType!==Br)throw ps("tplrt",p.name,y);t={$attr:{}},X(i,r,d);var x=S(d,[],t);W(p.scope)&&k(x),n=x.concat(n),I(a,t)}else d=l,r.html(t);for(n.unshift(f),u=P(n,d,a,e,r,p,o,c,$),j(i,function(e,t){e==d&&(i[t]=r[0])}),h=E(r[0].childNodes,e);s.length;){t=s.shift(),b=s.shift();var w=s.shift(),C=s.shift(),x=r[0];if(!t.$$destroyed){if(b!==l){var A=b.className;$.hasElementTranscludeDirective&&p.replace||(x=R(d)),X(w,Va(b),x),m(Va(x),A)}b=u.transcludeOnThisElement?g(t,u.transclude,C):C,u(h,t,x,i,b,u)}}s=null}),function(t,n,a,r,i){t=i,n.$$destroyed||(s?s.push(n,a,r,t):(u.transcludeOnThisElement&&(t=g(n,u.transclude,i)),u(h,n,a,r,t,u)))}}function F(e,t){var n=t.priority-e.priority;return 0==n?e.name===t.name?e.index-t.index:e.name<t.name?-1:1:n}function H(t,n,a,r){function s(e){return e?" (module: "+e+")":""}if(n)throw ps("multidir",n.name,s(n.$$moduleName),a.name,s(a.$$moduleName),t,dt(r))}function z(e,n){var r=t(n,!0);r&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&D.$$addBindingClass(e),function(n,s){var a=s.parent();t||D.$$addBindingClass(a),D.$$addBindingInfo(a,r.expressions),n.$watch(r,function(e){s[0].nodeValue=e})}}})}function K(e,t){switch(e=Ar(e||"html"),e){case"svg":case"math":var n=i.createElement("div");return n.innerHTML="<"+e+">"+t+"</"+e+">",n.childNodes[0].childNodes;default:return t;}}function G(e,t){if("srcdoc"==t)return r.HTML;var n=ce(e);if("xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t))return r.RESOURCE_URL}function Q(n,a,r,s,e){var i=G(n,s);e=y[s]||e;var o=t(r,!0,i,e);if(o){if("multiple"===s&&"select"===ce(n))throw ps("selmulti",dt(n));a.push({priority:100,compile:function(){return{pre:function(n,a,l){if(a=l.$$observers||(l.$$observers={}),v.test(s))throw ps("nodomevents");var d=l[s];d!==r&&(o=d&&t(d,!0,i,e),r=d),o&&(l[s]=o(n),(a[s]||(a[s]=[])).$$inter=!0,(l.$$observers&&l.$$observers[s].$$scope||n).$watch(o,function(e,t){"class"===s&&e!=t?l.$updateClass(e,t):l.$set(s,e)}))}}}})}}function X(t,n,a){var r,s,o=n[0],l=n.length,e=o.parentNode;if(t)for(r=0,s=t.length;r<s;r++)if(t[r]==o){t[r++]=a,s=r+l-1;for(var d=t.length;r<d;r++,s++)s<d?t[r]=t[s]:delete t[r];t.length-=l-1,t.context===o&&(t.context=a);break}for(e&&e.replaceChild(a,o),t=i.createDocumentFragment(),t.appendChild(o),Va.hasData(o)&&(Va(a).data(Va(o).data()),br?(Nr=!0,br.cleanData([o])):delete Va.cache[o[Va.expando]]),o=1,l=n.length;o<l;o++)e=n[o],Va(e).remove(),t.appendChild(e),delete n[o];n[0]=a,n.length=1}function U(e,t){return C(function(){return e.apply(null,arguments)},e,t)}function J(t,n,r,s,e,i){try{t(n,r,s,e,i)}catch(e){a(e,dt(r))}}function Z(n,a,r,s,e,i){var o;return j(s,function(i,d){var c,$,s,p,u=i.attrName,m=i.optional;switch(i.mode){case"@":m||Or.call(a,u)||(r[d]=a[u]=void 0),a.$observe(u,function(e){V(e)&&(r[d]=e)}),a.$$observers[u].$$scope=n,V(a[u])&&(r[d]=t(a[u])(n));break;case"=":if(!Or.call(a,u)){if(m)break;a[u]=void 0}if(m&&!a[u])break;$=b(a[u]),p=$.literal?nt:function(e,t){return e===t||e!==e&&t!==t},s=$.assign||function(){throw c=r[d]=$(n),ps("nonassign",a[u],e.name)},c=r[d]=$(n),m=function(e){return p(e,r[d])||(p(e,c)?s(n,e=r[d]):r[d]=e),c=e},m.$stateful=!0,m=i.collection?n.$watchCollection(a[u],m):n.$watch(b(a[u],m),null,$.literal),o=o||[],o.push(m);break;case"&":if($=a.hasOwnProperty(u)?b(a[u]):_,$===_&&m)break;r[d]=function(e){return $(n,e)};}}),s=o?function(){for(var e=0,t=o.length;e<t;++e)o[e]()}:_,i&&s!==_?(i.$on("$destroy",s),_):s}var ee=function(t,n){if(n){var a,r,e,s=Object.keys(n);for(a=0,r=s.length;a<r;a++)e=s[a],this[e]=n[e]}else this.$attr={};this.$$element=t};ee.prototype={$normalize:ln,$addClass:function(e){e&&0<e.length&&p.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&p.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=dn(e,t);n&&n.length&&p.addClass(this.$$element,n),(n=dn(t,e))&&n.length&&p.removeClass(this.$$element,n)},$set:function(t,n,r,s){var e=this.$$element[0],i=_t(e,t),d=zt(e,t),e=t;if(i?(this.$$element.prop(t,n),s=i):d&&(this[d]=n,e=d),this[t]=n,s?this.$attr[t]=s:(s=this.$attr[t])||(this.$attr[t]=s=vt(t,"-")),i=ce(this.$$element),"a"===i&&"href"===t||"img"===i&&"src"===t)this[t]=n=c(n,"src"==t);else if("img"===i&&"srcset"===t){for(var i="",d=Ir(n),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(d)?p:/(,)/,d=d.split(p),p=Math.floor(d.length/2),$=0;$<p;$++)var l=2*$,i=i+c(Ir(d[l]),!0),i=i+(" "+Ir(d[l+1]));d=Ir(d[2*$]).split(/\s/),i+=c(Ir(d[0]),!0),2===d.length&&(i+=" "+Ir(d[1])),this[t]=n=i}!1!==r&&(null===n||n===o?this.$$element.removeAttr(s):this.$$element.attr(s,n)),(t=this.$$observers)&&j(t[e],function(e){try{e(n)}catch(e){a(e)}})},$observe:function(t,n){var a=this,r=a.$$observers||(a.$$observers=Et()),s=r[t]||(r[t]=[]);return s.push(n),l.$evalAsync(function(){s.$$inter||!a.hasOwnProperty(t)||N(a[t])||n(a[t])}),function(){_e(s,n)}}};var te=t.startSymbol(),ne=t.endSymbol(),ae="{{"==te||"}}"==ne?q:function(e){return e.replace(/\{\{/g,te).replace(/}}/g,ne)},re=/^ngAttr[A-Z]/;return D.$$addBindingInfo=e?function(e,t){var n=e.data("$binding")||[];jr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:_,D.$$addBindingClass=e?function(e){m(e,"ng-binding")}:_,D.$$addScopeInfo=e?function(e,t,n,a){e.data(n?a?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:_,D.$$addScopeClass=e?function(e,t){m(e,t?"ng-isolate-scope":"ng-scope")}:_,D}]}function ln(e){return de(e.replace(ea,""))}function dn(t,n){var a="",r=t.split(/\s+/),s=n.split(/\s+/),e=0;a:for(;e<r.length;e++){for(var i=r[e],o=0;o<s.length;o++)if(i==s[o])continue a;a+=(0<a.length?" ":"")+i}return a}function pn(e){e=Va(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&xa.call(e,t,1);return e}function cn(){var e={},t=!1;this.register=function(t,n){St(t,"controller"),W(t)?C(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,a){function r(e,t,n,r){if(!e||!W(e.$scope))throw p("$controller")("noscp",r,t);e.$scope[t]=n}return function(s,i,d,p){var c,$,u;if(d=!0===d,p&&V(p)&&(u=p),V(s)){if(p=s.match($s),!p)throw cs("ctrlfmt",s);$=p[1],u=u||p[3],s=e.hasOwnProperty($)?e[$]:wt(i.$scope,$,!0)||(t?wt(a,$,!0):o),xt(s,$,!0)}return d?(d=(jr(s)?s[s.length-1]:s).prototype,c=Object.create(d||null),u&&r(i,u,c,$||s.name),C(function(){var e=n.invoke(s,c,i,$);return e!==c&&(W(e)||Y(e))&&(c=e,u&&r(i,u,c,$||s.name)),c},{instance:c,identifier:u})):(c=n.instantiate(s,i,$),u&&r(i,u,c,$||s.name),c)}}]}function $n(){this.$get=["$window",function(e){return Va(e.document)}]}function un(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function mn(e){return W(e)?F(e)?e.toISOString():st(e):e}function hn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return s(e,function(e,n){null===e||N(e)||(jr(e)?j(e,function(e){t.push(mt(n)+"="+mt(mn(e)))}):t.push(mt(n)+"="+mt(mn(e))))}),t.join("&")}}}function gn(){this.$get=function(){return function(e){function t(a,r,e){null===a||N(a)||(jr(a)?j(a,function(e,n){t(e,r+"["+(W(e)?n:"")+"]")}):W(a)&&!F(a)?s(a,function(n,a){t(n,r+(e?"":"[")+a+(e?"":"]"))}):n.push(mt(r)+"="+mt(mn(a))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function fn(e,t){if(V(e)){var n=e.replace(ys,"").trim();if(n){var a=t("Content-Type");(a=a&&0===a.indexOf(ms))||(a=(a=n.match(gs))&&fs[a[0]].test(n)),a&&(e=it(n))}}return e}function yn(e){var t,n=Et();return V(e)?j(e.split("\n"),function(a){t=a.indexOf(":");var r=Ar(Ir(a.substr(0,t)));a=Ir(a.substr(t+1)),r&&(n[r]=n[r]?n[r]+", "+a:a)}):W(e)&&j(e,function(e,t){var a=Ar(t),r=Ir(e);a&&(n[a]=n[a]?n[a]+", "+r:r)}),n}function vn(e){var t;return function(n){return t||(t=yn(e)),n?(n=t[Ar(n)],void 0===n&&(n=null),n):t}}function bn(e,t,n,a){return Y(a)?a(e,t,n):(j(a,function(a){e=a(e,t,n)}),e)}function xn(){var r=this.defaults={transformResponse:[fn],transformRequest:[function(e){return W(e)&&"[object File]"!==Vr.call(e)&&"[object Blob]"!==Vr.call(e)&&"[object FormData]"!==Vr.call(e)?st(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:tt(hs),put:tt(hs),patch:tt(hs)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return M(e)?(t=!!e,this):t};var n=!0;this.useLegacyPromiseExtensions=function(e){return M(e)?(n=!!e,this):n};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(i,e,d,$,u,l){function h(t){function s(t){var n=C({},t);return n.data=t.data?bn(t.data,t.headers,t.status,e.transformResponse):t.data,t=t.status,200<=t&&300>t?n:u.reject(n)}function i(e,t){var n,r={};return j(e,function(s,a){Y(s)?(n=s(t),null!=n&&(r[a]=n)):r[a]=s}),r}if(!Ea.isObject(t))throw p("$http")("badreq",t);var e=C({method:"get",transformRequest:r.transformRequest,transformResponse:r.transformResponse,paramSerializer:r.paramSerializer},t);e.headers=function(e){var t,n,a,s=r.headers,o=C({},e.headers),s=C({},s.common,s[Ar(e.method)]);a:for(t in s){for(a in n=Ar(t),o)if(Ar(a)===n)continue a;o[t]=s[t]}return i(o,tt(e))}(t),e.method=Na(e.method),e.paramSerializer=V(e.paramSerializer)?l.get(e.paramSerializer):e.paramSerializer;var d=[function(t){var n=t.headers,a=bn(t.data,vn(n),o,t.transformRequest);return N(a)&&j(n,function(e,t){"content-type"===Ar(t)&&delete n[t]}),N(t.withCredentials)&&!N(r.withCredentials)&&(t.withCredentials=r.withCredentials),m(t,a).then(s,s)},o],$=u.when(e);for(j(c,function(e){(e.request||e.requestError)&&d.unshift(e.request,e.requestError),(e.response||e.responseError)&&d.push(e.response,e.responseError)});d.length;){t=d.shift();var a=d.shift(),$=$.then(t,a)}return n?($.success=function(t){return xt(t,"fn"),$.then(function(n){t(n.data,n.status,n.headers,e)}),$},$.error=function(t){return xt(t,"fn"),$.then(null,function(n){t(n.data,n.status,n.headers,e)}),$}):($.success=bs("success"),$.error=bs("error")),$}function m(l,a){function p(t,r,s,i){r=Cr(r,0),(200<=r&&300>r?n.resolve:n.reject)({data:t,status:r,headers:vn(s),config:l,statusText:i})}function d(e){p(e.data,e.status,tt(e.headers()),e.statusText)}function m(){var e=h.pendingRequests.indexOf(l);-1!==e&&h.pendingRequests.splice(e,1)}var y,f,n=u.defer(),v=n.promise,b=l.headers,x=g(l.url,l.paramSerializer(l.params));return h.pendingRequests.push(l),v.then(m,m),(l.cache||r.cache)&&!1!==l.cache&&("GET"===l.method||"JSONP"===l.method)&&(y=W(l.cache)?l.cache:W(r.cache)?r.cache:s),y&&(f=y.get(x),M(f)?f&&Y(f.then)?f.then(d,d):jr(f)?p(f[1],f[0],tt(f[2]),f[3]):p(f,200,{},"OK"):y.put(x,v)),N(f)&&((f=Aa(l.url)?e()[l.xsrfCookieName||r.xsrfCookieName]:o)&&(b[l.xsrfHeaderName||r.xsrfHeaderName]=f),i(l.method,x,a,function(n,a,r,s){function e(){p(a,n,r,s)}y&&(200<=n&&300>n?y.put(x,[n,a,yn(r),s]):y.remove(x)),t?$.$applyAsync(e):(e(),$.$$phase||$.$apply())},b,l.timeout,l.withCredentials,l.responseType)),v}function g(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var s=d("$http");r.paramSerializer=V(r.paramSerializer)?l.get(r.paramSerializer):r.paramSerializer;var c=[];return j(a,function(e){c.unshift(V(e)?l.get(e):l.invoke(e))}),h.pendingRequests=[],function(){j(arguments,function(e){h[e]=function(t,n){return h(C({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(){j(arguments,function(e){h[e]=function(t,n,r){return h(C({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),h.defaults=r,h}]}function Sn(){return new t.XMLHttpRequest}function wn(){this.$get=["$browser","$window","$document",function(e,t,n){return Cn(e,Sn,e.defer,t.angular.callbacks,n[0])}]}function Cn(n,r,i,s,l){function e(e,n,r){var i=l.createElement("script"),o=null;return i.type="text/javascript",i.src=e,i.async=!0,o=function(e){i.removeEventListener("load",o,!1),i.removeEventListener("error",o,!1),l.body.removeChild(i),i=null;var a=-1,d="unknown";e&&("load"!==e.type||s[n].called||(e={type:"error"}),d=e.type,a="error"===e.type?404:200),r&&r(a,d)},i.addEventListener("load",o,!1),i.addEventListener("error",o,!1),l.body.appendChild(i),o}return function(a,d,c,l,$,u,m,h){function t(){y&&y(),p&&p.abort()}function g(t,a,r,e,s){v!==o&&i.cancel(v),y=p=null,t(a,r,e,s),n.$$completeOutstandingRequest(_)}if(n.$$incOutstandingRequestCount(),d=d||n.url(),"jsonp"==Ar(a)){var f="_"+(s.counter++).toString(36);s[f]=function(e){s[f].data=e,s[f].called=!0};var y=e(d.replace("JSON_CALLBACK","angular.callbacks."+f),f,function(e,t){g(l,e,s[f].data,"",t),s[f]=_})}else{var p=r();if(p.open(a,d,!0),j($,function(e,t){M(e)&&p.setRequestHeader(t,e)}),p.onload=function(){var e=p.statusText||"",t="response"in p?p.response:p.responseText,n=1223===p.status?204:p.status;0===n&&(n=t?200:"file"==ja(d).protocol?404:0),g(l,n,t,p.getAllResponseHeaders(),e)},a=function(){g(l,-1,null,null,"")},p.onerror=a,p.onabort=a,m&&(p.withCredentials=!0),h)try{p.responseType=h}catch(e){if("json"!==h)throw e}p.send(c)}if(0<u)var v=i(t,u);else u&&Y(u.then)&&u.then(t)}}function En(){var t="{{",s="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(e){return e?(s=e,this):s},this.$get=["$parse","$exceptionHandler","$sce",function(a,n,r){function e(e){return"\\\\\\"+e}function i(e){return e.replace(p,t).replace($,s)}function o(e,o,$,u){function c(t){try{var s=t;t=$?r.getTrusted($,s):r.valueOf(s);var i;if(u&&!M(t))i=t;else if(null==t)i="";else{switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=st(t);}i=t}return i}catch(t){n(xs.interr(e,t))}}u=!!u;for(var m,p,g=0,y=[],v=[],b=e.length,x=[],w=[];g<b;)if(-1!=(m=e.indexOf(t,g))&&-1!=(p=e.indexOf(s,m+d)))g!==m&&x.push(i(e.substring(g,m))),g=e.substring(m+d,p),y.push(g),v.push(a(g,c)),g=p+l,w.push(x.length),x.push("");else{g!==b&&x.push(i(e.substring(g)));break}if($&&1<x.length&&xs.throwNoconcat(e),!o||y.length){var E=function(e){for(var t=0,n=y.length;t<n;t++){if(u&&N(e[t]))return;x[w[t]]=e[t]}return x.join("")};return C(function(t){var a=0,r=y.length,s=Array(r);try{for(;a<r;a++)s[a]=v[a](t);return E(s)}catch(t){n(xs.interr(e,t))}},{exp:e,expressions:y,$$watchDelegate:function(t,n){var a;return t.$watchGroup(v,function(r,s){var e=E(r);Y(n)&&n.call(this,e,r===s?e:a,t),a=e})}})}}var d=t.length,l=s.length,p=new RegExp(t.replace(/./g,e),"g"),$=new RegExp(s.replace(/./g,e),"g");return o.startSymbol=function(){return t},o.endSymbol=function(){return s},o}]}function kn(){this.$get=["$rootScope","$window","$q","$$q",function(n,r,a,i){function t(d,c,$,l){var u=4<arguments.length,m=u?Mr.call(arguments,4):[],h=r.setInterval,s=r.clearInterval,t=0,g=M(l)&&!l,f=(g?i:a).defer(),y=f.promise;return $=M($)?$:0,y.then(null,null,u?function(){d.apply(null,m)}:d),y.$$intervalId=h(function(){f.notify(t++),0<$&&t>=$&&(f.resolve(t),s(y.$$intervalId),delete o[y.$$intervalId]),g||n.$apply()},c),o[y.$$intervalId]=f,y}var o={};return t.cancel=function(e){return e&&e.$$intervalId in o&&(o[e.$$intervalId].reject("canceled"),r.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},t}]}function An(e){e=e.split("/");for(var t=e.length;t--;)e[t]=ut(e[t]);return e.join("/")}function On(e,t){var n=ja(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=E(n.port)||Ss[n.protocol]||null}function Mn(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var a=ja(e);t.$$path=decodeURIComponent(n&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname),t.$$search=ct(a.search),t.$$hash=decodeURIComponent(a.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Tn(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Vn(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Pn(e){return e.replace(/(#.+)|#$/,"$1")}function Nn(t,n,a){this.$$html5=!0,a=a||"",On(t,this),this.$$parse=function(e){var t=Tn(n,e);if(!V(t))throw ws("ipthprfx",e,n);Mn(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=$t(this.$$search),t=this.$$hash?"#"+ut(this.$$hash):"";this.$$url=An(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=n+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,s){if(s&&"#"===s[0])return this.hash(s.slice(1)),!0;var e,i;return(e=Tn(t,r))===o?(e=Tn(n,r))===o?n==r+"/"&&(i=n):i=n+e:(i=e,i=(e=Tn(a,e))===o?t+i:n+(Tn("/",e)||e)),i&&this.$$parse(i),!!i}}function jn(t,n,r){On(t,this),this.$$parse=function(a){var s,i=Tn(t,a)||Tn(n,a);N(i)||"#"!==i.charAt(0)?this.$$html5?s=i:(s="",N(i)&&(t=a,this.replace())):(s=Tn(r,i),N(s)&&(s=i)),Mn(s,this),a=this.$$path;var i=t,e=/^\/[A-Z]:(\/.*)/;0===s.indexOf(i)&&(s=s.replace(i,"")),e.exec(s)||(a=(s=e.exec(a))?s[1]:a),this.$$path=a,this.$$compose()},this.$$compose=function(){var n=$t(this.$$search),a=this.$$hash?"#"+ut(this.$$hash):"";this.$$url=An(this.$$path)+(n?"?"+n:"")+a,this.$$absUrl=t+(this.$$url?r+this.$$url:"")},this.$$parseLinkUrl=function(e){return!(Vn(t)!=Vn(e))&&(this.$$parse(e),!0)}}function Dn(t,n,r){this.$$html5=!0,jn.apply(this,arguments),this.$$parseLinkUrl=function(a,s){if(s&&"#"===s[0])return this.hash(s.slice(1)),!0;var e,i;return t==Vn(a)?e=a:(i=Tn(n,a))?e=t+r+i:n===a+"/"&&(e=n),e&&this.$$parse(e),!!e},this.$$compose=function(){var n=$t(this.$$search),a=this.$$hash?"#"+ut(this.$$hash):"";this.$$url=An(this.$$path)+(n?"?"+n:"")+a,this.$$absUrl=t+r+this.$$url}}function In(e){return function(){return this[e]}}function qn(e,t){return function(n){return N(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Rn(){var n="",r={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return M(e)?(n=e,this):n},this.html5Mode=function(e){return J(e)?(r.enabled=e,this):W(e)?(J(e.enabled)&&(r.enabled=e.enabled),J(e.requireBase)&&(r.requireBase=e.requireBase),J(e.rewriteLinks)&&(r.rewriteLinks=e.rewriteLinks),this):r},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,o,d,a,p){function c(t,n,a){var r=u.url(),e=u.$$state;try{o.url(t,n,a),u.$$state=o.state()}catch(t){throw u.url(r),u.$$state=e,t}}function $(e,t){i.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,e;e=o.baseHref();var l,s=o.url();if(r.enabled){if(!e&&r.requireBase)throw ws("nobase");l=s.substring(0,s.indexOf("/",s.indexOf("//")+2))+(e||"/"),e=d.history?Nn:Dn}else l=Vn(s),e=jn;var h=l.substr(0,Vn(l).lastIndexOf("/")+1);u=new e(l,h,"#"+n),u.$$parseLinkUrl(s,s),u.$$state=o.state();var t=/^\s*(javascript|mailto):/i;a.on("click",function(n){if(r.rewriteLinks&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&2!=n.which&&2!=n.button){for(var s=Va(n.target);"a"!==ce(s[0]);)if(s[0]===a[0]||!(s=s.parent())[0])return;var e=s.prop("href"),d=s.attr("href")||s.attr("xlink:href");W(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=ja(e.animVal).href),t.test(e)||!e||s.attr("target")||n.isDefaultPrevented()||!u.$$parseLinkUrl(e,d)||(n.preventDefault(),u.absUrl()!=o.url()&&(i.$apply(),p.angular["ff-684208-preventDefault"]=!0))}}),Pn(u.absUrl())!=Pn(s)&&o.url(u.absUrl(),!0);var y=!0;return o.onUrlChange(function(t,n){N(Tn(h,t))?p.location.href=t:(i.$evalAsync(function(){var a,r=u.absUrl(),s=u.$$state;u.$$parse(t),u.$$state=n,a=i.$broadcast("$locationChangeStart",t,r,n,s).defaultPrevented,u.absUrl()===t&&(a?(u.$$parse(r),u.$$state=s,c(r,!1,s)):(y=!1,$(r,s)))}),i.$$phase||i.$digest())}),i.$watch(function(){var e=Pn(o.url()),t=Pn(u.absUrl()),n=o.state(),a=u.$$replace,r=e!==t||u.$$html5&&d.history&&n!==u.$$state;(y||r)&&(y=!1,i.$evalAsync(function(){var t=u.absUrl(),s=i.$broadcast("$locationChangeStart",t,e,u.$$state,n).defaultPrevented;u.absUrl()===t&&(s?(u.$$parse(e),u.$$state=n):(r&&c(t,a,n===u.$$state?null:u.$$state),$(e,n)))})),u.$$replace=!1}),u}]}function Un(){var e=!0,t=this;this.debugEnabled=function(t){return M(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function a(t){var s=n.console||{},i=s[t]||s.log||_;t=!1;try{t=!!i.apply}catch(e){}return t?function(){var e=[];return j(arguments,function(t){e.push(r(t))}),i.apply(s,e)}:function(e,t){i(e,null==t?"":t)}}return{log:a("log"),info:a("info"),warn:a("warn"),error:a("error"),debug:function(){var n=a("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Bn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Es("isecfld",t);return e}function Fn(e,t){if(e){if(e.constructor===e)throw Es("isecfn",t);if(e.window===e)throw Es("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Es("isecdom",t);if(e===Object)throw Es("isecobj",t)}return e}function Hn(e,t){if(e){if(e.constructor===e)throw Es("isecfn",t);if(e===da||e===ks||e===As)throw Es("isecff",t)}}function Ln(e,t){return"undefined"==typeof e?t:e}function _n(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function zn(e,t){var n,a;switch(e.type){case Vs.Program:n=!0,j(e.body,function(e){zn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Vs.Literal:e.constant=!0,e.toWatch=[];break;case Vs.UnaryExpression:zn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Vs.BinaryExpression:zn(e.left,t),zn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Vs.LogicalExpression:zn(e.left,t),zn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Vs.ConditionalExpression:zn(e.test,t),zn(e.alternate,t),zn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Vs.Identifier:e.constant=!1,e.toWatch=[e];break;case Vs.MemberExpression:zn(e.object,t),e.computed&&zn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Vs.CallExpression:n=!!e.filter&&!t(e.callee.name).$stateful,a=[],j(e.arguments,function(e){zn(e,t),n=n&&e.constant,e.constant||a.push.apply(a,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?a:[e];break;case Vs.AssignmentExpression:zn(e.left,t),zn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Vs.ArrayExpression:n=!0,a=[],j(e.elements,function(e){zn(e,t),n=n&&e.constant,e.constant||a.push.apply(a,e.toWatch)}),e.constant=n,e.toWatch=a;break;case Vs.ObjectExpression:n=!0,a=[],j(e.properties,function(e){zn(e.value,t),n=n&&e.value.constant,e.value.constant||a.push.apply(a,e.value.toWatch)}),e.constant=n,e.toWatch=a;break;case Vs.ThisExpression:e.constant=!1,e.toWatch=[];}}function U(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1===t.length?t[0]===e?o:t:t}}function Wn(e){return e.type===Vs.Identifier||e.type===Vs.MemberExpression}function Gn(e){if(1===e.body.length&&Wn(e.body[0].expression))return{type:Vs.AssignmentExpression,left:e.body[0].expression,right:{type:Vs.NGValueParameter},operator:"="}}function Kn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Vs.Literal||e.body[0].expression.type===Vs.ArrayExpression||e.body[0].expression.type===Vs.ObjectExpression)}function Yn(e,t){this.astBuilder=e,this.$filter=t}function Jn(e,t){this.astBuilder=e,this.$filter=t}function Qn(e){return"constructor"==e}function Xn(e){return Y(e.valueOf)?e.valueOf():r.call(e)}function Zn(){var t=Et(),s=Et();this.$get=["$filter",function(a){function r(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Xn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function i(t,a,s,i,d){var p,$=i.inputs;if(1===$.length){var c=r,$=$[0];return t.$watch(function(e){var t=$(e);return r(t,c)||(p=i(e,o,o,[t]),c=t&&Xn(t)),p},a,s,d)}for(var u=[],l=[],m=0,h=$.length;m<h;m++)u[m]=r,l[m]=null;return t.$watch(function(e){for(var t,n=!1,a=0,s=$.length;a<s;a++)t=$[a](e),(n||(n=!r(t,u[a])))&&(l[a]=t,u[a]=t&&Xn(t));return n&&(p=i(e,o,o,l)),p},a,s,d)}function e(t,n,a,r){var s,e;return s=t.$watch(function(e){return r(e)},function(t,a,r){e=t,Y(n)&&n.apply(this,arguments),M(t)&&r.$$postDigest(function(){M(e)&&s()})},a)}function $(t,n,a,r){function s(e){var t=!0;return j(e,function(e){M(e)||(t=!1)}),t}var e,i;return e=t.$watch(function(e){return r(e)},function(t,a,r){i=t,Y(n)&&n.call(this,t,a,r),s(t)&&r.$$postDigest(function(){s(i)&&e()})},a)}function c(t,n,a,r){var s;return s=t.$watch(function(e){return r(e)},function(){Y(n)&&n.apply(this,arguments),s()},a)}function u(t,n){if(!n)return t;var a=t.$$watchDelegate,a=a!==$&&a!==e?function(a,r,s,e){return s=t(a,r,s,e),n(s,a,r)}:function(a,r,s,e){return s=t(a,r,s,e),a=n(s,a,r),M(s)?a:s};return t.$$watchDelegate&&t.$$watchDelegate!==i?a.$$watchDelegate=t.$$watchDelegate:n.$stateful||(a.$$watchDelegate=i,a.inputs=t.inputs?t.inputs:[t]),a}var n=qr().noUnsafeEval,l={csp:n,expensiveChecks:!1},m={csp:n,expensiveChecks:!0};return function(o,h,g){var f,n,y;switch(typeof o){case"string":y=o=o.trim();var p=g?s:t;return f=p[y],f||(":"===o.charAt(0)&&":"===o.charAt(1)&&(n=!0,o=o.substring(2)),g=g?m:l,f=new Ts(g),f=new Ps(f,a,g).parse(o),f.constant?f.$$watchDelegate=c:n?f.$$watchDelegate=f.literal?$:e:f.inputs&&(f.$$watchDelegate=i),p[y]=f),u(f,h);case"function":return u(o,h);default:return _;}}}]}function ta(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return ia(function(t){e.$evalAsync(t)},t)}]}function ra(){this.$get=["$browser","$exceptionHandler",function(e,t){return ia(function(t){e.defer(t)},t)}]}function ia(t,n){function a(t,n,a){function r(e){return function(n){s||(s=!0,e.call(t,n))}}var s=!1;return[r(n),r(a)]}function r(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function i(a){!a.processScheduled&&a.pending&&(a.processScheduled=!0,t(function(){var t,r,s;s=a.pending,a.processScheduled=!1,a.pending=o;for(var e=0,i=s.length;e<i;++e){r=s[e][0],t=s[e][a.status];try{Y(t)?r.resolve(t(a.value)):1===a.status?r.resolve(a.value):r.reject(a.value)}catch(e){r.reject(e),n(e)}}}))}function $(){this.promise=new r,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}var e=p("$q",TypeError);C(r.prototype,{then:function(e,t,n){if(N(e)&&N(t)&&N(n))return this;var a=new $;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([a,e,t,n]),0<this.$$state.status&&i(this.$$state),a.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return l(t,!0,e)},function(t){return l(t,!1,e)},t)}}),C($.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(e("qcycle",t)):this.$$resolve(t))},$$resolve:function(t){var r,s;s=a(this,this.$$resolve,this.$$reject);try{(W(t)||Y(t))&&(r=t&&t.then),Y(r)?(this.promise.$$state.status=-1,r.call(t,s[0],s[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,i(this.promise.$$state))}catch(e){s[1](e),n(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,i(this.promise.$$state)},notify:function(a){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&t(function(){for(var t,s,e=0,i=r.length;e<i;e++){s=r[e][0],t=r[e][3];try{s.notify(Y(t)?t(a):a)}catch(e){n(e)}}})}});var u=function(e,t){var n=new $;return t?n.resolve(e):n.reject(e),n.promise},l=function(e,t,n){var a=null;try{Y(n)&&(a=n())}catch(t){return u(t,!1)}return a&&Y(a.then)?a.then(function(){return u(e,t)},function(e){return u(e,!1)}):u(e,t)},h=function(t,n,a,r){var s=new $;return s.resolve(t),s.promise.then(n,a,r)},d=function n(t){if(!Y(t))throw e("norslvr",t);if(!(this instanceof n))return new n(t);var r=new $;return t(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise};return d.defer=function(){return new $},d.reject=function(e){var t=new $;return t.reject(e),t.promise},d.when=h,d.resolve=h,d.all=function(e){var t=new $,n=0,r=jr(e)?[]:{};return j(e,function(s,i){n++,h(s).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0==n&&t.resolve(r),t.promise},d}function $a(){this.$get=["$window","$timeout",function(t,n){var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame,a=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,s=!!r,e=s?function(e){var t=r(e);return function(){a(t)}}:function(e){var t=n(e,16.66,!1);return function(){n.cancel(t)}};return e.supported=s,e}]}function ua(){function t(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++aa,this.$$ChildScope=null}return t.prototype=e,t}var i=10,o=p("$rootScope"),$=null,a=null;this.digestTtl=function(e){return arguments.length&&(i=e),i},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(e,n,y,d){function l(e){e.currentScope.$$destroyed=!0}function h(){this.$id=++aa,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function c(e){if(A.$$phase)throw o("inprog",A.$$phase);A.$$phase=e}function v(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function s(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function E(){}function g(){for(;b.length;)try{b.shift()()}catch(e){n(e)}a=null}function f(){null==a&&(a=d.defer(function(){A.$apply(g)}))}h.prototype={constructor:h,$new:function(e,n){var a;return n=n||this,e?(a=new h,a.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),a=new this.$$ChildScope),a.$parent=n,a.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=a,n.$$childTail=a):n.$$childHead=n.$$childTail=a,(e||n!=this)&&a.$on("$destroy",l),a},$watch:function(t,n,a,s){var e=y(t);if(e.$$watchDelegate)return e.$$watchDelegate(this,n,a,e,t);var i=this,o=i.$$watchers,d={fn:n,last:E,get:e,exp:s||t,eq:!!a};return $=null,Y(n)||(d.fn=_),o||(o=i.$$watchers=[]),o.unshift(d),v(this,1),function(){0<=_e(o,d)&&v(i,-1),$=null}},$watchGroup:function(t,n){function r(){d=!1,a?(a=!1,n(i,i,o)):n(i,s,o)}var s=Array(t.length),i=Array(t.length),e=[],o=this,d=!1,a=!0;if(!t.length){var p=!0;return o.$evalAsync(function(){p&&n(i,i,o)}),function(){p=!1}}return 1===t.length?this.$watch(t[0],function(e,t,a){i[0]=e,s[0]=t,n(i,e===t?i:s,a)}):(j(t,function(t,n){var a=o.$watch(t,function(e,t){i[n]=e,s[n]=t,d||(d=!0,o.$evalAsync(r))});e.push(a)}),function(){for(;e.length;)e.shift()()})},$watchCollection:function(n,r){function a(t){i=t;var n,a,r,s;if(!N(i)){if(!W(i))e!==i&&(e=i,$++);else if(S(i))for(e!==u&&(e=u,p=e.length=0,$++),t=i.length,p!==t&&($++,e.length=p=t),n=0;n<t;n++)s=e[n],r=i[n],a=s!==s&&r!==r,a||s===r||($++,e[n]=r);else{for(n in e!==m&&(e=m={},p=0,$++),t=0,i)i.hasOwnProperty(n)&&(t++,r=i[n],s=e[n],n in e?(a=s!==s&&r!==r,a||s===r||($++,e[n]=r)):(p++,e[n]=r,$++));if(p>t)for(n in $++,e)i.hasOwnProperty(n)||(p--,delete e[n])}return $}}a.$stateful=!0;var i,e,o,c=this,d=1<r.length,$=0,l=y(n,a),u=[],m={},s=!0,p=0;return this.$watch(l,function(){if(s?(s=!1,r(i,i,c)):r(i,o,c),d)if(!W(i))o=i;else if(S(i)){o=Array(i.length);for(var e=0;e<i.length;e++)o[e]=i[e]}else for(e in o={},i)Or.call(i,e)&&(o[e]=i[e])})},$digest:function(){var e,r,l,y,v,m,s,b,x,S=i,t=[];c("$digest"),d.$$checkUrlChange(),this===A&&null!==a&&(d.defer.cancel(a),g()),$=null;do{for(m=!1,s=this;p.length;){try{x=p.shift(),x.scope.$eval(x.expression,x.locals)}catch(e){n(e)}$=null}a:do{if(y=s.$$watchers)for(v=y.length;v--;)try{if(e=y[v])if((r=e.get(s))!==(l=e.last)&&(e.eq?!nt(r,l):!("number"==typeof r&&"number"==typeof l&&isNaN(r)&&isNaN(l))))m=!0,$=e,e.last=e.eq?et(r,null):r,e.fn(r,l===E?r:l,s),5>S&&(b=4-S,t[b]||(t[b]=[]),t[b].push({msg:Y(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:l}));else if(e===$){m=!1;break a}}catch(e){n(e)}if(!(y=s.$$watchersCount&&s.$$childHead||s!==this&&s.$$nextSibling))for(;s!==this&&!(y=s.$$nextSibling);)s=s.$parent}while(s=y);if((m||p.length)&&!S--)throw A.$$phase=null,o("infdig",i,t)}while(m||p.length);for(A.$$phase=null;u.length;)try{u.shift()()}catch(e){n(e)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===A&&d.$$applicationDestroyed(),v(this,-this.$$watchersCount),this.$$listenerCount)s(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=_,this.$on=this.$watch=this.$watchGroup=function(){return _},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(e,t){return y(e)(this,t)},$evalAsync:function(e,t){A.$$phase||p.length||d.defer(function(){p.length&&A.$digest()}),p.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){u.push(e)},$apply:function(e){try{c("$apply");try{return this.$eval(e)}finally{A.$$phase=null}}catch(e){n(e)}finally{try{A.$digest()}catch(e){throw n(e),e}}},$applyAsync:function(e){var t=this;e&&b.push(function(){t.$eval(e)}),f()},$on:function(t,n){var a=this.$$listeners[t];a||(this.$$listeners[t]=a=[]),a.push(n);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var e=a.indexOf(n);-1!==e&&(a[e]=null,s(i,1,t))}},$emit:function(t){var r,s,i,o=[],l=this,d=!1,p={name:t,targetScope:l,stopPropagation:function(){d=!0},preventDefault:function(){p.defaultPrevented=!0},defaultPrevented:!1},c=at([p],arguments,1);do{for(r=l.$$listeners[t]||o,p.currentScope=l,s=0,i=r.length;s<i;s++)if(r[s])try{r[s].apply(null,c)}catch(e){n(e)}else r.splice(s,1),s--,i--;if(d)return p.currentScope=null,p;l=l.$parent}while(l);return p.currentScope=null,p},$broadcast:function(t){var r=this,s=this,i={name:t,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return i;for(var e,o,l=at([i],arguments,1);r=s;){for(i.currentScope=r,s=r.$$listeners[t]||[],e=0,o=s.length;e<o;e++)if(s[e])try{s[e].apply(null,l)}catch(e){n(e)}else s.splice(e,1),e--,o--;if(!(s=r.$$listenerCount[t]&&r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(s=r.$$nextSibling);)r=r.$parent}return i.currentScope=null,i}};var A=new h,p=A.$$asyncQueue=[],u=A.$$postDigestQueue=[],b=A.$$applyAsyncQueue=[];return A}]}function ma(){var t=/^\s*(https?|ftp|mailto|tel|file):/,n=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return M(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(e){return M(e)?(n=e,this):n},this.$get=function(){return function(a,r){var s,i=r?n:t;return s=ja(a).href,""===s||s.match(i)?a:"unsafe:"+s}}}function ha(e){if("self"===e)return e;if(V(e)){if(-1<e.indexOf("***"))throw Ns("iwcard",e);return e=T(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(k(e))return new RegExp("^"+e.source+"$");throw Ns("imatcher")}function ga(e){var t=[];return M(e)&&j(e,function(e){t.push(ha(e))}),t}function ya(){this.SCE_CONTEXTS=Ca;var e=["self"],n=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=ga(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(n=ga(e)),n},this.$get=["$injector",function(t){function a(e,t){return"self"===e?Aa(t):!!e.exec(t.href)}function r(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var i=function(){throw Ns("unsafe")};t.has("$sanitize")&&(i=t.get("$sanitize"));var s=r(),l={};return l[Ca.HTML]=r(s),l[Ca.CSS]=r(s),l[Ca.URL]=r(s),l[Ca.JS]=r(s),l[Ca.RESOURCE_URL]=r(l[Ca.URL]),{trustAs:function(e,t){var n=l.hasOwnProperty(e)?l[e]:null;if(!n)throw Ns("icontext",e,t);if(null===t||t===o||""===t)return t;if("string"!=typeof t)throw Ns("itype",e);return new n(t)},getTrusted:function(r,d){if(null===d||d===o||""===d)return d;var p=l.hasOwnProperty(r)?l[r]:null;if(p&&d instanceof p)return d.$$unwrapTrustedValue();if(r===Ca.RESOURCE_URL){var c,$,p=ja(d.toString()),s=!1;for(c=0,$=e.length;c<$;c++)if(a(e[c],p)){s=!0;break}if(s)for(c=0,$=n.length;c<$;c++)if(a(n[c],p)){s=!1;break}if(s)return d;throw Ns("insecurl",d.toString())}if(r===Ca.HTML)return i(d);throw Ns("unsafe")},valueOf:function(e){return e instanceof s?e.$$unwrapTrustedValue():e}}}]}function ba(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(n,a){if(t&&8>vr)throw Ns("iequirks");var r=tt(Ca);r.isEnabled=function(){return t},r.trustAs=a.trustAs,r.getTrusted=a.getTrusted,r.valueOf=a.valueOf,t||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=q),r.parseAs=function(t,a){var s=n(a);return s.literal&&s.constant?s:n(a,function(e){return r.getTrusted(t,e)})};var s=r.parseAs,e=r.getTrusted,i=r.trustAs;return j(Ca,function(t,n){var a=Ar(n);r[de("parse_as_"+a)]=function(e){return s(t,e)},r[de("get_trusted_"+a)]=function(n){return e(t,n)},r[de("trust_as_"+a)]=function(e){return i(t,e)}}),r}]}function Sa(){this.$get=["$window","$document",function(t,n){var a,r={},s=E((/android (\d+)/.exec(Ar((t.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((t.navigator||{}).userAgent),o=n[0]||{},p=/^(Moz|webkit|ms)(?=[A-Z])/,c=o.body&&o.body.style,l=!1,$=!1;if(c){for(var u in c)if(l=p.exec(u)){a=l[0],a=a.substr(0,1).toUpperCase()+a.substr(1);break}a||(a="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||a+"Transition"in c),$=!!("animation"in c||a+"Animation"in c),!s||l&&$||(l=V(c.webkitTransition),$=V(c.webkitAnimation))}return{history:t.history&&t.history.pushState&&!(4>s)&&!i,hasEvent:function(e){if("input"===e&&11>=vr)return!1;if(N(r[e])){var t=o.createElement("div");r[e]="on"+e in t}return r[e]},csp:qr(),vendorPrefix:a,transitions:l,animations:$,android:s}}]}function wa(){this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,a){function s(e,i){s.totalPendingRequests++,V(e)&&t.get(e)||(e=a.getTrustedResourceUrl(e));var o=n.defaults&&n.defaults.transformResponse;return jr(o)?o=o.filter(function(e){return e!==fn}):o===fn&&(o=null),n.get(e,{cache:t,transformResponse:o})["finally"](function(){s.totalPendingRequests--}).then(function(n){return t.put(e,n.data),n.data},function(t){if(!i)throw ps("tpload",e,t.status,t.statusText);return r.reject(t)})}return s.totalPendingRequests=0,s}]}function Oa(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var r=[];return j(e,function(e){var a=Ea.element(e).data("$binding");a&&j(a,function(a){n?new RegExp("(^|\\s)"+T(t)+"(\\s|\\||$)").test(a)&&r.push(e):-1!=a.indexOf(t)&&r.push(e)})}),r},findModels:function(e,t,n){for(var a,r=["ng-","data-ng-","ng\\:"],s=0;s<r.length;++s)if(a=e.querySelectorAll("["+r[s]+"model"+(n?"=":"*=")+"\""+t+"\"]"),a.length)return a},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function Ta(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(n,r,a,i,t){function e(e,d,l){Y(e)||(l=d,d=e,e=_);var p,c=Mr.call(arguments,3),$=M(l)&&!l,u=($?i:a).defer(),s=u.promise;return p=r.defer(function(){try{u.resolve(e.apply(null,c))}catch(e){u.reject(e),t(e)}finally{delete o[s.$$timeoutId]}$||n.$apply()},d),s.$$timeoutId=p,o[p]=u,s}var o={};return e.cancel=function(e){return e&&e.$$timeoutId in o&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],r.defer.cancel(e.$$timeoutId))},e}]}function ja(e){return vr&&(oa.setAttribute("href",e),e=oa.href),oa.setAttribute("href",e),{href:oa.href,protocol:oa.protocol?oa.protocol.replace(/:$/,""):"",host:oa.host,search:oa.search?oa.search.replace(/^\?/,""):"",hash:oa.hash?oa.hash.replace(/^#/,""):"",hostname:oa.hostname,port:oa.port,pathname:"/"===oa.pathname.charAt(0)?oa.pathname:"/"+oa.pathname}}function Aa(e){return e=V(e)?ja(e):e,e.protocol===Z.protocol&&e.host===Z.host}function Da(){this.$get=O(t)}function Ia(t){function n(e){try{return decodeURIComponent(e)}catch(t){return e}}var a=t[0]||{},r={},s="";return function(){var e,t,i,d,l;if(e=a.cookie||"",e!==s)for(s=e,e=s.split("; "),r={},i=0;i<e.length;i++)t=e[i],d=t.indexOf("="),0<d&&(l=n(t.substring(0,d)),r[l]===o&&(r[l]=n(t.substring(d+1))));return r}}function qa(){this.$get=Ia}function Ua(t){function n(a,r){if(W(a)){var s={};return j(a,function(e,t){s[t]=n(t,e)}),s}return t.factory(a+"Filter",r)}this.register=n,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],n("currency",Wa),n("date",sr),n("filter",Ba),n("json",ir),n("limitTo",or),n("lowercase",Rs),n("number",Ya),n("orderBy",lr),n("uppercase",Us)}function Ba(){return function(e,t,n){if(!S(e)){if(null==e)return e;throw p("filter")("notarray",e)}var a;switch(La(t)){case"function":break;case"boolean":case"null":case"number":case"string":a=!0;case"object":t=_a(t,n,a);break;default:return e;}return Array.prototype.filter.call(e,t)}}function _a(t,n,a){var r=W(t)&&"$"in t;return!0===n?n=nt:Y(n)||(n=function(e,t){return!N(e)&&(null===e||null===t?e==t:W(t)||W(e)&&!m(e)?!1:(e=Ar(""+e),t=Ar(""+t),-1!==e.indexOf(t)))}),function(s){return r&&!W(s)?za(s,t.$,n,!1):za(s,t,n,a)}}function za(t,n,a,r,s){var i=La(t),o=La(n);if("string"===o&&"!"===n.charAt(0))return!za(t,n.substring(1),a,r);if(jr(t))return t.some(function(e){return za(e,n,a,r)});switch(i){case"object":if(r){for(var l in t)if("$"!==l.charAt(0)&&za(t[l],n,a,!0))return!0;return!s&&za(t,n,a,!1)}if("object"===o){for(l in n)if(s=n[l],!Y(s)&&!N(s)&&(i="$"===l,!za(i?t:t[l],s,a,i,i)))return!1;return!0}return a(t,n);case"function":return!1;default:return a(t,n);}}function La(e){return null===e?"null":typeof e}function Wa(e){var t=e.NUMBER_FORMATS;return function(n,a,r){return N(a)&&(a=t.CURRENCY_SYM),N(r)&&(r=t.PATTERNS[1].maxFrac),null==n?n:Ja(n,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,a)}}function Ya(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Ja(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Ja(n,r,a,i,o){if(W(n))return"";var d=0>n;n=wr(n);var p=Infinity===n;if(!p&&!isFinite(n))return"";var c=n+"",$="",l=!1,u=[];if(p&&($="\u221E"),!p&&-1!==c.indexOf("e")){var m=c.match(/([\d\.]+)e(-?)(\d+)/);m&&"-"==m[2]&&m[3]>o+1?n=0:($=c,l=!0)}if(p||l)0<o&&1>n&&($=n.toFixed(o),n=parseFloat($));else{p=(c.split(js)[1]||"").length,N(o)&&(o=Sr(Cr(r.minFrac,p),r.maxFrac)),n=+(xr(+(n.toString()+"e"+o)).toString()+"e"+-o);var p=(""+n).split(js),c=p[0],p=p[1]||"",m=0,h=r.lgSize,s=r.gSize;if(c.length>=h+s)for(m=c.length-h,l=0;l<m;l++)0==(m-l)%s&&0!==l&&($+=a),$+=c.charAt(l);for(l=m;l<c.length;l++)0==(c.length-l)%h&&0!==l&&($+=a),$+=c.charAt(l);for(;p.length<o;)p+="0";o&&"0"!==o&&($+=i+p.substr(0,o))}return 0===n&&(d=!1),u.push(d?r.negPre:r.posPre,$,d?r.negSuf:r.posSuf),u.join("")}function er(e,t,n){var a="";for(0>e&&(a="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),a+e}function tr(t,n,a,r){return a=a||0,function(s){return s=s["get"+t](),(0<a||s>-a)&&(s+=a),0===s&&-12==a&&(s=12),er(s,n,r)}}function $(t,n){return function(a,r){var s=a["get"+t](),e=Na(n?"SHORT"+t:t);return r[e][s]}}function nr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function ar(e){return function(t){var n=nr(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+xr(t/6048E5),er(t,e)}}function rr(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function sr(t){function n(t){var n;if(n=t.match(e)){t=new Date(0);var r=0,s=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(r=E(n[9]+n[10]),s=E(n[9]+n[11])),i.call(t,E(n[1]),E(n[2])-1,E(n[3])),r=E(n[4]||0)-r,s=E(n[5]||0)-s,i=E(n[6]||0),n=xr(1E3*parseFloat("0."+(n[7]||0))),o.call(t,r,s,i,n)}return t}var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(r,a,e){var s,i,o="",l=[];if(a=a||"mediumDate",a=t.DATETIME_FORMATS[a]||a,V(r)&&(r=qs.test(r)?E(r):n(r)),P(r)&&(r=new Date(r)),!F(r)||!isFinite(r.getTime()))return r;for(;a;)(i=Is.exec(a))?(l=at(l,i,1),a=l.pop()):(l.push(a),a=null);var d=r.getTimezoneOffset();return e&&(d=ot(e,r.getTimezoneOffset()),r=lt(r,e,!0)),j(l,function(e){s=Ds[e],o+=s?s(r,t.DATETIME_FORMATS,d):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}}function ir(){return function(e,t){return N(t)&&(t=2),st(e,t)}}function or(){return function(e,t,n){return(t=Infinity===wr(+t)?+t:E(t),isNaN(t))?e:(P(e)&&(e=e.toString()),!jr(e)&&!V(e))?e:(n=!n||isNaN(n)?0:E(n),n=0>n&&n>=-e.length?e.length+n:n,0<=t?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Cr(0,n+t),n))}}function lr(e){function t(t,n){return n=n?-1:1,t.map(function(t){var a=1,r=q;if(Y(t))r=t;else if(V(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(a="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant)))var s=r(),r=function(e){return e[s]};return{get:r,descending:a*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1;}}return function(a,r,e){if(!S(a))return a;jr(r)||(r=[r]),0===r.length&&(r=["+"]);var s=t(r,e);return s.push({get:function(){return{}},descending:e?-1:1}),a=Array.prototype.map.call(a,function(t,r){return{value:t,predicateValues:s.map(function(a){var s=a.get(t);if(a=typeof s,null===s)a="string",s="null";else if("string"===a)s=s.toLowerCase();else if("object"===a)a:{if("function"==typeof s.valueOf&&(s=s.valueOf(),n(s)))break a;if(m(s)&&(s=s.toString(),n(s)))break a;s=r}return{value:s,type:a}})}}),a.sort(function(n,a){for(var r=0,i=0,o=s.length;i<o;++i){var r=n.predicateValues[i],e=a.predicateValues[i],l=0;if(r.type===e.type?r.value!==e.value&&(l=r.value<e.value?-1:1):l=r.type<e.type?-1:1,r=l*s[i].descending)break}return r}),a=a.map(function(e){return e.value})}}function dr(e){return Y(e)&&(e={link:e}),e.restrict=e.restrict||"AC",O(e)}function Ma(t,n,a,r,s){var e=this,i=[],l=e.$$parentForm=t.parent().controller("form")||Hs;e.$error={},e.$$success={},e.$pending=o,e.$name=s(n.name||n.ngForm||"")(a),e.$dirty=!1,e.$pristine=!0,e.$valid=!0,e.$invalid=!1,e.$submitted=!1,l.$addControl(e),e.$rollbackViewValue=function(){j(i,function(e){e.$rollbackViewValue()})},e.$commitViewValue=function(){j(i,function(e){e.$commitViewValue()})},e.$addControl=function(t){St(t.$name,"input"),i.push(t),t.$name&&(e[t.$name]=t)},e.$$renameControl=function(t,n){var a=t.$name;e[a]===t&&delete e[a],e[n]=t,t.$name=n},e.$removeControl=function(t){t.$name&&e[t.$name]===t&&delete e[t.$name],j(e.$pending,function(n,a){e.$setValidity(a,null,t)}),j(e.$error,function(n,a){e.$setValidity(a,null,t)}),j(e.$$success,function(n,a){e.$setValidity(a,null,t)}),_e(i,t)},fr({ctrl:this,$element:t,set:function(e,t,n){var a=e[t];a?-1===a.indexOf(n)&&a.push(n):e[t]=[n]},unset:function(e,t,n){var a=e[t];a&&(_e(a,n),0===a.length&&delete e[t])},parentForm:l,$animate:r}),e.$setDirty=function(){r.removeClass(t,wi),r.addClass(t,Xa),e.$dirty=!0,e.$pristine=!1,l.$setDirty()},e.$setPristine=function(){r.setClass(t,wi,Xa+" ng-submitted"),e.$dirty=!1,e.$pristine=!0,e.$submitted=!1,j(i,function(e){e.$setPristine()})},e.$setUntouched=function(){j(i,function(e){e.$setUntouched()})},e.$setSubmitted=function(){r.addClass(t,"ng-submitted"),e.$submitted=!0,l.$setSubmitted()}}function pr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function cr(t,n,a,r,s,i){var o=Ar(n[0].type);if(!s.android){var d=!1;n.on("compositionstart",function(){d=!0}),n.on("compositionend",function(){d=!1,e()})}var e=function(t){if(l&&(i.defer.cancel(l),l=null),!d){var s=n.val();t=t&&t.type,"password"===o||a.ngTrim&&"false"===a.ngTrim||(s=Ir(s)),(r.$viewValue!==s||""===s&&r.$$hasNativeValidators)&&r.$setViewValue(s,t)}};if(s.hasEvent("input"))n.on("input",e);else{var l,p=function(t,n,a){l||(l=i.defer(function(){l=null,n&&n.value===a||e(t)}))};n.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||p(e,this,this.value)}),s.hasEvent("paste")&&n.on("paste cut",p)}n.on("change",e),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;n.val()!==e&&n.val(e)}}function $r(t,e){return function(n,a){var r,s;if(F(n))return n;if(V(n)){if("\""==n.charAt(0)&&"\""==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ws.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),s=a?{yyyy:a.getFullYear(),MM:a.getMonth()+1,dd:a.getDate(),HH:a.getHours(),mm:a.getMinutes(),ss:a.getSeconds(),sss:a.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},j(r,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1E3*s.sss||0)}return NaN}}function ur(i,e,s,r){return function(a,d,p,c,$,l,u){function m(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return M(e)?F(e)?e:s(e):o}mr(a,d,p,c),cr(a,d,p,c,$,l);var g,n=c&&c.$options&&c.$options.timezone;if(c.$$parserName=i,c.$parsers.push(function(t){return c.$isEmpty(t)?null:e.test(t)?(t=s(t,g),n&&(t=lt(t,n)),t):o}),c.$formatters.push(function(e){if(e&&!F(e))throw Ei("datefmt",e);return m(e)?((g=e)&&n&&(g=lt(g,n,!0)),u("date")(e,r,n)):(g=null,"")}),M(p.min)||p.ngMin){var t;c.$validators.min=function(e){return!m(e)||N(t)||s(e)>=t},p.$observe("min",function(e){t=h(e),c.$validate()})}if(M(p.max)||p.ngMax){var f;c.$validators.max=function(e){return!m(e)||N(f)||s(e)<=f},p.$observe("max",function(e){f=h(e),c.$validate()})}}}function mr(e,t,n,a){(a.$$hasNativeValidators=W(t[0].validity))&&a.$parsers.push(function(e){var n=t.prop("validity")||{};return n.badInput&&!n.typeMismatch?o:e})}function hr(t,n,a,r,s){if(M(r)){if(t=t(r),!t.constant)throw Ei("constexpr",a,r);return t(n)}return s}function gr(t,s){return t="ngClass"+t,["$animate",function(a){function i(t,n){var a=[],r=0;a:for(;r<t.length;r++){for(var s=t[r],e=0;e<n.length;e++)if(s==n[e])continue a;a.push(s)}return a}function o(e){var t=[];return jr(e)?(j(e,function(e){t=t.concat(o(e))}),t):V(e)?e.split(" "):W(e)?(j(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(e,p,r){function d(e,t){var n=p.data("$classCounts")||Et(),r=[];return j(e,function(e){(0<t||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(0<t)&&r.push(e))}),p.data("$classCounts",n),r.join(" ")}function n(t){if(!0===s||e.$index%2===s){var c=o(t||[]);if(!l){var $=d(c,1);r.$addClass($)}else if(!nt(t,l)){var n=o(l),$=i(c,n),c=i(n,c),$=d($,1),c=d(c,-1);$&&$.length&&a.addClass(p,$),c&&c.length&&a.removeClass(p,c)}}l=tt(t)}var l;e.$watch(r[t],n,!0),r.$observe("class",function(){n(e.$eval(r[t]))}),"ngClass"!==t&&e.$watch("$index",function(n,a){var i=1&n;if(i!=(1&a)){var l=o(e.$eval(r[t]));i===s?(i=d(l,1),r.$addClass(i)):(i=d(l,-1),r.$removeClass(i))}})}}}]}function fr(t){function n(t,n){n&&!e[t]?(l.addClass(s,t),e[t]=!0):!n&&e[t]&&(l.removeClass(s,t),e[t]=!1)}function a(e,t){e=e?"-"+vt(e,"-"):"",n(xi+e,!0===t),n(Si+e,!1===t)}var r=t.ctrl,s=t.$element,e={},i=t.set,d=t.unset,p=t.parentForm,l=t.$animate;e[Si]=!(e[xi]=s.hasClass(xi)),r.$setValidity=function(t,s,e){s===o?(r.$pending||(r.$pending={}),i(r.$pending,t,e)):(r.$pending&&d(r.$pending,t,e),yr(r.$pending)&&(r.$pending=o)),J(s)?s?(d(r.$error,t,e),i(r.$$success,t,e)):(i(r.$error,t,e),d(r.$$success,t,e)):(d(r.$error,t,e),d(r.$$success,t,e)),r.$pending?(n(Ci,!0),r.$valid=r.$invalid=o,a("",null)):(n(Ci,!1),r.$valid=yr(r.$error),r.$invalid=!r.$valid,a("",r.$valid)),s=r.$pending&&r.$pending[t]?o:!r.$error[t]&&(!!r.$$success[t]||null),a(t,s),p.$setValidity(t,s,r)}}function yr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var vr,Va,br,la,xr=Math.round,Sr=Math.min,wr=Math.abs,Cr=Math.max,Er=Number.MAX_VALUE,kr=/^\/(.+)\/([a-z]*)$/,Ar=function(e){return V(e)?e.toLowerCase():e},Or=Object.prototype.hasOwnProperty,Na=function(e){return V(e)?e.toUpperCase():e},Mr=[].slice,xa=[].splice,Tr=[].push,Vr=Object.prototype.toString,sa=Object.getPrototypeOf,Pr=p("ng"),Ea=t.angular||(t.angular={}),aa=0;vr=i.documentMode,_.$inject=[],q.$inject=[];var Nr,jr=Array.isArray,Dr=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Ir=function(e){return V(e)?e.trim():e},T=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},qr=function(){if(!M(qr.rules)){var e=i.querySelector("[ng-csp]")||i.querySelector("[data-ng-csp]");if(e){var t=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");qr.rules={noUnsafeEval:!t||-1!==t.indexOf("no-unsafe-eval"),noInlineStyle:!t||-1!==t.indexOf("no-inline-style")}}else{e=qr;try{new Function(""),t=!1}catch(e){t=!0}e.rules={noUnsafeEval:t,noInlineStyle:!1}}}return qr.rules},Rr=function(){if(M(Rr.name_))return Rr.name_;var t,n,a,r,e=Ur.length;for(n=0;n<e;++n)if(a=Ur[n],t=i.querySelector("["+a.replace(":","\\:")+"jq]")){r=t.getAttribute(a+"jq");break}return Rr.name_=r},Ur=["ng-","data-ng-","ng:","x-ng-"],Qa=/[A-Z]/g,be=!1,Br=1,pa=3,Pa={full:"1.4.5",major:1,minor:4,dot:5,codeName:"permanent-internship"};Mt.expando="ng339";var Fr=Mt.cache={},Hr=1;Mt._data=function(e){return this.cache[e[this.expando]]||{}};var Lr=/([\:\-\_]+(.))/g,_r=/^moz([A-Z])/,zr={mouseleave:"mouseout",mouseenter:"mouseover"},Wr=p("jqLite"),Gr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Kr=/<|&#?\w+;/,Yr=/<([\w:]+)/,Jr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qr={option:[1,"<select multiple=\"multiple\">","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qr.optgroup=Qr.option,Qr.tbody=Qr.tfoot=Qr.colgroup=Qr.caption=Qr.thead,Qr.th=Qr.td;var na=Mt.prototype={ready:function(e){function n(){a||(a=!0,e())}var a=!1;"complete"===i.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),Mt(t).on("load",n))},toString:function(){var e=[];return j(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return 0<=e?Va(this[e]):Va(this[this.length+e])},length:0,push:Tr,sort:[].sort,splice:[].splice},Ra={};j(["multiple","selected","checked","disabled","readOnly","required","open"],function(e){Ra[Ar(e)]=e});var Xr={};j(["input","select","option","textarea","button","form","details"],function(e){Xr[e]=!0});var Zr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};j({data:jt,removeData:Pt,hasData:function(e){for(var t in Fr[e.ng339])return!0;return!1}},function(e,t){Mt[t]=e}),j({data:jt,inheritedData:Bt,scope:function(e){return Va.data(e,"$scope")||Bt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Va.data(e,"$isolateScope")||Va.data(e,"$isolateScopeNoTemplate")},controller:Ut,injector:function(e){return Bt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Dt,css:function(e,t,n){return t=de(t),M(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var a=e.nodeType;if(a!==pa&&2!==a&&8!==a)if(a=Ar(t),Ra[a]){if(M(n))n?(e[t]=!0,e.setAttribute(t,a)):(e[t]=!1,e.removeAttribute(a));else return e[t]||(e.attributes.getNamedItem(t)||_).specified?a:o;}else if(M(n))e.setAttribute(t,n);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?o:e},prop:function(e,t,n){return M(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(N(t)){var n=e.nodeType;return n===Br||n===pa?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(N(t)){if(e.multiple&&"select"===ce(e)){var n=[];return j(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return N(t)?e.innerHTML:void(Tt(e,!0),e.innerHTML=t)},empty:Ft},function(t,e){Mt.prototype[e]=function(n,a){var r,e,s=this.length;if(t!==Ft&&(2==t.length&&t!==Dt&&t!==Ut?n:a)===o){if(W(n)){for(r=0;r<s;r++)if(t===jt)t(this[r],n);else for(e in n)t(this[r],e,n[e]);return this}for(r=t.$dv,s=r===o?Sr(s,1):s,e=0;e<s;e++){var i=t(this[e],n,a);r=r?r+i:i}return r}for(r=0;r<s;r++)t(this[r],n,a);return this}}),j({removeData:Pt,on:function t(n,r,a,e){if(M(e))throw Wr("onargs");if(At(n)){var s=Nt(n,!0);e=s.events;var i=s.handle;i||(i=s.handle=Wt(n,e));for(var s=0<=r.indexOf(" ")?r.split(" "):[r],o=s.length;o--;){r=s[o];var l=e[r];l||(e[r]=[],"mouseenter"===r||"mouseleave"===r?t(n,zr[r],function(e){var t=e.relatedTarget;t&&(t===this||this.contains(t))||i(e,r)}):"$destroy"!=r&&n.addEventListener(r,i,!1),l=e[r]),l.push(a)}}},off:Vt,one:function(e,t,n){e=Va(e),e.on(t,function a(){e.off(t,n),e.off(t,a)}),e.on(t,n)},replaceWith:function(t,n){var a,r=t.parentNode;Tt(t),j(new Mt(n),function(e){a?r.insertBefore(e,a.nextSibling):r.replaceChild(e,t),a=e})},children:function(e){var t=[];return j(e.childNodes,function(e){e.nodeType===Br&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(t,n){var a=t.nodeType;if(a===Br||11===a){n=new Mt(n);for(var a=0,r=n.length;a<r;a++)t.appendChild(n[a])}},prepend:function(e,t){if(e.nodeType===Br){var n=e.firstChild;j(new Mt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Va(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Ht,detach:function(e){Ht(e,!0)},after:function(t,n){var a=t,r=t.parentNode;n=new Mt(n);for(var e,s=0,i=n.length;s<i;s++)e=n[s],r.insertBefore(e,a.nextSibling),a=e},addClass:qt,removeClass:It,toggleClass:function(e,t,n){t&&j(t.split(" "),function(t){var a=n;N(a)&&(a=!Dt(e,t)),(a?qt:It)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:R,triggerHandler:function(t,n,r){var s,e,i=n.type||n,o=Nt(t);(o=(o=o&&o.events)&&o[i])&&(s={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:_,type:i,target:t},n.type&&(s=C(s,n)),n=tt(o),e=r?[s].concat(r):[s],j(n,function(n){s.isImmediatePropagationStopped()||n.apply(t,e)}))}},function(t,e){Mt.prototype[e]=function(n,a,e){for(var r,s=0,i=this.length;s<i;s++)N(r)?(r=t(this[s],n,a,e),M(r)&&(r=Va(r))):Rt(r,t(this[s],n,a,e));return M(r)?r:this},Mt.prototype.bind=Mt.prototype.on,Mt.prototype.unbind=Mt.prototype.off}),Yt.prototype={put:function(e,t){this[Kt(e,this.nextUid)]=t},get:function(e){return this[Kt(e,this.nextUid)]},remove:function(e){var t=this[e=Kt(e,this.nextUid)];return delete this[e],t}};var es=[function(){this.$get=[function(){return Yt}]}],ts=/^[^\(]*\(\s*([^\)]*)\)/m,ns=/,/,as=/^\s*(_?)(\S+?)\1\s*$/,rs=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,ss=p("$injector");Qt.$$annotate=function(t,n,r){var s;if(!("function"==typeof t))jr(t)?(n=t.length-1,xt(t[n],"fn"),s=t.slice(0,n)):xt(t,"fn",!0);else if(!(s=t.$inject)){if(s=[],t.length){if(n)throw V(r)&&r||(r=t.name||Jt(t)),ss("strictdi",r);n=t.toString().replace(rs,""),n=n.match(ts),j(n[1].split(ns),function(e){e.replace(as,function(e,t,n){s.push(n)})})}t.$inject=s}return s};var Ha=p("$animate"),is=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=_,n.chain=_,n.prototype={end:_,cancel:_,resume:_,pause:_,complete:_,then:function(n,a){return e(function(e){t(function(){e()})}).then(n,a)}},n}]},os=function(){var t=new Yt,n=[];this.$get=["$$AnimateRunner","$rootScope",function(r,a){function s(e,r,s){var i=t.get(e);i||(t.put(e,i={}),n.push(e)),e=function(e,t){var n=!1;return e&&(e=V(e)?e.split(" "):jr(e)?e:[],j(e,function(e){e&&(n=!0,i[e]=t)})),n},r=e(r,!0),s=e(s,!1),(r||s)&&!(1<n.length)&&a.$$postDigest(function(){j(n,function(n){var a=t.get(n);if(a){var r=en(n.attr("class")),e="",s="";j(a,function(t,n){t!==!!r[n]&&(t?e+=(e.length?" ":"")+n:s+=(s.length?" ":"")+n)}),j(n,function(t){e&&qt(t,e),s&&It(t,s)}),t.remove(n)}}),n.length=0})}return{enabled:_,on:_,off:_,pin:_,push:function(t,n,a,e){return e&&e(),a=a||{},a.from&&t.css(a.from),a.to&&t.css(a.to),(a.addClass||a.removeClass)&&s(t,a.addClass,a.removeClass),new r}}}]},ls=["$provide",function(t){var n=this;this.$$registeredAnimations=Object.create(null),this.register=function(a,r){if(a&&"."!==a.charAt(0))throw Ha("notcsel",a);var e=a+"-animation";n.$$registeredAnimations[a.substr(1)]=e,t.factory(e,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Ha("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,n,a){if(a){var e;a:{for(e=0;e<a.length;e++){var r=a[e];if(1===r.nodeType){e=r;break a}}e=void 0}!e||e.parentNode||e.previousElementSibling||(a=null)}a?a.after(t):n.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,a,r,s){return a=a&&Va(a),r=r&&Va(r),a=a||r.parent(),e(n,a,r),t.push(n,"enter",tn(s))},move:function(n,a,r,s){return a=a&&Va(a),r=r&&Va(r),a=a||r.parent(),e(n,a,r),t.push(n,"move",tn(s))},leave:function(n,a){return t.push(n,"leave",tn(a),function(){n.remove()})},addClass:function(n,a,e){return e=tn(e),e.addClass=Zt(e.addclass,a),t.push(n,"addClass",e)},removeClass:function(n,a,e){return e=tn(e),e.removeClass=Zt(e.removeClass,a),t.push(n,"removeClass",e)},setClass:function(n,a,e,r){return r=tn(r),r.addClass=Zt(r.addClass,a),r.removeClass=Zt(r.removeClass,e),t.push(n,"setClass",r)},animate:function(n,a,e,r,s){return s=tn(s),s.from=s.from?C(s.from,a):a,s.to=s.to?C(s.to,e):e,s.tempClasses=Zt(s.tempClasses,r||"ng-inline-animate"),t.push(n,"animate",s)}}}]}],ds=function(){this.$get=["$$rAF","$q",function(e,t){var n=function(){};return n.prototype={done:function(e){this.defer&&this.defer[!0===e?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise()["catch"](e)},finally:function(e){return this.getPromise()["finally"](e)}},function(t,a){function r(){return e(function(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null),s||i.done(),s=!0}),i}a.from&&(t.css(a.from),a.from=null);var s,i=new n;return{start:r,end:r}}}]},ps=p("$compile");on.$inject=["$provide","$$sanitizeUriProvider"];var ea=/^((?:x|data)[\:\-_])/i,cs=p("$controller"),$s=/^(\S+)(\s+as\s+(\w+))?$/,us=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Va&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},ms="application/json",hs={"Content-Type":ms+";charset=utf-8"},gs=/^\[|^\{(?!\{)/,fs={"[":/]$/,"{":/}$/},ys=/^\)\]\}',?\n/,vs=p("$http"),bs=function(e){return function(){throw vs("legacy",e)}},xs=Ea.$interpolateMinErr=p("$interpolate");xs.throwNoconcat=function(e){throw xs("noconcat",e)},xs.interr=function(e,t){return xs("interr",e,t.toString())};var Ka=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Ss={http:80,https:443,ftp:21},ws=p("$location"),Cs={$$html5:!1,$$replace:!1,absUrl:In("$$absUrl"),url:function(e){if(N(e))return this.$$url;var t=Ka.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:In("$$protocol"),host:In("$$host"),port:In("$$port"),path:qn("$$path",function(e){return e=null===e?"":e.toString(),"/"==e.charAt(0)?e:"/"+e}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(V(t)||P(t))t=t.toString(),this.$$search=ct(t);else if(W(t))t=et(t,{}),j(t,function(n,a){null==n&&delete t[a]}),this.$$search=t;else throw ws("isrcharg");break;default:N(e)||null===e?delete this.$$search[t]:this.$$search[t]=e;}return this.$$compose(),this},hash:qn("$$hash",function(e){return null===e?"":e.toString()}),replace:function(){return this.$$replace=!0,this}};j([Dn,jn,Nn],function(e){e.prototype=Object.create(Cs),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Nn||!this.$$html5)throw ws("nostate");return this.$$state=N(t)?null:t,this}});var Es=p("$parse"),da=Function.prototype.call,ks=Function.prototype.apply,As=Function.prototype.bind,Os=Et();j(["+","-","*","/","%","===","!==","==","!=","<",">","<=",">=","&&","||","!","=","|"],function(e){Os[e]=!0});var Ms={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':"\""},Ts=function(e){this.options=e};Ts.prototype={constructor:Ts,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),"\""===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),s=Os[n],e=Os[r];Os[t]||s||e?(t=e?r:s?n:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,!!(this.index+e<this.text.length)&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||"\xA0"===e},isIdent:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=M(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,Es("lexerr",e,t,this.text)},readNumber:function(){for(var t,n="",r=this.index;this.index<this.text.length;){if(t=Ar(this.text.charAt(this.index)),"."==t||this.isNumber(t))n+=t;else{var s=this.peek();if("e"==t&&this.isExpOperator(s))n+=t;else if(this.isExpOperator(t)&&s&&this.isNumber(s)&&"e"==n.charAt(n.length-1))n+=t;else if(!this.isExpOperator(t)||s&&this.isNumber(s)||"e"!=n.charAt(n.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:r,text:n,constant:!0,value:+n})},readIdent:function(){for(var e,t=this.index;this.index<this.text.length&&(e=this.text.charAt(this.index),this.isIdent(e)||this.isNumber(e));)this.index++;this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var n=this.index;this.index++;for(var a="",r=t,s=!1;this.index<this.text.length;){var i=this.text.charAt(this.index),r=r+i;if(s)"u"===i?(s=this.text.substring(this.index+1,this.index+5),s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,a+=String.fromCharCode(parseInt(s,16))):a+=Ms[i]||i,s=!1;else if("\\"===i)s=!0;else{if(i===t)return this.index++,void this.tokens.push({index:n,text:r,constant:!0,value:a});a+=i}this.index++}this.throwError("Unterminated quote",n)}};var Vs=function(e,t){this.lexer=e,this.options=t};Vs.Program="Program",Vs.ExpressionStatement="ExpressionStatement",Vs.AssignmentExpression="AssignmentExpression",Vs.ConditionalExpression="ConditionalExpression",Vs.LogicalExpression="LogicalExpression",Vs.BinaryExpression="BinaryExpression",Vs.UnaryExpression="UnaryExpression",Vs.CallExpression="CallExpression",Vs.MemberExpression="MemberExpression",Vs.Identifier="Identifier",Vs.Literal="Literal",Vs.ArrayExpression="ArrayExpression",Vs.Property="Property",Vs.ObjectExpression="ObjectExpression",Vs.ThisExpression="ThisExpression",Vs.NGValueParameter="NGValueParameter",Vs.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Vs.Program,body:e}},expressionStatement:function(){return{type:Vs.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:Vs.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Vs.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Vs.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Vs.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Vs.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Vs.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Vs.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Vs.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Vs.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=et(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Vs.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Vs.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Vs.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:Vs.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Vs.Identifier,name:e.text}},constant:function(){return{type:Vs.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Vs.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Vs.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Vs.ObjectExpression,properties:t}},throwError:function(e,t){throw Es("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Es("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Es("ueoe",this.text);return this.tokens[0]},peek:function(t,n,a,r){return this.peekAhead(0,t,n,a,r)},peekAhead:function(t,n,a,r,e){if(this.tokens.length>t){t=this.tokens[t];var s=t.text;if(s===n||s===a||s===r||s===e||!(n||a||r||e))return t}return!1},expect:function(t,n,a,r){return!!(t=this.peek(t,n,a,r))&&(this.tokens.shift(),t)},constants:{true:{type:Vs.Literal,value:!0},false:{type:Vs.Literal,value:!1},null:{type:Vs.Literal,value:null},undefined:{type:Vs.Literal,value:o},this:{type:Vs.ThisExpression}}},Yn.prototype={compile:function(t,n){var r=this,a=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:n,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},zn(a,r.$filter);var e,s="";return this.stage="assign",(e=Gn(a))&&(this.state.computing="assign",s=this.nextId(),this.recurse(e,s),s="fn.assign="+this.generateFunction("assign","s,v,l")),e=U(a.body),r.stage="inputs",j(e,function(t,n){var a="fn"+n;r.state[a]={vars:[],body:[],own:{}},r.state.computing=a;var e=r.nextId();r.recurse(t,e),r.return_(e),r.state.inputs.push(a),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(a),s="\""+this.USE+" "+this.STRICT+"\";\n"+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",s=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",s)(this.$filter,Bn,Fn,Hn,Ln,_n,t),this.state=this.stage=o,s.literal=Kn(a),s.constant=a.constant,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return j(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var t=[],n=this;return j(this.state.filters,function(a,r){t.push(a+"=$filter("+n.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(t,n,a,r,e,s){var i,p,l,d,$=this;if(r=r||_,!s&&M(t.watchId))n=n||this.nextId(),this.if_("i",this.lazyAssign(n,this.computedMember("i",t.watchId)),this.lazyRecurse(t,n,a,r,e,!0));else switch(t.type){case Vs.Program:j(t.body,function(e,n){$.recurse(e.expression,o,o,function(e){p=e}),n===t.body.length-1?$.return_(p):$.current().body.push(p,";")});break;case Vs.Literal:d=this.escape(t.value),this.assign(n,d),r(d);break;case Vs.UnaryExpression:this.recurse(t.argument,o,o,function(e){p=e}),d=t.operator+"("+this.ifDefined(p,0)+")",this.assign(n,d),r(d);break;case Vs.BinaryExpression:this.recurse(t.left,o,o,function(e){i=e}),this.recurse(t.right,o,o,function(e){p=e}),d="+"===t.operator?this.plus(i,p):"-"===t.operator?this.ifDefined(i,0)+t.operator+this.ifDefined(p,0):"("+i+")"+t.operator+"("+p+")",this.assign(n,d),r(d);break;case Vs.LogicalExpression:n=n||this.nextId(),$.recurse(t.left,n),$.if_("&&"===t.operator?n:$.not(n),$.lazyRecurse(t.right,n)),r(n);break;case Vs.ConditionalExpression:n=n||this.nextId(),$.recurse(t.test,n),$.if_(n,$.lazyRecurse(t.alternate,n),$.lazyRecurse(t.consequent,n)),r(n);break;case Vs.Identifier:n=n||this.nextId(),a&&(a.context="inputs"===$.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),a.computed=!1,a.name=t.name),Bn(t.name),$.if_("inputs"===$.stage||$.not($.getHasOwnProperty("l",t.name)),function(){$.if_("inputs"===$.stage||"s",function(){e&&1!==e&&$.if_($.not($.nonComputedMember("s",t.name)),$.lazyAssign($.nonComputedMember("s",t.name),"{}")),$.assign(n,$.nonComputedMember("s",t.name))})},n&&$.lazyAssign(n,$.nonComputedMember("l",t.name))),($.state.expensiveChecks||Qn(t.name))&&$.addEnsureSafeObject(n),r(n);break;case Vs.MemberExpression:i=a&&(a.context=this.nextId())||this.nextId(),n=n||this.nextId(),$.recurse(t.object,i,o,function(){$.if_($.notNull(i),function(){t.computed?(p=$.nextId(),$.recurse(t.property,p),$.addEnsureSafeMemberName(p),e&&1!==e&&$.if_($.not($.computedMember(i,p)),$.lazyAssign($.computedMember(i,p),"{}")),d=$.ensureSafeObject($.computedMember(i,p)),$.assign(n,d),a&&(a.computed=!0,a.name=p)):(Bn(t.property.name),e&&1!==e&&$.if_($.not($.nonComputedMember(i,t.property.name)),$.lazyAssign($.nonComputedMember(i,t.property.name),"{}")),d=$.nonComputedMember(i,t.property.name),($.state.expensiveChecks||Qn(t.property.name))&&(d=$.ensureSafeObject(d)),$.assign(n,d),a&&(a.computed=!1,a.name=t.property.name))},function(){$.assign(n,"undefined")}),r(n)},!!e);break;case Vs.CallExpression:n=n||this.nextId(),t.filter?(p=$.filter(t.callee.name),l=[],j(t.arguments,function(e){var t=$.nextId();$.recurse(e,t),l.push(t)}),d=p+"("+l.join(",")+")",$.assign(n,d),r(n)):(p=$.nextId(),i={},l=[],$.recurse(t.callee,p,i,function(){$.if_($.notNull(p),function(){$.addEnsureSafeFunction(p),j(t.arguments,function(e){$.recurse(e,$.nextId(),o,function(e){l.push($.ensureSafeObject(e))})}),i.name?($.state.expensiveChecks||$.addEnsureSafeObject(i.context),d=$.member(i.context,i.name,i.computed)+"("+l.join(",")+")"):d=p+"("+l.join(",")+")",d=$.ensureSafeObject(d),$.assign(n,d)},function(){$.assign(n,"undefined")}),r(n)}));break;case Vs.AssignmentExpression:if(p=this.nextId(),i={},!Wn(t.left))throw Es("lval");this.recurse(t.left,o,i,function(){$.if_($.notNull(i.context),function(){$.recurse(t.right,p),$.addEnsureSafeObject($.member(i.context,i.name,i.computed)),d=$.member(i.context,i.name,i.computed)+t.operator+p,$.assign(n,d),r(n||d)})},1);break;case Vs.ArrayExpression:l=[],j(t.elements,function(e){$.recurse(e,$.nextId(),o,function(e){l.push(e)})}),d="["+l.join(",")+"]",this.assign(n,d),r(d);break;case Vs.ObjectExpression:l=[],j(t.properties,function(e){$.recurse(e.value,$.nextId(),o,function(t){l.push($.escape(e.key.type===Vs.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+l.join(",")+"}",this.assign(n,d),r(d);break;case Vs.ThisExpression:this.assign(n,"s"),r("s");break;case Vs.NGValueParameter:this.assign(n,"v"),r("v");}},getHasOwnProperty:function(t,n){var a=t+"."+n,r=this.current().own;return r.hasOwnProperty(a)||(r[a]=this.nextId(!1,t+"&&("+this.escape(n)+" in "+t+")")),r[a]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(t,n,a){if(!0===t)n();else{var r=this.current().body;r.push("if(",t,"){"),n(),r.push("}"),a&&(r.push("else{"),a(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},lazyRecurse:function(t,n,a,r,e,s){var i=this;return function(){i.recurse(t,n,a,r,e,s)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(V(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(P(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Es("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Jn.prototype={compile:function(t,n){var r=this,a=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=n,zn(a,r.$filter);var e,s;(e=Gn(a))&&(s=this.recurse(e)),e=U(a.body);var i;e&&(i=[],j(e,function(t,n){var a=r.recurse(t);t.input=a,i.push(a),t.watchId=n}));var o=[];return j(a.body,function(e){o.push(r.recurse(e.expression))}),e=0===a.body.length?function(){}:1===a.body.length?o[0]:function(t,n){var a;return j(o,function(r){a=r(t,n)}),a},s&&(e.assign=function(e,t,n){return s(e,n,t)}),i&&(e.inputs=i),e.literal=Kn(a),e.constant=a.constant,e},recurse:function(t,s,n){var r,i,l,p=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Vs.Literal:return this.value(t.value,s);case Vs.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,s);case Vs.BinaryExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,s);case Vs.LogicalExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,s);case Vs.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),s);case Vs.Identifier:return Bn(t.name,p.expression),p.identifier(t.name,p.expensiveChecks||Qn(t.name),s,n,p.expression);case Vs.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(Bn(t.property.name,p.expression),i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(r,i,s,n,p.expression):this.nonComputedMember(r,i,p.expensiveChecks,s,n,p.expression);case Vs.CallExpression:return l=[],j(t.arguments,function(e){l.push(p.recurse(e))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(r,p,d,e){for(var c=[],n=0;n<l.length;++n)c.push(l[n](r,p,d,e));return r=i.apply(o,c,e),s?{context:o,name:o,value:r}:r}:function(o,a,d,e){var c,$=i(o,a,d,e);if(null!=$.value){Fn($.context,p.expression),Hn($.value,p.expression),c=[];for(var n=0;n<l.length;++n)c.push(Fn(l[n](o,a,d,e),p.expression));c=Fn($.value.apply($.context,c),p.expression)}return s?{value:c}:c};case Vs.AssignmentExpression:return r=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(e,t,o,l){var d=r(e,t,o,l);return e=i(e,t,o,l),Fn(d.value,p.expression),d.context[d.name]=e,s?{value:e}:e};case Vs.ArrayExpression:return l=[],j(t.elements,function(e){l.push(p.recurse(e))}),function(t,a,r,e){for(var i=[],o=0;o<l.length;++o)i.push(l[o](t,a,r,e));return s?{value:i}:i};case Vs.ObjectExpression:return l=[],j(t.properties,function(e){l.push({key:e.key.type===Vs.Identifier?e.key.name:""+e.key.value,value:p.recurse(e.value)})}),function(t,a,r,e){for(var i={},o=0;o<l.length;++o)i[l[o].key]=l[o].value(t,a,r,e);return s?{value:i}:i};case Vs.ThisExpression:return function(e){return s?{value:e}:e};case Vs.NGValueParameter:return function(t,n,a){return s?{value:a}:a};}},"unary+":function(t,n){return function(a,r,e,s){return a=t(a,r,e,s),a=M(a)?+a:0,n?{value:a}:a}},"unary-":function(t,n){return function(a,r,e,s){return a=t(a,r,e,s),a=M(a)?-a:0,n?{value:a}:a}},"unary!":function(t,n){return function(a,r,e,s){return a=!t(a,r,e,s),n?{value:a}:a}},"binary+":function(t,n,a){return function(r,e,s,i){var o=t(r,e,s,i);return r=n(r,e,s,i),o=_n(o,r),a?{value:o}:o}},"binary-":function(t,n,a){return function(r,e,s,i){var o=t(r,e,s,i);return r=n(r,e,s,i),o=(M(o)?o:0)-(M(r)?r:0),a?{value:o}:o}},"binary*":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)*n(r,s,i,o),a?{value:r}:r}},"binary/":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)/n(r,s,i,o),a?{value:r}:r}},"binary%":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)%n(r,s,i,o),a?{value:r}:r}},"binary===":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)===n(r,s,i,o),a?{value:r}:r}},"binary!==":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)!==n(r,s,i,o),a?{value:r}:r}},"binary==":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)==n(r,s,i,o),a?{value:r}:r}},"binary!=":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)!=n(r,s,i,o),a?{value:r}:r}},"binary<":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)<n(r,s,i,o),a?{value:r}:r}},"binary>":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)>n(r,s,i,o),a?{value:r}:r}},"binary<=":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)<=n(r,s,i,o),a?{value:r}:r}},"binary>=":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)>=n(r,s,i,o),a?{value:r}:r}},"binary&&":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)&&n(r,s,i,o),a?{value:r}:r}},"binary||":function(t,n,a){return function(r,s,i,o){return r=t(r,s,i,o)||n(r,s,i,o),a?{value:r}:r}},"ternary?:":function(t,n,a,r){return function(e,s,i,o){return e=t(e,s,i,o)?n(e,s,i,o):a(e,s,i,o),r?{value:e}:e}},value:function(e,t){return function(){return t?{context:o,name:o,value:e}:e}},identifier:function(t,n,r,s,e){return function(i,l){return i=l&&t in l?l:i,s&&1!==s&&i&&!i[t]&&(i[t]={}),l=i?i[t]:o,n&&Fn(l,e),r?{context:i,name:t,value:l}:l}},computedMember:function(t,a,r,s,e){return function(i,o,d,l){var p,c,$=t(i,o,d,l);return null!=$&&(p=a(i,o,d,l),Bn(p,e),s&&1!==s&&$&&!$[p]&&($[p]={}),c=$[p],Fn(c,e)),r?{context:$,name:p,value:c}:c}},nonComputedMember:function(t,n,a,r,e,s){return function(i,d,p,$){return i=t(i,d,p,$),e&&1!==e&&i&&!i[n]&&(i[n]={}),d=null==i?o:i[n],(a||Qn(n))&&Fn(d,s),r?{context:i,name:n,value:d}:d}},inputs:function(t,n){return function(a,r,e,s){return s?s[n]:t(a,r,e)}}};var Ps=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new Vs(this.lexer),this.astCompiler=n.csp?new Jn(this.ast,t):new Yn(this.ast,t)};Ps.prototype={constructor:Ps,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}},Et(),Et();var r=Object.prototype.valueOf,Ns=p("$sce"),Ca={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ps=p("$compile"),oa=i.createElement("a"),Z=ja(t.location.href);Ia.$inject=["$document"],Ua.$inject=["$provide"],Wa.$inject=["$locale"],Ya.$inject=["$locale"];var js=".",Ds={yyyy:tr("FullYear",4),yy:tr("FullYear",2,0,!0),y:tr("FullYear",1),MMMM:$("Month"),MMM:$("Month",!0),MM:tr("Month",2,1),M:tr("Month",1,1),dd:tr("Date",2),d:tr("Date",1),HH:tr("Hours",2),H:tr("Hours",1),hh:tr("Hours",2,-12),h:tr("Hours",1,-12),mm:tr("Minutes",2),m:tr("Minutes",1),ss:tr("Seconds",2),s:tr("Seconds",1),sss:tr("Milliseconds",3),EEEE:$("Day"),EEE:$("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(0<=e?"+":"")+(er(Math[0<e?"floor":"ceil"](e/60),2)+er(wr(e%60),2))},ww:ar(2),w:ar(1),G:rr,GG:rr,GGG:rr,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},Is=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,qs=/^\-?\d+$/;sr.$inject=["$locale"];var Rs=O(Ar),Us=O(Na);lr.$inject=["$parse"];var Bs=O({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Vr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Fs={};j(Ra,function(t,n){function r(e,t,r){e.$watch(r[s],function(e){r.$set(n,!!e)})}if("multiple"!=t){var s=ln("ng-"+n),e=r;"checked"===t&&(e=function(e,t,n){n.ngModel!==n[s]&&r(e,t,n)}),Fs[s]=function(){return{restrict:"A",priority:100,link:e}}}}),j(Zr,function(e,t){Fs[t]=function(){return{priority:100,link:function(n,a,e){return"ngPattern"===t&&"/"==e.ngPattern.charAt(0)&&(a=e.ngPattern.match(kr))?void e.$set("ngPattern",new RegExp(a[1],a[2])):void n.$watch(e[t],function(n){e.$set(t,n)})}}}}),j(["src","srcset","href"],function(t){var n=ln("ng-"+t);Fs[n]=function(){return{priority:99,link:function(a,r,e){var s=t,i=t;"href"===t&&"[object SVGAnimatedString]"===Vr.call(r.prop("href"))&&(i="xlinkHref",e.$attr[i]="xlink:href",s=null),e.$observe(n,function(n){n?(e.$set(i,n),vr&&s&&r.prop(s,e[i])):"href"===t&&e.$set(i,null)})}}}});var Hs={$addControl:_,$$renameControl:function(e,t){e.$name=t},$removeControl:_,$setValidity:_,$setDirty:_,$setPristine:_,$setSubmitted:_};Ma.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ls=function(t){return["$timeout","$parse",function(a,n){function s(e){return""===e?n("this[\"\"]").assign:n(e).assign||_}return{name:"form",restrict:t?"EAC":"E",controller:Ma,compile:function(e,n){e.addClass(wi).addClass(xi);var i=n.name?"name":t&&n.ngForm&&"ngForm";return{pre:function(e,l,d,p){if(!("action"in d)){var c=function(t){e.$apply(function(){p.$commitViewValue(),p.$setSubmitted()}),t.preventDefault()};l[0].addEventListener("submit",c,!1),l.on("$destroy",function(){a(function(){l[0].removeEventListener("submit",c,!1)},0,!1)})}var n=p.$$parentForm,t=i?s(p.$name):_;i&&(t(e,p),d.$observe(i,function(a){p.$name!==a&&(t(e,o),n.$$renameControl(p,a),t=s(p.$name),t(e,p))})),l.on("$destroy",function(){n.$removeControl(p),t(e,o),C(p,Hs)})}}}}}]},_s=Ls(),zs=Ls(!0),Ws=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Gs=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ks=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ys=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Js=/^(\d{4})-(\d{2})-(\d{2})$/,Qs=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Xs=/^(\d{4})-W(\d\d)$/,Zs=/^(\d{4})-(\d\d)$/,ei=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ti={text:function(t,n,a,r,e,s){cr(t,n,a,r,e,s),pr(r)},date:ur("date",Js,$r(Js,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ur("datetimelocal",Qs,$r(Qs,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ur("time",ei,$r(ei,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ur("week",Xs,function(t,n){if(F(t))return t;if(V(t)){Xs.lastIndex=0;var a=Xs.exec(t);if(a){var r=+a[1],e=+a[2],s=a=0,i=0,o=0,l=nr(r),e=7*(e-1);return n&&(a=n.getHours(),s=n.getMinutes(),i=n.getSeconds(),o=n.getMilliseconds()),new Date(r,0,l.getDate()+e,a,s,i,o)}}return NaN},"yyyy-Www"),month:ur("month",Zs,$r(Zs,["yyyy","MM"]),"yyyy-MM"),number:function(t,n,a,r,e,s){if(mr(t,n,a,r),cr(t,n,a,r,e,s),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Ys.test(e)?parseFloat(e):o}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!P(e))throw Ei("numfmt",e);e=e.toString()}return e}),M(a.min)||a.ngMin){var i;r.$validators.min=function(e){return r.$isEmpty(e)||N(i)||e>=i},a.$observe("min",function(e){M(e)&&!P(e)&&(e=parseFloat(e,10)),i=P(e)&&!isNaN(e)?e:o,r.$validate()})}if(M(a.max)||a.ngMax){var d;r.$validators.max=function(e){return r.$isEmpty(e)||N(d)||e<=d},a.$observe("max",function(e){M(e)&&!P(e)&&(e=parseFloat(e,10)),d=P(e)&&!isNaN(e)?e:o,r.$validate()})}},url:function(t,n,a,r,e,s){cr(t,n,a,r,e,s),pr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Gs.test(n)}},email:function(t,n,a,r,e,s){cr(t,n,a,r,e,s),pr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Ks.test(n)}},radio:function(t,n,r,s){N(r.name)&&n.attr("name",++aa),n.on("click",function(e){n[0].checked&&s.$setViewValue(r.value,e&&e.type)}),s.$render=function(){n[0].checked=r.value==s.$viewValue},r.$observe("value",s.$render)},checkbox:function(t,n,a,r,e,s,i,o){var l=hr(o,t,"ngTrueValue",a.ngTrueValue,!0),d=hr(o,t,"ngFalseValue",a.ngFalseValue,!1);n.on("click",function(e){r.$setViewValue(n[0].checked,e&&e.type)}),r.$render=function(){n[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return nt(e,l)}),r.$parsers.push(function(e){return e?l:d})},hidden:_,button:_,submit:_,reset:_,file:_},ni=["$browser","$sniffer","$filter","$parse",function(t,n,a,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,s,i,o){o[0]&&(ti[Ar(i.type)]||ti.text)(e,s,i,o[0],n,t,a,r)}}}}],ai=/^(true|false|\d+)$/,ri=function(){return{restrict:"A",priority:100,compile:function(e,t){return ai.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},si=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(n,r,e){t.$$addBindingInfo(r,e.ngBind),r=r[0],n.$watch(e.ngBind,function(e){r.textContent=e===o?"":e})}}}}],ii=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,a){n=e(r.attr(a.$attr.ngBindTemplate)),t.$$addBindingInfo(r,n.expressions),r=r[0],a.$observe("ngBindTemplate",function(e){r.textContent=e===o?"":e})}}}}],oi=["$sce","$parse","$compile",function(t,n,a){return{restrict:"A",compile:function(r,e){var s=n(e.ngBindHtml),i=n(e.ngBindHtml,function(e){return(e||"").toString()});return a.$$addBindingClass(r),function(n,r,e){a.$$addBindingInfo(r,e.ngBindHtml),n.$watch(i,function(){r.html(t.getTrustedHtml(s(n))||"")})}}}}],li=O({restrict:"A",require:"ngModel",link:function(t,n,a,r){r.$viewChangeListeners.push(function(){t.$eval(a.ngChange)})}}),di=gr("",!0),pi=gr("Odd",0),ci=gr("Even",1),$i=dr({compile:function(e,t){t.$set("ngCloak",o),e.removeClass("ng-cloak")}}),ui=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],mi={},hi={blur:!0,focus:!0};j(["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","keydown","keyup","keypress","submit","focus","blur","copy","cut","paste"],function(t){var n=ln("ng-"+t);mi[n]=["$parse","$rootScope",function(a,r){return{restrict:"A",compile:function(e,s){var i=a(s[n],null,!0);return function(e,n){n.on(t,function(n){var a=function(){i(e,{$event:n})};hi[t]&&r.$$phase?e.$evalAsync(a):e.$apply(a)})}}}}]});var gi=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,a,r,e,s){var o,d,l;n.$watch(r.ngIf,function(e){e?d||s(function(e,n){d=n,e[e.length++]=i.createComment(" end ngIf: "+r.ngIf+" "),o={clone:e},t.enter(e,a.parent(),a)}):(l&&(l.remove(),l=null),d&&(d.$destroy(),d=null),o&&(l=Ct(o.clone),t.leave(l).then(function(){l=null}),o=null))})}}}],fi=["$templateRequest","$anchorScroll","$animate",function(t,n,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ea.noop,compile:function(a,r){var i=r.ngInclude||r.src,o=r.onload||"",s=r.autoscroll;return function(d,c,a,$,m){var r,h,f,p=0,u=function(){h&&(h.remove(),h=null),r&&(r.$destroy(),r=null),f&&(e.leave(f).then(function(){h=null}),h=f,f=null)};d.$watch(i,function(i){var h=function(){M(s)&&(!s||d.$eval(s))&&n()},g=++p;i?(t(i,!0).then(function(t){if(g==p){var n=d.$new();$.template=t,t=m(n,function(t){u(),e.enter(t,null,c).then(h)}),r=n,f=t,r.$emit("$includeContentLoaded",i),d.$eval(o)}},function(){g==p&&(u(),d.$emit("$includeContentError",i))}),d.$emit("$includeContentRequested",i)):(u(),$.template=null)})}}}}],yi=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,a,e){/SVG/.test(r[0].toString())?(r.empty(),t(Ot(e.template,i).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(e.template),t(r.contents())(n))}}}],vi=dr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),bi=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,n,a,r){var e=n.attr(a.$attr.ngList)||", ",s="false"!==a.ngTrim,i=s?Ir(e):e;r.$parsers.push(function(e){if(!N(e)){var t=[];return e&&j(e.split(i),function(e){e&&t.push(s?Ir(e):e)}),t}}),r.$formatters.push(function(t){return jr(t)?t.join(e):o}),r.$isEmpty=function(e){return!e||!e.length}}}},xi="ng-valid",Si="ng-invalid",wi="ng-pristine",Xa="ng-dirty",Ci="ng-pending",Ei=p("ngModel"),ki=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,n,i,d,a,c,$,u,l,h){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=o,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=o,this.$name=h(i.name||"",!1)(t);var m,f=a(i.ngModel),y=f.assign,s=f,r=y,v=null,b=this;this.$$setOptions=function(e){if((b.$options=e)&&e.getterSetter){var t=a(i.ngModel+"()"),n=a(i.ngModel+"($$$p)");s=function(e){var n=f(e);return Y(n)&&(n=t(e)),n},r=function(e){Y(f(e))?n(e,{$$$p:b.$modelValue}):y(e,b.$modelValue)}}else if(!f.assign)throw Ei("nonassign",i.ngModel,dt(d))},this.$render=_,this.$isEmpty=function(e){return N(e)||""===e||null===e||e!==e};var p=d.inheritedData("$formController")||Hs,x=0;fr({ctrl:this,$element:d,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:p,$animate:c}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,c.removeClass(d,Xa),c.addClass(d,wi)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,c.removeClass(d,wi),c.addClass(d,Xa),p.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,c.setClass(d,"ng-untouched","ng-touched")},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,c.setClass(d,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){$.cancel(v),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!P(b.$modelValue)||!isNaN(b.$modelValue)){var t=b.$$rawModelValue,n=b.$valid,a=b.$modelValue,r=b.$options&&b.$options.allowInvalid;b.$$runValidators(t,b.$$lastCommittedViewValue,function(e){r||n===e||(b.$modelValue=e?t:o,b.$modelValue!==a&&b.$$writeModelToScope())})}},this.$$runValidators=function(t,n,e){function r(e,t){s===x&&b.$setValidity(e,t)}function a(t){s===x&&e(t)}x++;var s=x;(function(){var e=b.$$parserName||"parse";if(m===o)r(e,null);else return m||(j(b.$validators,function(e,t){r(t,null)}),j(b.$asyncValidators,function(e,t){r(t,null)})),r(e,m),m;return!0})()?function(){var a=!0;return j(b.$validators,function(s,e){var i=s(t,n);a=a&&i,r(e,i)}),!!a||(j(b.$asyncValidators,function(e,t){r(t,null)}),!1)}()?function(){var s=[],i=!0;j(b.$asyncValidators,function(e,a){var l=e(t,n);if(!l||!Y(l.then))throw Ei("$asyncValidators",l);r(a,o),s.push(l.then(function(){r(a,!0)},function(){i=!1,r(a,!1)}))}),s.length?l.all(s).then(function(){a(i)},_):a(!0)}():a(!1):a(!1)},this.$commitViewValue=function(){var e=b.$viewValue;$.cancel(v),(b.$$lastCommittedViewValue!==e||""===e&&b.$$hasNativeValidators)&&(b.$$lastCommittedViewValue=e,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var n=b.$$lastCommittedViewValue;if(m=!N(n)||o)for(var a=0;a<b.$parsers.length;a++)if(n=b.$parsers[a](n),N(n)){m=!1;break}P(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=s(t));var r=b.$modelValue,e=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=n,e&&(b.$modelValue=n,b.$modelValue!==r&&b.$$writeModelToScope()),b.$$runValidators(n,b.$$lastCommittedViewValue,function(t){e||(b.$modelValue=t?n:o,b.$modelValue!==r&&b.$$writeModelToScope())})},this.$$writeModelToScope=function(){r(t,b.$modelValue),j(b.$viewChangeListeners,function(e){try{e()}catch(e){n(e)}})},this.$setViewValue=function(e,t){b.$viewValue=e,b.$options&&!b.$options.updateOnDefault||b.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(n){var a=0,r=b.$options;r&&M(r.debounce)&&(r=r.debounce,P(r)?a=r:P(r[n])?a=r[n]:P(r["default"])&&(a=r["default"])),$.cancel(v),a?v=$(function(){b.$commitViewValue()},a):u.$$phase?b.$commitViewValue():t.$apply(function(){b.$commitViewValue()})},t.$watch(function(){var n=s(t);if(n!==b.$modelValue&&(b.$modelValue===b.$modelValue||n===n)){b.$modelValue=b.$$rawModelValue=n,m=o;for(var a=b.$formatters,r=a.length,e=n;r--;)e=a[r](e);b.$viewValue!==e&&(b.$viewValue=b.$$lastCommittedViewValue=e,b.$render(),b.$$runValidators(n,e,_))}return n})}],Ai=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ki,priority:1,compile:function(t){return t.addClass(wi).addClass("ng-untouched").addClass(xi),{pre:function(e,t,n,a){var r=a[0],s=a[1]||Hs;r.$$setOptions(a[2]&&a[2].$options),s.$addControl(r),n.$observe("name",function(e){r.$name!==e&&s.$$renameControl(r,e)}),e.$on("$destroy",function(){s.$removeControl(r)})},post:function(t,n,a,r){var s=r[0];s.$options&&s.$options.updateOn&&n.on(s.$options.updateOn,function(e){s.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){s.$touched||(e.$$phase?t.$evalAsync(s.$setTouched):t.$apply(s.$setTouched))})}}}}}],Oi=/(\s+|^)default(\s+|$)/,Mi=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=et(e.$eval(t.ngModelOptions)),this.$options.updateOn===o?this.$options.updateOnDefault=!0:(this.$options.updateOnDefault=!1,this.$options.updateOn=Ir(this.$options.updateOn.replace(Oi,function(){return n.$options.updateOnDefault=!0," "})))}]}},Ti=dr({terminal:!0,priority:1E3}),Vi=p("ngOptions"),Pi=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ni=["$compile","$parse",function(t,o){function n(t,a,i){function e(t,n,a,r,e){this.selectValue=t,this.viewValue=n,this.label=a,this.group=r,this.disabled=e}function l(e){var t;if(!s&&S(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}var $=t.match(Pi);if(!$)throw Vi("iexp",t,dt(a));var m=$[5]||$[7],s=$[6];t=/ as /.test($[0])&&$[1];var c=$[9];a=o($[2]?$[1]:m);var h=t&&o(t)||a,g=c&&o(c),f=c?function(e,t){return g(i,t)}:function(e){return Kt(e)},p=function(e,t){return f(e,C(e,t))},v=o($[2]||$[1]),b=o($[3]||""),x=o($[4]||""),y=o($[8]),w={},C=s?function(e,t){return w[s]=t,w[m]=e,w}:function(e){return w[m]=e,w};return{trackBy:c,getTrackByValue:p,getWatchables:o(y,function(e){var t=[];e=e||[];for(var n=l(e),a=n.length,r=0;r<a;r++){var s=e===n?r:n[r],o=C(e[s],s),s=f(e[s],o);t.push(s),($[2]||$[1])&&(s=v(i,o),t.push(s)),$[4]&&(o=x(i,o),t.push(o))}return t}),getOptions:function(){for(var o=[],$={},u=y(i)||[],d=l(u),m=d.length,g=0;g<m;g++){var n=u===d?g:d[g],S=C(u[n],n),s=h(i,S),n=f(s,S),r=v(i,S),t=b(i,S),S=x(i,S),s=new e(n,s,r,t,S);o.push(s),$[n]=s}return{items:o,selectValueMap:$,getOptionFromViewValue:function(e){return $[p(e)]},getViewValueFromOption:function(e){return c?Ea.copy(e.viewValue):e.viewValue}}}}}var r=i.createElement("option"),e=i.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(a,i,o,l){function $(e,t){e.element=t,t.disabled=e.disabled,e.value!==t.value&&(t.value=e.selectValue),e.label!==t.label&&(t.label=e.label,t.textContent=e.label)}function m(t,n,a,r){return n&&Ar(n.nodeName)===a?a=n:(a=r.cloneNode(!1),n?t.insertBefore(a,n):t.appendChild(a)),a}function h(e){for(var t;e;)t=e.nextSibling,Ht(e),e=t}function s(e){var t=v&&v[0],n=x&&x[0];if(t||n)for(;e&&(e===t||e===n);)e=e.nextSibling;return e}function d(){var t=S&&f.readValue();S=w.getOptions();var n={},o=i[0].firstChild;if(b&&i.prepend(v),o=s(o),S.items.forEach(function(t){var a,s;t.group?(a=n[t.group],a||(a=m(i[0],o,"optgroup",e),o=a.nextSibling,a.label=t.group,a=n[t.group]={groupElement:a,currentOptionElement:a.firstChild}),s=m(a.groupElement,a.currentOptionElement,"option",r),$(t,s),a.currentOptionElement=s.nextSibling):(s=m(i[0],o,"option",r),$(t,s),o=s.nextSibling)}),Object.keys(n).forEach(function(e){h(n[e].currentOptionElement)}),h(o),u.$render(),!u.$isEmpty(t)){var a=f.readValue();(w.trackBy?nt(t,a):t===a)||(u.$setViewValue(a),u.$render())}}var u=l[1];if(u){var f=l[0];l=o.multiple;for(var v,c=0,g=i.children(),y=g.length;c<y;c++)if(""===g[c].value){v=g.eq(c);break}var b=!!v,x=Va(r.cloneNode(!1));x.val("?");var S,w=n(o.ngOptions,i,a);l?(u.$isEmpty=function(e){return!e||0===e.length},f.writeValue=function(e){S.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=S.getOptionFromViewValue(e))&&!e.disabled&&(e.element.selected=!0)})},f.readValue=function(){var e=i.val()||[],t=[];return j(e,function(e){(e=S.selectValueMap[e])&&!e.disabled&&t.push(S.getViewValueFromOption(e))}),t},w.trackBy&&a.$watchCollection(function(){if(jr(u.$viewValue))return u.$viewValue.map(function(e){return w.getTrackByValue(e)})},function(){u.$render()})):(f.writeValue=function(e){var t=S.getOptionFromViewValue(e);t&&!t.disabled?i[0].value!==t.selectValue&&(x.remove(),b||v.remove(),i[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||b?(x.remove(),b||i.prepend(v),i.val(""),v.prop("selected",!0),v.attr("selected",!0)):(b||v.remove(),i.prepend(x),i.val("?"),x.prop("selected",!0),x.attr("selected",!0))},f.readValue=function(){var e=S.selectValueMap[i.val()];return e&&!e.disabled?(b||v.remove(),x.remove(),S.getViewValueFromOption(e)):null},w.trackBy&&a.$watch(function(){return w.getTrackByValue(u.$viewValue)},function(){u.$render()})),b?(v.remove(),t(v)(a),v.removeClass("ng-scope")):v=Va(r.cloneNode(!1)),d(),a.$watchCollection(w.getWatchables,d)}}}}],ji=["$locale","$interpolate","$log",function(t,n,a){var r=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(i,o,p){function l(e){o.text(e||"")}var d,c=p.count,$=p.$attr.when&&o.attr(p.$attr.when),m=p.offset||0,s=i.$eval($)||{},h={},u=n.startSymbol(),g=n.endSymbol(),y=Ea.noop;j(p,function(t,n){var a=e.exec(n);a&&(a=(a[1]?"-":"")+Ar(a[2]),s[a]=o.attr(p.$attr[n]))}),j(s,function(e,t){h[t]=n(e.replace(r,u+c+"-"+m+g))}),i.$watch(c,function(n){var r=parseFloat(n),e=isNaN(r);e||r in s||(r=t.pluralCat(r-m)),r===d||e&&P(d)&&isNaN(d)||(y(),e=h[r],N(e)?(null!=n&&a.debug("ngPluralize: no rule defined for '"+r+"' in "+$),y=_,l()):y=i.$watch(e,l),d=r)})}}}],Di=["$parse","$animate",function(n,r){var a=p("ngRepeat"),t=function(t,a,r,s,e,i,o){t[r]=s,e&&(t[e]=i),t.$index=a,t.$first=0===a,t.$last=a===o-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&a))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(e,s){var d=s.ngRepeat,c=i.createComment(" end ngRepeat: "+d+" "),l=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!l)throw a("iexp",d);var $=l[1],h=l[2],b=l[3],m=l[4],l=$.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!l)throw a("iidexp",$);var g=l[3]||l[1],v=l[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw a("badident",b);var x,C,p,f,y={$id:Kt};return m?x=n(m):(p=function(e,t){return Kt(t)},f=function(e){return e}),function(n,e,s,i,l){x&&(C=function(t,a,r){return v&&(y[v]=t),y[g]=a,y.$index=r,x(n,y)});var $=Et();n.$watchCollection(h,function(s){var i,m,h,y,x,E,k,A,O,M,T=e[0],w=Et();if(b&&(n[b]=s),S(s))A=s,m=C||p;else for(M in m=C||f,A=[],s)s.hasOwnProperty(M)&&"$"!==M.charAt(0)&&A.push(M);for(y=A.length,M=Array(y),i=0;i<y;i++)if(x=s===A?i:A[i],E=s[x],k=m(x,E,i),$[k])O=$[k],delete $[k],w[k]=O,M[i]=O;else{if(w[k])throw j(M,function(e){e&&e.scope&&($[e.id]=e)}),a("dupes",d,k,E);M[i]={id:k,scope:o,clone:o},w[k]=!0}for(h in $){if(O=$[h],k=Ct(O.clone),r.leave(k),k[0].parentNode)for(i=0,m=k.length;i<m;i++)k[i].$$NG_REMOVED=!0;O.scope.$destroy()}for(i=0;i<y;i++)if(x=s===A?i:A[i],E=s[x],O=M[i],O.scope){h=T;do h=h.nextSibling;while(h&&h.$$NG_REMOVED);O.clone[0]!=h&&r.move(Ct(O.clone),null,Va(T)),T=O.clone[O.clone.length-1],t(O.scope,i,g,E,v,x,y)}else l(function(e,n){O.scope=n;var a=c.cloneNode(!1);e[e.length++]=a,r.enter(e,null,Va(T)),T=a,O.clone=e,w[O.id]=O,t(O.scope,i,g,E,v,x,y)});$=w})}}}}],Ii=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,a){t.$watch(a.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],qi=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,a){t.$watch(a.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ri=dr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&j(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ui=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,a,r,s){var o=[],p=[],c=[],l=[],e=function(e,t){return function(){e.splice(t,1)}};n.$watch(r.ngSwitch||r.on,function(n){var a,d;for(a=0,d=c.length;a<d;++a)t.cancel(c[a]);for(a=c.length=0,d=l.length;a<d;++a){var $=Ct(p[a].clone);l[a].$destroy(),(c[a]=t.leave($)).then(e(c,a))}p.length=0,l.length=0,(o=s.cases["!"+n]||s.cases["?"])&&j(o,function(n){n.transclude(function(a,r){l.push(r);var e=n.element;a[a.length++]=i.createComment(" end ngSwitchWhen: "),p.push({clone:a}),t.enter(a,e.parent(),e)})})})}}}],Bi=dr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,n,a,r,e){r.cases["!"+a.ngSwitchWhen]=r.cases["!"+a.ngSwitchWhen]||[],r.cases["!"+a.ngSwitchWhen].push({transclude:e,element:n})}}),Fi=dr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,n,a,r,e){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:e,element:n})}}),Hi=dr({restrict:"EAC",link:function(t,n,a,r,e){if(!e)throw p("ngTransclude")("orphan",dt(n));e(function(e){n.empty(),n.append(e)})}}),Li=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],_i={$setViewValue:_,$render:_},zi=["$element","$scope","$attrs",function(t,n){var r=this,e=new Yt;r.ngModelCtrl=_i,r.unknownOption=Va(i.createElement("option")),r.renderUnknownOption=function(e){e="? "+Kt(e)+" ?",r.unknownOption.val(e),t.prepend(r.unknownOption),t.val(e)},n.$on("$destroy",function(){r.renderUnknownOption=_}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(t,n){St(t,"\"option value\""),""===t&&(r.emptyOption=n);var a=e.get(t)||0;e.put(t,a+1)},r.removeOption=function(t){var n=e.get(t);n&&(1===n?(e.remove(t),""===t&&(r.emptyOption=o)):e.put(t,n-1))},r.hasOption=function(t){return!!e.get(t)}}],Wi=function(){return{restrict:"E",require:["select","?ngModel"],controller:zi,link:function(t,n,a,r){var e=r[1];if(e){var s=r[0];if(s.ngModelCtrl=e,e.$render=function(){s.writeValue(e.$viewValue)},n.on("change",function(){t.$apply(function(){e.$setViewValue(s.readValue())})}),a.multiple){s.readValue=function(){var e=[];return j(n.find("option"),function(t){t.selected&&e.push(t.value)}),e},s.writeValue=function(e){var t=new Yt(e);j(n.find("option"),function(e){e.selected=M(t.get(e.value))})};var i,o=NaN;t.$watch(function(){o!==e.$viewValue||nt(i,e.$viewValue)||(i=tt(e.$viewValue),e.$render()),o=e.$viewValue}),e.$isEmpty=function(e){return!e||0===e.length}}}}}},Gi=["$interpolate",function(t){function n(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}return{restrict:"E",priority:100,compile:function(a,r){if(N(r.value)){var s=t(a.text(),!0);s||r.$set("value",a.text())}return function(t,r,i){var e=r.parent(),o=e.data("$selectController")||e.parent().data("$selectController");o&&o.ngModelCtrl&&(s?t.$watch(s,function(e,t){i.$set("value",e),t!==e&&o.removeOption(t),o.addOption(e,r),o.ngModelCtrl.$render(),n(r)}):(o.addOption(i.value,r),o.ngModelCtrl.$render(),n(r)),r.on("$destroy",function(){o.removeOption(i.value),o.ngModelCtrl.$render()}))}}}}],Ki=O({restrict:"E",terminal:!1}),Yi=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,r,s){s&&(r.required=!0,s.$validators.required=function(e,t){return!r.required||!s.$isEmpty(t)},r.$observe("required",function(){s.$validate()}))}}},Ji=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,a,r){if(r){var e,s=a.ngPattern||a.pattern;a.$observe("pattern",function(t){if(V(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw p("ngPattern")("noregexp",s,t,dt(n));e=t||o,r.$validate()}),r.$validators.pattern=function(t,n){return r.$isEmpty(n)||N(e)||e.test(n)}}}}},Qi=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,a,r){if(r){var e=-1;a.$observe("maxlength",function(t){t=E(t),e=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(t,n){return 0>e||r.$isEmpty(n)||n.length<=e}}}}},Xi=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,a,r){if(r){var e=0;a.$observe("minlength",function(t){e=E(t)||0,r.$validate()}),r.$validators.minlength=function(t,n){return r.$isEmpty(n)||n.length>=e}}}}};t.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(function(){var n;if(!be){var e=Rr();br=t.jQuery,M(e)&&(br=null===e?o:t[e]),br&&br.fn.on?(Va=br,C(br.fn,{scope:na.scope,isolateScope:na.isolateScope,controller:na.controller,injector:na.injector,inheritedData:na.inheritedData}),n=br.cleanData,br.cleanData=function(t){var a;if(Nr)Nr=!1;else for(var r,s=0;null!=(r=t[s]);s++)(a=br._data(r,"events"))&&a.$destroy&&br(r).triggerHandler("$destroy");n(t)}):Va=Mt,Ea.element=Va,be=!0}}(),function(e){C(e,{bootstrap:gt,copy:et,extend:C,merge:d,equals:nt,element:Va,forEach:j,injector:Qt,noop:_,bind:rt,toJson:st,fromJson:it,identity:q,isUndefined:N,isDefined:M,isString:V,isFunction:Y,isObject:W,isNumber:P,isElement:f,isArray:jr,version:Pa,isDate:F,lowercase:Ar,uppercase:Na,callbacks:{counter:0},getTestability:yt,$$minErr:p,$$csp:qr,reloadWithDebugInfo:ft}),la=kt(t),la("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:ma}),e.provider("$compile",on).directive({a:Bs,input:ni,textarea:ni,form:_s,script:Li,select:Wi,style:Ki,option:Gi,ngBind:si,ngBindHtml:oi,ngBindTemplate:ii,ngClass:di,ngClassEven:ci,ngClassOdd:pi,ngCloak:$i,ngController:ui,ngForm:zs,ngHide:qi,ngIf:gi,ngInclude:fi,ngInit:vi,ngNonBindable:Ti,ngPluralize:ji,ngRepeat:Di,ngShow:Ii,ngStyle:Ri,ngSwitch:Ui,ngSwitchWhen:Bi,ngSwitchDefault:Fi,ngOptions:Ni,ngTransclude:Hi,ngModel:Ai,ngList:bi,ngChange:li,pattern:Ji,ngPattern:Ji,required:Yi,ngRequired:Yi,minlength:Xi,ngMinlength:Xi,maxlength:Qi,ngMaxlength:Qi,ngValue:ri,ngModelOptions:Mi}).directive({ngInclude:yi}).directive(Fs).directive(mi),e.provider({$anchorScroll:Xt,$animate:ls,$animateCss:ds,$$animateQueue:os,$$AnimateRunner:is,$browser:an,$cacheFactory:rn,$controller:cn,$document:$n,$exceptionHandler:un,$filter:Ua,$$forceReflow:us,$interpolate:En,$interval:kn,$http:xn,$httpParamSerializer:hn,$httpParamSerializerJQLike:gn,$httpBackend:wn,$location:Rn,$log:Un,$parse:Zn,$rootScope:ua,$q:ta,$$q:ra,$sce:ba,$sceDelegate:ya,$sniffer:Sa,$templateCache:sn,$templateRequest:wa,$$testability:Oa,$timeout:Ta,$window:Da,$$rAF:$a,$$jqLite:Gt,$$HashMap:es,$$cookieReader:qa})}])}(Ea),Ea.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xA4",negSuf:"",posPre:"\xA4",posSuf:""}]},id:"en-us",pluralCat:function(n,a){var e=a;return o===e&&(e=Sr(t(n),3)),Math.pow(10,e),1==(0|n)&&0==e?"one":"other"}})}]),Va(i).ready(function(){b(i,gt)}))})(window,document),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend("<style type=\"text/css\">@charset \"UTF-8\";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>");
(function(a,i,g){"use strict";function b(d,j,a){var l=a.baseHref(),c=d[0];return function(a,b,d){var e,f;d=d||{},f=d.expires,e=i.isDefined(d.path)?d.path:l,b===g&&(f="Thu, 01 Jan 1970 00:00:00 GMT",b=""),i.isString(f)&&(f=new Date(f)),b=encodeURIComponent(a)+"="+encodeURIComponent(b),b=b+(e?";path="+e:"")+(d.domain?";domain="+d.domain:""),b+=f?";expires="+f.toUTCString():"",b+=d.secure?";secure":"",d=b.length+1,4096<d&&j.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"),c.cookie=b}}i.module("ngCookies",["ng"]).provider("$cookies",[function(){var d=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(b,e){return{get:function(a){return b()[a]},getObject:function(a){return(a=this.get(a))?i.fromJson(a):a},getAll:function(){return b()},put:function(b,c,a){e(b,c,a?i.extend({},d,a):d)},putObject:function(d,c,b){this.put(d,i.toJson(c),b)},remove:function(b,a){e(b,g,a?i.extend({},d,a):d)}}}]}]),i.module("ngCookies").factory("$cookieStore",["$cookies",function(c){return{get:function(b){return c.getObject(b)},put:function(b,a){c.putObject(b,a)},remove:function(b){c.remove(b)}}}]),b.$inject=["$document","$log","$browser"],i.module("ngCookies").provider("$$cookieWriter",function(){this.$get=b})})(window,window.angular);
(function(a,d,b){"use strict";function c(d,e,b){if(!d)throw ngMinErr("areq",e||"?",b||"required");return d}function g(c,a){return c||a?c?a?(fa(c)&&(c=c.join(" ")),fa(a)&&(a=a.join(" ")),c+" "+a):c:a:""}function f(c){var a={};return c&&(c.to||c.from)&&(a.to=c.to,a.from=c.from),a}function i(e,f,b){var c="";return e=fa(e)?e:e&&q(e)&&e.length?e.split(/\s+/):[],P(e,function(d,a){d&&0<d.length&&(c+=0<a?" ":"",c+=b?f+d:d+f)}),c}function j(b){if(b instanceof D)switch(b.length){case 0:return[];case 1:if(1===b[0].nodeType)return b;break;default:return D(e(b));}return 1===b.nodeType?D(b):void 0}function e(d){if(!d[0])return d;for(var a,c=0;c<d.length;c++)if(a=d[c],1==a.nodeType)return a}function h(d,a,e){P(a,function(a){d.addClass(a,e)})}function k(d,a,e){P(a,function(a){d.removeClass(a,e)})}function m(d){return function(a,b){b.addClass&&(h(d,a,b.addClass),b.addClass=null),b.removeClass&&(k(d,a,b.removeClass),b.removeClass=null)}}function o(c){if(c=c||{},!c.$$prepared){var a=c.domOperation||A;c.domOperation=function(){c.$$domOperationFired=!0,a(),a=A},c.$$prepared=!0}return c}function n(c,a){B(c,a),s(c,a)}function B(c,a){a.from&&(c.css(a.from),a.from=null)}function s(c,a){a.to&&(c.css(a.to),a.to=null)}function z(f,a,b){var c=(a.addClass||"")+" "+(b.addClass||""),d=(a.removeClass||"")+" "+(b.removeClass||"");return f=l(f.attr("class"),c,d),b.preparationClasses&&(a.preparationClasses=r(b.preparationClasses,a.preparationClasses),delete b.preparationClasses),c=a.domOperation===A?null:a.domOperation,C(a,b),c&&(a.domOperation=c),a.addClass=f.addClass?f.addClass:null,a.removeClass=f.removeClass?f.removeClass:null,a}function l(f,a,b){function c(c){q(c)&&(c=c.split(" "));var d={};return P(c,function(b){b.length&&(d[b]=!0)}),d}var d={};f=c(f),a=c(a),P(a,function(c,a){d[a]=1}),b=c(b),P(b,function(c,a){d[a]=1===d[a]?null:-1});var g={addClass:"",removeClass:""};return P(d,function(a,b){var c,e;1===a?(c="addClass",e=!f[b]):-1==a&&(c="removeClass",e=f[b]),e&&(g[c].length&&(g[c]+=" "),g[c]+=b)}),g}function V(b){return b instanceof d.element?b[0]:b}function p(e,a,b){var c="";a&&(c=i(a,"ng-",!0)),b.addClass&&(c=r(c,i(b.addClass,"-add"))),b.removeClass&&(c=r(c,i(b.removeClass,"-remove"))),c.length&&(b.preparationClasses=c,e.addClass(c))}function G(d,a){var b=a?"-"+a+"s":"";return J(d,[Q,b]),[Q,b]}function t(e,a){var b=a?"paused":"",c=N+"PlayState";return J(e,[c,b]),[c,b]}function J(c,a){c.style[a[0]]=a[1]}function r(c,a){return c?a?c+" "+a:c:a}function u(f,a,b){var g=Object.create(null),d=f.getComputedStyle(a)||{};return P(b,function(e,a){var b=d[e];if(b){var c=b.charAt(0);("-"===c||"+"===c||0<=c)&&(b=v(b)),0===b&&(b=null),g[a]=b}}),g}function v(c){var d=0;return c=c.split(/\s*,\s*/),P(c,function(b){"s"==b.charAt(b.length-1)&&(b=b.substring(0,b.length-1)),b=parseFloat(b)||0,d=d?X(b,d):b}),d}function U(b){return 0===b||null!=b}function _(e,a){var b=ea,c=e+"s";return a?b+="Duration":c+=" linear all",[b,c]}function w(){var d=Object.create(null);return{flush:function(){d=Object.create(null)},count:function(a){return(a=d[a])?a.total:0},get:function(a){return(a=d[a])&&a.value},put:function(a,b){d[a]?d[a].total++:d[a]={total:1,value:b}}}}var ea,y,N,O,x=Math.floor,X=Math.max,A=d.noop,C=d.extend,D=d.element,P=d.forEach,fa=d.isArray,q=d.isString,K=d.isObject,E=d.isUndefined,H=d.isDefined,I=d.isFunction,M=d.isElement;a.ontransitionend===b&&a.onwebkittransitionend!==b?(ea="WebkitTransition",y="webkitTransitionEnd transitionend"):(ea="transition",y="transitionend"),a.onanimationend===b&&a.onwebkitanimationend!==b?(N="WebkitAnimation",O="webkitAnimationEnd animationend"):(N="animation",O="animationend");var R=N+"Delay",$=N+"Duration",Q=ea+"Delay";a=ea+"Duration";var S={transitionDuration:a,transitionDelay:Q,transitionProperty:ea+"Property",animationDuration:$,animationDelay:R,animationIterationCount:N+"IterationCount"},ia={transitionDuration:a,transitionDelay:Q,animationDuration:$,animationDelay:R};d.module("ngAnimate",[]).provider("$$body",function(){this.$get=["$document",function(b){return D(b[0].body)}]}).directive("ngAnimateChildren",[function(){return function(e,f,a){e=a.ngAnimateChildren,d.isString(e)&&0===e.length?f.data("$$ngAnimateChildren",!0):a.$observe("ngAnimateChildren",function(b){f.data("$$ngAnimateChildren","on"===b||"true"===b)})}}]).factory("$$rAFScheduler",["$$rAF",function(f){function a(b){c=c.concat(b),g()}function g(){if(c.length){for(var a=c.shift(),b=0;b<a.length;b++)a[b]();d||f(function(){d||g()})}}var c,d;return c=a.queue=[],a.waitUntilQuiet=function(a){d&&d(),d=f(function(){d=null,a(),g()})},a}]).factory("$$AnimateRunner",["$q","$sniffer","$$animateAsyncRun",function(e,a,b){function c(c){this.setHost(c),this._doneCallbacks=[],this._runInAnimationFrame=b(),this._state=0}return c.chain=function(e,f){function b(){c===e.length?f(!0):e[c](function(d){!1===d?f(!1):(c++,b())})}var c=0;b()},c.all=function(e,a){function b(b){d=d&&b,++c===e.length&&a(d)}var c=0,d=!0;P(e,function(c){c.done(b)})},c.prototype={setHost:function(b){this.host=b||{}},done:function(b){2===this._state?b():this._doneCallbacks.push(b)},progress:A,getPromise:function(){if(!this.promise){var d=this;this.promise=e(function(e,a){d.done(function(c){!1===c?a():e()})})}return this.promise},then:function(c,a){return this.getPromise().then(c,a)},catch:function(b){return this.getPromise()["catch"](b)},finally:function(b){return this.getPromise()["finally"](b)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(c){var a=this;0===a._state&&(a._state=1,a._runInAnimationFrame(function(){a._resolve(c)}))},_resolve:function(c){2!==this._state&&(P(this._doneCallbacks,function(a){a(c)}),this._doneCallbacks.length=0,this._state=2)}},c}]).factory("$$animateAsyncRun",["$$rAF",function(d){function e(a){f.push(a),1<f.length||d(function(){for(var b=0;b<f.length;b++)f[b]();f=[]})}var f=[];return function(){var b=!1;return e(function(){b=!0}),function(a){b?a():e(a)}}}]).provider("$$animateQueue",["$animateProvider",function(i){function f(d,e,f,c){return g[d].some(function(b){return b(e,f,c)})}function s(e,a){e=e||{};var b=0<(e.addClass||"").length,f=0<(e.removeClass||"").length;return a?b&&f:b||f}var g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(c,a){return!a.structural&&s(a.options)}),g.skip.push(function(c,a){return!a.structural&&!s(a.options)}),g.skip.push(function(d,a,b){return"leave"==b.event&&a.structural}),g.skip.push(function(d,a,b){return b.structural&&2===b.state&&!a.structural}),g.cancel.push(function(d,a,b){return b.structural&&a.structural}),g.cancel.push(function(d,a,b){return 2===b.state&&a.structural}),g.cancel.push(function(d,a,b){return d=a.options,b=b.options,d.addClass&&d.addClass===b.removeClass||d.removeClass&&d.removeClass===b.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$body","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(D,b,y,a,v,d,F,G,l,t){function x(d,a){var b=V(d),c=[],e=R[a];return e&&P(e,function(d){d.node.contains(b)&&c.push(d.callback)}),c}function h(d,e,b,c){D(function(){P(x(e,d),function(d){d(e,b,c)})})}function I(i,c,x){function y(a,b,c,d){h(b,i,c,d),a.progress(b,c,d)}function d(a){var d=i,c=x;c.preparationClasses&&(d.removeClass(c.preparationClasses),c.preparationClasses=null),c.activeClasses&&(d.removeClass(c.activeClasses),c.activeClasses=null),k(i,x),n(i,x),x.domOperation(),E.complete(!a)}var C,D;(i=j(i))&&(C=V(i),D=i.parent()),x=o(x);var E=new G;if(fa(x.addClass)&&(x.addClass=x.addClass.join(" ")),x.addClass&&!q(x.addClass)&&(x.addClass=null),fa(x.removeClass)&&(x.removeClass=x.removeClass.join(" ")),x.removeClass&&!q(x.removeClass)&&(x.removeClass=null),x.from&&!K(x.from)&&(x.from=null),x.to&&!K(x.to)&&(x.to=null),!C)return d(),E;var I=[C.className,x.addClass,x.removeClass].join(" ");if(!S(I))return d(),E;var M=0<=["enter","move","leave"].indexOf(c),P=!Q||A.get(C),I=!P&&r.get(C)||{},R=!!I.state;if(P||R&&1==I.state||(P=!J(i,D,c)),P)return d(),E;if(M&&L(i),D={structural:M,element:i,event:c,close:d,options:x,runner:E},R){if(f("skip",i,D,I))return 2===I.state?(d(),E):(z(i,I.options,x),I.runner);if(f("cancel",i,D,I)){if(2===I.state)I.runner.end();else if(I.structural)I.close();else return z(i,I.options,D.options),I.runner;}else if(f("join",i,D,I))if(2===I.state)z(i,x,{});else return p(i,M?c:null,x),c=D.event=I.event,x=z(i,I.options,D.options),I.runner}else z(i,x,{});if((R=D.structural)||(R="animate"===D.event&&0<Object.keys(D.options.to||{}).length||s(D.options)),!R)return d(),N(i),E;var T=(I.counter||0)+1;return D.counter=T,O(i,1,D),b.$$postDigest(function(){var a=r.get(C),e=!a,a=a||{},f=0<(i.parent()||[]).length&&("animate"===a.event||a.structural||s(a.options));e||a.counter!==T||!f?(e&&(k(i,x),n(i,x)),(e||M&&a.event!==c)&&(x.domOperation(),E.end()),f||N(i)):(c=!a.structural&&s(a.options,!0)?"setClass":a.event,O(i,2),a=F(i,c,a.options),a.done(function(a){d(!a),(a=r.get(C))&&a.counter===T&&N(V(i)),y(E,c,"close",{})}),E.setHost(a),y(E,c,"start",{}))}),E}function L(b){b=V(b).querySelectorAll("[data-ng-animate]"),P(b,function(d){var a=parseInt(d.getAttribute("data-ng-animate")),b=r.get(d);switch(a){case 2:b.runner.end();case 1:b&&r.remove(d);}})}function N(b){b=V(b),b.removeAttribute("data-ng-animate"),r.remove(b)}function u(c,a){return V(c)===V(a)}function J(e,a,b){b=u(e,v)||"HTML"===e[0].nodeName;var c,d=u(e,y),g=!1;for((e=e.data("$ngAnimatePin"))&&(a=e);a&&a.length&&(d||(d=u(a,y)),e=a[0],1===e.nodeType);){var h=r.get(e)||{};if(g||(g=h.structural||A.get(e)),(E(c)||!0===c)&&(e=a.data("$$ngAnimateChildren"),H(e)&&(c=e)),g&&!1===c)break;d||(d=u(a,y),d||(e=a.data("$ngAnimatePin"))&&(a=e)),b||(b=u(a,v)),a=a.parent()}return(!g||c)&&d&&b}function O(d,a,b){b=b||{},b.state=a,d=V(d),d.setAttribute("data-ng-animate",a),b=(a=r.get(d))?C(a,b):b,r.put(d,b)}var r=new d,A=new d,Q=null,B=b.$watch(function(){return 0===l.totalPendingRequests},function(c){c&&(B(),b.$$postDigest(function(){b.$$postDigest(function(){null==Q&&(Q=!0)})}))}),R={},g=i.classNameFilter(),S=g?function(b){return g.test(b)}:function(){return!0},k=m(t);return{on:function(d,a,f){a=e(a),R[d]=R[d]||[],R[d].push({node:a,callback:f})},off:function(d,a,b){var c=R[d];c&&(R[d]=1===arguments.length?null:function(d,a,b){var c=e(a);return d.filter(function(d){return d.node!==c||b&&d.callback!==b})}(c,a,b))},pin:function(d,a){c(M(d),"element","not an element"),c(M(a),"parentElement","not an element"),d.data("$ngAnimatePin",a)},push:function(d,a,b,c){return b=b||{},b.domOperation=c,I(d,a,b)},enabled:function(d,e){var h=arguments.length;if(0===h)e=!!Q;else if(M(d)){var c=V(d),g=A.get(c);1===h?e=!g:(e=!!e)?g&&A.remove(c):A.put(c,!0)}else e=Q=!!d;return e}}}]}]).provider("$$animation",["$animateProvider",function(){function e(b){return b.data("$$animationRunner")}var i=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(c,a,f,b,h,j){function k(f){function a(b){if(b.processed)return b;b.processed=!0;var e=b.domNode,f=e.parentNode;c.put(e,b);for(var d;f;){if(d=c.get(f)){d.processed||(d=a(d));break}f=f.parentNode}return(d||g).children.push(b),b}var b,g={children:[]},c=new h;for(b=0;b<f.length;b++){var d=f[b];c.put(d.domNode,f[b]={domNode:d.domNode,fn:d.fn,children:[]})}for(b=0;b<f.length;b++)a(f[b]);return function(f){var a,d=[],b=[];for(a=0;a<f.children.length;a++)b.push(f.children[a]);f=b.length;var c=0,g=[];for(a=0;a<b.length;a++){var e=b[a];0>=f&&(f=c,c=0,d.push(g),g=[]),g.push(e.fn),e.children.forEach(function(d){c++,b.push(d)}),f--}return g.length&&d.push(g),d}(g)}var l=[],d=m(c);return function(m,q,s){function v(c){c=c.hasAttribute("ng-animate-ref")?[c]:c.querySelectorAll("[ng-animate-ref]");var d=[];return P(c,function(b){var a=b.getAttribute("ng-animate-ref");a&&a.length&&d.push(b)}),d}function h(e){var i=[],h={};P(e,function(b,c){var a=V(b.element),d=0<=["enter","move"].indexOf(b.event),a=b.structural?v(a):[];if(a.length){var f=d?"to":"from";P(a,function(d){var a=d.getAttribute("ng-animate-ref");h[a]=h[a]||{},h[a][f]={animationID:c,element:D(d)}})}else i.push(b)});var a={},b={};return P(h,function(d){var c=d.from,f=d.to;if(c&&f){var g=e[c.animationID],h=e[f.animationID],j=c.animationID.toString();if(!b[j]){var m=b[j]={structural:!0,beforeStart:function(){g.beforeStart(),h.beforeStart()},close:function(){g.close(),h.close()},classes:w(g.classes,h.classes),from:g,to:h,anchors:[]};m.classes.length?i.push(m):(i.push(g),i.push(h))}b[j].anchors.push({out:c.element,in:f.element})}else c=c?c.animationID:f.animationID,f=c.toString(),a[f]||(a[f]=!0,i.push(e[c]))}),i}function w(e,a){e=e.split(" "),a=a.split(" ");for(var b,f=[],c=0;c<e.length;c++)if(b=e[c],"ng-"!==b.substring(0,3))for(var d=0;d<a.length;d++)if(b===a[d]){f.push(b);break}return f.join(" ")}function u(c){for(var a,d=i.length-1;0<=d;d--)if(a=i[d],f.has(a)&&(a=f.get(a)(c)))return a}function x(b,a){b.from&&b.to?(e(b.from.element).setHost(a),e(b.to.element).setHost(a)):e(b.element).setHost(a)}function y(){var b=e(m);!b||"leave"===q&&s.$$domOperationFired||b.end()}function B(a){m.off("$destroy",y),m.removeData("$$animationRunner"),d(m,s),n(m,s),s.domOperation(),G&&c.removeClass(m,G),m.removeClass("ng-animate"),F.complete(!a)}s=o(s);var C=0<=["enter","move","leave"].indexOf(q),F=new b({end:function(){B()},cancel:function(){B(!0)}});if(!i.length)return B(),F;m.data("$$animationRunner",F);var A=g(m.attr("class"),g(s.addClass,s.removeClass)),G=s.tempClasses;return(G&&(A+=" "+G,s.tempClasses=null),l.push({element:m,classes:A,event:q,structural:C,options:s,beforeStart:function(){m.addClass("ng-animate"),G&&c.addClass(m,G)},close:B}),m.on("$destroy",y),1<l.length)?F:(a.$$postDigest(function(){var b=[];P(l,function(a){e(a.element)?b.push(a):a.close()}),l.length=0;var a=h(b),c=[];P(a,function(b){c.push({domNode:V(b.from?b.from.element:b.element),fn:function(){b.beforeStart();var a,c=b.close;if(e(b.anchors?b.from.element||b.to.element:b.element)){var d=u(b);d&&(a=d.start)}a?(a=a(),a.done(function(b){c(!b)}),x(b,a)):c()}})}),j(k(c))}),F)}}]}]).provider("$animateCss",["$animateProvider",function(){var j=w(),b=w();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$animate",function(d,q,a,e,c,v,g,l){function L(d,a){var b=d.parentNode;return(b.$$ngAnimateParentKey||(b.$$ngAnimateParentKey=++h))+"-"+d.getAttribute("class")+"-"+a}function ga(a,c,e,f){var g;return 0<j.count(e)&&(g=b.get(e),g||(c=i(c,"-stagger"),q.addClass(a,c),g=u(d,a,f),g.animationDuration=X(g.animationDuration,0),g.transitionDuration=X(g.transitionDuration,0),q.removeClass(a,c),b.put(e,g))),g||{}}function k(d){p.push(d),g.waitUntilQuiet(function(){j.flush(),b.flush();for(var e=c(),a=0;a<p.length;a++)p[a](e);p.length=0})}function ja(a,b,c){return b=j.get(c),b||(b=u(d,a,S),"infinite"===b.animationIterationCount&&(b.animationIterationCount=1)),j.put(c,b),a=b,c=a.animationDelay,b=a.transitionDelay,a.maxDelay=c&&b?X(c,b):c||b,a.maxDuration=X(a.animationDuration*a.animationIterationCount,a.transitionDuration),a}var E=m(q),h=0,p=[];return function(h,ka){function b(){la()}function c(){la(!0)}function la(a){oa||z&&H||(oa=!0,H=!1,ka.$$skipPreparationClasses||q.removeClass(h,ta),q.removeClass(h,ha),t(na,!1),G(na,!1),P(pa,function(b){na.style[b[0]]=""}),E(h,ka),n(h,ka),ka.onDone&&ka.onDone(),S&&S.complete(!a))}function r(b){Y.blockTransition&&G(na,b),Y.blockKeyframeAnimation&&t(na,!!b)}function ma(){return S=new a({end:b,cancel:c}),k(A),la(),{$$willAnimate:!1,start:function(){return S},end:b}}function u(){function a(){if(!oa){if(r(!1),P(pa,function(b){na.style[b[0]]=b[1]}),E(h,ka),q.addClass(h,ha),Y.recalculateTimingStyles){if(aa=na.className+" "+ta,Z=L(na,aa),W=ja(na,aa,Z),D=W.maxDelay,F=X(D,0),M=W.maxDuration,0===M)return void la();Y.hasTransitions=0<W.transitionDuration,Y.hasAnimations=0<W.animationDuration}if(Y.applyAnimationDelay&&(D="boolean"!=typeof ka.delay&&U(ka.delay)?parseFloat(ka.delay):D,F=X(D,0),W.animationDelay=D,ua=[R,D+"s"],pa.push(ua),na.style[ua[0]]=ua[1]),I=1E3*F,K=1E3*M,ka.easing){var a,g=ka.easing;Y.hasTransitions&&(a=ea+"TimingFunction",pa.push([a,g]),na.style[a]=g),Y.hasAnimations&&(a=N+"TimingFunction",pa.push([a,g]),na.style[a]=g)}W.transitionDuration&&f.push(y),W.animationDuration&&f.push(O),d=Date.now();var i=I+1.5*K;a=d+i;var g=h.data("$$animateCss")||[],j=!0;if(g.length){var l=g[0];(j=a>l.expectedEndTime)?e.cancel(l.timer):g.push(la)}j&&(i=e(b,i,!1),g[0]={timer:i,expectedEndTime:a},g.push(la),h.data("$$animateCss",g)),h.on(f.join(" "),c),s(h,ka)}}function b(){var a=h.data("$$animateCss");if(a){for(var b=1;b<a.length;b++)a[b]();h.removeData("$$animateCss")}}function c(c){c.stopPropagation();var a=c.originalEvent||c;c=a.$manualTimeStamp||a.timeStamp||Date.now(),a=parseFloat(a.elapsedTime.toFixed(3)),X(c-d,0)>=I&&a>=M&&(z=!0,la())}if(!oa)if(na.parentNode){var d,f=[],g=function(d){if(z)H&&d&&(H=!1,la());else if(H=!d,W.animationDuration)if(d=t(na,H),H)pa.push(d);else{var e=pa,b=e.indexOf(d);0<=d&&e.splice(b,1)}},i=0<T&&(W.transitionDuration&&0===ba.transitionDuration||W.animationDuration&&0===ba.animationDuration)&&X(ba.animationDelay,ba.transitionDelay);i?e(a,x(1E3*(i*T)),!1):a(),m.resume=function(){g(!0)},m.pause=function(){g(!1)}}else la()}var na=V(h);if(!na||!na.parentNode||!l.enabled())return ma();ka=o(ka);var oa,H,z,S,m,F,I,M,K,pa=[],w=h.attr("class"),qa=f(ka);if(0===ka.duration||!v.animations&&!v.transitions)return ma();var ra=ka.event&&fa(ka.event)?ka.event.join(" "):ka.event,ca="",sa="";ra&&ka.structural?ca=i(ra,"ng-",!0):ra&&(ca=ra),ka.addClass&&(sa+=i(ka.addClass,"-add")),ka.removeClass&&(sa.length&&(sa+=" "),sa+=i(ka.removeClass,"-remove")),ka.applyClassesEarly&&sa.length&&E(h,ka);var ta=[ca,sa].join(" ").trim(),aa=w+" "+ta,ha=i(ta,"-active"),w=qa.to&&0<Object.keys(qa.to).length;if(!(0<(ka.keyframeStyle||"").length||w||ta))return ma();var Z,ba;0<ka.stagger?(qa=parseFloat(ka.stagger),ba={transitionDelay:qa,animationDelay:qa,transitionDuration:0,animationDuration:0}):(Z=L(na,aa),ba=ga(na,ta,Z,ia)),ka.$$skipPreparationClasses||q.addClass(h,ta),ka.transitionStyle&&(qa=[ea,ka.transitionStyle],J(na,qa),pa.push(qa)),0<=ka.duration&&(qa=0<na.style[ea].length,qa=_(ka.duration,qa),J(na,qa),pa.push(qa)),ka.keyframeStyle&&(qa=[N,ka.keyframeStyle],J(na,qa),pa.push(qa));var T=ba?0<=ka.staggerIndex?ka.staggerIndex:j.count(Z):0;(ra=0===T)&&!ka.skipBlocking&&G(na,9999);var W=ja(na,aa,Z),D=W.maxDelay;F=X(D,0),M=W.maxDuration;var Y={};if(Y.hasTransitions=0<W.transitionDuration,Y.hasAnimations=0<W.animationDuration,Y.hasTransitionAll=Y.hasTransitions&&"all"==W.transitionProperty,Y.applyTransitionDuration=w&&(Y.hasTransitions&&!Y.hasTransitionAll||Y.hasAnimations&&!Y.hasTransitions),Y.applyAnimationDuration=ka.duration&&Y.hasAnimations,Y.applyTransitionDelay=U(ka.delay)&&(Y.applyTransitionDuration||Y.hasTransitions),Y.applyAnimationDelay=U(ka.delay)&&Y.hasAnimations,Y.recalculateTimingStyles=0<sa.length,(Y.applyTransitionDuration||Y.applyAnimationDuration)&&(M=ka.duration?parseFloat(ka.duration):M,Y.applyTransitionDuration&&(Y.hasTransitions=!0,W.transitionDuration=M,qa=0<na.style[ea+"Property"].length,pa.push(_(M,qa))),Y.applyAnimationDuration&&(Y.hasAnimations=!0,W.animationDuration=M,pa.push([$,M+"s"]))),0===M&&!Y.recalculateTimingStyles)return ma();if(null!=ka.delay){var ua=parseFloat(ka.delay);Y.applyTransitionDelay&&pa.push([Q,ua+"s"]),Y.applyAnimationDelay&&pa.push([R,ua+"s"])}return null==ka.duration&&0<W.transitionDuration&&(Y.recalculateTimingStyles=Y.recalculateTimingStyles||ra),I=1E3*F,K=1E3*M,ka.skipBlocking||(Y.blockTransition=0<W.transitionDuration,Y.blockKeyframeAnimation=0<W.animationDuration&&0<ba.animationDelay&&0===ba.animationDuration),B(h,ka),Y.blockTransition||Y.blockKeyframeAnimation?r(M):ka.skipBlocking||G(na,!1),{$$willAnimate:!0,end:b,start:function(){if(!oa)return m={end:b,cancel:c,resume:null,pause:null},S=new a(m),k(u),S}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(b){b.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$$body","$sniffer","$$jqLite",function(b,a,g,c,d,e,f){function h(b){return b.replace(/\bng-\S+\b/g,"")}function i(c,d){return q(c)&&(c=c.split(" ")),q(d)&&(d=d.split(" ")),c.filter(function(b){return-1===d.indexOf(b)}).join(" ")}function j(a,d,e){function j(d){var e={},b=V(d).getBoundingClientRect();return P(["width","height","top","left"],function(c){var a=b[c];"top"===c?a+=l.scrollTop:"left"===c?a+=l.scrollLeft:void 0,e[c]=x(a)+"px"}),e}function k(){var a=h(e.attr("class")||""),c=i(a,n),a=i(n,a),c=b(m,{to:j(e),addClass:"ng-anchor-in "+c,removeClass:"ng-anchor-out "+a,delay:!0});return c.$$willAnimate?c:null}function f(){m.remove(),d.removeClass("ng-animate-shim"),e.removeClass("ng-animate-shim")}var m=D(V(d).cloneNode(!0)),n=h(m.attr("class")||"");d.addClass("ng-animate-shim"),e.addClass("ng-animate-shim"),m.addClass("ng-anchor"),o.append(m);var p;if(a=function(){var a=b(m,{addClass:"ng-anchor-out",delay:!0,from:j(d)});return a.$$willAnimate?a:null}(),!a&&(p=k(),!p))return f();var q=a||p;return{start:function(){function d(){b&&b.end()}var e,b=q.start();return b.done(function(){return b=null,!p&&(p=k())?(b=p.start(),b.done(function(){b=null,f(),e.complete()}),b):void(f(),e.complete())}),e=new g({end:d,cancel:d})}}}function k(d,a,b,c){var e=n(d,A),f=n(a,A),h=[];if(P(c,function(c){(c=j(b,c.out,c["in"]))&&h.push(c)}),e||f||0!==h.length)return{start:function(){function d(){P(i,function(b){b.end()})}var i=[];e&&i.push(e.start()),f&&i.push(f.start()),P(h,function(b){i.push(b.start())});var b=new g({end:d,cancel:d});return g.all(i,function(c){b.complete(c)}),b}}}function n(a){var c=a.element,d=a.options||{};return a.structural&&(d.event=a.event,d.structural=!0,d.applyClassesEarly=!0,"leave"===a.event&&(d.onDone=d.domOperation)),d.preparationClasses&&(d.event=r(d.event,d.preparationClasses)),a=b(c,d),a.$$willAnimate?a:null}if(!e.animations&&!e.transitions)return A;var l=V(d);a=V(c);var o=D(l.parentNode===a?l:a);return m(f),function(b){return b.from&&b.to?k(b.from,b.to,b.classes,b.anchors):n(b)}}]}]).provider("$$animateJs",["$animateProvider",function(f){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(a,i,b){function c(b){b=fa(b)?b:b.split(" ");for(var c=[],d={},g=0;g<b.length;g++){var h=b[g],i=f.$$registeredAnimations[h];i&&!d[h]&&(c.push(a.get(i)),d[h]=!0)}return c}var d=m(b);return function(e,a,b,g){function j(){g.domOperation(),d(e,g)}function k(c,a,b,d,e){if(a="animate"===b?[a,d.from,d.to,e]:"setClass"===b?[a,r,s,e]:"addClass"===b?[a,r,e]:"removeClass"===b?[a,s,e]:[a,e],a.push(d),c=c.apply(c,a))if(I(c.start)&&(c=c.start()),c instanceof i)c.done(e);else if(I(c))return c;return A}function l(c,a,b,d,j){var f=[];return P(d,function(d){var m=d[j];m&&f.push(function(){var d,e,g=!1,f=function(b){g||(g=!0,(e||A)(b),d.complete(!b))};return d=new i({end:function(){f()},cancel:function(){f(!0)}}),e=k(m,c,a,b,function(b){f(!1===b)}),d})}),f}function m(c,a,b,d,e){var f=l(c,a,b,d,e);if(0===f.length){var g,h;"beforeSetClass"===e?(g=l(c,"removeClass",b,d,"beforeRemoveClass"),h=l(c,"addClass",b,d,"beforeAddClass")):"setClass"==e&&(g=l(c,"removeClass",b,d,"removeClass"),h=l(c,"addClass",b,d,"addClass")),g&&(f=f.concat(g)),h&&(f=f.concat(h))}return 0===f.length?void 0:function(c){var d=[];return f.length&&P(f,function(b){d.push(b())}),d.length?i.all(d,c):c(),function(c){P(d,function(a){c?a.cancel():a.end()})}}}3===arguments.length&&K(b)&&(g=b,b=null),g=o(g),b||(b=e.attr("class")||"",g.addClass&&(b+=" "+g.addClass),g.removeClass&&(b+=" "+g.removeClass));var p,q,r=g.addClass,s=g.removeClass,h=c(b);if(h.length){var t,f;"leave"==a?(f="leave",t="afterLeave"):(f="before"+a.charAt(0).toUpperCase()+a.substr(1),t=a),"enter"!==a&&"move"!==a&&(p=m(e,a,g,h,f)),q=m(e,a,g,h,t)}return p||q?{start:function(){function a(a){d=!0,j(),n(e,g),f.complete(a)}var b,c=[];p&&c.push(function(c){b=p(c)}),c.length?c.push(function(b){j(),b(!0)}):j(),q&&c.push(function(c){b=q(c)});var d=!1,f=new i({end:function(){d||((b||A)(void 0),a(void 0))},cancel:function(){d||((b||A)(!0),a(!0))}});return i.chain(c,a),f}}:void 0}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(b){b.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(b,f){function c(a){return b(a.element,a.event,a.classes,a.options)}return function(d){if(d.from&&d.to){var g=c(d.from),b=c(d.to);if(g||b)return{start:function(){function c(){return function(){P(a,function(b){b.end()})}}var a=[];g&&a.push(g.start()),b&&a.push(b.start()),f.all(a,function(b){d.complete(b)});var d=new f({end:c(),cancel:c()});return d}}}else return c(d)}}]}])})(window,window.angular);
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(c){"use strict";var a=c.fn.jquery.split(" ")[0].split(".");if(2>a[0]&&9>a[1]||1==a[0]&&9==a[1]&&1>a[2]||2<a[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(e){"use strict";function a(){var d=document.createElement("bootstrap"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var e in a)if(void 0!==d.style[e])return{end:a[e]};return!1}e.fn.emulateTransitionEnd=function(a){var b=!1,c=this;e(this).one("bsTransitionEnd",function(){b=!0});return setTimeout(function(){b||e(c).trigger(e.support.transition.end)},a),this},e(function(){e.support.transition=a(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(a){return e(a.target).is(this)?a.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(h){"use strict";var a="[data-dismiss=\"alert\"]",i=function(c){h(c).on("click",a,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(a){function b(){e.detach().trigger("closed.bs.alert").remove()}var c=h(this),d=c.attr("data-target");d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));var e=h(d);a&&a.preventDefault(),e.length||(e=c.closest(".alert")),e.trigger(a=h.Event("close.bs.alert")),a.isDefaultPrevented()||(e.removeClass("in"),h.support.transition&&e.hasClass("fade")?e.one("bsTransitionEnd",b).emulateTransitionEnd(i.TRANSITION_DURATION):b())};var b=h.fn.alert;h.fn.alert=function(a){return this.each(function(){var d=h(this),c=d.data("bs.alert");c||d.data("bs.alert",c=new i(this)),"string"==typeof a&&c[a].call(d)})},h.fn.alert.Constructor=i,h.fn.alert.noConflict=function(){return h.fn.alert=b,this},h(document).on("click.bs.alert.data-api",a,i.prototype.close)}(jQuery),+function(g){"use strict";function a(a){return this.each(function(){var c=g(this),d=c.data("bs.button");d||c.data("bs.button",d=new f(this,"object"==typeof a&&a)),"toggle"==a?d.toggle():a&&d.setState(a)})}var f=function(a,b){this.$element=g(a),this.options=g.extend({},f.DEFAULTS,b),this.isLoading=!1};f.VERSION="3.3.6",f.DEFAULTS={loadingText:"loading..."},f.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",null==e.resetText&&c.data("resetText",c[d]()),setTimeout(g.proxy(function(){c[d](null==e[a]?this.options[a]:e[a]),"loadingText"==a?(this.isLoading=!0,c.addClass(b).attr(b,b)):this.isLoading&&(this.isLoading=!1,c.removeClass(b).removeAttr(b))},this),0)},f.prototype.toggle=function(){var d=!0,a=this.$element.closest("[data-toggle=\"buttons\"]");if(a.length){var b=this.$element.find("input");"radio"==b.prop("type")?(b.prop("checked")&&(d=!1),a.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==b.prop("type")&&(b.prop("checked")!==this.$element.hasClass("active")&&(d=!1),this.$element.toggleClass("active")),b.prop("checked",this.$element.hasClass("active")),d&&b.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var b=g.fn.button;g.fn.button=a,g.fn.button.Constructor=f,g.fn.button.noConflict=function(){return g.fn.button=b,this},g(document).on("click.bs.button.data-api","[data-toggle^=\"button\"]",function(b){var c=g(b.target);c.hasClass("btn")||(c=c.closest(".btn")),a.call(c,"toggle"),g(b.target).is("input[type=\"radio\"]")||g(b.target).is("input[type=\"checkbox\"]")||b.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api","[data-toggle^=\"button\"]",function(a){g(a.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(a.type))})}(jQuery),+function(n){"use strict";function a(a){return this.each(function(){var c=n(this),d=c.data("bs.carousel"),e=n.extend({},k.DEFAULTS,c.data(),"object"==typeof a&&a),f="string"==typeof a?a:e.slide;d||c.data("bs.carousel",d=new k(this,e)),"number"==typeof a?d.to(a):f?d[f]():e.interval&&d.pause().cycle()})}var k=function(a,b){this.$element=n(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=b,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))};k.VERSION="3.3.6",k.TRANSITION_DURATION=600,k.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},k.prototype.keydown=function(b){if(!/input|textarea/i.test(b.target.tagName)){switch(b.which){case 37:this.prev();break;case 39:this.next();break;default:return;}b.preventDefault()}},k.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this},k.prototype.getItemIndex=function(b){return this.$items=b.parent().children(".item"),this.$items.index(b||this.$active)},k.prototype.getItemForDirection=function(g,a){var b=this.getItemIndex(a),c="prev"==g&&0===b||"next"==g&&b==this.$items.length-1;if(c&&!this.options.wrap)return a;var d="prev"==g?-1:1,e=(b+d)%this.$items.length;return this.$items.eq(e)},k.prototype.to=function(d){var a=this,b=this.getItemIndex(this.$active=this.$element.find(".item.active"));return d>this.$items.length-1||0>d?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){a.to(d)}):b==d?this.pause().cycle():this.slide(d>b?"next":"prev",this.$items.eq(d))},k.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},k.prototype.next=function(){return this.sliding?void 0:this.slide("next")},k.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},k.prototype.slide=function(a,b){var c=this.$element.find(".item.active"),d=b||this.getItemForDirection(a,c),e=this.interval,f="next"==a?"left":"right",g=this;if(d.hasClass("active"))return this.sliding=!1;var i=d[0],o=n.Event("slide.bs.carousel",{relatedTarget:i,direction:f});if(this.$element.trigger(o),!o.isDefaultPrevented()){if(this.sliding=!0,e&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=n(this.$indicators.children()[this.getItemIndex(d)]);p&&p.addClass("active")}var l=n.Event("slid.bs.carousel",{relatedTarget:i,direction:f});return n.support.transition&&this.$element.hasClass("slide")?(d.addClass(a),d[0].offsetWidth,c.addClass(f),d.addClass(f),c.one("bsTransitionEnd",function(){d.removeClass([a,f].join(" ")).addClass("active"),c.removeClass(["active",f].join(" ")),g.sliding=!1,setTimeout(function(){g.$element.trigger(l)},0)}).emulateTransitionEnd(k.TRANSITION_DURATION)):(c.removeClass("active"),d.addClass("active"),this.sliding=!1,this.$element.trigger(l)),e&&this.cycle(),this}};var b=n.fn.carousel;n.fn.carousel=a,n.fn.carousel.Constructor=k,n.fn.carousel.noConflict=function(){return n.fn.carousel=b,this};var c=function(b){var c,d=n(this),e=n(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""));if(e.hasClass("carousel")){var f=n.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),a.call(e,f),g&&e.data("bs.carousel").to(g),b.preventDefault()}};n(document).on("click.bs.carousel.data-api","[data-slide]",c).on("click.bs.carousel.data-api","[data-slide-to]",c),n(window).on("load",function(){n("[data-ride=\"carousel\"]").each(function(){var b=n(this);a.call(b,b.data())})})}(jQuery),+function(j){"use strict";function a(a){var e,c=a.attr("data-target")||(e=a.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return j(c)}function k(a){return this.each(function(){var d=j(this),c=d.data("bs.collapse"),g=j.extend({},l.DEFAULTS,d.data(),"object"==typeof a&&a);!c&&g.toggle&&/show|hide/.test(a)&&(g.toggle=!1),c||d.data("bs.collapse",c=new l(this,g)),"string"==typeof a&&c[a]()})}var l=function(a,b){this.$element=j(a),this.options=j.extend({},l.DEFAULTS,b),this.$trigger=j("[data-toggle=\"collapse\"][href=\"#"+a.id+"\"],[data-toggle=\"collapse\"][data-target=\"#"+a.id+"\"]"),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.6",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){var b=this.$element.hasClass("width");return b?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a,b=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(b&&b.length&&(a=b.data("bs.collapse"),a&&a.transitioning))){var c=j.Event("show.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){b&&b.length&&(k.call(b,"hide"),a||b.data("bs.collapse",null));var d=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[d](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var e=function(){this.$element.removeClass("collapsing").addClass("collapse in")[d](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!j.support.transition)return e.call(this);var f=j.camelCase(["scroll",d].join("-"));this.$element.one("bsTransitionEnd",j.proxy(e,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[d](this.$element[0][f])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=j.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var b=this.dimension();this.$element[b](this.$element[b]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var c=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return j.support.transition?void this.$element[b](0).one("bsTransitionEnd",j.proxy(c,this)).emulateTransitionEnd(l.TRANSITION_DURATION):c.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return j(this.options.parent).find("[data-toggle=\"collapse\"][data-parent=\""+this.options.parent+"\"]").each(j.proxy(function(b,c){var d=j(c);this.addAriaAndCollapsedClass(a(d),d)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(d,a){var b=d.hasClass("in");d.attr("aria-expanded",b),a.toggleClass("collapsed",!b).attr("aria-expanded",b)};var b=j.fn.collapse;j.fn.collapse=k,j.fn.collapse.Constructor=l,j.fn.collapse.noConflict=function(){return j.fn.collapse=b,this},j(document).on("click.bs.collapse.data-api","[data-toggle=\"collapse\"]",function(b){var c=j(this);c.attr("data-target")||b.preventDefault();var d=a(c),e=d.data("bs.collapse"),f=e?"toggle":c.data();k.call(d,f)})}(jQuery),+function(k){"use strict";function a(a){var e=a.attr("data-target");e||(e=a.attr("href"),e=e&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var c=e&&k(e);return c&&c.length?c:a.parent()}function b(b){b&&3===b.which||(k(d).remove(),k(l).each(function(){var c=k(this),d=a(c),e={relatedTarget:this};d.hasClass("open")&&(b&&"click"==b.type&&/input|textarea/i.test(b.target.tagName)&&k.contains(d[0],b.target)||(d.trigger(b=k.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||(c.attr("aria-expanded","false"),d.removeClass("open").trigger(k.Event("hidden.bs.dropdown",e)))))}))}var d=".dropdown-backdrop",l="[data-toggle=\"dropdown\"]",e=function(a){k(a).on("click.bs.dropdown",this.toggle)};e.VERSION="3.3.6",e.prototype.toggle=function(c){var d=k(this);if(!d.is(".disabled, :disabled")){var e=a(d),f=e.hasClass("open");if(b(),!f){"ontouchstart"in document.documentElement&&!e.closest(".navbar-nav").length&&k(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(k(this)).on("click",b);var i={relatedTarget:this};if(e.trigger(c=k.Event("show.bs.dropdown",i)),c.isDefaultPrevented())return;d.trigger("focus").attr("aria-expanded","true"),e.toggleClass("open").trigger(k.Event("shown.bs.dropdown",i))}return!1}},e.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var c=k(this);if(b.preventDefault(),b.stopPropagation(),!c.is(".disabled, :disabled")){var d=a(c),e=d.hasClass("open");if(!e&&27!=b.which||e&&27==b.which)return 27==b.which&&d.find(l).trigger("focus"),c.trigger("click");var f=d.find(".dropdown-menu"+" li:not(.disabled):visible a");if(f.length){var h=f.index(b.target);38==b.which&&0<h&&h--,40==b.which&&h<f.length-1&&h++,~h||(h=0),f.eq(h).trigger("focus")}}}};var c=k.fn.dropdown;k.fn.dropdown=function(a){return this.each(function(){var f=k(this),c=f.data("bs.dropdown");c||f.data("bs.dropdown",c=new e(this)),"string"==typeof a&&c[a].call(f)})},k.fn.dropdown.Constructor=e,k.fn.dropdown.noConflict=function(){return k.fn.dropdown=c,this},k(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",l,e.prototype.toggle).on("keydown.bs.dropdown.data-api",l,e.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",e.prototype.keydown)}(jQuery),+function(h){"use strict";function a(a,c){return this.each(function(){var d=h(this),e=d.data("bs.modal"),f=h.extend({},i.DEFAULTS,d.data(),"object"==typeof a&&a);e||d.data("bs.modal",e=new i(this,f)),"string"==typeof a?e[a](c):f.show&&e.show(c)})}var i=function(a,b){this.options=b,this.$body=h(document.body),this.$element=h(a),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,h.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(b){return this.isShown?this.hide():this.show(b)},i.prototype.show=function(a){var c=this,d=h.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal","[data-dismiss=\"modal\"]",h.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){c.$element.one("mouseup.dismiss.bs.modal",function(a){h(a.target).is(c.$element)&&(c.ignoreBackdropClick=!0)})}),this.backdrop(function(){var d=h.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),c.adjustDialog(),d&&c.$element[0].offsetWidth,c.$element.addClass("in"),c.enforceFocus();var e=h.Event("shown.bs.modal",{relatedTarget:a});d?c.$dialog.one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(i.TRANSITION_DURATION):c.$element.trigger("focus").trigger(e)}))},i.prototype.hide=function(a){a&&a.preventDefault(),a=h.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),h(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),h.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",h.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){h(document).off("focusin.bs.modal").on("focusin.bs.modal",h.proxy(function(b){this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",h.proxy(function(b){27==b.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?h(window).on("resize.bs.modal",h.proxy(this.handleUpdate,this)):h(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var b=this;this.$element.hide(),this.backdrop(function(){b.$body.removeClass("modal-open"),b.resetAdjustments(),b.resetScrollbar(),b.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(a){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=h.support.transition&&d;if(this.$backdrop=h(document.createElement("div")).addClass("modal-backdrop "+d).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",h.proxy(function(b){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(b.target===b.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a)return;e?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),a&&a()};h.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):f()}else a&&a()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var b=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&b?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!b?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var c=window.innerWidth;if(!c){var d=document.documentElement.getBoundingClientRect();c=d.right-Math.abs(d.left)}this.bodyIsOverflowing=document.body.clientWidth<c,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var b=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",b+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var c=document.createElement("div");c.className="modal-scrollbar-measure",this.$body.append(c);var a=c.offsetWidth-c.clientWidth;return this.$body[0].removeChild(c),a};var b=h.fn.modal;h.fn.modal=a,h.fn.modal.Constructor=i,h.fn.modal.noConflict=function(){return h.fn.modal=b,this},h(document).on("click.bs.modal.data-api","[data-toggle=\"modal\"]",function(b){var c=h(this),d=c.attr("href"),e=h(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":h.extend({remote:!/#/.test(d)&&d},e.data(),c.data());c.is("a")&&b.preventDefault(),e.one("show.bs.modal",function(b){b.isDefaultPrevented()||e.one("hidden.bs.modal",function(){c.is(":visible")&&c.trigger("focus")})}),a.call(e,f,this)})}(jQuery),+function(r){"use strict";var a=function(c,a){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",c,a)};a.VERSION="3.3.6",a.TRANSITION_DURATION=150,a.DEFAULTS={animation:!0,placement:"top",selector:!1,template:"<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>",trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},a.prototype.init=function(a,b,c){if(this.enabled=!0,this.type=a,this.$element=r(b),this.options=this.getOptions(c),this.$viewport=this.options.viewport&&r(r.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var d,g=this.options.trigger.split(" "),e=g.length;e--;)if(d=g[e],"click"==d)this.$element.on("click."+this.type,this.options.selector,r.proxy(this.toggle,this));else if("manual"!=d){var f="hover"==d?"mouseenter":"focusin",h="hover"==d?"mouseleave":"focusout";this.$element.on(f+"."+this.type,this.options.selector,r.proxy(this.enter,this)),this.$element.on(h+"."+this.type,this.options.selector,r.proxy(this.leave,this))}this.options.selector?this._options=r.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.getOptions=function(a){return a=r.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a},a.prototype.getDelegateOptions=function(){var e={},b=this.getDefaults();return this._options&&r.each(this._options,function(c,a){b[c]!=a&&(e[c]=a)}),e},a.prototype.enter=function(a){var b=a instanceof this.constructor?a:r(a.currentTarget).data("bs."+this.type);return b||(b=new this.constructor(a.currentTarget,this.getDelegateOptions()),r(a.currentTarget).data("bs."+this.type,b)),a instanceof r.Event&&(b.inState["focusin"==a.type?"focus":"hover"]=!0),b.tip().hasClass("in")||"in"==b.hoverState?void(b.hoverState="in"):(clearTimeout(b.timeout),b.hoverState="in",b.options.delay&&b.options.delay.show?void(b.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)):b.show())},a.prototype.isInStateTrue=function(){for(var b in this.inState)if(this.inState[b])return!0;return!1},a.prototype.leave=function(a){var b=a instanceof this.constructor?a:r(a.currentTarget).data("bs."+this.type);return b||(b=new this.constructor(a.currentTarget,this.getDelegateOptions()),r(a.currentTarget).data("bs."+this.type,b)),a instanceof r.Event&&(b.inState["focusout"==a.type?"focus":"hover"]=!1),b.isInStateTrue()?void 0:(clearTimeout(b.timeout),b.hoverState="out",b.options.delay&&b.options.delay.hide?void(b.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},b.options.delay.hide)):b.hide())},a.prototype.show=function(){var c=r.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(c);var b=r.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(c.isDefaultPrevented()||!b)return;var s=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var j=this.getPosition(),k=e[0].offsetWidth,l=e[0].offsetHeight;if(i){var m=g,n=this.getPosition(this.$viewport);g="bottom"==g&&j.bottom+l>n.bottom?"top":"top"==g&&j.top-l<n.top?"bottom":"right"==g&&j.right+k>n.width?"left":"left"==g&&j.left-k<n.left?"right":g,e.removeClass(m).addClass(g)}var o=this.getCalculatedOffset(g,j,k,l);this.applyPlacement(o,g);var p=function(){var b=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==b&&s.leave(s)};r.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",p).emulateTransitionEnd(a.TRANSITION_DURATION):p()}},a.prototype.applyPlacement=function(a,b){var c=this.tip(),d=c[0].offsetWidth,e=c[0].offsetHeight,f=parseInt(c.css("margin-top"),10),g=parseInt(c.css("margin-left"),10);isNaN(f)&&(f=0),isNaN(g)&&(g=0),a.top+=f,a.left+=g,r.offset.setOffset(c[0],r.extend({using:function(b){var a=Math.round;c.css({top:a(b.top),left:a(b.left)})}},a),0),c.addClass("in");var h=c[0].offsetWidth,i=c[0].offsetHeight;"top"==b&&i!=e&&(a.top=a.top+e-i);var j=this.getViewportAdjustedDelta(b,a,h,i);j.left?a.left+=j.left:a.top+=j.top;var k=/top|bottom/.test(b),l=k?2*j.left-d+h:2*j.top-e+i,m=k?"offsetWidth":"offsetHeight";c.offset(a),this.replaceArrow(l,c[0][m],k)},a.prototype.replaceArrow=function(d,a,b){this.arrow().css(b?"left":"top",50*(1-d/a)+"%").css(b?"top":"left","")},a.prototype.setContent=function(){var c=this.tip(),a=this.getTitle();c.find(".tooltip-inner")[this.options.html?"html":"text"](a),c.removeClass("fade in top bottom left right")},a.prototype.hide=function(c){function b(){"in"!=d.hoverState&&e.detach(),d.$element.removeAttr("aria-describedby").trigger("hidden.bs."+d.type),c&&c()}var d=this,e=r(this.$tip),f=r.Event("hide.bs."+this.type);return this.$element.trigger(f),f.isDefaultPrevented()?void 0:(e.removeClass("in"),r.support.transition&&e.hasClass("fade")?e.one("bsTransitionEnd",b).emulateTransitionEnd(a.TRANSITION_DURATION):b(),this.hoverState=null,this)},a.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")},a.prototype.hasContent=function(){return this.getTitle()},a.prototype.getPosition=function(a){a=a||this.$element;var b=a[0],c="BODY"==b.tagName,d=b.getBoundingClientRect();null==d.width&&(d=r.extend({},d,{width:d.right-d.left,height:d.bottom-d.top}));var e=c?{top:0,left:0}:a.offset(),f={scroll:c?document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop()},g=c?{width:r(window).width(),height:r(window).height()}:null;return r.extend({},d,f,g,e)},a.prototype.getCalculatedOffset=function(e,a,b,c){return"bottom"==e?{top:a.top+a.height,left:a.left+a.width/2-b/2}:"top"==e?{top:a.top-c,left:a.left+a.width/2-b/2}:"left"==e?{top:a.top+a.height/2-c/2,left:a.left-b}:{top:a.top+a.height/2-c/2,left:a.left+a.width}},a.prototype.getViewportAdjustedDelta=function(l,a,b,c){var d={top:0,left:0};if(!this.$viewport)return d;var e=this.options.viewport&&this.options.viewport.padding||0,f=this.getPosition(this.$viewport);if(/right|left/.test(l)){var g=a.top-e-f.scroll,h=a.top+e-f.scroll+c;g<f.top?d.top=f.top-g:h>f.top+f.height&&(d.top=f.top+f.height-h)}else{var i=a.left-e,j=a.left+e+b;i<f.left?d.left=f.left-i:j>f.right&&(d.left=f.left+f.width-j)}return d},a.prototype.getTitle=function(){var d,a=this.$element,b=this.options;return d=a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},a.prototype.getUID=function(b){do b+=~~(1e6*Math.random());while(document.getElementById(b));return b},a.prototype.tip=function(){if(!this.$tip&&(this.$tip=r(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},a.prototype.enable=function(){this.enabled=!0},a.prototype.disable=function(){this.enabled=!1},a.prototype.toggleEnabled=function(){this.enabled=!this.enabled},a.prototype.toggle=function(a){var b=this;a&&(b=r(a.currentTarget).data("bs."+this.type),b||(b=new this.constructor(a.currentTarget,this.getDelegateOptions()),r(a.currentTarget).data("bs."+this.type,b))),a?(b.inState.click=!b.inState.click,b.isInStateTrue()?b.enter(b):b.leave(b)):b.tip().hasClass("in")?b.leave(b):b.enter(b)},a.prototype.destroy=function(){var b=this;clearTimeout(this.timeout),this.hide(function(){b.$element.off("."+b.type).removeData("bs."+b.type),b.$tip&&b.$tip.detach(),b.$tip=null,b.$arrow=null,b.$viewport=null})};var b=r.fn.tooltip;r.fn.tooltip=function(c){return this.each(function(){var f=r(this),d=f.data("bs.tooltip");(d||!/destroy|hide/.test(c))&&(d||f.data("bs.tooltip",d=new a(this,"object"==typeof c&&c)),"string"==typeof c&&d[c]())})},r.fn.tooltip.Constructor=a,r.fn.tooltip.noConflict=function(){return r.fn.tooltip=b,this}}(jQuery),+function(f){"use strict";var a=function(c,a){this.init("popover",c,a)};if(!f.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.3.6",a.DEFAULTS=f.extend({},f.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:"<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>"}),a.prototype=f.extend({},f.fn.tooltip.Constructor.prototype),a.prototype.constructor=a,a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var d=this.tip(),a=this.getTitle(),b=this.getContent();d.find(".popover-title")[this.options.html?"html":"text"](a),d.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof b?"html":"append":"text"](b),d.removeClass("fade top bottom left right in"),d.find(".popover-title").html()||d.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var c=this.$element,a=this.options;return c.attr("data-content")||("function"==typeof a.content?a.content.call(c[0]):a.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var b=f.fn.popover;f.fn.popover=function(c){return this.each(function(){var g=f(this),d=g.data("bs.popover");(d||!/destroy|hide/.test(c))&&(d||g.data("bs.popover",d=new a(this,"object"==typeof c&&c)),"string"==typeof c&&d[c]())})},f.fn.popover.Constructor=a,f.fn.popover.noConflict=function(){return f.fn.popover=b,this}}(jQuery),+function(g){"use strict";function a(b,c){this.$body=g(document.body),this.$scrollElement=g(g(b).is(document.body)?window:b),this.options=g.extend({},a.DEFAULTS,c),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",g.proxy(this.process,this)),this.refresh(),this.process()}function e(b){return this.each(function(){var f=g(this),d=f.data("bs.scrollspy");d||f.data("bs.scrollspy",d=new a(this,"object"==typeof b&&b)),"string"==typeof b&&d[b]()})}a.VERSION="3.3.6",a.DEFAULTS={offset:10},a.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},a.prototype.refresh=function(){var a=this,h="offset",c=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),g.isWindow(this.$scrollElement[0])||(h="position",c=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var a=g(this),b=a.data("target")||a.attr("href"),d=/^#./.test(b)&&g(b);return d&&d.length&&d.is(":visible")&&[[d[h]().top+c,b]]||null}).sort(function(c,a){return c[0]-a[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},a.prototype.process=function(){var h,a=this.$scrollElement.scrollTop()+this.options.offset,b=this.getScrollHeight(),c=this.options.offset+b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget;if(this.scrollHeight!=b&&this.refresh(),a>=c)return f!=(h=e[e.length-1])&&this.activate(h);if(f&&a<d[0])return this.activeTarget=null,this.clear();for(h=d.length;h--;)f!=e[h]&&a>=d[h]&&(void 0===d[h+1]||a<d[h+1])&&this.activate(e[h])},a.prototype.activate=function(a){this.activeTarget=a,this.clear();var b=this.selector+"[data-target=\""+a+"\"],"+this.selector+"[href=\""+a+"\"]",c=g(b).parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate.bs.scrollspy")},a.prototype.clear=function(){g(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var b=g.fn.scrollspy;g.fn.scrollspy=e,g.fn.scrollspy.Constructor=a,g.fn.scrollspy.noConflict=function(){return g.fn.scrollspy=b,this},g(window).on("load.bs.scrollspy.data-api",function(){g("[data-spy=\"scroll\"]").each(function(){var a=g(this);e.call(a,a.data())})})}(jQuery),+function(i){"use strict";function a(a){return this.each(function(){var c=i(this),d=c.data("bs.tab");d||c.data("bs.tab",d=new j(this)),"string"==typeof a&&d[a]()})}var j=function(a){this.element=i(a)};j.VERSION="3.3.6",j.TRANSITION_DURATION=150,j.prototype.show=function(){var a=this.element,b=a.closest("ul:not(.dropdown-menu)"),c=a.data("target");if(c||(c=a.attr("href"),c=c&&c.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var d=b.find(".active:last a"),e=i.Event("hide.bs.tab",{relatedTarget:a[0]}),f=i.Event("show.bs.tab",{relatedTarget:d[0]});if(d.trigger(e),a.trigger(f),!f.isDefaultPrevented()&&!e.isDefaultPrevented()){var g=i(c);this.activate(a.closest("li"),b),this.activate(g,g.parent(),function(){d.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:d[0]})})}}},j.prototype.activate=function(a,b,c){function d(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find("[data-toggle=\"tab\"]").attr("aria-expanded",!1),a.addClass("active").find("[data-toggle=\"tab\"]").attr("aria-expanded",!0),f?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find("[data-toggle=\"tab\"]").attr("aria-expanded",!0),c&&c()}var e=b.find("> .active"),f=c&&i.support.transition&&(e.length&&e.hasClass("fade")||!!b.find("> .fade").length);e.length&&f?e.one("bsTransitionEnd",d).emulateTransitionEnd(j.TRANSITION_DURATION):d(),e.removeClass("in")};var b=i.fn.tab;i.fn.tab=a,i.fn.tab.Constructor=j,i.fn.tab.noConflict=function(){return i.fn.tab=b,this};var c=function(b){b.preventDefault(),a.call(i(this),"show")};i(document).on("click.bs.tab.data-api","[data-toggle=\"tab\"]",c).on("click.bs.tab.data-api","[data-toggle=\"pill\"]",c)}(jQuery),+function(k){"use strict";function a(a){return this.each(function(){var c=k(this),d=c.data("bs.affix");d||c.data("bs.affix",d=new f(this,"object"==typeof a&&a)),"string"==typeof a&&d[a]()})}var f=function(a,b){this.options=k.extend({},f.DEFAULTS,b),this.$target=k(this.options.target).on("scroll.bs.affix.data-api",k.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",k.proxy(this.checkPositionWithEventLoop,this)),this.$element=k(a),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};f.VERSION="3.3.6",f.RESET="affix affix-top affix-bottom",f.DEFAULTS={offset:0,target:window},f.prototype.getState=function(k,a,b,c){var d=this.$target.scrollTop(),e=this.$element.offset(),f=this.$target.height();if(null!=b&&"top"==this.affixed)return!!(b>d)&&"top";if("bottom"==this.affixed)return null==b?!(k-c>=d+f)&&"bottom":!(d+this.unpin<=e.top)&&"bottom";var g=null==this.affixed,h=g?d:e.top,i=g?f:a;return null!=b&&b>=d?"top":null!=c&&h+i>=k-c&&"bottom"},f.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(f.RESET).addClass("affix");var c=this.$target.scrollTop(),a=this.$element.offset();return this.pinnedOffset=a.top-c},f.prototype.checkPositionWithEventLoop=function(){setTimeout(k.proxy(this.checkPosition,this),1)},f.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=this.$element.height(),b=this.options.offset,c=b.top,l=b.bottom,m=Math.max(k(document).height(),k(document.body).height());"object"!=typeof b&&(l=c=b),"function"==typeof c&&(c=b.top(this.$element)),"function"==typeof l&&(l=b.bottom(this.$element));var g=this.getState(m,a,c,l);if(this.affixed!=g){null!=this.unpin&&this.$element.css("top","");var h="affix"+(g?"-"+g:""),i=k.Event(h+".bs.affix");if(this.$element.trigger(i),i.isDefaultPrevented())return;this.affixed=g,this.unpin="bottom"==g?this.getPinnedOffset():null,this.$element.removeClass(f.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==g&&this.$element.offset({top:m-a-l})}};var b=k.fn.affix;k.fn.affix=a,k.fn.affix.Constructor=f,k.fn.affix.noConflict=function(){return k.fn.affix=b,this},k(window).on("load",function(){k("[data-spy=\"affix\"]").each(function(){var b=k(this),c=b.data();c.offset=c.offset||{},null!=c.offsetBottom&&(c.offset.bottom=c.offsetBottom),null!=c.offsetTop&&(c.offset.top=c.offsetTop),a.call(b,c)})})}(jQuery);
'use strict';angular.module('isteven-multi-select',['ng']).directive('istevenMultiSelect',['$sce','$timeout','$templateCache',function(a,b){return{restrict:'AE',scope:{inputModel:'=',outputModel:'=',isDisabled:'=',onClear:'&',onClose:'&',onSearchChange:'&',onItemClick:'&',onOpen:'&',onReset:'&',onSelectAll:'&',onSelectNone:'&',translation:'='},templateUrl:'isteven-multi-select.htm',link:function(c,d,f){var e=Math.floor;c.backUp=[],c.varButtonLabel='',c.spacingProperty='',c.indexProperty='',c.orientationH=!1,c.orientationV=!0,c.filteredModel=[],c.inputLabel={labelFilter:''},c.tabIndex=0,c.lang={},c.helperStatus={all:!0,none:!0,reset:!0,filter:!0};var g=0,h=[],k=0,j='',l=[],i=0,m=null;c.clearClicked=function(a){c.inputLabel.labelFilter='',c.updateFilter(),c.select('clear',a)},c.numberToArray=function(a){return Array(a)},c.searchChanged=function(){return c.inputLabel.labelFilter.length<i&&0<c.inputLabel.labelFilter.length?!1:void c.updateFilter()},c.updateFilter=function(){c.filteredModel=[];var a=0;if('undefined'==typeof c.inputModel)return!1;for(a=c.inputModel.length-1;0<=a;a--){'undefined'!=typeof c.inputModel[a][f.groupProperty]&&!1===c.inputModel[a][f.groupProperty]&&c.filteredModel.push(c.inputModel[a]);var d=!1;if('undefined'==typeof c.inputModel[a][f.groupProperty]){if('undefined'!=typeof f.searchProperty&&''!==f.searchProperty){for(var e in c.inputModel[a])if('boolean'!=typeof c.inputModel[a][e]&&0<=(c.inputModel[a][e]+'').toUpperCase().indexOf(c.inputLabel.labelFilter.toUpperCase())&&-1<f.searchProperty.indexOf(e)){d=!0;break}}else for(var e in c.inputModel[a])if('boolean'!=typeof c.inputModel[a][e]&&0<=(c.inputModel[a][e]+'').toUpperCase().indexOf(c.inputLabel.labelFilter.toUpperCase())){d=!0;break}!0==d&&c.filteredModel.push(c.inputModel[a])}'undefined'!=typeof c.inputModel[a][f.groupProperty]&&!0===c.inputModel[a][f.groupProperty]&&('undefined'!=typeof c.filteredModel[c.filteredModel.length-1][f.groupProperty]&&!1===c.filteredModel[c.filteredModel.length-1][f.groupProperty]?c.filteredModel.pop():c.filteredModel.push(c.inputModel[a]))}c.filteredModel.reverse(),b(function(){if(c.getFormElements(),c.inputLabel.labelFilter.length>i){var a=[];angular.forEach(c.filteredModel,function(b){if('undefined'!=typeof b&&'undefined'==typeof b[f.groupProperty]){var d=angular.copy(b),e=a.push(d);delete a[e-1][c.indexProperty],delete a[e-1][c.spacingProperty]}}),c.onSearchChange({data:{keyword:c.inputLabel.labelFilter,result:a}})}},0)},c.getFormElements=function(){l=[];var a=[],b=[],e=[],f=[];c.helperStatus.all||c.helperStatus.none||c.helperStatus.reset?(a=d.children().children().next().children().children()[0].getElementsByTagName('button'),c.helperStatus.filter&&(b=d.children().children().next().children().children().next()[0].getElementsByTagName('input'),f=d.children().children().next().children().children().next()[0].getElementsByTagName('button'))):c.helperStatus.filter&&(b=d.children().children().next().children().children()[0].getElementsByTagName('input'),f=d.children().children().next().children().children()[0].getElementsByTagName('button')),e=c.helperStatus.all||c.helperStatus.none||c.helperStatus.reset||c.helperStatus.filter?d.children().children().next().children().next()[0].getElementsByTagName('input'):d.children().children().next()[0].getElementsByTagName('input');for(var g=0;g<a.length;g++)l.push(a[g]);for(var g=0;g<b.length;g++)l.push(b[g]);for(var g=0;g<f.length;g++)l.push(f[g]);for(var g=0;g<e.length;g++)l.push(e[g])},c.isGroupMarker=function(a,b){return'undefined'!=typeof a[f.groupProperty]&&a[f.groupProperty]===b},c.removeGroupEndMarker=function(a){return'undefined'!=typeof a[f.groupProperty]&&!1===a[f.groupProperty]?!1:!0},c.syncItems=function(a,d,e){if(d.preventDefault(),d.stopPropagation(),'undefined'!=typeof f.disableProperty&&!0===a[f.disableProperty])return!1;if('undefined'!=typeof f.isDisabled&&!0===c.isDisabled)return!1;if('undefined'!=typeof a[f.groupProperty]&&!1===a[f.groupProperty])return!1;var h=c.filteredModel.indexOf(a);if('undefined'!=typeof a[f.groupProperty]&&!0===a[f.groupProperty]){if('undefined'!=typeof f.selectionMode&&'SINGLE'===f.selectionMode.toUpperCase())return!1;var l,i,j=0,n=c.filteredModel.length-1,o=[],p=0;for(l=h;l<c.filteredModel.length&&!(0==p&&l>h);l++)if('undefined'!=typeof c.filteredModel[l][f.groupProperty]&&!0===c.filteredModel[l][f.groupProperty])0===o.length&&(j=l+1),++p;else if('undefined'==typeof c.filteredModel[l][f.groupProperty]||!1!==c.filteredModel[l][f.groupProperty])o.push(c.filteredModel[l]);else if(--p,0<o.length&&0==p){var q=!0;for(n=l,i=0;i<o.length;i++)if('undefined'!=typeof o[i][c.tickProperty]&&!1===o[i][c.tickProperty]){q=!1;break}if(!0==q)for(i=j;i<=n;i++)'undefined'==typeof c.filteredModel[i][f.groupProperty]&&('undefined'==typeof f.disableProperty?(c.filteredModel[i][c.tickProperty]=!1,r=c.filteredModel[i][c.indexProperty],c.inputModel[r][c.tickProperty]=!1):!0!==c.filteredModel[i][f.disableProperty]&&(c.filteredModel[i][c.tickProperty]=!1,r=c.filteredModel[i][c.indexProperty],c.inputModel[r][c.tickProperty]=!1));else for(i=j;i<=n;i++)'undefined'==typeof c.filteredModel[i][f.groupProperty]&&('undefined'==typeof f.disableProperty?(c.filteredModel[i][c.tickProperty]=!0,r=c.filteredModel[i][c.indexProperty],c.inputModel[r][c.tickProperty]=!0):!0!==c.filteredModel[i][f.disableProperty]&&(c.filteredModel[i][c.tickProperty]=!0,r=c.filteredModel[i][c.indexProperty],c.inputModel[r][c.tickProperty]=!0))}}else{if('undefined'!=typeof f.selectionMode&&'SINGLE'===f.selectionMode.toUpperCase()){for(l=0;l<c.filteredModel.length;l++)c.filteredModel[l][c.tickProperty]=!1;for(l=0;l<c.inputModel.length;l++)c.inputModel[l][c.tickProperty]=!1;c.filteredModel[h][c.tickProperty]=!0}else c.filteredModel[h][c.tickProperty]=!c.filteredModel[h][c.tickProperty];var r=c.filteredModel[h][c.indexProperty];c.inputModel[r][c.tickProperty]=c.filteredModel[h][c.tickProperty]}m=angular.copy(a),null!==m&&b(function(){delete m[c.indexProperty],delete m[c.spacingProperty],c.onItemClick({data:m}),m=null},0),c.refreshOutputModel(),c.refreshButton(),g=c.tabIndex,c.tabIndex=e+k,d.target.focus(),c.removeFocusStyle(g),c.setFocusStyle(c.tabIndex),'undefined'!=typeof f.selectionMode&&'SINGLE'===f.selectionMode.toUpperCase()&&c.toggleCheckboxes(d)},c.refreshOutputModel=function(){c.outputModel=[];var a=[],b={};'undefined'==typeof f.outputProperties?angular.forEach(c.inputModel,function(a){if('undefined'!=typeof a&&'undefined'==typeof a[f.groupProperty]&&!0===a[c.tickProperty]){var b=angular.copy(a),d=c.outputModel.push(b);delete c.outputModel[d-1][c.indexProperty],delete c.outputModel[d-1][c.spacingProperty]}}):(a=f.outputProperties.split(' '),angular.forEach(c.inputModel,function(d){if('undefined'!=typeof d&&'undefined'==typeof d[f.groupProperty]&&!0===d[c.tickProperty]){b={},angular.forEach(d,function(c,d){-1<a.indexOf(d)&&(b[d]=c)});var e=c.outputModel.push(b);delete c.outputModel[e-1][c.indexProperty],delete c.outputModel[e-1][c.spacingProperty]}}))},c.refreshButton=function(){c.varButtonLabel='';var b=0;if(0===c.outputModel.length)c.varButtonLabel=c.lang.nothingSelected;else{var d=c.outputModel.length;'undefined'!=typeof f.maxLabels&&''!==f.maxLabels&&(d=f.maxLabels),c.more=!!(c.outputModel.length>d),angular.forEach(c.inputModel,function(a){'undefined'!=typeof a&&!0===a[f.tickProperty]&&(b<d&&(c.varButtonLabel+=(0<c.varButtonLabel.length?'</div>, <div class="buttonLabel">':'<div class="buttonLabel">')+c.writeLabel(a,'buttonLabel')),b++)}),!0===c.more&&(0<d&&(c.varButtonLabel+=', ... '),c.varButtonLabel+='('+c.outputModel.length+')')}c.varButtonLabel=a.trustAsHtml(c.varButtonLabel+'<span class="caret"></span>')},c.itemIsDisabled=function(a){return'undefined'!=typeof f.disableProperty&&!0===a[f.disableProperty]||!0===c.isDisabled},c.writeLabel=function(b,c){var d=f[c].split(' '),e='';return angular.forEach(d,function(a){b[a]&&(e+='&nbsp;'+a.split('.').reduce(function(a,b){return a[b]},b))}),'BUTTONLABEL'===c.toUpperCase()?e:a.trustAsHtml(e)},c.toggleCheckboxes=function(){var a=d.children()[0];if(angular.element(document).off('click',c.externalClickListener),angular.element(document).off('keydown',c.keyboardListener),angular.element(j).hasClass('show'))angular.element(j).removeClass('show'),angular.element(a).removeClass('buttonClicked'),angular.element(document).off('click',c.externalClickListener),angular.element(document).off('keydown',c.keyboardListener),c.removeFocusStyle(c.tabIndex),'undefined'!=typeof l[c.tabIndex]&&l[c.tabIndex].blur(),b(function(){c.onClose()},0),d.children().children()[0].focus();else{c.inputLabel.labelFilter='',c.updateFilter(),h=[],k=0,angular.element(j).addClass('show'),angular.element(a).addClass('buttonClicked'),angular.element(document).on('click',c.externalClickListener),angular.element(document).on('keydown',c.keyboardListener),c.getFormElements(),c.tabIndex=0;var e=angular.element(d[0].querySelector('.helperContainer'))[0];if('undefined'!=typeof e){for(var f=0;f<e.getElementsByTagName('BUTTON').length;f++)h[f]=e.getElementsByTagName('BUTTON')[f];k=h.length+e.getElementsByTagName('INPUT').length}d[0].querySelector('.inputFilter')?(d[0].querySelector('.inputFilter').focus(),c.tabIndex=c.tabIndex+k-2,angular.element(d).children()[0].blur()):!c.isDisabled&&(c.tabIndex+=k,0<c.inputModel.length&&(l[c.tabIndex].focus(),c.setFocusStyle(c.tabIndex),angular.element(d).children()[0].blur())),c.onOpen()}},c.externalClickListener=function(a){for(var e=d.find(a.target.tagName),f=0;f<e.length;f++)if(a.target==e[f])return;angular.element(j.previousSibling).removeClass('buttonClicked'),angular.element(j).removeClass('show'),angular.element(document).off('click',c.externalClickListener),angular.element(document).off('keydown',c.keyboardListener),b(function(){c.onClose()},0),d.children().children()[0].focus()},c.select=function(a,b){var d=h.indexOf(b.target);switch(c.tabIndex=d,a.toUpperCase()){case'ALL':angular.forEach(c.filteredModel,function(a){'undefined'!=typeof a&&!0!==a[f.disableProperty]&&'undefined'==typeof a[f.groupProperty]&&(a[c.tickProperty]=!0)}),c.refreshOutputModel(),c.refreshButton(),c.onSelectAll();break;case'NONE':angular.forEach(c.filteredModel,function(a){'undefined'!=typeof a&&!0!==a[f.disableProperty]&&'undefined'==typeof a[f.groupProperty]&&(a[c.tickProperty]=!1)}),c.refreshOutputModel(),c.refreshButton(),c.onSelectNone();break;case'RESET':angular.forEach(c.filteredModel,function(a){if('undefined'==typeof a[f.groupProperty]&&'undefined'!=typeof a&&!0!==a[f.disableProperty]){var b=a[c.indexProperty];a[c.tickProperty]=c.backUp[b][c.tickProperty]}}),c.refreshOutputModel(),c.refreshButton(),c.onReset();break;case'CLEAR':++c.tabIndex,c.onClear();break;case'FILTER':c.tabIndex=h.length-1;break;default:}},c.prepareGrouping=function(){var a=0;angular.forEach(c.filteredModel,function(b){b[c.spacingProperty]=a,!0===b[f.groupProperty]?a+=2:!1===b[f.groupProperty]&&(a-=2)})},c.prepareIndex=function(){var a=0;angular.forEach(c.filteredModel,function(b){b[c.indexProperty]=a,a++})},c.keyboardListener=function(a){var b=a.keyCode?a.keyCode:a.which,d=!1;if(27===b)a.preventDefault(),a.stopPropagation(),c.toggleCheckboxes(a);else if(40===b||39===b||!a.shiftKey&&9==b)for(d=!0,g=c.tabIndex,c.tabIndex++,c.tabIndex>l.length-1&&(c.tabIndex=0,g=l.length-1);!0===l[c.tabIndex].disabled&&(c.tabIndex++,c.tabIndex>l.length-1&&(c.tabIndex=0),c.tabIndex!==g););else if(38===b||37===b||a.shiftKey&&9==b)for(d=!0,g=c.tabIndex,c.tabIndex--,0>c.tabIndex&&(c.tabIndex=l.length-1,g=0);!0===l[c.tabIndex].disabled&&(c.tabIndex--,c.tabIndex!==g);)0>c.tabIndex&&(c.tabIndex=l.length-1);if(!0==d){a.preventDefault(),l[c.tabIndex].focus();var e=document.activeElement;'CHECKBOX'===e.type.toUpperCase()?(c.setFocusStyle(c.tabIndex),c.removeFocusStyle(g)):(c.removeFocusStyle(g),c.removeFocusStyle(k),c.removeFocusStyle(l.length-1))}d=!1},c.setFocusStyle=function(a){angular.element(l[a]).parent().parent().parent().addClass('multiSelectFocus')},c.removeFocusStyle=function(a){angular.element(l[a]).parent().parent().parent().removeClass('multiSelectFocus')},c.groupProperty=f.groupProperty,c.tickProperty=f.tickProperty,c.directiveId=f.directiveId;var n=function(a){for(var b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',c='',d=0;d<a;d++)c+=b.charAt(e(Math.random()*b.length));return c}(5);if(c.indexProperty='idx_'+n,c.spacingProperty='spc_'+n,'undefined'!=typeof f.orientation&&('HORIZONTAL'===f.orientation.toUpperCase()?(c.orientationH=!0,c.orientationV=!1):(c.orientationH=!1,c.orientationV=!0)),j=d.children().children().next()[0],'undefined'!=typeof f.maxHeight){var o=d.children().children().children()[0];angular.element(o).attr('style','height:'+f.maxHeight+'; overflow-y:scroll;')}for(var p in c.helperStatus)c.helperStatus.hasOwnProperty(p)&&'undefined'!=typeof f.helperElements&&-1===f.helperElements.toUpperCase().indexOf(p.toUpperCase())&&(c.helperStatus[p]=!1);'undefined'!=typeof f.selectionMode&&'SINGLE'===f.selectionMode.toUpperCase()&&(c.helperStatus.all=!1,c.helperStatus.none=!1),c.icon={},c.icon.selectAll='&#10003;',c.icon.selectNone='&times;',c.icon.reset='&#8630;',c.icon.tickMark='&#10003;','undefined'==typeof f.translation?(c.lang.selectAll=a.trustAsHtml(c.icon.selectAll+'&nbsp;&nbsp;Select All'),c.lang.selectNone=a.trustAsHtml(c.icon.selectNone+'&nbsp;&nbsp;Select None'),c.lang.reset=a.trustAsHtml(c.icon.reset+'&nbsp;&nbsp;Reset'),c.lang.search='Search...',c.lang.nothingSelected='None Selected'):(c.lang.selectAll=a.trustAsHtml(c.icon.selectAll+'&nbsp;&nbsp;'+c.translation.selectAll),c.lang.selectNone=a.trustAsHtml(c.icon.selectNone+'&nbsp;&nbsp;'+c.translation.selectNone),c.lang.reset=a.trustAsHtml(c.icon.reset+'&nbsp;&nbsp;'+c.translation.reset),c.lang.search=c.translation.search,c.lang.nothingSelected=a.trustAsHtml(c.translation.nothingSelected)),c.icon.tickMark=a.trustAsHtml(c.icon.tickMark),'undefined'!=typeof f.MinSearchLength&&0<parseInt(f.MinSearchLength)&&(i=e(parseInt(f.MinSearchLength))),c.$watch('inputModel',function(a){a&&(c.refreshOutputModel(),c.refreshButton())},!0),c.$watch('inputModel',function(a){a&&(c.backUp=angular.copy(c.inputModel),c.updateFilter(),c.prepareGrouping(),c.prepareIndex(),c.refreshOutputModel(),c.refreshButton())}),c.$watch('isDisabled',function(a){c.isDisabled=a});var q=function(){c.$apply(function(){c.scrolled=!1})};angular.element(document).bind('touchstart',q);var r=function(){c.$apply(function(){c.scrolled=!0})};angular.element(document).bind('touchmove',r),c.$on('$destroy',function(){angular.element(document).unbind('touchstart',q),angular.element(document).unbind('touchmove',r)})}}}]).run(['$templateCache',function(a){a.put('isteven-multi-select.htm','<span class="multiSelect inlineBlock"><button id="{{directiveId}}" type="button"ng-click="toggleCheckboxes( $event ); refreshSelectedItems(); refreshButton(); prepareGrouping; prepareIndex();"ng-bind-html="varButtonLabel"ng-disabled="disable-button"></button><div class="checkboxLayer"><div class="helperContainer" ng-if="helperStatus.filter || helperStatus.all || helperStatus.none || helperStatus.reset "><div class="line" ng-if="helperStatus.all || helperStatus.none || helperStatus.reset "><button type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.all"ng-click="select( \'all\', $event );"ng-bind-html="lang.selectAll"></button><button type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.none"ng-click="select( \'none\', $event );"ng-bind-html="lang.selectNone"></button><button type="button" class="helperButton reset"ng-disabled="isDisabled"ng-if="helperStatus.reset"ng-click="select( \'reset\', $event );"ng-bind-html="lang.reset"></button></div><div class="line" style="position:relative" ng-if="helperStatus.filter"><input placeholder="{{lang.search}}" type="text"ng-click="select( \'filter\', $event )" ng-model="inputLabel.labelFilter" ng-change="searchChanged()" class="inputFilter"/><button type="button" class="clearButton" ng-click="clearClicked( $event )" >\xD7</button> </div> </div> <div class="checkBoxContainer"><div ng-repeat="item in filteredModel | filter:removeGroupEndMarker" class="multiSelectItem"ng-class="{selected: item[ tickProperty ], horizontal: orientationH, vertical: orientationV, multiSelectGroup:item[ groupProperty ], disabled:itemIsDisabled( item )}"ng-click="syncItems( item, $event, $index );" ng-mouseleave="removeFocusStyle( tabIndex );"> <div class="acol" ng-if="item[ spacingProperty ] > 0" ng-repeat="i in numberToArray( item[ spacingProperty ] ) track by $index"></div>  <div class="acol"><label><input class="checkbox focusable" type="checkbox" ng-disabled="itemIsDisabled( item )" ng-checked="item[ tickProperty ]" ng-click="syncItems( item, $event, $index )" /><span ng-class="{disabled:itemIsDisabled( item )}" ng-bind-html="writeLabel( item, \'itemLabel\' )"></span></label></div><span class="tickMark" ng-if="item[ groupProperty ] !== true && item[ tickProperty ] === true" ng-bind-html="icon.tickMark"></span></div></div></div></span>')}]);
!function(p){var k,m,b,n,c,d={up:38,down:40,left:37,right:39,escape:27,enter:13,backspace:8,delete:46,shift:16,leftCmd:91,rightCmd:93,ctrl:17,alt:18,tab:9},f=function(){function g(b){return b instanceof HTMLElement?b.ownerDocument&&b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b):window.getComputedStyle(b):{}}function a(d,a,e,f,g){this.restrict="EAC",this.replace=!0,this.transclude=!0,this.scope={name:"@?",value:"=model",disabled:"=?disable",required:"=?require",multiple:"=?multi",placeholder:"@?",valueAttr:"@",labelAttr:"@?",groupAttr:"@?",options:"=?",create:"&?",rtl:"=?",api:"=?",change:"&?",remote:"&?",remoteParam:"@?",removeButton:"=?",softDelete:"=?",closeAfterSelection:"=?",viewItemTemplate:"=?",dropdownItemTemplate:"=?",dropdownCreateTemplate:"=?",dropdownGroupTemplate:"=?"},this.templateUrl="selector/selector.html",k=d,m=a,b=e,n=f,c=g}return a.prototype.$inject=["$filter","$timeout","$window","$http","$q"],a.prototype.link=function(a,e,f,h,i){i(a,function(a,h){var i=p.element(e[0].querySelector(".selector-input input")),j=p.element(e[0].querySelector(".selector-dropdown")),l=c.defer();p.isDefined(h.value)||(h.value=h.multiple?[]:""),p.forEach({api:{},search:"",selectedValues:[],highlighted:0,valueAttr:null,labelAttr:"label",groupAttr:"group",options:[],remoteParam:"q",removeButton:!0,viewItemTemplate:"selector/item-default.html",dropdownItemTemplate:"selector/item-default.html",dropdownCreateTemplate:"selector/item-create.html",dropdownGroupTemplate:"selector/group-default.html"},function(a,b){p.isDefined(h[b])||(h[b]=a)}),p.forEach(["name","valueAttr","labelAttr"],function(b){f[b]||(f[b]=h[b])}),h.optionValue=function(b){return null==h.valueAttr?b:b[h.valueAttr]},h.optionEquals=function(a,b){return p.equals(h.optionValue(a),p.isDefined(b)?b:h.value)},h.setValue=function(b){h.value=h.multiple?null==h.valueAttr?b||[]:(b||[]).map(function(b){return b[h.valueAttr]}):null==h.valueAttr?b||{}:(b||{})[h.valueAttr]},h.hasValue=function(){return h.multiple?0<(h.value||[]).length:null==h.valueAttr?!p.equals({},h.value):!!h.value},h.fetch=function(){var a,b=h.search||"";if(!h.disabled){if(!p.isDefined(h.remote))throw"Remote attribute is not defined";if(h.loading=!0,h.options=[],a=h.remote({search:b}),"function"!=typeof a.then){var e={method:"GET",cache:!0,params:{}};p.extend(e,h.remote()),p.extend(e.params,h.remote().params),e.params[h.remoteParam]=b,a=n(e)}a.then(function(b){h.options=b.data||b,h.filterOptions(),h.loading=!1,l.resolve()},function(b){throw h.loading=!1,l.reject(),"Error while fetching data: "+(b.message||b)})}},p.isDefined(h.remote)||(h.remote=!1,l.resolve()),h.remote&&h.$watch("search",h.fetch),h.optionToObject=function(a,b){var c={},d=p.element(a);p.forEach(a.dataset,function(d,a){a.match(/^\$/)||(c[a]=d)}),a.value&&(c[h.valueAttr||"value"]=a.value),d.text()&&(c[h.labelAttr]=d.text().trim()),p.isDefined(b)&&(c[h.groupAttr]=b),h.options.push(c),d.attr("selected")&&(h.multiple||!h.hasValue())&&(h.multiple?(h.value||(h.value=[]),h.value.push(h.optionValue(c))):h.value||(h.value=h.optionValue(c)))},h.fillWithHtml=function(){h.options=[],p.forEach(a,function(d){var a=(d.tagName||"").toLowerCase();"option"==a&&h.optionToObject(d),"optgroup"==a&&p.forEach(d.querySelectorAll("option"),function(b){h.optionToObject(b,(d.attributes.label||{}).value)})}),h.updateSelected()},h.initialize=function(){h.remote||p.isArray(h.options)&&h.options.length||h.fillWithHtml(),h.hasValue()&&(h.multiple?p.isArray(h.value)||(h.value=[h.value]):p.isArray(h.value)&&(h.value=h.value[0]),h.updateSelected(),h.filterOptions(),h.updateValue())},h.$watch("multiple",function(){m(h.setInputWidth),l.promise.then(h.initialize,h.initialize)}),h.dropdownPosition=function(){var e=i.parent()[0],a=g(e),b=parseFloat(a.marginTop||0),c=parseFloat(a.marginLeft||0);j.css({top:e.offsetTop+e.offsetHeight+b+"px",left:e.offsetLeft+c+"px",width:e.offsetWidth+"px"})},h.open=function(){h.isOpen=!0,h.dropdownPosition()},h.close=function(){h.isOpen=!1,h.resetInput()},h.decrementHighlighted=function(){h.highlight(h.highlighted-1),h.scrollToHighlighted()},h.incrementHighlighted=function(){h.highlight(h.highlighted+1),h.scrollToHighlighted()},h.highlight=function(b){f.create&&h.search&&-1==b?h.highlighted=-1:h.filteredOptions.length&&(h.highlighted=(h.filteredOptions.length+b)%h.filteredOptions.length)},h.scrollToHighlighted=function(){var c=j[0],a=c.querySelectorAll("li.selector-option")[h.highlighted],b=g(a),d=parseFloat(b.marginTop||0),e=parseFloat(b.marginBottom||0);h.filteredOptions.length&&(a.offsetTop+a.offsetHeight+e>c.scrollTop+c.offsetHeight&&m(function(){c.scrollTop=a.offsetTop+a.offsetHeight+e-c.offsetHeight}),a.offsetTop-d<c.scrollTop&&m(function(){c.scrollTop=a.offsetTop-d}))},h.createOption=function(a){c.when(function(){var d={};return p.isFunction(h.create)?d=h.create({input:a}):(d[h.labelAttr]=a,d[h.valueAttr||"value"]=a),d}()).then(function(b){h.options.push(b),h.set(b)})},h.set=function(a){p.isDefined(a)||(a=h.filteredOptions[h.highlighted]),h.multiple?0>h.selectedValues.indexOf(a)&&h.selectedValues.push(a):h.selectedValues=[a],(!h.multiple||h.closeAfterSelection)&&h.close(),h.resetInput()},h.unset=function(a){h.multiple?h.selectedValues.splice(p.isDefined(a)?a:h.selectedValues.length-1,1):h.selectedValues=[],h.resetInput()},h.keydown=function(c){switch(c.keyCode){case d.up:if(!h.isOpen)break;h.decrementHighlighted(),c.preventDefault();break;case d.down:h.isOpen?h.incrementHighlighted():h.open(),c.preventDefault();break;case d.escape:h.highlight(0),h.close();break;case d.enter:h.isOpen&&(f.create&&h.search&&-1==h.highlighted?h.createOption(c.target.value):h.filteredOptions.length&&h.set(),c.preventDefault());break;case d.backspace:if(!i.val()){var a=(h.selectedValues.slice(-1)[0]||{})[h.labelAttr]||"";h.unset(),h.open(),h.softDelete&&(h.search=a,h.multiple&&c.preventDefault())}break;case d.left:case d.right:case d.shift:case d.ctrl:case d.alt:case d.tab:case d.leftCmd:case d.rightCmd:break;default:!h.multiple&&h.hasValue()?c.preventDefault():(h.open(),h.highlight(0));}},h.inOptions=function(a,d){return h.remote?0<a.filter(function(a){return p.equals(d,a)}).length:0<=a.indexOf(d)},h.filterOptions=function(){h.filteredOptions=k("filter")(h.options||[],h.search),h.multiple&&(h.filteredOptions=h.filteredOptions.filter(function(a){var b=p.isArray(h.selectedValues)?h.selectedValues:[h.selectedValues];return!h.inOptions(b,a)})),h.highlighted>=h.filteredOptions.length&&h.highlight(h.filteredOptions.length-1),-1==h.highlighted&&0<h.filteredOptions.length&&h.highlight(0)},h.measureWidth=function(){var a,b=g(i[0]),c=p.element("<span class=\"selector-shadow\"></span>");return c.text(i.val()||(h.hasValue()?"":h.placeholder)||""),p.element(document.body).append(c),p.forEach(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(d){c.css(d,b[d])}),a=c[0].offsetWidth,c.remove(),a},h.setInputWidth=function(){var b=h.measureWidth()+1;i.css("width",b+"px")},h.resetInput=function(){i.val(""),h.search="",h.setInputWidth()},h.$watch("[search, options, value]",function(){h.filterOptions(),m(function(){h.setInputWidth(),h.isOpen&&h.dropdownPosition()})},!0),h.updateValue=function(a){p.isDefined(a)||(a=h.selectedValues),h.setValue(h.multiple?a:a[0])},h.$watch("selectedValues",function(a,d){p.equals(a,d)||(h.updateValue(),p.isFunction(h.change)&&h.change(h.multiple?{newValue:a,oldValue:d}:{newValue:a[0],oldValue:d[0]}))},!0),h.$watchCollection("options",function(a,b){p.equals(a,b)||h.remote||h.updateSelected()}),h.updateSelected=function(){h.selectedValues=h.multiple?(h.value||[]).map(function(c){return k("filter")(h.options,function(a){return h.optionEquals(a,c)})[0]}).filter(function(a){return p.isDefined(a)}):(h.options||[]).filter(function(b){return h.optionEquals(b)}).slice(0,1)},h.$watch("value",function(a,b){p.equals(a,b)||((!h.remote||0<h.options.length)&&h.updateSelected(),h.filterOptions(),h.updateValue())},!0),i=p.element(e[0].querySelector(".selector-input input")).on("focus",function(){m(function(){h.$apply(h.open)})}).on("blur",function(){h.$apply(h.close)}).on("keydown",function(b){h.$apply(function(){h.keydown(b)})}).on("input",function(){h.setInputWidth()}),j.on("mousedown",function(b){b.preventDefault()}),p.element(b).on("resize",function(){h.dropdownPosition()}),p.forEach(["open","close","fetch"],function(b){h.api[b]=h[b]}),h.api.focus=function(){i[0].focus()},h.api.set=function(d){var a=(h.filteredOptions||[]).filter(function(b){return h.optionEquals(b,d)});p.forEach(a,function(b){h.set(b)})},h.api.unset=function(e){var f=e?(h.selectedValues||[]).filter(function(b){return h.optionEquals(b,e)}):h.selectedValues,a=h.selectedValues.map(function(c,a){return h.inOptions(f,c)?a:-1}).filter(function(b){return 0<=b});p.forEach(a,function(c,a){h.unset(c-a)})}})},a}();p.module("selector",[]).run(["$templateCache",function(b){b.put("selector/selector.html","<div class=\"selector-container\" ng-attr-dir=\"{{rtl ? 'rtl' : 'ltr'}}\" ng-class=\"{open: isOpen, empty: !filteredOptions.length && (!create || !search), multiple: multiple, 'has-value': hasValue(), rtl: rtl, loading: loading, 'remove-button': removeButton, disabled: disabled}\"><select name=\"{{name}}\" ng-hide=\"true\" ng-model=\"selectedValues\" multiple ng-options=\"option as option[labelAttr] for option in selectedValues\" ng-hide=\"true\"></select><label class=\"selector-input\"><ul class=\"selector-values\"><li ng-repeat=\"(index, option) in selectedValues track by index\"><div ng-include=\"viewItemTemplate\"></div><div ng-if=\"multiple\" class=\"selector-helper\" ng-click=\"!disabled && unset(index)\"><span class=\"selector-icon\"></span></div></li></ul><input ng-model=\"search\" placeholder=\"{{!hasValue() ? placeholder : ''}}\" ng-disabled=\"disabled\" ng-required=\"required && !hasValue()\"><div ng-if=\"!multiple || loading\" class=\"selector-helper selector-global-helper\" ng-click=\"!disabled && removeButton && unset()\"><span class=\"selector-icon\"></span></div></label><ul class=\"selector-dropdown\" ng-show=\"filteredOptions.length > 0 || (create && search)\"><li class=\"selector-option create\" ng-class=\"{active: highlighted == -1}\" ng-if=\"create && search\" ng-include=\"dropdownCreateTemplate\" ng-mouseover=\"highlight(-1)\" ng-click=\"createOption(search)\"></li><li ng-repeat-start=\"(index, option) in filteredOptions track by index\" class=\"selector-optgroup\" ng-include=\"dropdownGroupTemplate\" ng-show=\"option[groupAttr] && index == 0 || filteredOptions[index-1][groupAttr] != option[groupAttr]\"></li><li ng-repeat-end ng-class=\"{active: highlighted == index, grouped: option[groupAttr]}\" class=\"selector-option\" ng-include=\"dropdownItemTemplate\" ng-mouseover=\"highlight(index)\" ng-click=\"set()\"></li></ul></div>"),b.put("selector/item-create.html","Add <i ng-bind=\"search\"></i>"),b.put("selector/item-default.html","<span ng-bind=\"option[labelAttr] || option\"></span>"),b.put("selector/group-default.html","<span ng-bind=\"option[groupAttr]\"></span>")}]).directive("selector",["$filter","$timeout","$window","$http","$q",function(g,a,b,c,d){return new f(g,a,b,c,d)}])}(window.angular);
(function(a,b){if('function'==typeof define&&define.amd)define(['moment','jquery'],function(c,d){return a.daterangepicker=b(c,d)});else if('object'==typeof module&&module.exports){var c='undefined'==typeof window?void 0:window.jQuery;c||(c=require('jquery'),!c.fn&&(c.fn={})),module.exports=b(require('moment'),c)}else a.daterangepicker=b(a.moment,a.jQuery)})(this,function(a,b){var c=Math.round,d=function(c,d,e){if(this.parentEl='body',this.element=b(c),this.startDate=a().startOf('day'),this.endDate=a().endOf('day'),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens='right',this.element.hasClass('pull-right')&&(this.opens='left'),this.drops='down',this.element.hasClass('dropup')&&(this.drops='up'),this.buttonClasses='btn btn-sm',this.applyClass='btn-success',this.cancelClass='btn-default',this.locale={direction:'ltr',format:'MM/DD/YYYY',separator:' - ',applyLabel:'Apply',cancelLabel:'Cancel',weekLabel:'W',customRangeLabel:'Custom Range',daysOfWeek:a.weekdaysMin(),monthNames:a.monthsShort(),firstDay:a.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},('object'!=typeof d||null===d)&&(d={}),d=b.extend(this.element.data(),d),'string'==typeof d.template||d.template instanceof b||(d.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=d.parentEl&&b(d.parentEl).length?b(d.parentEl):b(this.parentEl),this.container=b(d.template).appendTo(this.parentEl),'object'==typeof d.locale&&('string'==typeof d.locale.direction&&(this.locale.direction=d.locale.direction),'string'==typeof d.locale.format&&(this.locale.format=d.locale.format),'string'==typeof d.locale.separator&&(this.locale.separator=d.locale.separator),'object'==typeof d.locale.daysOfWeek&&(this.locale.daysOfWeek=d.locale.daysOfWeek.slice()),'object'==typeof d.locale.monthNames&&(this.locale.monthNames=d.locale.monthNames.slice()),'number'==typeof d.locale.firstDay&&(this.locale.firstDay=d.locale.firstDay),'string'==typeof d.locale.applyLabel&&(this.locale.applyLabel=d.locale.applyLabel),'string'==typeof d.locale.cancelLabel&&(this.locale.cancelLabel=d.locale.cancelLabel),'string'==typeof d.locale.weekLabel&&(this.locale.weekLabel=d.locale.weekLabel),'string'==typeof d.locale.customRangeLabel&&(this.locale.customRangeLabel=d.locale.customRangeLabel)),this.container.addClass(this.locale.direction),'string'==typeof d.startDate&&(this.startDate=a(d.startDate,this.locale.format)),'string'==typeof d.endDate&&(this.endDate=a(d.endDate,this.locale.format)),'string'==typeof d.minDate&&(this.minDate=a(d.minDate,this.locale.format)),'string'==typeof d.maxDate&&(this.maxDate=a(d.maxDate,this.locale.format)),'object'==typeof d.startDate&&(this.startDate=a(d.startDate)),'object'==typeof d.endDate&&(this.endDate=a(d.endDate)),'object'==typeof d.minDate&&(this.minDate=a(d.minDate)),'object'==typeof d.maxDate&&(this.maxDate=a(d.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),'string'==typeof d.applyClass&&(this.applyClass=d.applyClass),'string'==typeof d.cancelClass&&(this.cancelClass=d.cancelClass),'object'==typeof d.dateLimit&&(this.dateLimit=d.dateLimit),'string'==typeof d.opens&&(this.opens=d.opens),'string'==typeof d.drops&&(this.drops=d.drops),'boolean'==typeof d.showWeekNumbers&&(this.showWeekNumbers=d.showWeekNumbers),'boolean'==typeof d.showISOWeekNumbers&&(this.showISOWeekNumbers=d.showISOWeekNumbers),'string'==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses),'object'==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses.join(' ')),'boolean'==typeof d.showDropdowns&&(this.showDropdowns=d.showDropdowns),'boolean'==typeof d.showCustomRangeLabel&&(this.showCustomRangeLabel=d.showCustomRangeLabel),'boolean'==typeof d.singleDatePicker&&(this.singleDatePicker=d.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),'boolean'==typeof d.timePicker&&(this.timePicker=d.timePicker),'boolean'==typeof d.timePickerSeconds&&(this.timePickerSeconds=d.timePickerSeconds),'number'==typeof d.timePickerIncrement&&(this.timePickerIncrement=d.timePickerIncrement),'boolean'==typeof d.timePicker24Hour&&(this.timePicker24Hour=d.timePicker24Hour),'boolean'==typeof d.autoApply&&(this.autoApply=d.autoApply),'boolean'==typeof d.autoUpdateInput&&(this.autoUpdateInput=d.autoUpdateInput),'boolean'==typeof d.linkedCalendars&&(this.linkedCalendars=d.linkedCalendars),'function'==typeof d.isInvalidDate&&(this.isInvalidDate=d.isInvalidDate),'function'==typeof d.isCustomDate&&(this.isCustomDate=d.isCustomDate),'boolean'==typeof d.alwaysShowCalendars&&(this.alwaysShowCalendars=d.alwaysShowCalendars),0!=this.locale.firstDay)for(var f=this.locale.firstDay;0<f;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),f--;var g,h,i;if('undefined'==typeof d.startDate&&'undefined'==typeof d.endDate&&b(this.element).is('input[type=text]')){var j=b(this.element).val(),k=j.split(this.locale.separator);g=h=null,2==k.length?(g=a(k[0],this.locale.format),h=a(k[1],this.locale.format)):this.singleDatePicker&&''!==j&&(g=a(j,this.locale.format),h=a(j,this.locale.format)),null!==g&&null!==h&&(this.setStartDate(g),this.setEndDate(h))}if('object'==typeof d.ranges){for(i in d.ranges){g='string'==typeof d.ranges[i][0]?a(d.ranges[i][0],this.locale.format):a(d.ranges[i][0]),h='string'==typeof d.ranges[i][1]?a(d.ranges[i][1],this.locale.format):a(d.ranges[i][1]),this.minDate&&g.isBefore(this.minDate)&&(g=this.minDate.clone());var l=this.maxDate;if(this.dateLimit&&l&&g.clone().add(this.dateLimit).isAfter(l)&&(l=g.clone().add(this.dateLimit)),l&&h.isAfter(l)&&(h=l.clone()),!(this.minDate&&h.isBefore(this.minDate,this.timepicker?'minute':'day')||l&&g.isAfter(l,this.timepicker?'minute':'day'))){var m=document.createElement('textarea');m.innerHTML=i;var n=m.value;this.ranges[n]=[g,h]}}var o='<ul>';for(i in this.ranges)o+='<li data-range-key="'+i+'">'+i+'</li>';this.showCustomRangeLabel&&(o+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+'</li>'),o+='</ul>',this.container.find('.ranges').prepend(o)}'function'==typeof e&&(this.callback=e),this.timePicker||(this.startDate=this.startDate.startOf('day'),this.endDate=this.endDate.endOf('day'),this.container.find('.calendar-time').hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&'object'!=typeof d.ranges?this.container.find('.ranges').hide():this.autoApply&&this.container.find('.applyBtn, .cancelBtn').addClass('hide'),this.singleDatePicker&&(this.container.addClass('single'),this.container.find('.calendar.left').addClass('single'),this.container.find('.calendar.left').show(),this.container.find('.calendar.right').hide(),this.container.find('.daterangepicker_input input, .daterangepicker_input > i').hide(),this.timePicker?this.container.find('.ranges ul').hide():this.container.find('.ranges').hide()),('undefined'==typeof d.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass('show-calendar'),this.container.addClass('opens'+this.opens),'undefined'!=typeof d.ranges&&'right'==this.opens&&this.container.find('.ranges').prependTo(this.container.find('.calendar.left').parent()),this.container.find('.applyBtn, .cancelBtn').addClass(this.buttonClasses),this.applyClass.length&&this.container.find('.applyBtn').addClass(this.applyClass),this.cancelClass.length&&this.container.find('.cancelBtn').addClass(this.cancelClass),this.container.find('.applyBtn').html(this.locale.applyLabel),this.container.find('.cancelBtn').html(this.locale.cancelLabel),this.container.find('.calendar').on('click.daterangepicker','.prev',b.proxy(this.clickPrev,this)).on('click.daterangepicker','.next',b.proxy(this.clickNext,this)).on('mousedown.daterangepicker','td.available',b.proxy(this.clickDate,this)).on('mouseenter.daterangepicker','td.available',b.proxy(this.hoverDate,this)).on('mouseleave.daterangepicker','td.available',b.proxy(this.updateFormInputs,this)).on('change.daterangepicker','select.yearselect',b.proxy(this.monthOrYearChanged,this)).on('change.daterangepicker','select.monthselect',b.proxy(this.monthOrYearChanged,this)).on('change.daterangepicker','select.hourselect,select.minuteselect,select.secondselect,select.ampmselect',b.proxy(this.timeChanged,this)).on('click.daterangepicker','.daterangepicker_input input',b.proxy(this.showCalendars,this)).on('focus.daterangepicker','.daterangepicker_input input',b.proxy(this.formInputsFocused,this)).on('blur.daterangepicker','.daterangepicker_input input',b.proxy(this.formInputsBlurred,this)).on('change.daterangepicker','.daterangepicker_input input',b.proxy(this.formInputsChanged,this)),this.container.find('.ranges').on('click.daterangepicker','button.applyBtn',b.proxy(this.clickApply,this)).on('click.daterangepicker','button.cancelBtn',b.proxy(this.clickCancel,this)).on('click.daterangepicker','li',b.proxy(this.clickRange,this)).on('mouseenter.daterangepicker','li',b.proxy(this.hoverRange,this)).on('mouseleave.daterangepicker','li',b.proxy(this.updateFormInputs,this)),this.element.is('input')||this.element.is('button')?this.element.on({"click.daterangepicker":b.proxy(this.show,this),"focus.daterangepicker":b.proxy(this.show,this),"keyup.daterangepicker":b.proxy(this.elementChanged,this),"keydown.daterangepicker":b.proxy(this.keydown,this)}):this.element.on('click.daterangepicker',b.proxy(this.toggle,this)),this.element.is('input')&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger('change')):this.element.is('input')&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger('change'))};return d.prototype={constructor:d,setStartDate:function(b){'string'==typeof b&&(this.startDate=a(b,this.locale.format)),'object'==typeof b&&(this.startDate=a(b)),this.timePicker||(this.startDate=this.startDate.startOf('day')),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(c(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(c(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(b){'string'==typeof b&&(this.endDate=a(b,this.locale.format)),'object'==typeof b&&(this.endDate=a(b)),this.timePicker||(this.endDate=this.endDate.endOf('day')),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(c(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker('left'),this.renderTimePicker('right'),this.endDate?this.container.find('.right .calendar-time select').removeAttr('disabled').removeClass('disabled'):this.container.find('.right .calendar-time select').attr('disabled','disabled').addClass('disabled')),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass('active'),this.container.find('input[name="daterangepicker_start"]').addClass('active')):(this.container.find('input[name="daterangepicker_end"]').addClass('active'),this.container.find('input[name="daterangepicker_start"]').removeClass('active')),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format('YYYY-MM')==this.leftCalendar.month.format('YYYY-MM')||this.startDate.format('YYYY-MM')==this.rightCalendar.month.format('YYYY-MM'))&&(this.endDate.format('YYYY-MM')==this.leftCalendar.month.format('YYYY-MM')||this.endDate.format('YYYY-MM')==this.rightCalendar.month.format('YYYY-MM')))return;this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.startDate.clone().date(2).add(1,'month'):this.endDate.clone().date(2)}else this.leftCalendar.month.format('YYYY-MM')!=this.startDate.format('YYYY-MM')&&this.rightCalendar.month.format('YYYY-MM')!=this.startDate.format('YYYY-MM')&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,'month'));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,'month'))},updateCalendars:function(){if(this.timePicker){var a,b,c;if(this.endDate){if(a=parseInt(this.container.find('.left .hourselect').val(),10),b=parseInt(this.container.find('.left .minuteselect').val(),10),c=this.timePickerSeconds?parseInt(this.container.find('.left .secondselect').val(),10):0,!this.timePicker24Hour){var d=this.container.find('.left .ampmselect').val();'PM'===d&&12>a&&(a+=12),'AM'===d&&12===a&&(a=0)}}else if(a=parseInt(this.container.find('.right .hourselect').val(),10),b=parseInt(this.container.find('.right .minuteselect').val(),10),c=this.timePickerSeconds?parseInt(this.container.find('.right .secondselect').val(),10):0,!this.timePicker24Hour){var d=this.container.find('.right .ampmselect').val();'PM'===d&&12>a&&(a+=12),'AM'===d&&12===a&&(a=0)}this.leftCalendar.month.hour(a).minute(b).second(c),this.rightCalendar.month.hour(a).minute(b).second(c)}this.renderCalendar('left'),this.renderCalendar('right'),this.container.find('.ranges li').removeClass('active'),null==this.endDate||this.calculateChosenLabel()},renderCalendar:function(c){var d='left'==c?this.leftCalendar:this.rightCalendar,e=d.month.month(),f=d.month.year(),g=d.month.hour(),h=d.month.minute(),j=d.month.second(),k=a([f,e]).daysInMonth(),l=a([f,e,1]),n=a([f,e,k]),o=a(l).subtract(1,'month').month(),p=a(l).subtract(1,'month').year(),q=a([p,o]).daysInMonth(),r=l.day(),d=[];d.firstDay=l,d.lastDay=n;for(var s=0;6>s;s++)d[s]=[];var i=q-r+this.locale.firstDay+1;i>q&&(i-=7),r==this.locale.firstDay&&(i=q-6);for(var t,u,v=a([p,o,i,12,h,j]),s=0,t=0,u=0;42>s;s++,t++,v=a(v).add(24,'hour'))0<s&&0==t%7&&(t=0,u++),d[u][t]=v.clone().hour(g).minute(h).second(j),v.hour(12),this.minDate&&d[u][t].format('YYYY-MM-DD')==this.minDate.format('YYYY-MM-DD')&&d[u][t].isBefore(this.minDate)&&'left'==c&&(d[u][t]=this.minDate.clone()),this.maxDate&&d[u][t].format('YYYY-MM-DD')==this.maxDate.format('YYYY-MM-DD')&&d[u][t].isAfter(this.maxDate)&&'right'==c&&(d[u][t]=this.maxDate.clone());'left'==c?this.leftCalendar.calendar=d:this.rightCalendar.calendar=d;var w='left'==c?this.minDate:this.startDate,x=this.maxDate,z='left'==c?this.startDate:this.endDate,A='ltr'==this.locale.direction?{left:'chevron-left',right:'chevron-right'}:{left:'chevron-right',right:'chevron-left'},B='<table class="table-condensed">';B+='<thead>',B+='<tr>',(this.showWeekNumbers||this.showISOWeekNumbers)&&(B+='<th></th>'),B+=w&&!w.isBefore(d.firstDay)||this.linkedCalendars&&'left'!=c?'<th></th>':'<th class="prev available"><i class="fa fa-'+A.left+' glyphicon glyphicon-'+A.left+'"></i></th>';var C=this.locale.monthNames[d[1][1].month()]+d[1][1].format(' YYYY');if(this.showDropdowns){for(var D=d[1][1].month(),E=d[1][1].year(),F=x&&x.year()||E+5,G=w&&w.year()||E-50,H='<select class="monthselect">',I=0;12>I;I++)H+=(!(E==G)||I>=w.month())&&(!(E==F)||I<=x.month())?'<option value=\''+I+'\''+(I===D?' selected=\'selected\'':'')+'>'+this.locale.monthNames[I]+'</option>':'<option value=\''+I+'\''+(I===D?' selected=\'selected\'':'')+' disabled=\'disabled\'>'+this.locale.monthNames[I]+'</option>';H+='</select>';for(var m='<select class="yearselect">',J=G;J<=F;J++)m+='<option value="'+J+'"'+(J===E?' selected="selected"':'')+'>'+J+'</option>';m+='</select>',C=H+m}if(B+='<th colspan="5" class="month">'+C+'</th>',B+=(!x||x.isAfter(d.lastDay))&&(!this.linkedCalendars||'right'==c||this.singleDatePicker)?'<th class="next available"><i class="fa fa-'+A.right+' glyphicon glyphicon-'+A.right+'"></i></th>':'<th></th>',B+='</tr>',B+='<tr>',(this.showWeekNumbers||this.showISOWeekNumbers)&&(B+='<th class="week">'+this.locale.weekLabel+'</th>'),b.each(this.locale.daysOfWeek,function(a,b){B+='<th>'+b+'</th>'}),B+='</tr>',B+='</thead>',B+='<tbody>',null==this.endDate&&this.dateLimit){var y=this.startDate.clone().add(this.dateLimit).endOf('day');(!x||y.isBefore(x))&&(x=y)}for(var u=0;6>u;u++){B+='<tr>',this.showWeekNumbers?B+='<td class="week">'+d[u][0].week()+'</td>':this.showISOWeekNumbers&&(B+='<td class="week">'+d[u][0].isoWeek()+'</td>');for(var K,t=0;7>t;t++){K=[],d[u][t].isSame(new Date,'day')&&K.push('today'),5<d[u][t].isoWeekday()&&K.push('weekend'),d[u][t].month()!=d[1][1].month()&&K.push('off'),this.minDate&&d[u][t].isBefore(this.minDate,'day')&&K.push('off','disabled'),x&&d[u][t].isAfter(x,'day')&&K.push('off','disabled'),this.isInvalidDate(d[u][t])&&K.push('off','disabled'),d[u][t].format('YYYY-MM-DD')==this.startDate.format('YYYY-MM-DD')&&K.push('active','start-date'),null!=this.endDate&&d[u][t].format('YYYY-MM-DD')==this.endDate.format('YYYY-MM-DD')&&K.push('active','end-date'),null!=this.endDate&&d[u][t]>this.startDate&&d[u][t]<this.endDate&&K.push('in-range');var L=this.isCustomDate(d[u][t]);!1!==L&&('string'==typeof L?K.push(L):Array.prototype.push.apply(K,L));for(var M='',N=!1,s=0;s<K.length;s++)M+=K[s]+' ','disabled'==K[s]&&(N=!0);N||(M+='available'),B+='<td class="'+M.replace(/^\s+|\s+$/g,'')+'" data-title="r'+u+'c'+t+'">'+d[u][t].date()+'</td>'}B+='</tr>'}B+='</tbody>',B+='</table>',this.container.find('.calendar.'+c+' .calendar-table').html(B)},renderTimePicker:function(a){if('right'!=a||this.endDate){var b,c,d,e=this.maxDate;if(this.dateLimit&&(!this.maxDate||this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate))&&(e=this.startDate.clone().add(this.dateLimit)),'left'==a)c=this.startDate.clone(),d=this.minDate;else if('right'==a){c=this.endDate.clone(),d=this.startDate;var f=this.container.find('.calendar.right .calendar-time div');if(!this.endDate&&''!=f.html()&&(c.hour(f.find('.hourselect option:selected').val()||c.hour()),c.minute(f.find('.minuteselect option:selected').val()||c.minute()),c.second(f.find('.secondselect option:selected').val()||c.second()),!this.timePicker24Hour)){var g=f.find('.ampmselect option:selected').val();'PM'===g&&12>c.hour()&&c.hour(c.hour()+12),'AM'===g&&12===c.hour()&&c.hour(0)}c.isBefore(this.startDate)&&(c=this.startDate.clone()),e&&c.isAfter(e)&&(c=e.clone())}b='<select class="hourselect">';for(var h,j=this.timePicker24Hour?0:1,k=this.timePicker24Hour?23:12,l=j;l<=k;l++){h=l,this.timePicker24Hour||(h=12<=c.hour()?12==l?12:l+12:12==l?0:l);var i=c.clone().hour(h),m=!1;d&&i.minute(59).isBefore(d)&&(m=!0),e&&i.minute(0).isAfter(e)&&(m=!0),b+=h!=c.hour()||m?m?'<option value="'+l+'" disabled="disabled" class="disabled">'+l+'</option>':'<option value="'+l+'">'+l+'</option>':'<option value="'+l+'" selected="selected">'+l+'</option>'}b+='</select> ',b+=': <select class="minuteselect">';for(var l=0;60>l;l+=this.timePickerIncrement){var n=10>l?'0'+l:l,i=c.clone().minute(l),m=!1;d&&i.second(59).isBefore(d)&&(m=!0),e&&i.second(0).isAfter(e)&&(m=!0),b+=c.minute()!=l||m?m?'<option value="'+l+'" disabled="disabled" class="disabled">'+n+'</option>':'<option value="'+l+'">'+n+'</option>':'<option value="'+l+'" selected="selected">'+n+'</option>'}if(b+='</select> ',this.timePickerSeconds){b+=': <select class="secondselect">';for(var l=0;60>l;l++){var n=10>l?'0'+l:l,i=c.clone().second(l),m=!1;d&&i.isBefore(d)&&(m=!0),e&&i.isAfter(e)&&(m=!0),b+=c.second()!=l||m?m?'<option value="'+l+'" disabled="disabled" class="disabled">'+n+'</option>':'<option value="'+l+'">'+n+'</option>':'<option value="'+l+'" selected="selected">'+n+'</option>'}b+='</select> '}if(!this.timePicker24Hour){b+='<select class="ampmselect">';var o='',p='';d&&c.clone().hour(12).minute(0).second(0).isBefore(d)&&(o=' disabled="disabled" class="disabled"'),e&&c.clone().hour(0).minute(0).second(0).isAfter(e)&&(p=' disabled="disabled" class="disabled"'),b+=12<=c.hour()?'<option value="AM"'+o+'>AM</option><option value="PM" selected="selected"'+p+'>PM</option>':'<option value="AM" selected="selected"'+o+'>AM</option><option value="PM"'+p+'>PM</option>',b+='</select>'}this.container.find('.calendar.'+a+' .calendar-time div').html(b)}},updateFormInputs:function(){this.container.find('input[name=daterangepicker_start]').is(':focus')||this.container.find('input[name=daterangepicker_end]').is(':focus')||(this.container.find('input[name=daterangepicker_start]').val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find('input[name=daterangepicker_end]').val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find('button.applyBtn').removeAttr('disabled'):this.container.find('button.applyBtn').attr('disabled','disabled'))},move:function(){var a,c={top:0,left:0},d=b(window).width();this.parentEl.is('body')||(c={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},d=this.parentEl[0].clientWidth+this.parentEl.offset().left),a='up'==this.drops?this.element.offset().top-this.container.outerHeight()-c.top:this.element.offset().top+this.element.outerHeight()-c.top,this.container['up'==this.drops?'addClass':'removeClass']('dropup'),'left'==this.opens?(this.container.css({top:a,right:d-this.element.offset().left-this.element.outerWidth(),left:'auto'}),0>this.container.offset().left&&this.container.css({right:'auto',left:9})):'center'==this.opens?(this.container.css({top:a,left:this.element.offset().left-c.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:'auto'}),0>this.container.offset().left&&this.container.css({right:'auto',left:9})):(this.container.css({top:a,left:this.element.offset().left-c.left,right:'auto'}),this.container.offset().left+this.container.outerWidth()>b(window).width()&&this.container.css({left:'auto',right:0}))},show:function(){this.isShowing||(this._outsideClickProxy=b.proxy(function(a){this.outsideClick(a)},this),b(document).on('mousedown.daterangepicker',this._outsideClickProxy).on('touchend.daterangepicker',this._outsideClickProxy).on('click.daterangepicker','[data-toggle=dropdown]',this._outsideClickProxy).on('focusin.daterangepicker',this._outsideClickProxy),b(window).on('resize.daterangepicker',b.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger('show.daterangepicker',this),this.isShowing=!0)},hide:function(){this.isShowing&&(!this.endDate&&(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))&&this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),b(document).off('.daterangepicker'),b(window).off('.daterangepicker'),this.container.hide(),this.element.trigger('hide.daterangepicker',this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(a){var c=b(a.target);'focusin'==a.type||c.closest(this.element).length||c.closest(this.container).length||c.closest('.calendar-table').length||(this.hide(),this.element.trigger('outsideClick.daterangepicker',this))},showCalendars:function(){this.container.addClass('show-calendar'),this.move(),this.element.trigger('showCalendar.daterangepicker',this)},hideCalendars:function(){this.container.removeClass('show-calendar'),this.element.trigger('hideCalendar.daterangepicker',this)},hoverRange:function(a){if(!(this.container.find('input[name=daterangepicker_start]').is(':focus')||this.container.find('input[name=daterangepicker_end]').is(':focus'))){var b=a.target.getAttribute('data-range-key');if(b==this.locale.customRangeLabel)this.updateView();else{var c=this.ranges[b];this.container.find('input[name=daterangepicker_start]').val(c[0].format(this.locale.format)),this.container.find('input[name=daterangepicker_end]').val(c[1].format(this.locale.format))}}},clickRange:function(a){var b=a.target.getAttribute('data-range-key');if(this.chosenLabel=b,b==this.locale.customRangeLabel)this.showCalendars();else{var c=this.ranges[b];this.startDate=c[0],this.endDate=c[1],this.timePicker||(this.startDate.startOf('day'),this.endDate.endOf('day')),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(a){var c=b(a.target).parents('.calendar');c.hasClass('left')?(this.leftCalendar.month.subtract(1,'month'),this.linkedCalendars&&this.rightCalendar.month.subtract(1,'month')):this.rightCalendar.month.subtract(1,'month'),this.updateCalendars()},clickNext:function(a){var c=b(a.target).parents('.calendar');c.hasClass('left')?this.leftCalendar.month.add(1,'month'):(this.rightCalendar.month.add(1,'month'),this.linkedCalendars&&this.leftCalendar.month.add(1,'month')),this.updateCalendars()},hoverDate:function(a){if(b(a.target).hasClass('available')){var c=b(a.target).attr('data-title'),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents('.calendar'),g=f.hasClass('left')?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e];this.endDate&&!this.container.find('input[name=daterangepicker_start]').is(':focus')?this.container.find('input[name=daterangepicker_start]').val(g.format(this.locale.format)):!this.endDate&&!this.container.find('input[name=daterangepicker_end]').is(':focus')&&this.container.find('input[name=daterangepicker_end]').val(g.format(this.locale.format));var h=this.leftCalendar,i=this.rightCalendar,j=this.startDate;this.endDate||this.container.find('.calendar td').each(function(a,c){if(!b(c).hasClass('week')){var d=b(c).attr('data-title'),e=d.substr(1,1),f=d.substr(3,1),k=b(c).parents('.calendar'),l=k.hasClass('left')?h.calendar[e][f]:i.calendar[e][f];l.isAfter(j)&&l.isBefore(g)||l.isSame(g,'day')?b(c).addClass('in-range'):b(c).removeClass('in-range')}})}},clickDate:function(a){if(b(a.target).hasClass('available')){var c=b(a.target).attr('data-title'),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents('.calendar'),g=f.hasClass('left')?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e];if(this.endDate||g.isBefore(this.startDate,'day')){if(this.timePicker){var h=parseInt(this.container.find('.left .hourselect').val(),10);if(!this.timePicker24Hour){var i=this.container.find('.left .ampmselect').val();'PM'===i&&12>h&&(h+=12),'AM'===i&&12===h&&(h=0)}var j=parseInt(this.container.find('.left .minuteselect').val(),10),k=this.timePickerSeconds?parseInt(this.container.find('.left .secondselect').val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.endDate=null,this.setStartDate(g.clone())}else if(!this.endDate&&g.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var h=parseInt(this.container.find('.right .hourselect').val(),10);if(!this.timePicker24Hour){var i=this.container.find('.right .ampmselect').val();'PM'===i&&12>h&&(h+=12),'AM'===i&&12===h&&(h=0)}var j=parseInt(this.container.find('.right .minuteselect').val(),10),k=this.timePickerSeconds?parseInt(this.container.find('.right .secondselect').val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.setEndDate(g.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.clickApply()),this.updateView(),a.stopPropagation()}},calculateChosenLabel:function(){var a=!0,b=0;for(var c in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[c][0])&&this.endDate.isSame(this.ranges[c][1])){a=!1,this.chosenLabel=this.container.find('.ranges li:eq('+b+')').addClass('active').html();break}}else if(this.startDate.format('YYYY-MM-DD')==this.ranges[c][0].format('YYYY-MM-DD')&&this.endDate.format('YYYY-MM-DD')==this.ranges[c][1].format('YYYY-MM-DD')){a=!1,this.chosenLabel=this.container.find('.ranges li:eq('+b+')').addClass('active').html();break}b++}a&&this.showCustomRangeLabel&&(this.chosenLabel=this.container.find('.ranges li:last').addClass('active').html(),this.showCalendars())},clickApply:function(){this.hide(),this.element.trigger('apply.daterangepicker',this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger('cancel.daterangepicker',this)},monthOrYearChanged:function(a){var c=b(a.target).closest('.calendar').hasClass('left'),d=c?'left':'right',e=this.container.find('.calendar.'+d),f=parseInt(e.find('.monthselect').val(),10),g=e.find('.yearselect').val();!c&&(g<this.startDate.year()||g==this.startDate.year()&&f<this.startDate.month())&&(f=this.startDate.month(),g=this.startDate.year()),this.minDate&&(g<this.minDate.year()||g==this.minDate.year()&&f<this.minDate.month())&&(f=this.minDate.month(),g=this.minDate.year()),this.maxDate&&(g>this.maxDate.year()||g==this.maxDate.year()&&f>this.maxDate.month())&&(f=this.maxDate.month(),g=this.maxDate.year()),c?(this.leftCalendar.month.month(f).year(g),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,'month'))):(this.rightCalendar.month.month(f).year(g),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,'month'))),this.updateCalendars()},timeChanged:function(a){var c=b(a.target).closest('.calendar'),d=c.hasClass('left'),e=parseInt(c.find('.hourselect').val(),10),f=parseInt(c.find('.minuteselect').val(),10),g=this.timePickerSeconds?parseInt(c.find('.secondselect').val(),10):0;if(!this.timePicker24Hour){var h=c.find('.ampmselect').val();'PM'===h&&12>e&&(e+=12),'AM'===h&&12===e&&(e=0)}if(d){var i=this.startDate.clone();i.hour(e),i.minute(f),i.second(g),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format('YYYY-MM-DD')==i.format('YYYY-MM-DD')&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())}else if(this.endDate){var j=this.endDate.clone();j.hour(e),j.minute(f),j.second(g),this.setEndDate(j)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker('left'),this.renderTimePicker('right')},formInputsChanged:function(c){var d=b(c.target).closest('.calendar').hasClass('right'),e=a(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),f=a(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);e.isValid()&&f.isValid()&&(d&&f.isBefore(e)&&(e=f.clone()),this.setStartDate(e),this.setEndDate(f),d?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(a){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass('active'),b(a.target).addClass('active');var c=b(a.target).closest('.calendar').hasClass('right');c&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(){if(!this.endDate){var b=this.container.find('input[name="daterangepicker_end"]').val(),c=a(b,this.locale.format);c.isValid()&&(this.setEndDate(c),this.updateView())}},elementChanged:function(){if(this.element.is('input')&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var b=this.element.val().split(this.locale.separator),c=null,d=null;2===b.length&&(c=a(b[0],this.locale.format),d=a(b[1],this.locale.format)),(this.singleDatePicker||null===c||null===d)&&(c=a(this.element.val(),this.locale.format),d=c),c.isValid()&&d.isValid()&&(this.setStartDate(c),this.setEndDate(d),this.updateView())}},keydown:function(a){(9===a.keyCode||13===a.keyCode)&&this.hide()},updateElement:function(){this.element.is('input')&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger('change')):this.element.is('input')&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger('change'))},remove:function(){this.container.remove(),this.element.off('.daterangepicker'),this.element.removeData()}},b.fn.daterangepicker=function(a,c){return this.each(function(){var e=b(this);e.data('daterangepicker')&&e.data('daterangepicker').remove(),e.data('daterangepicker',new d(e,a,c))}),this},d});
(function(a){'use strict';'function'==typeof define&&define.amd?define(['angular','moment'],a):'object'==typeof exports?module.exports=a(require('angular'),require('moment')):a(window.angular,window.moment)})(function(a,b){'use strict';function c(c,d){function e(e,g,h){function j(a){var c=10*parseInt(b.utc(a).year()/10,10);return b.utc(a).year(c).startOf('year')}function k(a,b){return a?i(a).format(b):''}function i(c){return b(c,a.isString(c)?o.parseFormat:void 0)}function l(a){var b=new Date;if(a){var c=i(a);if(c.isValid())b=c.toDate();else throw'Invalid date: '+a}return b.getTime()-6e4*b.getTimezoneOffset()}function m(){var b={};h.datetimepickerConfig&&(b=e.$parent.$eval(h.datetimepickerConfig));var f=a.extend({},c,b);return d.validate(f),f}var n=g.controller('ngModel'),o=m();e.screenReader=o.screenReader,e.changeView=function(a,b,c){if(c&&(c.stopPropagation(),c.preventDefault()),a&&b.utcDateValue>-Infinity&&b.selectable&&p[a]){var d=p[a](b.utcDateValue),f=[];if(d.weeks)for(var g,h=0;h<d.weeks.length;h+=1){g=d.weeks[h];for(var i,k=0;k<g.dates.length;k+=1)i=g.dates[k],f.push(i)}e.beforeRender({$view:d.currentView,$dates:d.dates||f,$leftDate:d.leftDate,$upDate:d.previousViewDate,$rightDate:d.rightDate}),e.data=d}},n.$render=function(){e.changeView(o.startView,new f({utcDateValue:l(n.$viewValue)}))},o.configureOn&&e.$on(o.configureOn,function(){o=m(),e.screenReader=o.screenReader,n.$render()}),o.renderOn&&e.$on(o.renderOn,n.$render);var p={year:function(a){for(var c=b.utc(a).startOf('year'),d=10*parseInt(c.year()/10,10),e=b.utc(j(a)).subtract(1,'year').startOf('year'),g=k(n.$modelValue,'YYYY'),h={currentView:'year',nextView:'year'===o.minView?'setTime':'month',previousViewDate:new f({utcDateValue:null,display:d+'-'+(d+9)}),leftDate:new f({utcDateValue:b.utc(e).subtract(9,'year').valueOf()}),rightDate:new f({utcDateValue:b.utc(e).add(11,'year').valueOf()}),dates:[]},l=0;12>l;l+=1){var i=b.utc(e).add(l,'years'),m={utcDateValue:i.valueOf(),display:i.format('YYYY'),past:i.year()<d,future:i.year()>d+9,active:i.format('YYYY')===g};h.dates.push(new f(m))}return h},month:function(a){for(var c=b.utc(a).startOf('year'),d=j(a),e=k(n.$modelValue,'YYYY-MMM'),g={previousView:'year',currentView:'month',nextView:'month'===o.minView?'setTime':'day',previousViewDate:new f({utcDateValue:d.valueOf(),display:c.format('YYYY')}),leftDate:new f({utcDateValue:b.utc(c).subtract(1,'year').valueOf()}),rightDate:new f({utcDateValue:b.utc(c).add(1,'year').valueOf()}),dates:[]},h=0;12>h;h+=1){var i=b.utc(c).add(h,'months'),l={utcDateValue:i.valueOf(),display:i.format('MMM'),active:i.format('YYYY-MMM')===e};g.dates.push(new f(l))}return g},day:function(a){for(var c=b.utc(a),d=b.utc(c).startOf('month'),e=b.utc(c).startOf('year'),g=b.utc(c).endOf('month'),h=b.utc(d).subtract(Math.abs(d.weekday()),'days'),l=k(n.$modelValue,'YYYY-MMM-DD'),m={previousView:'month',currentView:'day',nextView:'day'===o.minView?'setTime':'hour',previousViewDate:new f({utcDateValue:e.valueOf(),display:d.format('YYYY-MMM')}),leftDate:new f({utcDateValue:b.utc(d).subtract(1,'months').valueOf()}),rightDate:new f({utcDateValue:b.utc(d).add(1,'months').valueOf()}),dayNames:[],weeks:[]},p=0;7>p;p+=1)m.dayNames.push(b.utc().weekday(p).format('dd'));for(var q,r=0;6>r;r+=1){q={dates:[]};for(var i=0;7>i;i+=1){var j=b.utc(h).add(7*r+i,'days'),s={utcDateValue:j.valueOf(),display:j.format('D'),active:j.format('YYYY-MMM-DD')===l,past:j.isBefore(d),future:j.isAfter(g)};q.dates.push(new f(s))}m.weeks.push(q)}return m},hour:function(a){for(var c=b.utc(a).startOf('day'),d=b.utc(c).startOf('month'),e=k(n.$modelValue,'YYYY-MM-DD H'),g={previousView:'day',currentView:'hour',nextView:'hour'===o.minView?'setTime':'minute',previousViewDate:new f({utcDateValue:d.valueOf(),display:c.format('ll')}),leftDate:new f({utcDateValue:b.utc(c).subtract(1,'days').valueOf()}),rightDate:new f({utcDateValue:b.utc(c).add(1,'days').valueOf()}),dates:[]},h=0;24>h;h+=1){var i=b.utc(c).add(h,'hours'),j={utcDateValue:i.valueOf(),display:i.format('LT'),active:i.format('YYYY-MM-DD H')===e};g.dates.push(new f(j))}return g},minute:function(a){for(var c=b.utc(a).startOf('hour'),d=b.utc(c).startOf('day'),e=k(n.$modelValue,'YYYY-MM-DD H:mm'),g={previousView:'hour',currentView:'minute',nextView:'setTime',previousViewDate:new f({utcDateValue:d.valueOf(),display:c.format('lll')}),leftDate:new f({utcDateValue:b.utc(c).subtract(1,'hours').valueOf()}),rightDate:new f({utcDateValue:b.utc(c).add(1,'hours').valueOf()}),dates:[]},h=60/o.minuteStep,j=0;j<h;j+=1){var i=b.utc(c).add(j*o.minuteStep,'minute'),l={utcDateValue:i.valueOf(),display:i.format('LT'),active:i.format('YYYY-MM-DD H:mm')===e};g.dates.push(new f(l))}return g},setTime:function(a){var c=new Date(a),d=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds());switch(o.modelType){case'Date':break;case'moment':d=b(d);break;case'milliseconds':d=a;break;default:d=b(d).format(o.modelType);}var f=n.$modelValue;return n.$setViewValue(d),o.dropdownSelector&&jQuery(o.dropdownSelector).dropdown('toggle'),e.onSetTime({newDate:d,oldDate:f}),p[o.startView](a)}}}function f(){var a=new Date,b=6e4*a.getTimezoneOffset();this.utcDateValue=a.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+b};var c=['utcDateValue','localDateValue','display','active','selectable','past','future'];for(var d in arguments[0])0<=c.indexOf(d)&&(this[d]=arguments[0][d])}return e.$inject=['$scope','$element','$attrs'],{bindToController:!1,controller:e,controllerAs:'dateTimePickerController',replace:!0,require:'ngModel',restrict:'E',scope:{beforeRender:'&',onSetTime:'&'},templateUrl:'templates/datetimepicker.html'}}function d(b){return{validate:function(c){var d=['configureOn','dropdownSelector','minuteStep','minView','modelType','parseFormat','renderOn','startView','screenReader'];for(var e in c)if(0>d.indexOf(e))throw'invalid option: '+e;var f=['minute','hour','day','month','year'];if(0>f.indexOf(c.startView))throw'invalid startView value: '+c.startView;if(0>f.indexOf(c.minView))throw'invalid minView value: '+c.minView;if(f.indexOf(c.minView)>f.indexOf(c.startView))throw'startView must be greater than minView';if(!a.isNumber(c.minuteStep))throw'minuteStep must be numeric';if(0>=c.minuteStep||60<=c.minuteStep)throw'minuteStep must be greater than zero and less than 60';if(null!==c.configureOn&&!a.isString(c.configureOn))throw'configureOn must be a string';if(null!==c.configureOn&&1>c.configureOn.length)throw'configureOn must not be an empty string';if(null!==c.renderOn&&!a.isString(c.renderOn))throw'renderOn must be a string';if(null!==c.renderOn&&1>c.renderOn.length)throw'renderOn must not be an empty string';if(null!==c.modelType&&!a.isString(c.modelType))throw'modelType must be a string';if(null!==c.modelType&&1>c.modelType.length)throw'modelType must not be an empty string';if('Date'!==c.modelType&&'moment'!==c.modelType&&'milliseconds'!==c.modelType&&(c.parseFormat=c.modelType),null!==c.dropdownSelector&&!a.isString(c.dropdownSelector))throw'dropdownSelector must be a string';null!==c.dropdownSelector&&('undefined'==typeof jQuery||'function'!=typeof jQuery().dropdown)&&(b.error('Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly.'),delete c.dropdownSelector)}}}a.module('ui.bootstrap.datetimepicker',[]).service('dateTimePickerConfig',function(){var c={bg:{previous:'\u043F\u0440\u0435\u0434\u0438\u0448\u043D\u0430',next:'\u0441\u043B\u0435\u0434\u0432\u0430\u0449\u0430'},ca:{previous:'anterior',next:'seg\xFCent'},da:{previous:'forrige',next:'n\xE6ste'},de:{previous:'vorige',next:'weiter'},"en-au":{previous:'previous',next:'next'},"en-gb":{previous:'previous',next:'next'},en:{previous:'previous',next:'next'},"es-us":{previous:'atr\xE1s',next:'siguiente'},es:{previous:'atr\xE1s',next:'siguiente'},fi:{previous:'edellinen',next:'seuraava'},fr:{previous:'pr\xE9c\xE9dent',next:'suivant'},hu:{previous:'el\u0151z\u0151',next:'k\xF6vetkez\u0151'},it:{previous:'precedente',next:'successivo'},ja:{previous:'\u524D\u3078',next:'\u6B21\u3078'},ml:{previous:'\u0D2E\u0D41\u0D7B\u0D2A\u0D41\u0D33\u0D4D\u0D33\u0D24\u0D4D',next:'\u0D05\u0D1F\u0D41\u0D24\u0D4D\u0D24\u0D24\u0D4D'},nl:{previous:'vorige',next:'volgende'},pl:{previous:'poprzednia',next:'nast\u0119pna'},"pt-br":{previous:'anteriores',next:'pr\xF3ximos'},pt:{previous:'anterior',next:'pr\xF3ximo'},ro:{previous:'anterior',next:'urm\u0103tor'},ru:{previous:'\u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0430\u044F',next:'\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0430\u044F'},sk:{previous:'predo\u0161l\xE1',next:'\u010Fal\u0161ia'},sv:{previous:'f\xF6reg\xE5ende',next:'n\xE4sta'},tr:{previous:'\xF6nceki',next:'sonraki'},uk:{previous:'\u043D\u0430\u0437\u0430\u0434',next:'\u0434\u0430\u043B\u0456'},"zh-cn":{previous:'\u4E0A\u4E00\u9875',next:'\u4E0B\u4E00\u9875'},"zh-tw":{previous:'\u4E0A\u4E00\u9801',next:'\u4E0B\u4E00\u9801'}}[b.locale().toLowerCase()];return a.extend({},{configureOn:null,dropdownSelector:null,minuteStep:5,minView:'minute',modelType:'Date',parseFormat:'YYYY-MM-DDTHH:mm:ss.SSSZZ',renderOn:null,startView:'day'},{screenReader:c})}).service('dateTimePickerValidator',d).directive('datetimepicker',c),c.$inject=['dateTimePickerConfig','dateTimePickerValidator'],d.$inject=['$log']});
(function(a){'use strict';'function'==typeof define&&define.amd?define(['angular','moment'],a):'object'==typeof exports?module.exports=a(require('angular'),require('moment')):a(window.angular,window.moment)})(function(a,b){'use strict';function c(c,d){function e(e,g,h){function j(a){var c=10*parseInt(b.utc(a).year()/10,10);return b.utc(a).year(c).startOf('year')}function k(a,b){return a?i(a).format(b):''}function i(c){return b(c,a.isString(c)?o.parseFormat:void 0)}function l(a){var b=new Date;if(a){var c=i(a);if(c.isValid())b=c.toDate();else throw'Invalid date: '+a}return b.getTime()-6e4*b.getTimezoneOffset()}function m(){var b={};h.datetimepickerConfig&&(b=e.$parent.$eval(h.datetimepickerConfig));var f=a.extend({},c,b);return d.validate(f),f}var n=g.controller('ngModel'),o=m();e.screenReader=o.screenReader,e.changeView=function(a,b,c){if(c&&(c.stopPropagation(),c.preventDefault()),a&&b.utcDateValue>-Infinity&&b.selectable&&p[a]){var d=p[a](b.utcDateValue),f=[];if(d.weeks)for(var g,h=0;h<d.weeks.length;h+=1){g=d.weeks[h];for(var i,k=0;k<g.dates.length;k+=1)i=g.dates[k],f.push(i)}e.beforeRender({$view:d.currentView,$dates:d.dates||f,$leftDate:d.leftDate,$upDate:d.previousViewDate,$rightDate:d.rightDate}),e.data=d}},n.$render=function(){e.changeView(o.startView,new f({utcDateValue:l(n.$viewValue)}))},o.configureOn&&e.$on(o.configureOn,function(){o=m(),e.screenReader=o.screenReader,n.$render()}),o.renderOn&&e.$on(o.renderOn,n.$render);var p={year:function(a){for(var c=b.utc(a).startOf('year'),d=10*parseInt(c.year()/10,10),e=b.utc(j(a)).subtract(1,'year').startOf('year'),g=k(n.$modelValue,'YYYY'),h={currentView:'year',nextView:'year'===o.minView?'setTime':'month',previousViewDate:new f({utcDateValue:null,display:d+'-'+(d+9)}),leftDate:new f({utcDateValue:b.utc(e).subtract(9,'year').valueOf()}),rightDate:new f({utcDateValue:b.utc(e).add(11,'year').valueOf()}),dates:[]},l=0;12>l;l+=1){var i=b.utc(e).add(l,'years'),m={utcDateValue:i.valueOf(),display:i.format('YYYY'),past:i.year()<d,future:i.year()>d+9,active:i.format('YYYY')===g};h.dates.push(new f(m))}return h},month:function(a){for(var c=b.utc(a).startOf('year'),d=j(a),e=k(n.$modelValue,'YYYY-MMM'),g={previousView:'year',currentView:'month',nextView:'month'===o.minView?'setTime':'day',previousViewDate:new f({utcDateValue:d.valueOf(),display:c.format('YYYY')}),leftDate:new f({utcDateValue:b.utc(c).subtract(1,'year').valueOf()}),rightDate:new f({utcDateValue:b.utc(c).add(1,'year').valueOf()}),dates:[]},h=0;12>h;h+=1){var i=b.utc(c).add(h,'months'),l={utcDateValue:i.valueOf(),display:i.format('MMM'),active:i.format('YYYY-MMM')===e};g.dates.push(new f(l))}return g},day:function(a){for(var c=b.utc(a),d=b.utc(c).startOf('month'),e=b.utc(c).startOf('year'),g=b.utc(c).endOf('month'),h=b.utc(d).subtract(Math.abs(d.weekday()),'days'),l=k(n.$modelValue,'YYYY-MMM-DD'),m={previousView:'month',currentView:'day',nextView:'day'===o.minView?'setTime':'hour',previousViewDate:new f({utcDateValue:e.valueOf(),display:d.format('YYYY-MMM')}),leftDate:new f({utcDateValue:b.utc(d).subtract(1,'months').valueOf()}),rightDate:new f({utcDateValue:b.utc(d).add(1,'months').valueOf()}),dayNames:[],weeks:[]},p=0;7>p;p+=1)m.dayNames.push(b.utc().weekday(p).format('dd'));for(var q,r=0;6>r;r+=1){q={dates:[]};for(var i=0;7>i;i+=1){var j=b.utc(h).add(7*r+i,'days'),s={utcDateValue:j.valueOf(),display:j.format('D'),active:j.format('YYYY-MMM-DD')===l,past:j.isBefore(d),future:j.isAfter(g)};q.dates.push(new f(s))}m.weeks.push(q)}return m},hour:function(a){for(var c=b.utc(a).startOf('day'),d=b.utc(c).startOf('month'),e=k(n.$modelValue,'YYYY-MM-DD H'),g={previousView:'day',currentView:'hour',nextView:'hour'===o.minView?'setTime':'minute',previousViewDate:new f({utcDateValue:d.valueOf(),display:c.format('ll')}),leftDate:new f({utcDateValue:b.utc(c).subtract(1,'days').valueOf()}),rightDate:new f({utcDateValue:b.utc(c).add(1,'days').valueOf()}),dates:[]},h=0;24>h;h+=1){var i=b.utc(c).add(h,'hours'),j={utcDateValue:i.valueOf(),display:i.format('LT'),active:i.format('YYYY-MM-DD H')===e};g.dates.push(new f(j))}return g},minute:function(a){for(var c=b.utc(a).startOf('hour'),d=b.utc(c).startOf('day'),e=k(n.$modelValue,'YYYY-MM-DD H:mm'),g={previousView:'hour',currentView:'minute',nextView:'setTime',previousViewDate:new f({utcDateValue:d.valueOf(),display:c.format('lll')}),leftDate:new f({utcDateValue:b.utc(c).subtract(1,'hours').valueOf()}),rightDate:new f({utcDateValue:b.utc(c).add(1,'hours').valueOf()}),dates:[]},h=60/o.minuteStep,j=0;j<h;j+=1){var i=b.utc(c).add(j*o.minuteStep,'minute'),l={utcDateValue:i.valueOf(),display:i.format('LT'),active:i.format('YYYY-MM-DD H:mm')===e};g.dates.push(new f(l))}return g},setTime:function(a){var c=new Date(a),d=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds());switch(o.modelType){case'Date':break;case'moment':d=b(d);break;case'milliseconds':d=a;break;default:d=b(d).format(o.modelType);}var f=n.$modelValue;return n.$setViewValue(d),o.dropdownSelector&&jQuery(o.dropdownSelector).dropdown('toggle'),e.onSetTime({newDate:d,oldDate:f}),p[o.startView](a)}}}function f(){var a=new Date,b=6e4*a.getTimezoneOffset();this.utcDateValue=a.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+b};var c=['utcDateValue','localDateValue','display','active','selectable','past','future'];for(var d in arguments[0])0<=c.indexOf(d)&&(this[d]=arguments[0][d])}return e.$inject=['$scope','$element','$attrs'],{bindToController:!1,controller:e,controllerAs:'dateTimePickerController',replace:!0,require:'ngModel',restrict:'E',scope:{beforeRender:'&',onSetTime:'&'},templateUrl:'templates/datetimepicker.html'}}function d(b){return{validate:function(c){var d=['configureOn','dropdownSelector','minuteStep','minView','modelType','parseFormat','renderOn','startView','screenReader'];for(var e in c)if(0>d.indexOf(e))throw'invalid option: '+e;var f=['minute','hour','day','month','year'];if(0>f.indexOf(c.startView))throw'invalid startView value: '+c.startView;if(0>f.indexOf(c.minView))throw'invalid minView value: '+c.minView;if(f.indexOf(c.minView)>f.indexOf(c.startView))throw'startView must be greater than minView';if(!a.isNumber(c.minuteStep))throw'minuteStep must be numeric';if(0>=c.minuteStep||60<=c.minuteStep)throw'minuteStep must be greater than zero and less than 60';if(null!==c.configureOn&&!a.isString(c.configureOn))throw'configureOn must be a string';if(null!==c.configureOn&&1>c.configureOn.length)throw'configureOn must not be an empty string';if(null!==c.renderOn&&!a.isString(c.renderOn))throw'renderOn must be a string';if(null!==c.renderOn&&1>c.renderOn.length)throw'renderOn must not be an empty string';if(null!==c.modelType&&!a.isString(c.modelType))throw'modelType must be a string';if(null!==c.modelType&&1>c.modelType.length)throw'modelType must not be an empty string';if('Date'!==c.modelType&&'moment'!==c.modelType&&'milliseconds'!==c.modelType&&(c.parseFormat=c.modelType),null!==c.dropdownSelector&&!a.isString(c.dropdownSelector))throw'dropdownSelector must be a string';null!==c.dropdownSelector&&('undefined'==typeof jQuery||'function'!=typeof jQuery().dropdown)&&(b.error('Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly.'),delete c.dropdownSelector)}}}a.module('ui.bootstrap.datetimepicker',[]).service('dateTimePickerConfig',function(){var c={bg:{previous:'\u043F\u0440\u0435\u0434\u0438\u0448\u043D\u0430',next:'\u0441\u043B\u0435\u0434\u0432\u0430\u0449\u0430'},ca:{previous:'anterior',next:'seg\xFCent'},da:{previous:'forrige',next:'n\xE6ste'},de:{previous:'vorige',next:'weiter'},"en-au":{previous:'previous',next:'next'},"en-gb":{previous:'previous',next:'next'},en:{previous:'previous',next:'next'},"es-us":{previous:'atr\xE1s',next:'siguiente'},es:{previous:'atr\xE1s',next:'siguiente'},fi:{previous:'edellinen',next:'seuraava'},fr:{previous:'pr\xE9c\xE9dent',next:'suivant'},hu:{previous:'el\u0151z\u0151',next:'k\xF6vetkez\u0151'},it:{previous:'precedente',next:'successivo'},ja:{previous:'\u524D\u3078',next:'\u6B21\u3078'},ml:{previous:'\u0D2E\u0D41\u0D7B\u0D2A\u0D41\u0D33\u0D4D\u0D33\u0D24\u0D4D',next:'\u0D05\u0D1F\u0D41\u0D24\u0D4D\u0D24\u0D24\u0D4D'},nl:{previous:'vorige',next:'volgende'},pl:{previous:'poprzednia',next:'nast\u0119pna'},"pt-br":{previous:'anteriores',next:'pr\xF3ximos'},pt:{previous:'anterior',next:'pr\xF3ximo'},ro:{previous:'anterior',next:'urm\u0103tor'},ru:{previous:'\u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0430\u044F',next:'\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0430\u044F'},sk:{previous:'predo\u0161l\xE1',next:'\u010Fal\u0161ia'},sv:{previous:'f\xF6reg\xE5ende',next:'n\xE4sta'},tr:{previous:'\xF6nceki',next:'sonraki'},uk:{previous:'\u043D\u0430\u0437\u0430\u0434',next:'\u0434\u0430\u043B\u0456'},"zh-cn":{previous:'\u4E0A\u4E00\u9875',next:'\u4E0B\u4E00\u9875'},"zh-tw":{previous:'\u4E0A\u4E00\u9801',next:'\u4E0B\u4E00\u9801'}}[b.locale().toLowerCase()];return a.extend({},{configureOn:null,dropdownSelector:null,minuteStep:5,minView:'minute',modelType:'Date',parseFormat:'YYYY-MM-DDTHH:mm:ss.SSSZZ',renderOn:null,startView:'day'},{screenReader:c})}).service('dateTimePickerValidator',d).directive('datetimepicker',c),c.$inject=['dateTimePickerConfig','dateTimePickerValidator'],d.$inject=['$log']});
(function(){'use strict';angular.module('ui.bootstrap.datetimepicker').run(['$templateCache',function(a){a.put('templates/datetimepicker.html','<div class="datetimepicker table-responsive">\n    <table class="table table-condensed {{ data.currentView }}-view">\n        <thead>\n        <tr>\n            <th class="left" data-ng-click="changeView(data.currentView, data.leftDate, $event)" data-ng-show="data.leftDate.selectable"><i class="glyphicon glyphicon-arrow-left"><span class="sr-only">{{ screenReader.previous }}</span></i>\n            </th>\n            <th class="switch" colspan="5" data-ng-show="data.previousViewDate.selectable" data-ng-click="changeView(data.previousView, data.previousViewDate, $event)">{{ data.previousViewDate.display }}</th>\n            <th class="right" data-ng-click="changeView(data.currentView, data.rightDate, $event)" data-ng-show="data.rightDate.selectable"><i class="glyphicon glyphicon-arrow-right"><span class="sr-only">{{ screenReader.next }}</span></i>\n            </th>\n        </tr>\n        <tr>\n            <th class="dow" data-ng-repeat="day in data.dayNames">{{ day }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr data-ng-if="data.currentView !== \'day\'">\n            <td colspan="7">\n                          <span class="{{ data.currentView }}" data-ng-repeat="dateObject in data.dates" data-ng-class="{active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}" data-ng-click="changeView(data.nextView, dateObject, $event)">{{ dateObject.display }}</span></td>\n        </tr>\n        <tr data-ng-if="data.currentView === \'day\'" data-ng-repeat="week in data.weeks">\n            <td data-ng-repeat="dateObject in week.dates" data-ng-click="changeView(data.nextView, dateObject, $event)" class="day" data-ng-class="{active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}">{{ dateObject.display }}</td>\n        </tr>\n        </tbody>\n    </table>\n</div>')}])})();
var duScrollDefaultEasing=function(a){"use strict";var b=Math.pow;return .5>a?b(2*a,2)/2:1-b(2*(1-a),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(b,j,k,n,q,g,h,o){"use strict";var c=Math.round,e={},i=function(a){return"undefined"!=typeof HTMLDocument&&a instanceof HTMLDocument||a.nodeType&&a.nodeType===a.DOCUMENT_NODE},a=function(a){return"undefined"!=typeof HTMLElement&&a instanceof HTMLElement||a.nodeType&&a.nodeType===a.ELEMENT_NODE},p=function(b){return a(b)||i(b)?b:b[0]};e.duScrollTo=function(a,c,d){var e;if(angular.isElement(a)?e=this.duScrollToElement:angular.isDefined(d)&&(e=this.duScrollToAnimated),e)return e.apply(this,arguments);var f=p(this);return i(f)?b.scrollTo(a,c):(f.scrollLeft=a,void(f.scrollTop=c))};var r,f;e.duScrollToAnimated=function(b,e,l,m){l&&!m&&(m=q);var u=this.duScrollLeft(),a=this.duScrollTop(),s=c(b-u),w=c(e-a),x=null,z=0,g=this,v=function(a){(!a||z&&0<a.which)&&(o&&g.unbind(o,v),k(r),f.reject(),r=null)};if(r&&v(),f=j.defer(),0===l||!s&&!w)return 0===l&&g.duScrollTo(b,e),f.resolve(),f.promise;var h=function(b){var c=Math.ceil;null==x&&(x=b),z=b-x;var d=z>=l?1:m(z/l);g.scrollTo(u+c(s*d),a+c(w*d)),1>d?r=n(h):(o&&g.unbind(o,v),r=null,f.resolve())};return g.duScrollTo(u,a),o&&g.bind(o,v),r=n(h),f.promise},e.duScrollToElement=function(b,c,d,e){var f=p(this);(!angular.isNumber(c)||isNaN(c))&&(c=h);var g=this.duScrollTop()+p(b).getBoundingClientRect().top-c;return a(f)&&(g-=f.getBoundingClientRect().top),this.duScrollTo(0,g,d,e)},e.duScrollLeft=function(a,c,d){if(angular.isNumber(a))return this.duScrollTo(a,this.duScrollTop(),c,d);var e=p(this);return i(e)?b.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:e.scrollLeft},e.duScrollTop=function(a,c,d){if(angular.isNumber(a))return this.duScrollTo(this.duScrollLeft(),a,c,d);var e=p(this);return i(e)?b.scrollY||document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop},e.duScrollToElementAnimated=function(a,b,c,d){return this.duScrollToElement(a,b,c||g,d)},e.duScrollTopAnimated=function(a,b,c){return this.duScrollTop(a,b||g,c)},e.duScrollLeftAnimated=function(a,b,c){return this.duScrollLeft(a,b||g,c)},angular.forEach(e,function(a,b){angular.element.prototype[b]=a;var c=b.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[c])&&(angular.element.prototype[c]=a)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(a){"use strict";var b=["webkit","moz","o","ms"];return function(c,d){if(a[c])return a[c];for(var e,f=c.substr(0,1).toUpperCase()+c.substr(1),g=0;g<b.length;g++)if(e=b[g]+f,a[e])return a[e];return d}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(a,b){"use strict";var c=0;return a("requestAnimationFrame",function(a){var d=new Date().getTime(),e=Math.max(0,16-(d-c)),f=b(function(){a(d+e)},e);return c=d+e,f})}]).factory("cancelAnimation",["polyfill","$timeout",function(a,b){"use strict";return a("cancelAnimationFrame",function(a){b.cancel(a)})}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(b,e,h,j,k,n,l,q,c){"use strict";var i=Math.round,o=function(k){var f=!1,o=!1,a=function(){o=!1;var e,l=k.container,r=l[0],a=0;if("undefined"!=typeof HTMLElement&&r instanceof HTMLElement||r.nodeType&&r.nodeType===r.ELEMENT_NODE)a=r.getBoundingClientRect().top,e=i(r.scrollTop+r.clientHeight)>=r.scrollHeight;else{var d=j[0].body.scrollHeight||j[0].documentElement.scrollHeight;e=i(h.pageYOffset+h.innerHeight)>=d}var f,m,p,s,g,t,u=q&&e?"bottom":"top";for(s=k.spies,m=k.currentlyActive,p=void 0,f=0;f<s.length;f++)g=s[f],t=g.getTargetPosition(),t&&(q&&e||20>t.top+g.offset-a&&(n||-1*t.top+a)<t.height)&&(!p||p[u]<t[u])&&(p={spy:g},p[u]=t[u]);p&&(p=p.spy),m===p||n&&!p||(m&&(m.$element.removeClass(c),b.$broadcast("duScrollspy:becameInactive",m.$element,angular.element(m.getTargetElement()))),p&&(p.$element.addClass(c),b.$broadcast("duScrollspy:becameActive",p.$element,angular.element(p.getTargetElement()))),k.currentlyActive=p)};return l?function(){f?o=!0:(a(),f=e(function(){f=!1,o&&a()},l,!1))}:a},a={},r=function(b){var c=b.$id,d={spies:[]};return d.handler=o(d),a[c]=d,b.$on("$destroy",function(){s(b)}),c},s=function(b){var c=b.$id,d=a[c],e=d.container;e&&e.off("scroll",d.handler),delete a[c]},t=r(b),m=function(b){return a[b.$id]?a[b.$id]:b.$parent?m(b.$parent):a[t]},u=function(b){var c,d,e=b.$scope;if(e)return m(e);for(d in a)if(c=a[d],-1!==c.spies.indexOf(b))return c},v=function(a){for(;a.parentNode;)if(a=a.parentNode,a===document)return!0;return!1};return{addSpy:function(a){var b=u(a);b&&(b.spies.push(a),b.container&&v(b.container)||(b.container&&b.container.off("scroll",b.handler),b.container=k.getContainer(a.$scope),b.container.on("scroll",b.handler).triggerHandler("scroll")))},removeSpy:function(a){var c=u(a);a===c.currentlyActive&&(b.$broadcast("duScrollspy:becameInactive",c.currentlyActive.$element),c.currentlyActive=null);var d=c.spies.indexOf(a);-1!==d&&c.spies.splice(d,1),a.$element=null},createContext:r,destroyContext:s,getContextForScope:m}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(a){"use strict";var b={},c=function(a){return b[a.$id]?a.$id:a.$parent?c(a.$parent):void 0};return{getContainerId:c,getContainer:function(d){var e=c(d);return e?b[e]:a},setContainer:function(a,c){var d=a.$id;return b[d]=c,d},removeContainer:function(a){var d=c(a);d&&delete b[d]}}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(b,d,e){"use strict";return{link:function(f,a,g){a.on("click",function(h){if(g.href&&-1!==g.href.indexOf("#")||""!==g.duSmoothScroll){var j=g.href?g.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):g.duSmoothScroll,k=document.getElementById(j)||document.getElementsByName(j)[0];if(k&&k.getBoundingClientRect){h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault();var c=g.offset?parseInt(g.offset,10):d,i=g.duration?parseInt(g.duration,10):b,a=e.getContainer(f);a.duScrollToElement(angular.element(k),isNaN(c)?0:c,isNaN(i)?0:i)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(a){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(b){a.createContext(b)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(a){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(b,c,d){d.$observe("duScrollContainer",function(d){angular.isString(d)&&(d=document.getElementById(d)),d=angular.isElement(d)?angular.element(d):c,a.setContainer(b,d),b.$on("$destroy",function(){a.removeContainer(b)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(b,d,a,e){"use strict";var f=function(a,b,c,d){angular.isElement(a)?this.target=a:angular.isString(a)&&(this.targetId=a),this.$scope=b,this.$element=c,this.offset=d};return f.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},f.prototype.getTargetPosition=function(){var a=this.getTargetElement();return a?a.getBoundingClientRect():void 0},f.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(g,h,j){var c,i=j.ngHref||j.href;if(i&&-1!==i.indexOf("#")?c=i.replace(/.*(?=#[^\s]+$)/,"").substring(1):j.duScrollspy?c=j.duScrollspy:j.duSmoothScroll&&(c=j.duSmoothScroll),c){var k=a(function(){var i=new f(c,g,h,-(j.offset?parseInt(j.offset,10):d));b.addSpy(i),g.$on("$locationChangeSuccess",i.flushTargetCache.bind(i));var k=e.$on("$stateChangeSuccess",i.flushTargetCache.bind(i));g.$on("$destroy",function(){b.removeSpy(i),k()})},0,!1);g.$on("$destroy",function(){a.cancel(k)})}}}}]);
angular.module("google-signin",[]).provider("GoogleSignin",[function(){var c={};this.setClientId=function(a){return c.client_id=a,this},this.getClientId=function(){return c.client_id},this.setCookiePolicy=function(a){return c.cookie_policiy=a,this},this.getCookiePolicy=function(){return c.cookie_policiy},this.setFetchBasicProfile=function(a){return c.fetch_basic_profile=a,this},this.getFetchBasicProfile=function(){return c.fetch_basic_profile},this.setHostedDomain=function(a){return c.hosted_domain=a,this},this.getHostedDomain=function(){return c.hosted_domain},this.setOpenIDRealm=function(a){return c.openid_realm=a,this},this.getOpenIDRealm=function(){return c.openid_realm},c.scopes=["profile","email"],this.setScopes=function(a){return c.scopes=a,this},this.getScopes=function(){return c.scopes},this.init=function(a){angular.extend(c,a)},this.$get=["$rootScope","$q",function(h,i){function a(){f=gapi.auth2.init(c),f.currentUser.listen(function(b){h.$broadcast("ng-google-signin:currentUser",b),h.$apply()}),f.isSignedIn.listen(function(b){h.$broadcast("ng-google-signin:isSignedIn",b),h.$apply()})}function b(c){var a=i.defer();return c.then(a.resolve,a.reject),a.promise}var f,d=function(){};return d.prototype.signIn=function(c){return b(f.signIn(c))},d.prototype.signOut=function(){return b(f.signOut())},d.prototype.grantOfflineAccess=function(c){return b(f.grantOfflineAccess(c))},d.prototype.isSignedIn=function(){return f.isSignedIn.get()},d.prototype.getUser=function(){return f.currentUser.get()},d.prototype.getBasicProfile=function(){var c=this.getUser().getBasicProfile(),a=null;return c&&(a={id:c.getId(),name:c.getName(),image:c.getImageUrl(),email:c.getEmail()}),a},d.prototype.disconnect=function(){f.disconnect()},d.prototype._loadCallback=function(){gapi.load("auth2",a)},new d}]}]).run(["$window","GoogleSignin",function(e,a){e._startGoogleSignin=a._loadCallback;var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src="https://apis.google.com/js/client:platform.js?onload=_startGoogleSignin";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}]);
!function(){"use strict";function d(){this.defaults={scrollButtons:{enable:!0},axis:"yx"},$.mCustomScrollbar.defaults.scrollButtons=this.defaults.scrollButtons,$.mCustomScrollbar.defaults.axis=this.defaults.axis,this.$get=function(){return{defaults:this.defaults}}}function e(g,a,h,c){h.mCustomScrollbar("destroy");var d={};for(var e in c.ngScrollbarsConfig&&(d=c.ngScrollbarsConfig),g)g.hasOwnProperty(e)&&("scrollButtons"===e?d.hasOwnProperty(e)||(a.scrollButtons=g[e]):"axis"===e?d.hasOwnProperty(e)||(a.axis=g[e]):d.hasOwnProperty(e)||(d[e]=g[e]));h.mCustomScrollbar(d)}function a(b){return{scope:{ngScrollbarsConfig:"=?",ngScrollbarsUpdate:"=?",element:"=?"},link:function(h,c){h.elem=c;var d=b.defaults,f=$.mCustomScrollbar.defaults;h.ngScrollbarsUpdate=function(){c.mCustomScrollbar.apply(c,arguments)},h.$watch("ngScrollbarsConfig",function(b){void 0!==b&&e(d,f,c,h)}),e(d,f,c,h)}}}angular.module("ngScrollbars",[]).provider("ScrollBars",d).directive("ngScrollbars",a),d.$inject=[],a.$inject=["ScrollBars"]}();
(function(){function o(){return function(e){return e}}function e(){return function(){}}function l(e){return function(){return this[e]}}function s(a,t){if(a.$==J.Promise.P.wa)if(a.da){var n=a.da;if(n.Na){for(var o=0,e=null,r=null,l=n.Na;l&&(l.dc||(o++,l.Xa==a&&(e=l),!(e&&1<o)));l=l.next)e||(r=l);e&&(n.$==J.Promise.P.wa&&1==o?s(n,t):(r?(o=r,o.next==n.ob&&(n.ob=o),o.next=o.next.next):j(n),E(n,e,J.Promise.P.ka,t)))}a.da=null}else m(a,J.Promise.P.ka,t)}function i(e,a){e.Na||e.$!=J.Promise.P.Ja&&e.$!=J.Promise.P.ka||f(e),e.ob?e.ob.next=a:e.Na=a,e.ob=a}function g(a,t,n,o){var e=J.Promise.Lf(null,null,null);return e.Xa=new J.Promise(function(a,r){e.Tb=t?function(e){try{var n=t.call(o,e);a(n)}catch(e){r(e)}}:a,e.wb=n?function(e){try{var t=n.call(o,e);!J.R(t)&&e instanceof J.Promise.kb?r(e):a(t)}catch(e){r(e)}}:r}),e.Xa.da=a,i(a,e),e.Xa}function m(e,a,t){e.$==J.Promise.P.wa&&(e===t&&(a=J.Promise.P.ka,t=new TypeError("Promise cannot resolve to itself")),e.$=J.Promise.P.Jh,J.Promise.Ug(t,e.Dl,e.El,e)||(e.ia=t,e.$=a,e.da=null,f(e),a!=J.Promise.P.ka||t instanceof J.Promise.kb||J.Promise.Ii(e,t)))}function f(e){e.ld||(e.ld=!0,J.async.M(e.vj,e))}function j(e){var a=null;return e.Na&&(a=e.Na,e.Na=a.next,a.next=null),e.Na||(e.ob=null),a}function E(a,t,n,o){if(n==J.Promise.P.ka&&t.wb&&!t.dc)if(0<J.Promise.Wa)for(;a&&a.Oc;a=a.da)J.global.clearTimeout(a.Oc),a.Oc=0;else if(0==J.Promise.Wa)for(;a&&a.rc;a=a.da)a.rc=!1;if(t.Xa)t.Xa.da=null,J.Promise.xg(t,n,o);else try{t.dc?t.Tb.call(t.context):J.Promise.xg(t,n,o)}catch(e){J.Promise.sc.call(null,e)}J.Promise.Yk(t)}function h(e,a){if(J.Promise.Aa&&J.L(a.stack)){var t=a.stack.split("\n",4)[3];a=a.message,a+=Array(11-a.length).join(" "),e.ee.push(a+t)}}function d(a,t){if(J.Promise.Aa&&t&&J.L(t.stack)&&a.ee.length){for(var n=["Promise trace:"],o=a;o;o=o.da){for(var e=a.vf;0<=e;e--)n.push(o.ee[e]);n.push("Value: ["+(o.$==J.Promise.P.ka?"REJECTED":"FULFILLED")+"] <"+(o.ia+">"))}t.stack+="\n\n"+n.join("\n")}}function T(e,a,t){e.qb=!0,e.ia=t,e.ub=!a,H(e)}function c(e){if(e.qb){if(!e.be)throw new J.async.w.Wb(e);e.be=!1}}function P(e,a){J.async.w.Aa&&e.ed&&J.ha(a)&&a.stack&&/^[^\n]+(\n   [^\n]+)+/.test(a.stack)&&(a.stack=a.stack+"\nDEFERRED OPERATION:\n"+e.ed)}function S(e,a,t){return O(e,a,null,t)}function N(e,a){O(e,null,a,void 0)}function O(a,t,n,o){return a.Ic.push([t,n,o]),a.qb&&H(a),a}function R(e){return J.j.some(e.Ic,function(e){return J.ya(e[1])})}function H(a){a.Nc&&a.qb&&R(a)&&(J.async.w.Il(a.Nc),a.Nc=0),a.da&&(a.da.ec--,delete a.da);for(var n=a.ia,o=!1,r=!1;a.Ic.length&&!a.bd;){var e=a.Ic.shift(),c=e[0],s=e[1];if(e=e[2],c=a.ub?s:c)try{var i=c.call(e||a.wf,n);J.R(i)&&(a.ub=a.ub&&(i==n||i instanceof Error),a.ia=n=i),(J.Thenable.Dg(n)||typeof J.global.Promise==t&&n instanceof J.global.Promise)&&(r=!0,a.bd=!0)}catch(e){n=e,a.ub=!0,P(a,n),R(a)||(o=!0)}}a.ia=n,r?(r=J.bind(a.rf,a,!0),i=J.bind(a.rf,a,!1),n instanceof J.async.w?(O(n,r,i),n.Ti=!0):n.then(r,i)):J.async.w.vi&&n instanceof Error&&!(n instanceof J.async.w.jb)&&(o=a.ub=!0),o&&(a.Nc=J.async.w.kl(n))}var b,I=Math.ceil,F=Math.round,U=Math.sqrt,q=Math.PI,G=Math.abs,$=Math.max,Y=Math.floor,V=String.fromCharCode,W=Math.min,X=String.prototype,Z="\n//# sourceURL=",a="' of type ",k="<script type=\"text/javascript\" src=\"",n="SCRIPT",p="array",r="complete",t="function",u="google.charts.load",v="hasOwnProperty",w="number",x="object",y="pre-45",Q="propertyIsEnumerable",A="string",B="text/javascript",_="toLocaleString",D=D||{};D.scope={},D.Up=function(e,a,t){if(null==e)throw new TypeError("The 'this' value for String.prototype."+t+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+t+" must not be a regular expression");return e+""},D.Gh=!1,D.fm=!1,D.gm=!1,D.defineProperty=D.Gh||typeof Object.defineProperties==t?Object.defineProperty:function(e,a,t){e!=Array.prototype&&e!=Object.prototype&&(e[a]=t.value)},D.Ij=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},D.global=D.Ij(this),D.Sk=function(a){if(a){for(var t,n=D.global,o=["Promise"],r=0;r<o.length-1;r++)t=o[r],t in n||(n[t]={}),n=n[t];o=o[o.length-1],r=n[o],a=a(r),a!=r&&null!=a&&D.defineProperty(n,o,{configurable:!0,writable:!0,value:a})}},D.Fq=function(a,t,n){a instanceof String&&(a+="");for(var o,r=a.length,e=0;e<r;e++)if(o=a[e],t.call(n,o,e,a))return{Zj:e,Ll:o};return{Zj:-1,Ll:void 0}},D.yi="jscomp_symbol_",D.rg=function(){D.rg=e(),D.global.Symbol||(D.global.Symbol=D.Symbol)},D.Symbol=function(){var e=0;return function(a){return D.yi+(a||"")+e++}}(),D.Fd=function(){D.rg();var a=D.global.Symbol.iterator;a||(a=D.global.Symbol.iterator=D.global.Symbol("iterator")),typeof Array.prototype[a]!=t&&D.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return D.df(this)}}),D.Fd=e()},D.df=function(e){var a=0;return D.uk(function(){return a<e.length?{done:!1,value:e[a++]}:{done:!0}})},D.uk=function(e){return D.Fd(),e={next:e},e[D.global.Symbol.iterator]=function(){return this},e},D.Qg=function(e){D.Fd();var a=e[Symbol.iterator];return a?a.call(e):D.df(e)},D.Yh=!1,D.Sk(function(a){function n(e){this.$=l.wa,this.ia=void 0,this.Ub=[];var a=this.gd();try{e(a.resolve,a.reject)}catch(e){a.reject(e)}}function o(){this.Ma=null}function r(e){return e instanceof n?e:new n(function(a){a(e)})}if(a&&!D.Yh)return a;o.prototype.ef=function(e){null==this.Ma&&(this.Ma=[],this.Ni()),this.Ma.push(e)},o.prototype.Ni=function(){var e=this;this.ff(function(){e.uj()})};var e=D.global.setTimeout;o.prototype.ff=function(a){e(a,0)},o.prototype.uj=function(){for(;this.Ma&&this.Ma.length;){var e=this.Ma;this.Ma=[];for(var a,t=0;t<e.length;++t){a=e[t],delete e[t];try{a()}catch(e){this.Oi(e)}}}this.Ma=null},o.prototype.Oi=function(e){this.ff(function(){throw e})};var l={wa:0,Ja:1,ka:2};n.prototype.gd=function(){function e(n){return function(o){t||(t=!0,n.call(a,o))}}var a=this,t=!1;return{resolve:e(this.Xk),reject:e(this.Yd)}},n.prototype.Xk=function(e){if(e===this)this.Yd(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof n)this.pl(e);else{a:switch(typeof e){case x:var a=null!=e;break a;case t:a=!0;break a;default:a=!1;}a?this.Wk(e):this.If(e)}},n.prototype.Wk=function(e){var a;try{a=e.then}catch(e){return void this.Yd(e)}typeof a==t?this.ql(a,e):this.If(e)},n.prototype.Yd=function(e){this.mh(l.ka,e)},n.prototype.If=function(e){this.mh(l.Ja,e)},n.prototype.mh=function(e,a){if(this.$!=l.wa)throw Error("Cannot settle("+e+", "+a|"): Promise already settled in state"+this.$);this.$=e,this.ia=a,this.wj()},n.prototype.wj=function(){if(null!=this.Ub){for(var e=this.Ub,a=0;a<e.length;++a)e[a].call(),e[a]=null;this.Ub=null}};var s=new o;return n.prototype.pl=function(e){var a=this.gd();e.fc(a.resolve,a.reject)},n.prototype.ql=function(e,a){var t=this.gd();try{e.call(a,t.resolve,t.reject)}catch(e){t.reject(e)}},n.prototype.then=function(a,o){function r(a,n){return typeof a==t?function(t){try{e(a(t))}catch(e){l(e)}}:n}var e,l,c=new n(function(a,t){e=a,l=t});return this.fc(r(a,e),r(o,l)),c},n.prototype["catch"]=function(e){return this.then(void 0,e)},n.prototype.fc=function(a,t){function n(){switch(o.$){case l.Ja:a(o.ia);break;case l.ka:t(o.ia);break;default:throw Error("Unexpected state: "+o.$);}}var o=this;null==this.Ub?s.ef(n):this.Ub.push(function(){s.ef(n)})},n.resolve=r,n.reject=function(e){return new n(function(a,t){t(e)})},n.race=function(e){return new n(function(a,t){for(var n=D.Qg(e),o=n.next();!o.done;o=n.next())r(o.value).fc(a,t)})},n.all=function(e){var a=D.Qg(e),t=a.next();return t.done?r([]):new n(function(e,n){function o(a){return function(t){s[a]=t,i--,0==i&&e(s)}}var s=[],i=0;do s.push(void 0),i++,r(t.value).fc(o(s.length-1),n),t=a.next();while(!t.done)})},n});var J=J||{};J.global=this,J.R=function(e){return void 0!==e},J.L=function(e){return typeof e==A},J.ck=function(e){return"boolean"==typeof e},J.Rb=function(e){return typeof e==w},J.md=function(a,t,n){a=a.split("."),n=n||J.global,a[0]in n||!n.execScript||n.execScript("var "+a[0]);for(var o;a.length&&(o=a.shift());)!a.length&&J.R(t)?n[o]=t:n=n[o]&&n[o]!==Object.prototype[o]?n[o]:n[o]={}},J.define=function(e,a){J.md(e,a)},J.ea=!0,J.ba="en",J.$c=!0,J.wi=!1,J.Uh=!J.ea,J.De=!1,J.Es=function(e){if(J.Kd())throw Error("goog.provide can not be used within a goog.module.");J.qf(e)},J.qf=function(e,a){J.md(e,a)},J.Di=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,J.Td=function(e){if(!J.L(e)||!e||-1==e.search(J.Di))throw Error("Invalid module identifier");if(!J.Kd())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(J.na.Ud)throw Error("goog.module may only be called once per module.");J.na.Ud=e},J.Td.get=function(){return null},J.Td.$q=function(){return null},J.na=null,J.Kd=function(){return null!=J.na},J.Td.jd=function(){J.na.jd=!0},J.rt=function(e){if(J.Uh)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},J.Lq=e(),J.rb=function(e){e=e.split(".");for(var a=J.global,t=0;t<e.length;t++)if(a=a[e[t]],!J.cb(a))return null;return a},J.kr=function(e,a){for(var t in a=a||J.global,e)a[t]=e[t]},J.hp=function(a,t,n,o){if(J.Ae){var r;a=a.replace(/\\/g,"/");var l=J.la;o&&"boolean"!=typeof o||(o=o?{module:"goog"}:{});for(var c=0;r=t[c];c++)l.Sb[r]=a,l.Od[a]=o;for(o=0;t=n[o];o++)a in l.gb||(l.gb[a]={}),l.gb[a][t]=!0}},J.Ut=!1,J.Xm=!0,J.Ek=function(e){J.global.console&&J.global.console.error(e)},J.Qs=e(),J.La="",J.eb=e(),J.gp=function(){throw Error("unimplemented abstract method")},J.ip=function(e){e.Gd=void 0,e.Zq=function(){return e.Gd?e.Gd:(J.ea&&(J.wg[J.wg.length]=e),e.Gd=new e)}},J.wg=[],J.fi=!0,J.ti=J.ea,J.Ck={},J.Ae=!1,J.Ve="detect",J.zi="transpile.js",J.Ae&&(J.la={Od:{},Sb:{},gb:{},zh:{},je:{},pb:{}},J.qg=function(){var e=J.global.document;return null!=e&&"write"in e},J.xj=function(){if(J.R(J.global.ye)&&J.L(J.global.ye))J.La=J.global.ye;else if(J.qg()){var a=J.global.document,t=a.currentScript;for(a=t?[t]:a.getElementsByTagName(n),t=a.length-1;0<=t;--t){var o=a[t].src,r=o.lastIndexOf("?");if(r=-1==r?o.length:r,"base.js"==o.substr(r-7,7)){J.La=o.substr(0,r-7);break}}}},J.Ed=function(e,a){(J.global.zm||J.Tl)(e,a)&&(J.la.je[e]=!0)},J.di=!J.global.atob&&J.global.document&&J.global.document.all,J.$g=!1,J.ak=function(e,a,t){J.Ed("","goog.retrieveAndExec_(\""+e+"\", "+a+", "+t+");")},J.Wd=[],J.Yt=function(e,a){return J.fi&&J.R(J.global.JSON)?"goog.loadModule("+J.global.JSON.stringify(a+Z+e+"\n")+");":"goog.loadModule(function(exports) {\"use strict\";"+a+"\n;return exports});\n//# sourceURL="+e+"\n"},J.Ak=function(){var e=J.Wd.length;if(0<e){var a=J.Wd;J.Wd=[];for(var t=0;t<e;t++)J.Tg(a[t])}J.$g=!1},J.ks=function(e){J.Bg(e)&&J.Ji(e)&&J.Tg(J.La+J.zd(e))},J.Bg=function(e){var a=(e=J.zd(e))&&J.la.Od[e]||{},t=a.lang||"es3";return e&&("goog"==a.module||J.Xg(t))&&J.La+e in J.la.pb},J.Ji=function(e){if((e=J.zd(e))&&e in J.la.gb)for(var a in J.la.gb[e])if(!J.mk(a)&&!J.Bg(a))return!1;return!0},J.Tg=function(e){if(e in J.la.pb){var a=J.la.pb[e];delete J.la.pb[e],J.Tj(a)}},J.es=e(),J.Sl=function(e){J.global.document.write(k+e+"\"></script>")},J.Ki=function(e){var a=J.global.document,t=a.createElement("script");t.type=B,t.src=e,t.defer=!1,t.async=!1,a.head.appendChild(t)},J.Tl=function(e,a){if(J.qg()){var t=J.global.document;if(!J.De&&t.readyState==r){if(/\bdeps.js$/.test(e))return!1;throw Error("Cannot write \""+e+"\" after document load")}return void 0===a?J.di?(J.$g=!0,a=" onreadystatechange='goog.onScriptLoad_(this, "+ ++J.Pg+")' ",t.write(k+e+"\""+a+"></script>")):J.De?J.Ki(e):J.Sl(e):t.write("<script type=\"text/javascript\">"+J.Tk(a)+"</script>"),!0}return!1},J.Tk=function(e){return e.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},J.Xg=function(e){if("always"==J.Ve)return!0;if("never"==J.Ve)return!1;if(J.Dc||(J.Dc=J.ej()),e in J.Dc)return J.Dc[e];throw Error("Unknown language mode: "+e)},J.Dc=null,J.Pg=0,J.ys=function(e,a){return e.readyState==r&&J.Pg==a&&J.Ak(),!0},J.Zt=function(a){function t(a){if(!(a in e.je||a in e.zh)){if(e.zh[a]=!0,a in e.gb)for(var r in e.gb[a])if(!J.mk(r))if(r in e.Sb)t(e.Sb[r]);else throw Error("Undefined nameToPath for "+r);a in o||(o[a]=!0,n.push(a))}}var n=[],o={},e=J.la;for(t(a),a=0;a<n.length;a++){var r=n[a];J.la.je[r]=!0}var c=J.na;for(J.na=null,a=0;a<n.length;a++)if(r=n[a]){var s=e.Od[r]||{},l=J.Xg(s.lang||"es3");"goog"==s.module||l?J.ak(J.La+r,"goog"==s.module,l):J.Ed(J.La+r)}else throw J.na=c,Error("Undefined script input");J.na=c},J.zd=function(e){return e in J.la.Sb?J.la.Sb[e]:null},J.xj(),J.global.Am||J.Ed(J.La+"deps.js")),J.Cd=null,J.Jl=function(){if(null==J.Cd){try{var e=!eval("\"use strict\";let x = 1; function f() { return typeof x; };f() == \"number\";")}catch(a){e=!1}J.Cd=e}return J.Cd},J.Ql=function(e){return"(function(){"+e+"\n;})();\n"},J.ds=function(a){var t=J.na;try{if(J.na={Ud:void 0,jd:!1},J.ya(a))var n=a.call(void 0,{});else if(J.L(a))J.Jl()&&(a=J.Ql(a)),n=J.zk.call(void 0,a);else throw Error("Invalid module definition");var o=J.na.Ud;if(!J.L(o)||!o)throw Error("Invalid module name \""+o+"\"");J.na.jd?J.qf(o,n):J.ti&&Object.seal&&typeof n==x&&null!=n&&Object.seal(n),J.Ck[o]=n}finally{J.na=t}},J.zk=function(e){return eval(e),{}},J.rs=function(e){e=e.split("/");for(var a=0;a<e.length;)"."==e[a]?e.splice(a,1):a&&".."==e[a]&&e[a-1]&&".."!=e[a-1]?e.splice(--a,2):a++;return e.join("/")},J.xk=function(e){if(J.global.Ph)return J.global.Ph(e);try{var a=new J.global.XMLHttpRequest;return a.open("get",e,!1),a.send(),0==a.status||200==a.status?a.responseText:null}catch(e){return null}},J.Ss=e(),J.Lt=function(a,t){var n=J.global.$jscomp;n||(J.global.$jscomp=n={});var o=n.he;if(!o){var r=J.La+J.zi,l=J.xk(r);if(l){if(eval(l+Z+r),J.global.$gwtExport&&J.global.$gwtExport.$jscomp&&!J.global.$gwtExport.$jscomp.transpile)throw Error("The transpiler did not properly export the \"transpile\" method. $gwtExport: "+JSON.stringify(J.global.$gwtExport));J.global.$jscomp.he=J.global.$gwtExport.$jscomp.transpile,n=J.global.$jscomp,o=n.he}}if(!o){var s=" requires transpilation but no transpiler was found.";s+=" Please add \"//javascript/closure:transpiler\" as a data dependency to ensure it is included.",o=n.he=function(e,a){return J.Ek(a+s),e}}return o(a,t)},J.aa=function(e){var a=typeof e;if(a==x){if(e){if(e instanceof Array)return p;if(e instanceof Object)return a;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return x;if("[object Array]"==n||typeof e.length==w&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return p;if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return t}else return"null";}else if(a==t&&"undefined"==typeof e.call)return x;return a},J.Pr=function(e){return null===e},J.cb=function(e){return null!=e},J.isArray=function(e){return J.aa(e)==p},J.Nb=function(e){var a=J.aa(e);return a==p||a==x&&typeof e.length==w},J.Br=function(e){return J.ha(e)&&typeof e.getFullYear==t},J.ya=function(e){return J.aa(e)==t},J.ha=function(e){var a=typeof e;return a==x&&null!=e||a==t},J.kg=function(e){return e[J.Va]||(e[J.Va]=++J.Cl)},J.nr=function(e){return!!e[J.Va]},J.Uk=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(J.Va);try{delete e[J.Va]}catch(e){}},J.Va="closure_uid_"+(1E9*Math.random()>>>0),J.Cl=0,J.Yq=J.kg,J.Ms=J.Uk,J.aj=function(e){var a=J.aa(e);if(a==x||a==p){if(e.clone)return e.clone();for(var t in a=a==p?[]:{},e)a[t]=J.aj(e[t]);return a}return e},J.Si=function(e){return e.call.apply(e.bind,arguments)},J.Ri=function(a,t){if(!a)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,n),a.apply(t,e)}}return function(){return a.apply(t,arguments)}},J.bind=function(){return J.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?J.Si:J.Ri,J.bind.apply(null,arguments)},J.fb=function(e){var a=Array.prototype.slice.call(arguments,1);return function(){var t=a.slice();return t.push.apply(t,arguments),e.apply(this,t)}},J.ms=function(e,a){for(var t in a)e[t]=a[t]},J.now=J.$c&&Date.now||function(){return+new Date},J.Tj=function(e){if(J.global.execScript)J.global.execScript(e,"JavaScript");else if(J.global.eval){if(null==J.lc)if(J.global.eval("var _evalTest_ = 1;"),"undefined"!=typeof J.global._evalTest_){try{delete J.global._evalTest_}catch(a){}J.lc=!0}else J.lc=!1;if(J.lc)J.global.eval(e);else{var a=J.global.document,t=a.createElement(n);t.type=B,t.defer=!1,t.appendChild(a.createTextNode(e)),a.body.appendChild(t),a.body.removeChild(t)}}else throw Error("goog.globalEval not available")},J.lc=null,J.Wq=function(a,t){function n(e){return J.uf[e]||e}if("."==(a+"").charAt(0))throw Error("className passed in goog.getCssName must not start with \".\". You passed: "+a);var e=J.uf?"BY_WHOLE"==J.kj?n:function(e){e=e.split("-");for(var a=[],t=0;t<e.length;t++)a.push(n(e[t]));return a.join("-")}:o();return a=t?a+"-"+e(t):e(a),J.global.Oh?J.global.Oh(a):a},J.bt=function(e,a){J.uf=e,J.kj=a},J.ar=function(e,a){return a&&(e=e.replace(/\{\$([^}]+)}/g,function(t,n){return null!=a&&n in a?a[n]:t})),e},J.cr=o(),J.zf=function(e,a){J.md(e,a,void 0)},J.Eq=function(e,a,t){e[a]=t},J.ab=function(e,a){function t(){}t.prototype=a.prototype,e.Lc=a.prototype,e.prototype=new t,e.prototype.constructor=e,e.Qi=function(t,n){for(var o=Array(arguments.length-2),e=2;e<arguments.length;e++)o[e-2]=arguments[e];return a.prototype[n].apply(t,o)}},J.Qi=function(a,t){var n=arguments.callee.caller;if(J.wi||J.ea&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(n.Lc){for(var o=Array(arguments.length-1),r=1;r<arguments.length;r++)o[r-1]=arguments[r];return n.Lc.constructor.apply(a,o)}for(o=Array(arguments.length-2),r=2;r<arguments.length;r++)o[r-2]=arguments[r];r=!1;for(var l=a.constructor;l;l=l.Lc&&l.Lc.constructor)if(l.prototype[t]===n)r=!0;else if(r)return l.prototype[t].apply(a,o);if(a[t]===n)return a.constructor.prototype[t].apply(a,o);throw Error("goog.base called from a method of one name to a method of a different name")},J.scope=function(e){if(J.Kd())throw Error("goog.scope is not supported within a goog.module.");e.call(J.global)},J.oa=function(a,t){var n=t.constructor,o=t.ul;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=J.oa.fj(n,a),a&&J.ab(n,a),delete t.constructor,delete t.ul,J.oa.cf(n.prototype,t),null!=o&&(o instanceof Function?o(n):J.oa.cf(n,o)),n},J.oa.si=J.ea,J.oa.fj=function(a,t){function n(){var e=a.apply(this,arguments)||this;return e[J.Va]=e[J.Va],this.constructor===n&&o&&Object.seal instanceof Function&&Object.seal(e),e}if(!J.oa.si)return a;var o=!J.oa.qk(t);return n},J.oa.qk=function(e){return e&&e.prototype&&e.prototype[J.Bi]},J.oa.Me=["constructor",v,"isPrototypeOf",Q,_,"toString","valueOf"],J.oa.cf=function(a,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);for(var o=0;o<J.oa.Me.length;o++)n=J.oa.Me[o],Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])},J.Et=e(),J.Bi="goog_defineClass_legacy_unsealable",J.ej=function(){function a(e,a){o?n[e]=!0:a()?n[e]=!1:o=n[e]=!0}function t(e){try{return!!eval(e)}catch(e){return!1}}var n={es3:!1},o=!1,e=J.global.navigator&&J.global.navigator.userAgent?J.global.navigator.userAgent:"";return a("es5",function(){return t("[1,].length==1")}),a("es6",function(){var a=e.match(/Edge\/(\d+)(\.\d)*/i);return a&&15>+a[1]?!1:t("(()=>{\"use strict\";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()")}),a("es6-impl",function(){return!0}),a("es7",function(){return t("2 ** 2 == 4")}),a("es8",function(){return t("async () => 1, true")}),n},J.debug={},J.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,J.debug.Error);else{var a=Error().stack;a&&(this.stack=a)}e&&(this.message=e+"")},J.ab(J.debug.Error,Error),J.debug.Error.prototype.name="CustomError",J.a={},J.a.fa={Ia:1,hm:2,cc:3,wm:4,Zm:5,Ym:6,oo:7,Fm:8,Xc:9,Rm:10,Vh:11,bo:12},J.f={},J.f.Wc=!1,J.f.Xh=!1,J.f.Ye={Ke:"\xA0"},J.f.startsWith=function(e,a){return 0==e.lastIndexOf(a,0)},J.f.endsWith=function(e,a){var t=e.length-a.length;return 0<=t&&e.indexOf(a,t)==t},J.f.Zi=function(e){return 0==J.f.jf("tel:",e.substr(0,4))},J.f.Sp=function(e,a){return 0==J.f.jf(a,e.substr(e.length-a.length,a.length))},J.f.Tp=function(e,a){return e.toLowerCase()==a.toLowerCase()},J.f.wl=function(a){for(var t=a.split("%s"),n="",e=Array.prototype.slice.call(arguments,1);e.length&&1<t.length;)n+=t.shift()+e.shift();return n+t.join("%s")},J.f.Zp=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},J.f.Id=function(e){return /^[\s\xa0]*$/.test(e)},J.f.Er=function(e){return 0==e.length},J.f.Qb=J.f.Id,J.f.ek=function(e){return J.f.Id(J.f.Jk(e))},J.f.Dr=J.f.ek,J.f.zr=function(e){return!/[^\t\n\r ]/.test(e)},J.f.wr=function(e){return!/[^a-zA-Z]/.test(e)},J.f.Qr=function(e){return!/[^0-9]/.test(e)},J.f.xr=function(e){return!/[^a-zA-Z0-9]/.test(e)},J.f.Wr=function(e){return" "==e},J.f.Xr=function(e){return 1==e.length&&" "<=e&&"~">=e||"\x80"<=e&&"\uFFFD">=e},J.f.Ct=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},J.f.Yi=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},J.f.ts=function(e){return e.replace(/\xa0|\s/g," ")},J.f.ss=function(e){return e.replace(/\xa0|[ \t]+/g," ")},J.f.Yp=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},J.f.trim=J.$c&&X.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},J.f.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},J.f.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},J.f.jf=function(e,a){return e=(e+"").toLowerCase(),a=(a+"").toLowerCase(),e<a?-1:e==a?0:1},J.f.Zg=function(a,t,n){if(a==t)return 0;if(!a)return-1;if(!t)return 1;for(var o=a.toLowerCase().match(n),e=t.toLowerCase().match(n),r=W(o.length,e.length),s=0;s<r;s++){n=o[s];var i=e[s];if(n!=i)return a=parseInt(n,10),!isNaN(a)&&(t=parseInt(i,10),!isNaN(t)&&a-t)?a-t:n<i?-1:1}return o.length==e.length?a<t?-1:1:o.length-e.length},J.f.ur=function(e,a){return J.f.Zg(e,a,/\d+|\D+/g)},J.f.Aj=function(e,a){return J.f.Zg(e,a,/\d+|\.\d+|\D+/g)},J.f.ws=J.f.Aj,J.f.Tt=function(e){return encodeURIComponent(e+"")},J.f.St=function(e){return decodeURIComponent(e.replace(/\+/g," "))},J.f.Yg=function(e,a){return e.replace(/(\r\n|\r|\n)/g,a?"<br />":"<br>")},J.f.ta=function(e,a){if(a)e=e.replace(J.f.ke,"&amp;").replace(J.f.Je,"&lt;").replace(J.f.Ge,"&gt;").replace(J.f.Qe,"&quot;").replace(J.f.Te,"&#39;").replace(J.f.Le,"&#0;"),J.f.Wc&&(e=e.replace(J.f.Ee,"&#101;"));else{if(!J.f.Eh.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(J.f.ke,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(J.f.Je,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(J.f.Ge,"&gt;")),-1!=e.indexOf("\"")&&(e=e.replace(J.f.Qe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(J.f.Te,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(J.f.Le,"&#0;")),J.f.Wc&&-1!=e.indexOf("e")&&(e=e.replace(J.f.Ee,"&#101;"))}return e},J.f.ke=/&/g,J.f.Je=/</g,J.f.Ge=/>/g,J.f.Qe=/"/g,J.f.Te=/'/g,J.f.Le=/\x00/g,J.f.Ee=/e/g,J.f.Eh=J.f.Wc?/[\x00&<>"'e]/:/[\x00&<>"']/,J.f.vh=function(e){return J.f.contains(e,"&")?!J.f.Xh&&"document"in J.global?J.f.wh(e):J.f.Fl(e):e},J.f.Pt=function(e,a){return J.f.contains(e,"&")?J.f.wh(e,a):e},J.f.wh=function(a,t){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":"\""},o=t?t.createElement("div"):J.global.document.createElement("div");return a.replace(J.f.bi,function(e,a){var t=n[e];return t?t:("#"==a.charAt(0)&&(a=+("0"+a.substr(1)),isNaN(a)||(t=V(a))),t||(o.innerHTML=e+" ",t=o.firstChild.nodeValue.slice(0,-1)),n[e]=t)})},J.f.Fl=function(e){return e.replace(/&([^;]+);/g,function(e,a){return"amp"===a?"&":"lt"===a?"<":"gt"===a?">":"quot"===a?"\"":"#"!=a.charAt(0)||(a=+("0"+a.substr(1)),isNaN(a))?e:V(a)})},J.f.bi=/&([^;\s<&]+);?/g,J.f.Ol=function(e){return J.f.Yg(e.replace(/  /g," &#160;"),void 0)},J.f.Ds=function(e){return e.replace(/(^|[\n ]) /g,"$1"+J.f.Ye.Ke)},J.f.Dt=function(a,t){for(var n,o=t.length,r=0;r<o;r++)if(n=1==o?t:t.charAt(r),a.charAt(0)==n&&a.charAt(a.length-1)==n)return a.substring(1,a.length-1);return a},J.f.truncate=function(e,a,t){return t&&(e=J.f.vh(e)),e.length>a&&(e=e.substring(0,a-3)+"..."),t&&(e=J.f.ta(e)),e},J.f.Nt=function(a,t,n,o){return n&&(a=J.f.vh(a)),o&&a.length>t?(o>t&&(o=t),a=a.substring(0,t-o)+"..."+a.substring(a.length-o)):a.length>t&&(o=Y(t/2),a=a.substring(0,o+t%2)+"..."+a.substring(a.length-o)),n&&(a=J.f.ta(a)),a},J.f.de={" ":"\\0","":"\\b","":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\x0B",'"':"\\\"","\\":"\\\\","<":"<"},J.f.vc={"'":"\\'"},J.f.quote=function(a){a+="";for(var t=["\""],n=0;n<a.length;n++){var o=a.charAt(n),e=o.charCodeAt(0);t[n+1]=J.f.de[o]||(31<e&&127>e?o:J.f.xf(o))}return t.push("\""),t.join("")},J.f.Dq=function(e){for(var a=[],t=0;t<e.length;t++)a[t]=J.f.xf(e.charAt(t));return a.join("")},J.f.xf=function(e){if(e in J.f.vc)return J.f.vc[e];if(e in J.f.de)return J.f.vc[e]=J.f.de[e];var a=e.charCodeAt(0);if(31<a&&127>a)var t=e;else 256>a?(t="\\x",16>a||256<a)&&(t+="0"):(t="\\u",4096>a&&(t+="0")),t+=a.toString(16).toUpperCase();return J.f.vc[e]=t},J.f.contains=function(e,a){return-1!=e.indexOf(a)},J.f.kf=function(e,a){return J.f.contains(e.toLowerCase(),a.toLowerCase())},J.f.gq=function(e,a){return e&&a?e.split(a).length-1:0},J.f.yb=function(a,t,n){var o=a;return 0<=t&&t<a.length&&0<n&&(o=a.substr(0,t)+a.substr(t+n,a.length-t-n)),o},J.f.remove=function(e,a){return e.replace(a,"")},J.f.Js=function(e,a){return a=new RegExp(J.f.Xd(a),"g"),e.replace(a,"")},J.f.Ps=function(e,a,t){return a=new RegExp(J.f.Xd(a),"g"),e.replace(a,t.replace(/\$/g,"$$$$"))},J.f.Xd=function(e){return(e+"").replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},J.f.repeat=X.repeat?function(e,a){return e.repeat(a)}:function(e,a){return Array(a+1).join(e)},J.f.Bs=function(e,a,t){return e=J.R(t)?e.toFixed(t):e+"",t=e.indexOf("."),-1==t&&(t=e.length),J.f.repeat("0",$(0,a-t))+e},J.f.Jk=function(e){return null==e?"":e+""},J.f.Np=function(){return Array.prototype.join.call(arguments,"")},J.f.fr=function(){return Y(2147483648*Math.random()).toString(36)+G(Y(2147483648*Math.random())^J.now()).toString(36)},J.f.Eb=function(a,t){var n=0;a=J.f.trim(a+"").split("."),t=J.f.trim(t+"").split(".");for(var o=$(a.length,t.length),e=0;0==n&&e<o;e++){var r=a[e]||"",l=t[e]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==r[0].length&&0==l[0].length)break;n=J.f.dd(0==r[1].length?0:parseInt(r[1],10),0==l[1].length?0:parseInt(l[1],10))||J.f.dd(0==r[2].length,0==l[2].length)||J.f.dd(r[2],l[2]),r=r[3],l=l[3]}while(0==n)}return n},J.f.dd=function(e,a){return e<a?-1:e>a?1:0},J.f.or=function(e){for(var a=0,t=0;t<e.length;++t)a=31*a+e.charCodeAt(t)>>>0;return a},J.f.Gl=0|2147483648*Math.random(),J.f.pq=function(){return"goog_"+J.f.Gl++},J.f.Ht=function(e){var a=+e;return 0==a&&J.f.Id(e)?NaN:a},J.f.Jr=function(e){return /^[a-z]+([A-Z][a-z]*)*$/.test(e)},J.f.Yr=function(e){return /^([A-Z][a-z]*)+$/.test(e)},J.f.Gt=function(e){return(e+"").replace(/\-([a-z])/g,function(e,a){return a.toUpperCase()})},J.f.Jt=function(e){return(e+"").replace(/([A-Z])/g,"-$1").toLowerCase()},J.f.Kt=function(e,a){return a=J.L(a)?J.f.Xd(a):"\\s",e.replace(new RegExp("(^"+(a?"|["+a+"]+":"")+")([a-z])","g"),function(e,a,t){return a+t.toUpperCase()})},J.f.Rp=function(e){return(e.charAt(0)+"").toUpperCase()+(e.substr(1)+"").toLowerCase()},J.f.parseInt=function(e){return isFinite(e)&&(e+=""),J.L(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},J.f.xt=function(a,t,n){a=a.split(t);for(var o=[];0<n&&a.length;)o.push(a.shift()),n--;return a.length&&o.push(a.join(t)),o},J.f.as=function(a,t){if(t)typeof t==A&&(t=[t]);else return a;for(var n=-1,o=0;o<t.length;o++)if(""!=t[o]){var e=a.lastIndexOf(t[o]);e>n&&(n=e)}return-1==n?a:a.slice(n+1)},J.f.xq=function(a,t){var n=[],o=[];if(a==t)return 0;if(!a.length||!t.length)return $(a.length,t.length);for(var e=0;e<t.length+1;e++)n[e]=e;for(e=0;e<a.length;e++){o[0]=e+1;for(var r=0;r<t.length;r++)o[r+1]=W(o[r]+1,n[r+1]+1,n[r]+ +(a[e]!=t[r]));for(r=0;r<n.length;r++)n[r]=o[r]}return o[t.length]},J.m={},J.m.ja=J.ea,J.m.Xb=function(e,a){a.unshift(e),J.debug.Error.call(this,J.f.wl.apply(null,a)),a.shift()},J.ab(J.m.Xb,J.debug.Error),J.m.Xb.prototype.name="AssertionError",J.m.Sh=function(e){throw e},J.m.kd=J.m.Sh,J.m.xa=function(a,t,n,o){var e="Assertion failed";if(n){e+=": "+n;var r=o}else a&&(e+=": "+a,r=t);a=new J.m.Xb(""+e,r||[]),J.m.kd(a)},J.m.ft=function(e){J.m.ja&&(J.m.kd=e)},J.m.assert=function(e,a){return J.m.ja&&!e&&J.m.xa("",null,a,Array.prototype.slice.call(arguments,2)),e},J.m.ma=function(e){J.m.ja&&J.m.kd(new J.m.Xb("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},J.m.Ep=function(e,a){return J.m.ja&&!J.Rb(e)&&J.m.xa("Expected number but got %s: %s.",[J.aa(e),e],a,Array.prototype.slice.call(arguments,2)),e},J.m.Hp=function(e,a){return J.m.ja&&!J.L(e)&&J.m.xa("Expected string but got %s: %s.",[J.aa(e),e],a,Array.prototype.slice.call(arguments,2)),e},J.m.sp=function(e,a){return J.m.ja&&!J.ya(e)&&J.m.xa("Expected function but got %s: %s.",[J.aa(e),e],a,Array.prototype.slice.call(arguments,2)),e},J.m.Fp=function(e,a){return J.m.ja&&!J.ha(e)&&J.m.xa("Expected object but got %s: %s.",[J.aa(e),e],a,Array.prototype.slice.call(arguments,2)),e},J.m.op=function(e,a){return J.m.ja&&!J.isArray(e)&&J.m.xa("Expected array but got %s: %s.",[J.aa(e),e],a,Array.prototype.slice.call(arguments,2)),e},J.m.pp=function(e,a){return J.m.ja&&!J.ck(e)&&J.m.xa("Expected boolean but got %s: %s.",[J.aa(e),e],a,Array.prototype.slice.call(arguments,2)),e},J.m.qp=function(e,a){return!J.m.ja||J.ha(e)&&e.nodeType==J.a.fa.Ia||J.m.xa("Expected Element but got %s: %s.",[J.aa(e),e],a,Array.prototype.slice.call(arguments,2)),e},J.m.tp=function(e,a,t){return!J.m.ja||e instanceof a||J.m.xa("Expected instanceof %s but got %s.",[J.m.jg(a),J.m.jg(e)],t,Array.prototype.slice.call(arguments,3)),e},J.m.rp=function(e,a){return!J.m.ja||typeof e==w&&isFinite(e)||J.m.xa("Expected %s to be a finite number but it is not.",[e],a,Array.prototype.slice.call(arguments,2)),e},J.m.Gp=function(){for(var e in Object.prototype)J.m.ma(e+" should not be enumerable in Object.prototype.")},J.m.jg=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},J.f.Yo=e(),J.f.I=function(){this.Kc="",this.xi=J.f.I.We},J.f.I.prototype.ua=!0,J.f.I.prototype.ga=l("Kc"),J.f.I.prototype.toString=function(){return"Const{"+this.Kc+"}"},J.f.I.u=function(e){return e instanceof J.f.I&&e.constructor===J.f.I&&e.xi===J.f.I.We?e.Kc:(J.m.ma("expected object of type Const, got '"+e+"'"),"type_error:Const")},J.f.I.from=function(e){return J.f.I.jj(e)},J.f.I.We={},J.f.I.jj=function(e){var a=new J.f.I;return a.Kc=e,a},J.f.I.EMPTY=J.f.I.from(""),J.j={},J.Ca=J.$c,J.j.za=!1,J.j.Rk=function(e){return e[e.length-1]},J.j.$r=J.j.Rk,J.j.indexOf=J.Ca&&(J.j.za||Array.prototype.indexOf)?function(e,a,t){return Array.prototype.indexOf.call(e,a,t)}:function(e,a,t){if(t=null==t?0:0>t?$(0,e.length+t):t,J.L(e))return J.L(a)&&1==a.length?e.indexOf(a,t):-1;for(;t<e.length;t++)if(t in e&&e[t]===a)return t;return-1},J.j.lastIndexOf=J.Ca&&(J.j.za||Array.prototype.lastIndexOf)?function(e,a,t){return Array.prototype.lastIndexOf.call(e,a,null==t?e.length-1:t)}:function(e,a,t){if(t=null==t?e.length-1:t,0>t&&(t=$(0,e.length+t)),J.L(e))return J.L(a)&&1==a.length?e.lastIndexOf(a,t):-1;for(;0<=t;t--)if(t in e&&e[t]===a)return t;return-1},J.j.forEach=J.Ca&&(J.j.za||Array.prototype.forEach)?function(e,a,t){Array.prototype.forEach.call(e,a,t)}:function(a,t,n){for(var o=a.length,e=J.L(a)?a.split(""):a,r=0;r<o;r++)r in e&&t.call(n,e[r],r,a)},J.j.Gf=function(a,t){for(var n=J.L(a)?a.split(""):a,o=a.length-1;0<=o;--o)o in n&&t.call(void 0,n[o],o,a)},J.j.filter=J.Ca&&(J.j.za||Array.prototype.filter)?function(e,a,t){return Array.prototype.filter.call(e,a,t)}:function(a,t,n){for(var o=a.length,e=[],r=0,c=J.L(a)?a.split(""):a,s=0;s<o;s++)if(s in c){var l=c[s];t.call(n,l,s,a)&&(e[r++]=l)}return e},J.j.map=J.Ca&&(J.j.za||Array.prototype.map)?function(e,a,t){return Array.prototype.map.call(e,a,t)}:function(a,t,n){for(var o=a.length,e=Array(o),r=J.L(a)?a.split(""):a,l=0;l<o;l++)l in r&&(e[l]=t.call(n,r[l],l,a));return e},J.j.reduce=J.Ca&&(J.j.za||Array.prototype.reduce)?function(a,t,n,o){return o&&(t=J.bind(t,o)),Array.prototype.reduce.call(a,t,n)}:function(a,t,n,o){var e=n;return J.j.forEach(a,function(n,r){e=t.call(o,e,n,r,a)}),e},J.j.reduceRight=J.Ca&&(J.j.za||Array.prototype.reduceRight)?function(a,t,n,o){return o&&(t=J.bind(t,o)),Array.prototype.reduceRight.call(a,t,n)}:function(a,t,n,o){var e=n;return J.j.Gf(a,function(n,r){e=t.call(o,e,n,r,a)}),e},J.j.some=J.Ca&&(J.j.za||Array.prototype.some)?function(e,a,t){return Array.prototype.some.call(e,a,t)}:function(a,t,n){for(var o=a.length,e=J.L(a)?a.split(""):a,r=0;r<o;r++)if(r in e&&t.call(n,e[r],r,a))return!0;return!1},J.j.every=J.Ca&&(J.j.za||Array.prototype.every)?function(e,a,t){return Array.prototype.every.call(e,a,t)}:function(a,t,n){for(var o=a.length,e=J.L(a)?a.split(""):a,r=0;r<o;r++)if(r in e&&!t.call(n,e[r],r,a))return!1;return!0},J.j.count=function(a,t,n){var o=0;return J.j.forEach(a,function(e,a,r){t.call(n,e,a,r)&&++o},n),o},J.j.find=function(e,a,t){return a=J.j.findIndex(e,a,t),0>a?null:J.L(e)?e.charAt(a):e[a]},J.j.findIndex=function(a,t,n){for(var o=a.length,e=J.L(a)?a.split(""):a,r=0;r<o;r++)if(r in e&&t.call(n,e[r],r,a))return r;return-1},J.j.Gq=function(e,a,t){return a=J.j.yj(e,a,t),0>a?null:J.L(e)?e.charAt(a):e[a]},J.j.yj=function(a,t,n){for(var o=J.L(a)?a.split(""):a,e=a.length-1;0<=e;e--)if(e in o&&t.call(n,o[e],e,a))return e;return-1},J.j.contains=function(e,a){return 0<=J.j.indexOf(e,a)},J.j.Qb=function(e){return 0==e.length},J.j.clear=function(e){if(!J.isArray(e))for(var a=e.length-1;0<=a;a--)delete e[a];e.length=0},J.j.rr=function(e,a){J.j.contains(e,a)||e.push(a)},J.j.sg=function(e,a,t){J.j.splice(e,t,0,a)},J.j.tr=function(e,a,t){J.fb(J.j.splice,e,t,0).apply(null,a)},J.j.insertBefore=function(a,t,n){var o;2==arguments.length||0>(o=J.j.indexOf(a,n))?a.push(t):J.j.sg(a,t,o)},J.j.remove=function(e,a){a=J.j.indexOf(e,a);var t;return(t=0<=a)&&J.j.yb(e,a),t},J.j.Os=function(e,a){return a=J.j.lastIndexOf(e,a),!!(0<=a)&&(J.j.yb(e,a),!0)},J.j.yb=function(e,a){return 1==Array.prototype.splice.call(e,a,1).length},J.j.Ns=function(e,a,t){return a=J.j.findIndex(e,a,t),!!(0<=a)&&(J.j.yb(e,a),!0)},J.j.Ks=function(a,t,n){var o=0;return J.j.Gf(a,function(e,r){t.call(n,e,r,a)&&J.j.yb(a,r)&&o++}),o},J.j.concat=function(){return Array.prototype.concat.apply([],arguments)},J.j.join=function(){return Array.prototype.concat.apply([],arguments)},J.j.th=function(a){var t=a.length;if(0<t){for(var n=Array(t),o=0;o<t;o++)n[o]=a[o];return n}return[]},J.j.clone=J.j.th,J.j.extend=function(a){for(var t,e=1;e<arguments.length;e++)if(t=arguments[e],J.Nb(t)){var n=a.length||0,o=t.length||0;a.length=n+o;for(var r=0;r<o;r++)a[n+r]=t[r]}else a.push(t)},J.j.splice=function(e){return Array.prototype.splice.apply(e,J.j.slice(arguments,1))},J.j.slice=function(e,a,t){return 2>=arguments.length?Array.prototype.slice.call(e,a):Array.prototype.slice.call(e,a,t)},J.j.Ls=function(e,a,t){a=a||e,t=t||function(e){return J.ha(e)?"o"+J.kg(e):(typeof e).charAt(0)+e};for(var n={},o=0,r=0;r<e.length;){var c=e[r++],l=t(c);Object.prototype.hasOwnProperty.call(n,l)||(n[l]=!0,a[o++]=c)}a.length=o},J.j.gf=function(e,a,t){return J.j.hf(e,t||J.j.Pa,!1,a)},J.j.Kp=function(e,a,t){return J.j.hf(e,a,!0,void 0,t)},J.j.hf=function(a,t,n,o,e){for(var r,l=0,c=a.length;l<c;){var s=l+c>>1,i=n?t.call(e,a[s],s,a):t(o,a[s]);0<i?l=s+1:(c=s,r=!i)}return r?l:~l},J.j.sort=function(e,a){e.sort(a||J.j.Pa)},J.j.zt=function(a,t){for(var n=Array(a.length),o=0;o<a.length;o++)n[o]={index:o,value:a[o]};var r=t||J.j.Pa;for(J.j.sort(n,function(e,a){return r(e.value,a.value)||e.index-a.index}),o=0;o<a.length;o++)a[o]=n[o].value},J.j.sl=function(a,t,n){var o=n||J.j.Pa;J.j.sort(a,function(e,a){return o(t(e),t(a))})},J.j.wt=function(e,a,t){J.j.sl(e,function(e){return e[a]},t)},J.j.Vr=function(a,t,n){t=t||J.j.Pa;for(var o,r=1;r<a.length;r++)if(o=t(a[r-1],a[r]),0<o||0==o&&n)return!1;return!0},J.j.Ib=function(a,t,n){if(!J.Nb(a)||!J.Nb(t)||a.length!=t.length)return!1;var o=a.length;n=n||J.j.lj;for(var e=0;e<o;e++)if(!n(a[e],t[e]))return!1;return!0},J.j.$p=function(a,t,n){n=n||J.j.Pa;for(var o,r=W(a.length,t.length),e=0;e<r;e++)if(o=n(a[e],t[e]),0!=o)return o;return J.j.Pa(a.length,t.length)},J.j.Pa=function(e,a){return e>a?1:e<a?-1:0},J.j.vr=function(e,a){return-J.j.Pa(e,a)},J.j.lj=function(e,a){return e===a},J.j.Ip=function(e,a,t){return t=J.j.gf(e,a,t),!!(0>t)&&(J.j.sg(e,a,-(t+1)),!0)},J.j.Jp=function(e,a,t){return a=J.j.gf(e,a,t),!!(0<=a)&&J.j.yb(e,a)},J.j.Mp=function(a,t,n){for(var o={},e=0;e<a.length;e++){var r=a[e],l=t.call(n,r,e,a);J.R(l)&&(o[l]||(o[l]=[])).push(r)}return o},J.j.It=function(a,t,n){var o={};return J.j.forEach(a,function(e,r){o[t.call(n,e,r,a)]=e}),o},J.j.Gs=function(a,t,n){var o=[],e=0,r=a;if(n=n||1,void 0!==t&&(e=a,r=t),0>n*(r-e))return[];if(0<n)for(a=e;a<r;a+=n)o.push(a);else for(a=e;a>r;a+=n)o.push(a);return o},J.j.repeat=function(a,t){for(var n=[],o=0;o<t;o++)n[o]=a;return n},J.j.flatten=function(){for(var a,e=[],t=0;t<arguments.length;t++)if(a=arguments[t],J.isArray(a))for(var n=0;n<a.length;n+=8192)for(var o=J.j.flatten.apply(null,J.j.slice(a,n,n+8192)),r=0;r<o.length;r++)e.push(o[r]);else e.push(a);return e},J.j.rotate=function(e,a){return e.length&&(a%=e.length,0<a?Array.prototype.unshift.apply(e,e.splice(-a,a)):0>a&&Array.prototype.push.apply(e,e.splice(0,-a))),e},J.j.os=function(e,a,t){a=Array.prototype.splice.call(e,a,1),Array.prototype.splice.call(e,t,0,a[0])},J.j.$t=function(){if(!arguments.length)return[];for(var a=[],t=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<t&&(t=arguments[n].length);for(n=0;n<t;n++){for(var e=[],o=0;o<arguments.length;o++)e.push(arguments[o][n]);a.push(e)}return a},J.j.vt=function(a,t){t=t||Math.random;for(var n=a.length-1;0<n;n--){var o=Y(t()*(n+1)),e=a[n];a[n]=a[o],a[o]=e}},J.j.fq=function(e,a){var t=[];return J.j.forEach(a,function(a){t.push(e[a])}),t},J.j.bq=function(e,a,t){return J.j.concat.apply([],J.j.map(e,a,t))},J.h={},J.h.i={},J.h.i.Zh=!1,J.h.i.Ie=J.h.i.Zh||("ar"==J.ba.substring(0,2).toLowerCase()||"fa"==J.ba.substring(0,2).toLowerCase()||"he"==J.ba.substring(0,2).toLowerCase()||"iw"==J.ba.substring(0,2).toLowerCase()||"ps"==J.ba.substring(0,2).toLowerCase()||"sd"==J.ba.substring(0,2).toLowerCase()||"ug"==J.ba.substring(0,2).toLowerCase()||"ur"==J.ba.substring(0,2).toLowerCase()||"yi"==J.ba.substring(0,2).toLowerCase())&&(2==J.ba.length||"-"==J.ba.substring(2,3)||"_"==J.ba.substring(2,3))||3<=J.ba.length&&"ckb"==J.ba.substring(0,3).toLowerCase()&&(3==J.ba.length||"-"==J.ba.substring(3,4)||"_"==J.ba.substring(3,4)),J.h.i.mb={gi:"\u202A",ji:"\u202B",Oe:"\u202C",hi:"\u200E",ki:"\u200F"},J.h.i.O={Ta:1,Ua:-1,qa:0},J.h.i.bc="right",J.h.i.$b="left",J.h.i.yn=J.h.i.Ie?J.h.i.$b:J.h.i.bc,J.h.i.xn=J.h.i.Ie?J.h.i.bc:J.h.i.$b,J.h.i.Al=function(e){return typeof e==w?0<e?J.h.i.O.Ta:0>e?J.h.i.O.Ua:J.h.i.O.qa:null==e?null:e?J.h.i.O.Ua:J.h.i.O.Ta},J.h.i.vb="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",J.h.i.zb="\u0591-\u06EF\u06FA-\u07FF\u200F\uFB1D-\uFDFF\uFE70-\uFEFC",J.h.i.Yj=/<[^>]*>|&[^;]+;/g,J.h.i.Sa=function(e,a){return a?e.replace(J.h.i.Yj,""):e},J.h.i.$k=new RegExp("["+J.h.i.zb+"]"),J.h.i.Fk=new RegExp("["+J.h.i.vb+"]"),J.h.i.Bd=function(e,a){return J.h.i.$k.test(J.h.i.Sa(e,a))},J.h.i.mr=J.h.i.Bd,J.h.i.og=function(e){return J.h.i.Fk.test(J.h.i.Sa(e,void 0))},J.h.i.Ik=new RegExp("^["+J.h.i.vb+"]"),J.h.i.el=new RegExp("^["+J.h.i.zb+"]"),J.h.i.nk=function(e){return J.h.i.el.test(e)},J.h.i.jk=function(e){return J.h.i.Ik.test(e)},J.h.i.Nr=function(e){return!J.h.i.jk(e)&&!J.h.i.nk(e)},J.h.i.Gk=new RegExp("^[^"+J.h.i.zb+"]*["+J.h.i.vb+"]"),J.h.i.bl=new RegExp("^[^"+J.h.i.vb+"]*["+J.h.i.zb+"]"),J.h.i.nh=function(e,a){return J.h.i.bl.test(J.h.i.Sa(e,a))},J.h.i.Tr=J.h.i.nh,J.h.i.tl=function(e,a){return J.h.i.Gk.test(J.h.i.Sa(e,a))},J.h.i.Lr=J.h.i.tl,J.h.i.Jg=/^http:\/\/.*/,J.h.i.Or=function(e,a){return e=J.h.i.Sa(e,a),J.h.i.Jg.test(e)||!J.h.i.og(e)&&!J.h.i.Bd(e)},J.h.i.Hk=new RegExp("["+J.h.i.vb+"][^"+J.h.i.zb+"]*$"),J.h.i.cl=new RegExp("["+J.h.i.zb+"][^"+J.h.i.vb+"]*$"),J.h.i.rj=function(e,a){return J.h.i.Hk.test(J.h.i.Sa(e,a))},J.h.i.Kr=J.h.i.rj,J.h.i.sj=function(e,a){return J.h.i.cl.test(J.h.i.Sa(e,a))},J.h.i.Rr=J.h.i.sj,J.h.i.dl=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,J.h.i.Sr=function(e){return J.h.i.dl.test(e)},J.h.i.Ui=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,J.h.i.lr=function(e,a){return a=(void 0===a?J.h.i.Bd(e):a)?J.h.i.mb.ki:J.h.i.mb.hi,e.replace(J.h.i.Ui,a+"$&"+a)},J.h.i.Aq=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},J.h.i.Bq=function(e){return J.h.i.mb.ji+e+J.h.i.mb.Oe},J.h.i.yq=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},J.h.i.zq=function(e){return J.h.i.mb.gi+e+J.h.i.mb.Oe},J.h.i.pj=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,J.h.i.vk=/left/gi,J.h.i.Zk=/right/gi,J.h.i.yl=/%%%%/g,J.h.i.ls=function(e){return e.replace(J.h.i.pj,":$1 $4 $3 $2").replace(J.h.i.vk,"%%%%").replace(J.h.i.Zk,J.h.i.$b).replace(J.h.i.yl,J.h.i.bc)},J.h.i.qj=/([\u0591-\u05f2])"/g,J.h.i.rl=/([\u0591-\u05f2])'/g,J.h.i.qs=function(e){return e.replace(J.h.i.qj,"$1\u05F4").replace(J.h.i.rl,"$1\u05F3")},J.h.i.Pl=/\s+/,J.h.i.Xj=/[\d\u06f0-\u06f9]/,J.h.i.al=.4,J.h.i.yf=function(a,t){var n=0,o=0,e=!1;for(a=J.h.i.Sa(a,t).split(J.h.i.Pl),t=0;t<a.length;t++){var r=a[t];J.h.i.nh(r)?(n++,o++):J.h.i.Jg.test(r)?e=!0:J.h.i.og(r)?o++:J.h.i.Xj.test(r)&&(e=!0)}return 0==o?e?J.h.i.O.Ta:J.h.i.O.qa:n/o>J.h.i.al?J.h.i.O.Ua:J.h.i.O.Ta},J.h.i.tq=function(e,a){return J.h.i.yf(e,a)==J.h.i.O.Ua},J.h.i.ct=function(e,a){e&&(a=J.h.i.Al(a))&&(e.style.textAlign=a==J.h.i.O.Ua?J.h.i.bc:J.h.i.$b,e.dir=a==J.h.i.O.Ua?"rtl":"ltr")},J.h.i.dt=function(e,a){switch(J.h.i.yf(a)){case J.h.i.O.Ta:e.dir="ltr";break;case J.h.i.O.Ua:e.dir="rtl";break;default:e.removeAttribute("dir");}},J.h.i.Tm=e(),J.b={},J.b.C=function(){this.Bc="",this.Ai=J.b.C.ca},J.b.C.prototype.ua=!0,J.b.C.prototype.ga=l("Bc"),J.b.C.prototype.Dd=!0,J.b.C.prototype.$a=function(){return J.h.i.O.Ta},J.ea&&(J.b.C.prototype.toString=function(){return"TrustedResourceUrl{"+this.Bc+"}"}),J.b.C.u=function(e){return e instanceof J.b.C&&e.constructor===J.b.C&&e.Ai===J.b.C.ca?e.Bc:(J.m.ma("expected object of type TrustedResourceUrl, got '"+e+a+J.aa(e)),"type_error:TrustedResourceUrl")},J.b.C.format=function(e,a){return e=J.b.C.Hf(e,a),J.b.C.Hb(e)},J.b.C.Hf=function(e,a){var t=J.f.I.u(e);if(!J.b.C.Ih.test(t))throw Error("Invalid TrustedResourceUrl format: "+t);return t.replace(J.b.C.$h,function(e,n){if(!Object.prototype.hasOwnProperty.call(a,n))throw Error("Found marker, \""+n+"\", in format string, \""+t+"\", but no valid label mapping found in args: "+JSON.stringify(a));return e=a[n],e instanceof J.f.I?J.f.I.u(e):encodeURIComponent(e+"")})},J.b.C.$h=/%{(\w+)}/g,J.b.C.Ih=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i,J.b.C.Kq=function(a,t,n){for(var o in a=J.b.C.Hf(a,t),t=/\?/.test(a)?"&":"?",n)for(var e=J.isArray(n[o])?n[o]:[n[o]],r=0;r<e.length;r++)null!=e[r]&&(a+=t+encodeURIComponent(o)+"="+encodeURIComponent(e[r]+""),t="&");return J.b.C.Hb(a)},J.b.C.mc=function(e){return J.b.C.Hb(J.f.I.u(e))},J.b.C.Nq=function(e){for(var a="",t=0;t<e.length;t++)a+=J.f.I.u(e[t]);return J.b.C.Hb(a)},J.b.C.ca={},J.b.C.Hb=function(e){var a=new J.b.C;return a.Bc=e,a},J.async={},J.async.Zb=function(e,a,t){this.wk=t,this.ij=e,this.Vk=a,this.xc=0,this.tc=null},J.async.Zb.prototype.get=function(){if(0<this.xc){this.xc--;var e=this.tc;this.tc=e.next,e.next=null}else e=this.ij();return e},J.async.Zb.prototype.put=function(e){this.Vk(e),this.xc<this.wk&&(this.xc++,e.next=this.tc,this.tc=e)},J.debug.Z={},J.debug.$m=e(),J.debug.Z.xb=[],J.debug.Z.Vd=[],J.debug.Z.Wg=!1,J.debug.Z.register=function(e){if(J.debug.Z.xb[J.debug.Z.xb.length]=e,J.debug.Z.Wg)for(var a=J.debug.Z.Vd,t=0;t<a.length;t++)e(J.bind(a[t].Rl,a[t]))},J.debug.Z.ns=function(e){J.debug.Z.Wg=!0;for(var a=J.bind(e.Rl,e),t=0;t<J.debug.Z.xb.length;t++)J.debug.Z.xb[t](a);J.debug.Z.Vd.push(e)},J.debug.Z.Rt=function(e){var a=J.debug.Z.Vd;e=J.bind(e.u,e);for(var t=0;t<J.debug.Z.xb.length;t++)J.debug.Z.xb[t](e);a.length--},J.a.vn=e(),J.a.c=function(e){this.xl=e},J.a.c.prototype.toString=l("xl"),J.a.c.Ul=new J.a.c("A"),J.a.c.Vl=new J.a.c("ABBR"),J.a.c.Xl=new J.a.c("ACRONYM"),J.a.c.Yl=new J.a.c("ADDRESS"),J.a.c.bm=new J.a.c("APPLET"),J.a.c.cm=new J.a.c("AREA"),J.a.c.dm=new J.a.c("ARTICLE"),J.a.c.em=new J.a.c("ASIDE"),J.a.c.im=new J.a.c("AUDIO"),J.a.c.jm=new J.a.c("B"),J.a.c.km=new J.a.c("BASE"),J.a.c.lm=new J.a.c("BASEFONT"),J.a.c.mm=new J.a.c("BDI"),J.a.c.nm=new J.a.c("BDO"),J.a.c.qm=new J.a.c("BIG"),J.a.c.rm=new J.a.c("BLOCKQUOTE"),J.a.c.sm=new J.a.c("BODY"),J.a.c.we=new J.a.c("BR"),J.a.c.tm=new J.a.c("BUTTON"),J.a.c.um=new J.a.c("CANVAS"),J.a.c.vm=new J.a.c("CAPTION"),J.a.c.xm=new J.a.c("CENTER"),J.a.c.ym=new J.a.c("CITE"),J.a.c.Bm=new J.a.c("CODE"),J.a.c.Cm=new J.a.c("COL"),J.a.c.Dm=new J.a.c("COLGROUP"),J.a.c.Em=new J.a.c("COMMAND"),J.a.c.Gm=new J.a.c("DATA"),J.a.c.Hm=new J.a.c("DATALIST"),J.a.c.Im=new J.a.c("DD"),J.a.c.Jm=new J.a.c("DEL"),J.a.c.Km=new J.a.c("DETAILS"),J.a.c.Lm=new J.a.c("DFN"),J.a.c.Mm=new J.a.c("DIALOG"),J.a.c.Nm=new J.a.c("DIR"),J.a.c.Om=new J.a.c("DIV"),J.a.c.Pm=new J.a.c("DL"),J.a.c.Sm=new J.a.c("DT"),J.a.c.Vm=new J.a.c("EM"),J.a.c.Wm=new J.a.c("EMBED"),J.a.c.bn=new J.a.c("FIELDSET"),J.a.c.cn=new J.a.c("FIGCAPTION"),J.a.c.dn=new J.a.c("FIGURE"),J.a.c.en=new J.a.c("FONT"),J.a.c.fn=new J.a.c("FOOTER"),J.a.c.gn=new J.a.c("FORM"),J.a.c.hn=new J.a.c("FRAME"),J.a.c.jn=new J.a.c("FRAMESET"),J.a.c.kn=new J.a.c("H1"),J.a.c.ln=new J.a.c("H2"),J.a.c.mn=new J.a.c("H3"),J.a.c.nn=new J.a.c("H4"),J.a.c.on=new J.a.c("H5"),J.a.c.pn=new J.a.c("H6"),J.a.c.qn=new J.a.c("HEAD"),J.a.c.rn=new J.a.c("HEADER"),J.a.c.sn=new J.a.c("HGROUP"),J.a.c.tn=new J.a.c("HR"),J.a.c.un=new J.a.c("HTML"),J.a.c.wn=new J.a.c("I"),J.a.c.zn=new J.a.c("IFRAME"),J.a.c.An=new J.a.c("IMG"),J.a.c.Bn=new J.a.c("INPUT"),J.a.c.Cn=new J.a.c("INS"),J.a.c.Hn=new J.a.c("ISINDEX"),J.a.c.Jn=new J.a.c("KBD"),J.a.c.Kn=new J.a.c("KEYGEN"),J.a.c.Ln=new J.a.c("LABEL"),J.a.c.Nn=new J.a.c("LEGEND"),J.a.c.On=new J.a.c("LI"),J.a.c.Pn=new J.a.c("LINK"),J.a.c.Sn=new J.a.c("MAP"),J.a.c.Tn=new J.a.c("MARK"),J.a.c.Un=new J.a.c("MATH"),J.a.c.Vn=new J.a.c("MENU"),J.a.c.Wn=new J.a.c("META"),J.a.c.Xn=new J.a.c("METER"),J.a.c.Zn=new J.a.c("NAV"),J.a.c.$n=new J.a.c("NOFRAMES"),J.a.c.ao=new J.a.c("NOSCRIPT"),J.a.c.eo=new J.a.c("OBJECT"),J.a.c.fo=new J.a.c("OL"),J.a.c.ho=new J.a.c("OPTGROUP"),J.a.c.io=new J.a.c("OPTION"),J.a.c.jo=new J.a.c("OUTPUT"),J.a.c.ko=new J.a.c("P"),J.a.c.lo=new J.a.c("PARAM"),J.a.c.no=new J.a.c("PRE"),J.a.c.po=new J.a.c("PROGRESS"),J.a.c.Q=new J.a.c("Q"),J.a.c.qo=new J.a.c("RP"),J.a.c.ro=new J.a.c("RT"),J.a.c.so=new J.a.c("RUBY"),J.a.c.uo=new J.a.c("S"),J.a.c.wo=new J.a.c("SAMP"),J.a.c.xo=new J.a.c(n),J.a.c.yo=new J.a.c("SECTION"),J.a.c.zo=new J.a.c("SELECT"),J.a.c.Ao=new J.a.c("SMALL"),J.a.c.Bo=new J.a.c("SOURCE"),J.a.c.Co=new J.a.c("SPAN"),J.a.c.Do=new J.a.c("STRIKE"),J.a.c.Eo=new J.a.c("STRONG"),J.a.c.Fo=new J.a.c("STYLE"),J.a.c.Go=new J.a.c("SUB"),J.a.c.Ho=new J.a.c("SUMMARY"),J.a.c.Io=new J.a.c("SUP"),J.a.c.Jo=new J.a.c("SVG"),J.a.c.Ko=new J.a.c("TABLE"),J.a.c.Lo=new J.a.c("TBODY"),J.a.c.Mo=new J.a.c("TD"),J.a.c.No=new J.a.c("TEMPLATE"),J.a.c.Oo=new J.a.c("TEXTAREA"),J.a.c.Po=new J.a.c("TFOOT"),J.a.c.Qo=new J.a.c("TH"),J.a.c.Ro=new J.a.c("THEAD"),J.a.c.So=new J.a.c("TIME"),J.a.c.To=new J.a.c("TITLE"),J.a.c.Uo=new J.a.c("TR"),J.a.c.Vo=new J.a.c("TRACK"),J.a.c.Xo=new J.a.c("TT"),J.a.c.Zo=new J.a.c("U"),J.a.c.$o=new J.a.c("UL"),J.a.c.ap=new J.a.c("VAR"),J.a.c.bp=new J.a.c("VIDEO"),J.a.c.cp=new J.a.c("WBR"),J.J={},J.J.ic=function(e){return function(){return e}},J.J.an=J.J.ic(!1),J.J.Wo=J.J.ic(!0),J.J.co=J.J.ic(null),J.J.$j=o(),J.J.error=function(e){return function(){throw Error(e)}},J.J.ma=function(e){return function(){throw e}},J.J.lock=function(e,a){return a=a||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,a))}},J.J.vs=function(e){return function(){return arguments[e]}},J.J.Cs=function(e){var a=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,a),e.apply(this,t)}},J.J.Xt=function(e,a){return J.J.ll(e,J.J.ic(a))},J.J.Cq=function(e,a){return function(t){return a?e==t:e===t}},J.J.aq=function(){var a=arguments,t=a.length;return function(){var e;t&&(e=a[t-1].apply(this,arguments));for(var n=t-2;0<=n;n--)e=a[n].call(this,e);return e}},J.J.ll=function(){var e=arguments,a=e.length;return function(){for(var t,n=0;n<a;n++)t=e[n].apply(this,arguments);return t}},J.J.kp=function(){var e=arguments,a=e.length;return function(){for(var t=0;t<a;t++)if(!e[t].apply(this,arguments))return!1;return!0}},J.J.As=function(){var e=arguments,a=e.length;return function(){for(var t=0;t<a;t++)if(e[t].apply(this,arguments))return!0;return!1}},J.J.us=function(e){return function(){return!e.apply(this,arguments)}},J.J.create=function(a){function t(){}t.prototype=a.prototype;var n=new t;return a.apply(n,Array.prototype.slice.call(arguments,1)),n},J.J.Kh=!0,J.J.Op=function(e){var a,t=!1;return function(){return J.J.Kh?(t||(a=e(),t=!0),a):e()}},J.J.once=function(e){var a=e;return function(){if(a){var e=a;a=null,e()}}},J.J.rq=function(a,t,n){var o=0;return function(){J.global.clearTimeout(o);var e=arguments;o=J.global.setTimeout(function(){a.apply(n,e)},t)}},J.J.Ft=function(a,t,n){function o(){r=J.global.setTimeout(e,t),a.apply(n,s)}function e(){r=0,c&&(c=!1,o())}var r=0,c=!1,s=[];return function(){s=arguments,r?c=!0:o()}},J.J.Hs=function(a,t,n){function o(){e=0}var e=0;return function(){e||(e=J.global.setTimeout(o,t),a.apply(n,arguments))}},J.g={},J.g.userAgent={},J.g.userAgent.A={},J.g.userAgent.A.Xf=function(){var e=J.g.userAgent.A.Kj();return e&&(e=e.userAgent)?e:""},J.g.userAgent.A.Kj=function(){return J.global.navigator},J.g.userAgent.A.xh=J.g.userAgent.A.Xf(),J.g.userAgent.A.tt=function(e){J.g.userAgent.A.xh=e||J.g.userAgent.A.Xf()},J.g.userAgent.A.sb=function(){return J.g.userAgent.A.xh},J.g.userAgent.A.K=function(e){return J.f.contains(J.g.userAgent.A.sb(),e)},J.g.userAgent.A.Pk=function(){return J.f.kf(J.g.userAgent.A.sb(),"WebKit")},J.g.userAgent.A.Af=function(a){for(var t,e=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];t=e.exec(a);)n.push([t[1],t[2],t[3]||void 0]);return n},J.object={},J.object.is=function(e,a){return e===a?0!==e||1/e==1/a:e!==e&&a!==a},J.object.forEach=function(a,t,n){for(var o in a)t.call(n,a[o],o,a)},J.object.filter=function(a,t,n){var o,r={};for(o in a)t.call(n,a[o],o,a)&&(r[o]=a[o]);return r},J.object.map=function(a,t,n){var o,r={};for(o in a)r[o]=t.call(n,a[o],o,a);return r},J.object.some=function(a,t,n){for(var o in a)if(t.call(n,a[o],o,a))return!0;return!1},J.object.every=function(a,t,n){for(var o in a)if(!t.call(n,a[o],o,a))return!1;return!0},J.object.Vq=function(e){var a,t=0;for(a in e)t++;return t},J.object.Tq=function(e){for(var a in e)return a},J.object.Uq=function(e){for(var a in e)return e[a]},J.object.contains=function(e,a){return J.object.cj(e,a)},J.object.jr=function(a){var t,e=[],n=0;for(t in a)e[n++]=a[t];return e},J.object.Vf=function(a){var t,e=[],n=0;for(t in a)e[n++]=t;return e},J.object.ir=function(a,t){var n=J.Nb(t),o=n?t:arguments;for(n=n?0:1;n<o.length;n++){if(null==a)return;a=a[o[n]]}return a},J.object.bj=function(e,a){return null!==e&&a in e},J.object.cj=function(e,a){for(var t in e)if(e[t]==a)return!0;return!1},J.object.zj=function(a,t,n){for(var o in a)if(t.call(n,a[o],o,a))return o},J.object.Hq=function(e,a,t){return(a=J.object.zj(e,a,t))&&e[a]},J.object.Qb=function(e){for(var a in e)return!1;return!0},J.object.clear=function(e){for(var a in e)delete e[a]},J.object.remove=function(e,a){var t;return(t=a in e)&&delete e[a],t},J.object.add=function(e,a,t){if(null!==e&&a in e)throw Error("The object already contains the key \""+a+"\"");J.object.set(e,a,t)},J.object.get=function(e,a,t){return null!==e&&a in e?e[a]:t},J.object.set=function(e,a,t){e[a]=t},J.object.ht=function(e,a,t){return a in e?e[a]:e[a]=t},J.object.ut=function(e,a,t){return a in e?e[a]:(t=t(),e[a]=t)},J.object.Ib=function(e,a){for(var t in e)if(!(t in a)||e[t]!==a[t])return!1;for(t in a)if(!(t in e))return!1;return!0},J.object.clone=function(e){var a,t={};for(a in e)t[a]=e[a];return t},J.object.Hl=function(e){var a=J.aa(e);if(a==x||a==p){if(J.ya(e.clone))return e.clone();for(var t in a=a==p?[]:{},e)a[t]=J.object.Hl(e[t]);return a}return e},J.object.Mt=function(e){var a,t={};for(a in e)t[e[a]]=a;return t},J.object.Pe=["constructor",v,"isPrototypeOf",Q,_,"toString","valueOf"],J.object.extend=function(a){for(var t,n,e=1;e<arguments.length;e++){for(t in n=arguments[e],n)a[t]=n[t];for(var o=0;o<J.object.Pe.length;o++)t=J.object.Pe[o],Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}},J.object.create=function(){var a=arguments.length;if(1==a&&J.isArray(arguments[0]))return J.object.create.apply(null,arguments[0]);if(a%2)throw Error("Uneven number of arguments");for(var t={},n=0;n<a;n+=2)t[arguments[n]]=arguments[n+1];return t},J.object.gj=function(){var a=arguments.length;if(1==a&&J.isArray(arguments[0]))return J.object.gj.apply(null,arguments[0]);for(var t={},n=0;n<a;n++)t[arguments[n]]=!0;return t},J.object.iq=function(e){var a=e;return Object.isFrozen&&!Object.isFrozen(e)&&(a=Object.create(e),Object.freeze(a)),a},J.object.Gr=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},J.object.Sq=function(a,t,n){if(!a)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return J.object.Vf(a);for(var o={};a&&(a!==Object.prototype||t)&&(a!==Function.prototype||n);){for(var e=Object.getOwnPropertyNames(a),r=0;r<e.length;r++)o[e[r]]=!0;a=Object.getPrototypeOf(a)}return J.object.Vf(o)},J.g.userAgent.v={},J.g.userAgent.v.Rg=function(){return J.g.userAgent.A.K("Opera")},J.g.userAgent.v.Nk=function(){return J.g.userAgent.A.K("Trident")||J.g.userAgent.A.K("MSIE")},J.g.userAgent.v.Sd=function(){return J.g.userAgent.A.K("Edge")},J.g.userAgent.v.Mk=function(){return J.g.userAgent.A.K("Firefox")},J.g.userAgent.v.Sg=function(){return J.g.userAgent.A.K("Safari")&&!(J.g.userAgent.v.Qd()||J.g.userAgent.v.Rd()||J.g.userAgent.v.Rg()||J.g.userAgent.v.Sd()||J.g.userAgent.v.Kg()||J.g.userAgent.A.K("Android"))},J.g.userAgent.v.Rd=function(){return J.g.userAgent.A.K("Coast")},J.g.userAgent.v.Ok=function(){return(J.g.userAgent.A.K("iPad")||J.g.userAgent.A.K("iPhone"))&&!J.g.userAgent.v.Sg()&&!J.g.userAgent.v.Qd()&&!J.g.userAgent.v.Rd()&&J.g.userAgent.A.K("AppleWebKit")},J.g.userAgent.v.Qd=function(){return(J.g.userAgent.A.K("Chrome")||J.g.userAgent.A.K("CriOS"))&&!J.g.userAgent.v.Sd()},J.g.userAgent.v.Lk=function(){return J.g.userAgent.A.K("Android")&&!(J.g.userAgent.v.zg()||J.g.userAgent.v.fk()||J.g.userAgent.v.Nd()||J.g.userAgent.v.Kg())},J.g.userAgent.v.Nd=J.g.userAgent.v.Rg,J.g.userAgent.v.uc=J.g.userAgent.v.Nk,J.g.userAgent.v.Ra=J.g.userAgent.v.Sd,J.g.userAgent.v.fk=J.g.userAgent.v.Mk,J.g.userAgent.v.Ur=J.g.userAgent.v.Sg,J.g.userAgent.v.Ar=J.g.userAgent.v.Rd,J.g.userAgent.v.Ir=J.g.userAgent.v.Ok,J.g.userAgent.v.zg=J.g.userAgent.v.Qd,J.g.userAgent.v.yr=J.g.userAgent.v.Lk,J.g.userAgent.v.Kg=function(){return J.g.userAgent.A.K("Silk")},J.g.userAgent.v.Lb=function(){function a(e){return e=J.j.find(e,o),n[e]||""}var t=J.g.userAgent.A.sb();if(J.g.userAgent.v.uc())return J.g.userAgent.v.Jj(t);t=J.g.userAgent.A.Af(t);var n={};J.j.forEach(t,function(e){n[e[0]]=e[1]});var o=J.fb(J.object.bj,n);return J.g.userAgent.v.Nd()?a(["Version","Opera"]):J.g.userAgent.v.Ra()?a(["Edge"]):J.g.userAgent.v.zg()?a(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},J.g.userAgent.v.va=function(e){return 0<=J.f.Eb(J.g.userAgent.v.Lb(),e)},J.g.userAgent.v.Jj=function(e){var a=/rv: *([\d\.]*)/.exec(e);if(a&&a[1])return a[1];a="";var t=/MSIE +([\d\.]+)/.exec(e);if(t&&t[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"!=t[1])a=t[1];else if(e&&e[1])switch(e[1]){case"4.0":a="8.0";break;case"5.0":a="9.0";break;case"6.0":a="10.0";break;case"7.0":a="11.0";}else a="7.0";return a},J.g.userAgent.U={},J.g.userAgent.U.lk=function(){return J.g.userAgent.A.K("Presto")},J.g.userAgent.U.pk=function(){return J.g.userAgent.A.K("Trident")||J.g.userAgent.A.K("MSIE")},J.g.userAgent.U.Ra=function(){return J.g.userAgent.A.K("Edge")},J.g.userAgent.U.Mg=function(){return J.g.userAgent.A.Pk()&&!J.g.userAgent.U.Ra()},J.g.userAgent.U.gk=function(){return J.g.userAgent.A.K("Gecko")&&!J.g.userAgent.U.Mg()&&!J.g.userAgent.U.pk()&&!J.g.userAgent.U.Ra()},J.g.userAgent.U.Lb=function(){var e=J.g.userAgent.A.sb();if(e){e=J.g.userAgent.A.Af(e);var a=J.g.userAgent.U.Hj(e);if(a)return"Gecko"==a[0]?J.g.userAgent.U.Rj(e):a[1];e=e[0];var t;if(e&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},J.g.userAgent.U.Hj=function(e){if(!J.g.userAgent.U.Ra())return e[1];for(var a,t=0;t<e.length;t++)if(a=e[t],"Edge"==a[0])return a},J.g.userAgent.U.va=function(e){return 0<=J.f.Eb(J.g.userAgent.U.Lb(),e)},J.g.userAgent.U.Rj=function(e){return(e=J.j.find(e,function(e){return"Firefox"==e[0]}))&&e[1]||""},J.async.qh=function(e){J.global.setTimeout(function(){throw e},0)},J.async.pa=function(a,t,n){var o=a;t&&(o=J.bind(a,t)),o=J.async.pa.Ah(o),J.ya(J.global.setImmediate)&&(n||J.async.pa.Kl())?J.global.setImmediate(o):(J.async.pa.kh||(J.async.pa.kh=J.async.pa.Nj()),J.async.pa.kh(o))},J.async.pa.Kl=function(){return J.global.Window&&J.global.Window.prototype&&!J.g.userAgent.v.Ra()&&J.global.Window.prototype.setImmediate==J.global.setImmediate?!1:!0},J.async.pa.Nj=function(){var a=J.global.MessageChannel;if("undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!J.g.userAgent.U.lk()&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var t=a.contentWindow;a=t.document,a.open(),a.write(""),a.close();var n="callImmediate"+Math.random(),o="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;a=J.bind(function(e){("*"==o||e.origin==o)&&e.data==n&&this.port1.onmessage()},this),t.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,o)}}}),"undefined"!=typeof a&&!J.g.userAgent.v.uc()){var t=new a,o={},r=o;return t.port1.onmessage=function(){if(J.R(o.next)){o=o.next;var e=o.lf;o.lf=null,e()}},function(e){r.next={lf:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement(n)?function(e){var a=document.createElement(n);a.onreadystatechange=function(){a.onreadystatechange=null,a.parentNode.removeChild(a),a=null,e(),e=null},document.documentElement.appendChild(a)}:function(e){J.global.setTimeout(e,0)}},J.async.pa.Ah=J.J.$j,J.debug.Z.register(function(e){J.async.pa.Ah=e}),J.async.Ea=function(){this.Qc=this.Ab=null},J.async.Ea.Vc=100,J.async.Ea.Kb=new J.async.Zb(function(){return new J.async.ad},function(e){e.reset()},J.async.Ea.Vc),J.async.Ea.prototype.add=function(e,a){var t=J.async.Ea.Kb.get();t.set(e,a),this.Qc?this.Qc.next=t:this.Ab=t,this.Qc=t},J.async.Ea.prototype.remove=function(){var e=null;return this.Ab&&(e=this.Ab,this.Ab=this.Ab.next,this.Ab||(this.Qc=null),e.next=null),e},J.async.ad=function(){this.next=this.scope=this.od=null},J.async.ad.prototype.set=function(e,a){this.od=e,this.scope=a,this.next=null},J.async.ad.prototype.reset=function(){this.next=this.scope=this.od=null},J.async.M=function(e,a){J.async.M.Hc||J.async.M.bk(),J.async.M.Pc||(J.async.M.Hc(),J.async.M.Pc=!0),J.async.M.ie.add(e,a)},J.async.M.bk=function(){if(-1!=(J.global.Promise+"").indexOf("[native code]")){var e=J.global.Promise.resolve(void 0);J.async.M.Hc=function(){e.then(J.async.M.Cc)}}else J.async.M.Hc=function(){J.async.pa(J.async.M.Cc)}},J.async.M.Jq=function(e){J.async.M.Hc=function(){J.async.pa(J.async.M.Cc),e&&e(J.async.M.Cc)}},J.async.M.Pc=!1,J.async.M.ie=new J.async.Ea,J.ea&&(J.async.M.Rs=function(){J.async.M.Pc=!1,J.async.M.ie=new J.async.Ea}),J.async.M.Cc=function(){for(var e;e=J.async.M.ie.remove();){try{e.od.call(e.scope)}catch(e){J.async.qh(e)}J.async.Ea.Kb.put(e)}J.async.M.Pc=!1},J.a.m={},J.a.m.Cp=e(),J.a.m.up=e(),J.a.m.zp=e(),J.a.m.yp=e(),J.a.m.vp=e(),J.a.m.wp=e(),J.a.m.xp=e(),J.a.m.Ap=e(),J.a.m.Bp=e(),J.a.m.sq=function(e){return J.ha(e)?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):void 0===e?"undefined":null===e?"null":typeof e},J.a.m.qc=function(e){return(e=e&&e.ownerDocument)&&(e.defaultView||e.parentWindow)||J.global},J.g.userAgent.platform={},J.g.userAgent.platform.yg=function(){return J.g.userAgent.A.K("Android")},J.g.userAgent.platform.Hg=function(){return J.g.userAgent.A.K("iPod")},J.g.userAgent.platform.Gg=function(){return J.g.userAgent.A.K("iPhone")&&!J.g.userAgent.A.K("iPod")&&!J.g.userAgent.A.K("iPad")},J.g.userAgent.platform.Fg=function(){return J.g.userAgent.A.K("iPad")},J.g.userAgent.platform.Eg=function(){return J.g.userAgent.platform.Gg()||J.g.userAgent.platform.Fg()||J.g.userAgent.platform.Hg()},J.g.userAgent.platform.Ig=function(){return J.g.userAgent.A.K("Macintosh")},J.g.userAgent.platform.ik=function(){return J.g.userAgent.A.K("Linux")},J.g.userAgent.platform.Og=function(){return J.g.userAgent.A.K("Windows")},J.g.userAgent.platform.Ag=function(){return J.g.userAgent.A.K("CrOS")},J.g.userAgent.platform.Lb=function(){var e=J.g.userAgent.A.sb(),a="";return J.g.userAgent.platform.Og()?(a=/Windows (?:NT|Phone) ([0-9.]+)/,a=(e=a.exec(e))?e[1]:"0.0"):J.g.userAgent.platform.Eg()?(a=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,a=(e=a.exec(e))&&e[1].replace(/_/g,".")):J.g.userAgent.platform.Ig()?(a=/Mac OS X ([0-9_.]+)/,a=(e=a.exec(e))?e[1].replace(/_/g,"."):"10"):J.g.userAgent.platform.yg()?(a=/Android\s+([^\);]+)(\)|;)/,a=(e=a.exec(e))&&e[1]):J.g.userAgent.platform.Ag()&&(a=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,a=(e=a.exec(e))&&e[1]),a||""},J.g.userAgent.platform.va=function(e){return 0<=J.f.Eb(J.g.userAgent.platform.Lb(),e)},J.Ha={},J.Ha.object=function(e,a){return a},J.Ha.ce=function(e){return J.Ha.ce[" "](e),e},J.Ha.ce[" "]=J.eb,J.Ha.Pp=function(e,a){try{return J.Ha.ce(e[a]),!0}catch(e){}return!1},J.Ha.cache=function(a,t,n,o){return o=o?o(t):t,Object.prototype.hasOwnProperty.call(a,o)?a[o]:a[o]=n(t)},J.userAgent={},J.userAgent.oe=!1,J.userAgent.me=!1,J.userAgent.ne=!1,J.userAgent.te=!1,J.userAgent.Uc=!1,J.userAgent.re=!1,J.userAgent.Fh=!1,J.userAgent.Bb=J.userAgent.oe||J.userAgent.me||J.userAgent.ne||J.userAgent.Uc||J.userAgent.te||J.userAgent.re,J.userAgent.Qj=function(){return J.g.userAgent.A.sb()},J.userAgent.Yf=function(){return J.global.navigator||null},J.userAgent.Ne=J.userAgent.Bb?J.userAgent.re:J.g.userAgent.v.Nd(),J.userAgent.Y=J.userAgent.Bb?J.userAgent.oe:J.g.userAgent.v.uc(),J.userAgent.Ce=J.userAgent.Bb?J.userAgent.me:J.g.userAgent.U.Ra(),J.userAgent.Um=J.userAgent.Ce||J.userAgent.Y,J.userAgent.Yc=J.userAgent.Bb?J.userAgent.ne:J.g.userAgent.U.gk(),J.userAgent.Cb=J.userAgent.Bb?J.userAgent.te||J.userAgent.Uc:J.g.userAgent.U.Mg(),J.userAgent.kk=function(){return J.userAgent.Cb&&J.g.userAgent.A.K("Mobile")},J.userAgent.Yn=J.userAgent.Uc||J.userAgent.kk(),J.userAgent.vo=J.userAgent.Cb,J.userAgent.nj=function(){var e=J.userAgent.Yf();return e&&e.platform||""},J.userAgent.mo=J.userAgent.nj(),J.userAgent.qe=!1,J.userAgent.ue=!1,J.userAgent.pe=!1,J.userAgent.ve=!1,J.userAgent.le=!1,J.userAgent.Sc=!1,J.userAgent.Rc=!1,J.userAgent.Tc=!1,J.userAgent.Da=J.userAgent.qe||J.userAgent.ue||J.userAgent.pe||J.userAgent.ve||J.userAgent.le||J.userAgent.Sc||J.userAgent.Rc||J.userAgent.Tc,J.userAgent.Rn=J.userAgent.Da?J.userAgent.qe:J.g.userAgent.platform.Ig(),J.userAgent.ep=J.userAgent.Da?J.userAgent.ue:J.g.userAgent.platform.Og(),J.userAgent.hk=function(){return J.g.userAgent.platform.ik()||J.g.userAgent.platform.Ag()},J.userAgent.Qn=J.userAgent.Da?J.userAgent.pe:J.userAgent.hk(),J.userAgent.tk=function(){var e=J.userAgent.Yf();return!!e&&J.f.contains(e.appVersion||"","X11")},J.userAgent.fp=J.userAgent.Da?J.userAgent.ve:J.userAgent.tk(),J.userAgent.am=J.userAgent.Da?J.userAgent.le:J.g.userAgent.platform.yg(),J.userAgent.Fn=J.userAgent.Da?J.userAgent.Sc:J.g.userAgent.platform.Gg(),J.userAgent.En=J.userAgent.Da?J.userAgent.Rc:J.g.userAgent.platform.Fg(),J.userAgent.Gn=J.userAgent.Da?J.userAgent.Tc:J.g.userAgent.platform.Hg(),J.userAgent.Dn=J.userAgent.Da?J.userAgent.Sc||J.userAgent.Rc||J.userAgent.Tc:J.g.userAgent.platform.Eg(),J.userAgent.oj=function(){var e="",a=J.userAgent.Sj();return a&&(e=a?a[1]:""),J.userAgent.Y&&(a=J.userAgent.Of(),null!=a&&a>parseFloat(e))?a+"":e},J.userAgent.Sj=function(){var e=J.userAgent.Qj();return J.userAgent.Yc?/rv\:([^\);]+)(\)|;)/.exec(e):J.userAgent.Ce?/Edge\/([\d\.]+)/.exec(e):J.userAgent.Y?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):J.userAgent.Cb?/WebKit\/(\S+)/.exec(e):J.userAgent.Ne?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},J.userAgent.Of=function(){var e=J.global.document;return e?e.documentMode:void 0},J.userAgent.VERSION=J.userAgent.oj(),J.userAgent.compare=function(e,a){return J.f.Eb(e,a)},J.userAgent.rk={},J.userAgent.va=function(e){return J.userAgent.Fh||J.Ha.cache(J.userAgent.rk,e,function(){return 0<=J.f.Eb(J.userAgent.VERSION,e)})},J.userAgent.Zr=J.userAgent.va,J.userAgent.Pb=function(e){return+J.userAgent.Wh>=e},J.userAgent.Cr=J.userAgent.Pb;var K,L=J.global.document,M=J.userAgent.Of();K=L&&J.userAgent.Y?M||("CSS1Compat"==L.compatMode?parseInt(J.userAgent.VERSION,10):5):void 0,J.userAgent.Wh=K,J.a.ib={Lh:!J.userAgent.Y||J.userAgent.Pb(9),Mh:!J.userAgent.Yc&&!J.userAgent.Y||J.userAgent.Y&&J.userAgent.Pb(9)||J.userAgent.Yc&&J.userAgent.va("1.9.1"),xe:J.userAgent.Y&&!J.userAgent.va("9"),Nh:J.userAgent.Y||J.userAgent.Ne||J.userAgent.Cb,ci:J.userAgent.Y,Mn:J.userAgent.Y&&!J.userAgent.Pb(9)},J.a.Mc={},J.a.Mc.Hi={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},J.a.Mc.sk=function(e){return!0===J.a.Mc.Hi[e]},J.b.V=function(){this.yc="",this.ni=J.b.V.ca},J.b.V.prototype.ua=!0,J.b.V.ca={},J.b.V.mc=function(e){return e=J.f.I.u(e),0===e.length?J.b.V.EMPTY:J.b.V.hd(e)},J.b.V.prototype.ga=l("yc"),J.ea&&(J.b.V.prototype.toString=function(){return"SafeScript{"+this.yc+"}"}),J.b.V.u=function(e){return e instanceof J.b.V&&e.constructor===J.b.V&&e.ni===J.b.V.ca?e.yc:(J.m.ma("expected object of type SafeScript, got '"+e+a+J.aa(e)),"type_error:SafeScript")},J.b.V.hd=function(e){return new J.b.V().bb(e)},J.b.V.prototype.bb=function(e){return this.yc=e,this},J.b.V.EMPTY=J.b.V.hd(""),J.sa={},J.sa.url={},J.sa.url.dj=function(e){return J.sa.url.lg().createObjectURL(e)},J.sa.url.Ts=function(e){J.sa.url.lg().revokeObjectURL(e)},J.sa.url.lg=function(){var e=J.sa.url.Ef();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},J.sa.url.Ef=function(){return J.R(J.global.URL)&&J.R(J.global.URL.createObjectURL)?J.global.URL:J.R(J.global.webkitURL)&&J.R(J.global.webkitURL.createObjectURL)?J.global.webkitURL:J.R(J.global.createObjectURL)?J.global:null},J.sa.url.Lp=function(){return null!=J.sa.url.Ef()},J.b.o=function(){this.Ga="",this.ri=J.b.o.ca},J.b.o.Ka="about:invalid#zClosurez",J.b.o.prototype.ua=!0,J.b.o.prototype.ga=l("Ga"),J.b.o.prototype.Dd=!0,J.b.o.prototype.$a=function(){return J.h.i.O.Ta},J.ea&&(J.b.o.prototype.toString=function(){return"SafeUrl{"+this.Ga+"}"}),J.b.o.u=function(e){return e instanceof J.b.o&&e.constructor===J.b.o&&e.ri===J.b.o.ca?e.Ga:(J.m.ma("expected object of type SafeUrl, got '"+e+a+J.aa(e)),"type_error:SafeUrl")},J.b.o.mc=function(e){return J.b.o.Fa(J.f.I.u(e))},J.b.Re=/^(?:audio\/(?:3gpp|3gpp2|aac|midi|mp4|mpeg|ogg|x-m4a|x-wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|text\/csv|video\/(?:mpeg|mp4|ogg|webm))$/i,J.b.o.Mq=function(e){return e=J.b.Re.test(e.type)?J.sa.url.dj(e):J.b.o.Ka,J.b.o.Fa(e)},J.b.Rh=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i,J.b.o.Oq=function(e){var a=e.match(J.b.Rh);return a=a&&J.b.Re.test(a[1]),J.b.o.Fa(a?e:J.b.o.Ka)},J.b.o.Qq=function(e){return J.f.Zi(e)||(e=J.b.o.Ka),J.b.o.Fa(e)},J.b.o.Rq=function(e){return J.b.o.Fa(J.b.C.u(e))},J.b.Se=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,J.b.o.Gc=function(e){return e instanceof J.b.o?e:(e=e.ua?e.ga():e+"",J.b.Se.test(e)||(e=J.b.o.Ka),J.b.o.Fa(e))},J.b.o.Vb=function(e){return e instanceof J.b.o?e:(e=e.ua?e.ga():e+"",J.b.Se.test(e)||(e=J.b.o.Ka),J.b.o.Fa(e))},J.b.o.ca={},J.b.o.Fa=function(e){var a=new J.b.o;return a.Ga=e,a},J.b.o.Wl=J.b.o.Fa("about:blank"),J.b.B=function(){this.Ac="",this.pi=J.b.B.ca},J.b.B.prototype.ua=!0,J.b.B.ca={},J.b.B.mc=function(e){return e=J.f.I.u(e),0===e.length?J.b.B.EMPTY:J.b.B.Fb(e)},J.b.B.Vp=e(),J.b.B.prototype.ga=l("Ac"),J.ea&&(J.b.B.prototype.toString=function(){return"SafeStyle{"+this.Ac+"}"}),J.b.B.u=function(e){return e instanceof J.b.B&&e.constructor===J.b.B&&e.pi===J.b.B.ca?e.Ac:(J.m.ma("expected object of type SafeStyle, got '"+e+a+J.aa(e)),"type_error:SafeStyle")},J.b.B.Fb=function(e){return new J.b.B().bb(e)},J.b.B.prototype.bb=function(e){return this.Ac=e,this},J.b.B.EMPTY=J.b.B.Fb(""),J.b.B.Ka="zClosurez",J.b.B.create=function(a){var t,n="";for(t in a){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var o=a[t];null!=o&&(o=J.isArray(o)?J.j.map(o,J.b.B.gh).join(" "):J.b.B.gh(o),n+=t+":"+o+";")}return n?J.b.B.Fb(n):J.b.B.EMPTY},J.b.B.gh=function(e){return e instanceof J.b.o?"url(\""+J.b.o.u(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+"\")":e instanceof J.f.I?J.f.I.u(e):J.b.B.il(e+"")},J.b.B.il=function(e){var a=e.replace(J.b.o.ai,"$1").replace(J.b.o.Xe,"url");return J.b.B.Ei.test(a)?J.b.B.Vj(e)?J.b.B.jl(e):(J.m.ma("String value requires balanced quotes, got: "+e),J.b.B.Ka):(J.m.ma("String value allows only "+J.b.B.$e+" and simple functions, got: "+e),J.b.B.Ka)},J.b.B.Vj=function(a){for(var t,n=!0,o=!0,r=0;r<a.length;r++)t=a.charAt(r),"'"==t&&o?n=!n:"\""==t&&n&&(o=!o);return n&&o},J.b.B.$e="[-,.\"'%_!# a-zA-Z0-9]",J.b.B.Ei=new RegExp("^"+J.b.B.$e+"+$"),J.b.o.Xe=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,J.b.o.ai=/\b(hsl|hsla|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?)\([-0-9a-z.%, ]+\)/g,J.b.B.jl=function(e){return e.replace(J.b.o.Xe,function(a,t,n,e){var o="";return n=n.replace(/^(['"])(.*)\1$/,function(a,t,n){return o=t,n}),a=J.b.o.Gc(n).ga(),t+o+a+o+e})},J.b.B.concat=function(){function e(t){J.isArray(t)?J.j.forEach(t,e):a+=J.b.B.u(t)}var a="";return J.j.forEach(arguments,e),a?J.b.B.Fb(a):J.b.B.EMPTY},J.b.N=function(){this.zc="",this.oi=J.b.N.ca},J.b.N.prototype.ua=!0,J.b.N.ca={},J.b.N.kq=function(e,a){if(J.f.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var t=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(t))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!J.b.N.Uj(t))throw Error("() and [] in selector must be balanced, got: "+e);return a instanceof J.b.B||(a=J.b.B.create(a)),e=e+"{"+J.b.B.u(a)+"}",J.b.N.Gb(e)},J.b.N.Uj=function(a){for(var t,n={"(":")","[":"]"},o=[],r=0;r<a.length;r++)if(t=a[r],n[t])o.push(n[t]);else if(J.object.contains(n,t)&&o.pop()!=t)return!1;return 0==o.length},J.b.N.concat=function(){function e(t){J.isArray(t)?J.j.forEach(t,e):a+=J.b.N.u(t)}var a="";return J.j.forEach(arguments,e),J.b.N.Gb(a)},J.b.N.mc=function(e){return e=J.f.I.u(e),0===e.length?J.b.N.EMPTY:J.b.N.Gb(e)},J.b.N.prototype.ga=l("zc"),J.ea&&(J.b.N.prototype.toString=function(){return"SafeStyleSheet{"+this.zc+"}"}),J.b.N.u=function(e){return e instanceof J.b.N&&e.constructor===J.b.N&&e.oi===J.b.N.ca?e.zc:(J.m.ma("expected object of type SafeStyleSheet, got '"+e+a+J.aa(e)),"type_error:SafeStyleSheet")},J.b.N.Gb=function(e){return new J.b.N().bb(e)},J.b.N.prototype.bb=function(e){return this.zc=e,this},J.b.N.EMPTY=J.b.N.Gb(""),J.b.l=function(){this.Ga="",this.mi=J.b.l.ca,this.kc=null},J.b.l.prototype.Dd=!0,J.b.l.prototype.$a=l("kc"),J.b.l.prototype.ua=!0,J.b.l.prototype.ga=l("Ga"),J.ea&&(J.b.l.prototype.toString=function(){return"SafeHtml{"+this.Ga+"}"}),J.b.l.u=function(e){return e instanceof J.b.l&&e.constructor===J.b.l&&e.mi===J.b.l.ca?e.Ga:(J.m.ma("expected object of type SafeHtml, got '"+e+a+J.aa(e)),"type_error:SafeHtml")},J.b.l.ta=function(e){if(e instanceof J.b.l)return e;var a=null;return e.Dd&&(a=e.$a()),J.b.l.ra(J.f.ta(e.ua?e.ga():e+""),a)},J.b.l.pr=function(e){return e instanceof J.b.l?e:(e=J.b.l.ta(e),J.b.l.ra(J.f.Yg(J.b.l.u(e)),e.$a()))},J.b.l.qr=function(e){return e instanceof J.b.l?e:(e=J.b.l.ta(e),J.b.l.ra(J.f.Ol(J.b.l.u(e)),e.$a()))},J.b.l.from=J.b.l.ta,J.b.l.Ze=/^[a-zA-Z0-9-]+$/,J.b.l.Ci={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},J.b.l.ii={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},J.b.l.create=function(e,a,t){return J.b.l.Ml(e+""),J.b.l.Ya(e+"",a,t)},J.b.l.Ml=function(e){if(!J.b.l.Ze.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in J.b.l.ii)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},J.b.l.hq=function(a,t,n,o){a&&J.b.C.u(a);var e={};return e.src=a||null,e.srcdoc=t&&J.b.l.u(t),a=J.b.l.hc(e,{sandbox:""},n),J.b.l.Ya("iframe",a,o)},J.b.l.lq=function(a,t,n,o){if(!J.b.l.Wi())throw Error("The browser does not support sandboxed iframes.");var e={};return e.src=a?J.b.o.u(J.b.o.Gc(a)):null,e.srcdoc=t||null,e.sandbox="",a=J.b.l.hc(e,{},n),J.b.l.Ya("iframe",a,o)},J.b.l.Wi=function(){return J.global.HTMLIFrameElement&&"sandbox"in J.global.HTMLIFrameElement.prototype},J.b.l.nq=function(e,a){return J.b.C.u(e),e=J.b.l.hc({src:e},{},a),J.b.l.Ya("script",e)},J.b.l.mq=function(a,t){for(var n in t){var o=n.toLowerCase();if("language"==o||"src"==o||"text"==o||"type"==o)throw Error("Cannot set \""+o+"\" attribute")}for(n="",a=J.j.concat(a),o=0;o<a.length;o++)n+=J.b.V.u(a[o]);return a=J.b.l.ra(n,J.h.i.O.qa),J.b.l.Ya("script",t,a)},J.b.l.oq=function(a,t){t=J.b.l.hc({type:"text/css"},{},t);var n="";a=J.j.concat(a);for(var o=0;o<a.length;o++)n+=J.b.N.u(a[o]);return a=J.b.l.ra(n,J.h.i.O.qa),J.b.l.Ya("style",t,a)},J.b.l.jq=function(e,a){return e=J.b.o.u(J.b.o.Gc(e)),(J.g.userAgent.v.uc()||J.g.userAgent.v.Ra())&&J.f.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),J.b.l.Ya("meta",{"http-equiv":"refresh",content:(a||0)+"; url="+e})},J.b.l.Cj=function(e,a,t){if(t instanceof J.f.I)t=J.f.I.u(t);else if("style"==a.toLowerCase())t=J.b.l.Oj(t);else{if(/^on/i.test(a))throw Error("Attribute \""+a+"\" requires goog.string.Const value, \""+t+"\" given.");if(a.toLowerCase()in J.b.l.Ci)if(t instanceof J.b.C)t=J.b.C.u(t);else if(t instanceof J.b.o)t=J.b.o.u(t);else if(J.L(t))t=J.b.o.Gc(t).ga();else throw Error("Attribute \""+a+"\" on tag \""+e+"\" requires goog.html.SafeUrl, goog.string.Const, or string, value \""+t+"\" given.")}return t.ua&&(t=t.ga()),a+"=\""+J.f.ta(t+"")+"\""},J.b.l.Oj=function(e){if(!J.ha(e))throw Error("The \"style\" attribute requires goog.html.SafeStyle or map of style properties, "+typeof e+" given: "+e);return e instanceof J.b.B||(e=J.b.B.create(e)),J.b.B.u(e)},J.b.l.qq=function(a,t,n,o){return t=J.b.l.create(t,n,o),t.kc=a,t},J.b.l.concat=function(){function a(e){J.isArray(e)?J.j.forEach(e,a):(e=J.b.l.ta(e),n+=J.b.l.u(e),e=e.$a(),t==J.h.i.O.qa?t=e:e!=J.h.i.O.qa&&t!=e&&(t=null))}var t=J.h.i.O.qa,n="";return J.j.forEach(arguments,a),J.b.l.ra(n,t)},J.b.l.cq=function(e){var a=J.b.l.concat(J.j.slice(arguments,1));return a.kc=e,a},J.b.l.ca={},J.b.l.ra=function(e,a){return new J.b.l().bb(e,a)},J.b.l.prototype.bb=function(e,a){return this.Ga=e,this.kc=a,this},J.b.l.Ya=function(a,t,n){var o=null,e="<"+a+J.b.l.vl(a,t);return J.cb(n)?J.isArray(n)||(n=[n]):n=[],J.a.Mc.sk(a.toLowerCase())?e+=">":(o=J.b.l.concat(n),e+=">"+J.b.l.u(o)+"</"+a+">",o=o.$a()),(a=t&&t.dir)&&(o=/^(ltr|rtl|auto)$/i.test(a)?J.h.i.O.qa:null),J.b.l.ra(e,o)},J.b.l.vl=function(a,t){var n="";if(t)for(var o in t){if(!J.b.l.Ze.test(o))throw Error("Invalid attribute name \""+o+"\".");var e=t[o];J.cb(e)&&(n+=" "+J.b.l.Cj(a,o,e))}return n},J.b.l.hc=function(a,t,n){var o,r={};for(o in a)r[o]=a[o];for(o in t)r[o]=t[o];for(o in n){var e=o.toLowerCase();if(e in a)throw Error("Cannot override \""+e+"\" attribute, got \""+o+"\" with value \""+n[o]+"\"");e in t&&delete r[e],r[o]=n[o]}return r},J.b.l.Qm=J.b.l.ra("<!DOCTYPE html>",J.h.i.O.qa),J.b.l.EMPTY=J.b.l.ra("",J.h.i.O.qa),J.b.l.we=J.b.l.ra("<br>",J.h.i.O.qa),J.a.S={},J.a.S.In={Zl:"afterbegin",$l:"afterend",om:"beforebegin",pm:"beforeend"},J.a.S.sr=function(e,a,t){e.insertAdjacentHTML(a,J.b.l.u(t))},J.a.S.ui={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},J.a.S.lh=function(e,a){if(J.m.ja&&J.a.S.ui[e.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".");e.innerHTML=J.b.l.u(a)},J.a.S.ot=function(e,a){e.outerHTML=J.b.l.u(a)},J.a.S.qt=function(e,a){e.style.cssText=J.b.B.u(a)},J.a.S.wq=function(e,a){e.write(J.b.l.u(a))},J.a.S.at=function(e,a){a=a instanceof J.b.o?a:J.b.o.Vb(a),e.href=J.b.o.u(a)},J.a.S.kt=function(e,a){a=a instanceof J.b.o?a:J.b.o.Vb(a),e.src=J.b.o.u(a)},J.a.S.et=function(e,a){e.src=J.b.C.u(a)},J.a.S.gt=function(e,a){e.src=J.b.C.u(a)},J.a.S.it=function(e,a){e.src=J.b.C.u(a)},J.a.S.jt=function(e,a){e.srcdoc=J.b.l.u(a)},J.a.S.lt=function(e,a,t){e.rel=t,e.href=J.f.kf(t,"stylesheet")?J.b.C.u(a):a instanceof J.b.C?J.b.C.u(a):a instanceof J.b.o?J.b.o.u(a):J.b.o.Vb(a).ga()},J.a.S.nt=function(e,a){e.data=J.b.C.u(a)},J.a.S.ol=function(e,a){e.src=J.b.C.u(a)},J.a.S.pt=function(e,a){e.text=J.b.V.u(a)},J.a.S.mt=function(e,a){a=a instanceof J.b.o?a:J.b.o.Vb(a),e.href=J.b.o.u(a)},J.a.S.zs=function(a,t,n,o,e){return a=a instanceof J.b.o?a:J.b.o.Vb(a),(t||window).open(J.b.o.u(a),n?J.f.I.u(n):"",o,e)},J.b.hb={},J.b.hb.fl=function(e,a){return J.b.l.ra(a,null)},J.b.hb.Xs=function(e,a){return J.b.V.hd(a)},J.b.hb.Ys=function(e,a){return J.b.B.Fb(a)},J.b.hb.Zs=function(e,a){return J.b.N.Gb(a)},J.b.hb.$s=function(e,a){return J.b.o.Fa(a)},J.b.hb.Ot=function(e,a){return J.b.C.Hb(a)},J.s={},J.s.Fs=function(e){return Y(Math.random()*e)},J.s.Qt=function(e,a){return e+Math.random()*(a-e)},J.s.Wp=function(e,a,t){return W($(e,a),t)},J.s.Vg=function(e,a){return e%=a,0>e*a?e+a:e},J.s.bs=function(e,a,t){return e+t*(a-e)},J.s.ps=function(e,a,t){return G(e-a)<=(t||1E-6)},J.s.fe=function(e){return J.s.Vg(e,360)},J.s.At=function(e){return J.s.Vg(e,2*q)},J.s.uh=function(e){return e*q/180},J.s.zl=function(e){return 180*e/q},J.s.mp=function(e,a){return a*Math.cos(J.s.uh(e))},J.s.np=function(e,a){return a*Math.sin(J.s.uh(e))},J.s.angle=function(a,t,n,o){return J.s.fe(J.s.zl(Math.atan2(o-t,n-a)))},J.s.lp=function(e,a){return e=J.s.fe(a)-J.s.fe(e),180<e?e-=360:-180>=e&&(e=360+e),e},J.s.sign=function(e){return 0<e?1:0>e?-1:e},J.s.gs=function(a,t,n,o){n=n||function(e,a){return e==a},o=o||function(e){return a[e]};for(var e=a.length,r=t.length,c=[],s=0;s<e+1;s++)c[s]=[],c[s][0]=0;for(var l=0;l<r+1;l++)c[0][l]=0;for(s=1;s<=e;s++)for(l=1;l<=r;l++)c[s][l]=n(a[s-1],t[l-1])?c[s-1][l-1]+1:$(c[s-1][l],c[s][l-1]);var i=[];for(s=e,l=r;0<s&&0<l;)n(a[s-1],t[l-1])?(i.unshift(o(s-1,l-1)),s--,l--):c[s-1][l]>c[s][l-1]?s--:l--;return i},J.s.ge=function(){return J.j.reduce(arguments,function(e,a){return e+a},0)},J.s.Pi=function(){return J.s.ge.apply(null,arguments)/arguments.length},J.s.hl=function(){var e=arguments.length;if(2>e)return 0;var a=J.s.Pi.apply(null,arguments);return J.s.ge.apply(null,J.j.map(arguments,function(e){return Math.pow(e-a,2)}))/(e-1)},J.s.Bt=function(){return U(J.s.hl.apply(null,arguments))},J.s.Hr=function(e){return isFinite(e)&&0==e%1},J.s.Fr=function(e){return isFinite(e)},J.s.Mr=function(e){return 0==e&&0>1/e},J.s.fs=function(e){if(0<e){var a=F(Math.log(e)*Math.LOG10E);return a-(parseFloat("1e"+a)>e?1:0)}return 0==e?-Infinity:NaN},J.s.Vs=function(e,a){return Y(e+(a||2e-15))},J.s.Us=function(e,a){return I(e-(a||2e-15))},J.s.W=function(e,a){this.x=J.R(e)?e:0,this.y=J.R(a)?a:0},J.s.W.prototype.clone=function(){return new J.s.W(this.x,this.y)},J.ea&&(J.s.W.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),J.s.W.prototype.Ib=function(e){return e instanceof J.s.W&&J.s.W.Ib(this,e)},J.s.W.Ib=function(e,a){return e==a||e&&a&&e.x==a.x&&e.y==a.y},J.s.W.vq=function(e,a){var t=e.x-a.x;return e=e.y-a.y,U(t*t+e*e)},J.s.W.hs=function(e){return U(e.x*e.x+e.y*e.y)},J.s.W.azimuth=function(e){return J.s.angle(0,0,e.x,e.y)},J.s.W.yt=function(e,a){var t=e.x-a.x;return e=e.y-a.y,t*t+e*e},J.s.W.uq=function(e,a){return new J.s.W(e.x-a.x,e.y-a.y)},J.s.W.ge=function(e,a){return new J.s.W(e.x+a.x,e.y+a.y)},b=J.s.W.prototype,b.ceil=function(){return this.x=I(this.x),this.y=I(this.y),this},b.floor=function(){return this.x=Y(this.x),this.y=Y(this.y),this},b.round=function(){return this.x=F(this.x),this.y=F(this.y),this},b.translate=function(e,a){return e instanceof J.s.W?(this.x+=e.x,this.y+=e.y):(this.x+=+e,J.Rb(a)&&(this.y+=a)),this},b.scale=function(e,a){return a=J.Rb(a)?a:e,this.x*=e,this.y*=a,this},J.s.nb=function(e,a){this.width=e,this.height=a},J.s.nb.Ib=function(e,a){return e==a||e&&a&&e.width==a.width&&e.height==a.height},J.s.nb.prototype.clone=function(){return new J.s.nb(this.width,this.height)},J.ea&&(J.s.nb.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),b=J.s.nb.prototype,b.Li=function(){return this.width*this.height},b.aspectRatio=function(){return this.width/this.height},b.Qb=function(){return!this.Li()},b.ceil=function(){return this.width=I(this.width),this.height=I(this.height),this},b.floor=function(){return this.width=Y(this.width),this.height=Y(this.height),this},b.round=function(){return this.width=F(this.width),this.height=F(this.height),this},b.scale=function(e,a){return a=J.Rb(a)?a:e,this.width*=e,this.height*=a,this},J.a.Hh=!1,J.a.se=!1,J.a.Qh=J.a.Hh||J.a.se,J.a.td=function(e){return e?new J.a.lb(J.a.Qa(e)):J.a.mj||(J.a.mj=new J.a.lb)},J.a.Dj=function(){return document},J.a.ud=function(e){return J.a.xd(document,e)},J.a.xd=function(e,a){return J.L(a)?e.getElementById(a):a},J.a.Lj=function(e){return J.a.ig(document,e)},J.a.ig=function(e,a){return J.a.xd(e,a)},J.a.Bh=J.a.ud,J.a.getElementsByTagName=function(e,a){return(a||document).getElementsByTagName(e+"")},J.a.yd=function(e,a,t){return J.a.nc(document,e,a,t)},J.a.Gj=function(e,a,t){return J.a.wd(document,e,a,t)},J.a.Rf=function(e,a){var t=a||document;return J.a.cd(t)?t.querySelectorAll("."+e):J.a.nc(document,"*",e,a)},J.a.vd=function(e,a){var t=a||document;return(t.getElementsByClassName?t.getElementsByClassName(e)[0]:J.a.wd(document,"*",e,a))||null},J.a.hg=function(e,a){return J.a.vd(e,a)},J.a.cd=function(e){return e.querySelectorAll&&e.querySelector},J.a.nc=function(a,n,o,r){if(a=r||a,n=n&&"*"!=n?(n+"").toUpperCase():"",J.a.cd(a)&&(n||o))return a.querySelectorAll(n+(o?"."+o:""));if(o&&a.getElementsByClassName){if(a=a.getElementsByClassName(o),n){r={};for(var e,l=0,c=0;e=a[c];c++)n==e.nodeName&&(r[l++]=e);return r.length=l,r}return a}if(a=a.getElementsByTagName(n||"*"),o){for(r={},c=l=0;e=a[c];c++)n=e.className,typeof n.split==t&&J.j.contains(n.split(/\s+/),o)&&(r[l++]=e);return r.length=l,r}return a},J.a.wd=function(a,t,n,o){var e=o||a,r=t&&"*"!=t?(t+"").toUpperCase():"";return J.a.cd(e)&&(r||n)?e.querySelector(r+(n?"."+n:"")):J.a.nc(a,t,n,o)[0]||null},J.a.Ch=J.a.yd,J.a.Jc=function(a,e){J.object.forEach(e,function(t,n){t&&t.ua&&(t=t.ga()),"style"==n?a.style.cssText=t:"class"==n?a.className=t:"for"==n?a.htmlFor=t:J.a.Be.hasOwnProperty(n)?a.setAttribute(J.a.Be[n],t):J.f.startsWith(n,"aria-")||J.f.startsWith(n,"data-")?a.setAttribute(n,t):a[n]=t})},J.a.Be={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},J.a.mg=function(e){return J.a.ng(e||window)},J.a.ng=function(e){return e=e.document,e=J.a.Ob(e)?e.documentElement:e.body,new J.s.nb(e.clientWidth,e.clientHeight)},J.a.Ej=function(){return J.a.rd(window)},J.a.Xq=function(e){return J.a.rd(e)},J.a.rd=function(a){var t=a.document,n=0;if(t){n=t.body;var o=t.documentElement;if(!o||!n)return 0;if(a=J.a.ng(a).height,J.a.Ob(t)&&o.scrollHeight)n=o.scrollHeight==a?o.offsetHeight:o.scrollHeight;else{t=o.scrollHeight;var r=o.offsetHeight;o.clientHeight!=r&&(t=n.scrollHeight,r=n.offsetHeight),n=t>a?t>r?t:r:t<r?t:r}}return n},J.a.dr=function(e){return J.a.td((e||J.global||window).document).Pf()},J.a.Pf=function(){return J.a.Qf(document)},J.a.Qf=function(e){var a=J.a.sd(e);return e=J.a.qc(e),J.userAgent.Y&&J.userAgent.va("10")&&e.pageYOffset!=a.scrollTop?new J.s.W(a.scrollLeft,a.scrollTop):new J.s.W(e.pageXOffset||a.scrollLeft,e.pageYOffset||a.scrollTop)},J.a.Fj=function(){return J.a.sd(document)},J.a.sd=function(e){return e.scrollingElement?e.scrollingElement:!J.userAgent.Cb&&J.a.Ob(e)?e.documentElement:e.body||e.documentElement},J.a.tb=function(e){return e?J.a.qc(e):window},J.a.qc=function(e){return e.parentWindow||e.defaultView},J.a.fd=function(){return J.a.sf(document,arguments)},J.a.sf=function(a,t){var n=t[0]+"",o=t[1];if(!J.a.ib.Lh&&o&&(o.name||o.type)){if(n=["<",n],o.name&&n.push(" name=\"",J.f.ta(o.name),"\""),o.type){n.push(" type=\"",J.f.ta(o.type),"\"");var e={};J.object.extend(e,o),delete e.type,o=e}n.push(">"),n=n.join("")}return n=a.createElement(n),o&&(J.L(o)?n.className=o:J.isArray(o)?n.className=o.join(" "):J.a.Jc(n,o)),2<t.length&&J.a.bf(a,n,t,2),n},J.a.bf=function(a,t,n,o){function e(e){e&&t.appendChild(J.L(e)?a.createTextNode(e):e)}for(;o<n.length;o++){var r=n[o];J.Nb(r)&&!J.a.Ld(r)?J.j.forEach(J.a.Md(r)?J.j.th(r):r,e):e(r)}},J.a.Dh=J.a.fd,J.a.createElement=function(e){return J.a.Oa(document,e)},J.a.Oa=function(e,a){return e.createElement(a+"")},J.a.createTextNode=function(e){return document.createTextNode(e+"")},J.a.hj=function(e,a,t){return J.a.tf(document,e,a,!!t)},J.a.tf=function(a,t,n,o){for(var e=J.a.Oa(a,"TABLE"),r=e.appendChild(J.a.Oa(a,"TBODY")),c=0;c<t;c++){for(var s,i=J.a.Oa(a,"TR"),l=0;l<n;l++)s=J.a.Oa(a,"TD"),o&&J.a.ae(s,J.f.Ye.Ke),i.appendChild(s);r.appendChild(i)}return e},J.a.eq=function(){var e=J.j.map(arguments,J.f.I.u);return e=J.b.hb.fl(J.f.I.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),e.join("")),J.a.eh(e)},J.a.eh=function(e){return J.a.fh(document,e)},J.a.fh=function(e,a){var t=J.a.Oa(e,"DIV");return J.a.ib.ci?(J.a.S.lh(t,J.b.l.concat(J.b.l.we,a)),t.removeChild(t.firstChild)):J.a.S.lh(t,a),J.a.$i(e,t)},J.a.$i=function(e,a){if(1==a.childNodes.length)return a.removeChild(a.firstChild);for(e=e.createDocumentFragment();a.firstChild;)e.appendChild(a.firstChild);return e},J.a.dk=function(){return J.a.Ob(document)},J.a.Ob=function(e){return J.a.Qh?J.a.se:"CSS1Compat"==e.compatMode},J.a.canHaveChildren=function(e){if(e.nodeType!=J.a.fa.Ia)return!1;switch(e.tagName){case"APPLET":case"AREA":case"BASE":case"BR":case"COL":case"COMMAND":case"EMBED":case"FRAME":case"HR":case"IMG":case"INPUT":case"IFRAME":case"ISINDEX":case"KEYGEN":case"LINK":case"NOFRAMES":case"NOSCRIPT":case"META":case"OBJECT":case"PARAM":case n:case"SOURCE":case"STYLE":case"TRACK":case"WBR":return!1;}return!0},J.a.appendChild=function(e,a){e.appendChild(a)},J.a.append=function(e){J.a.bf(J.a.Qa(e),e,arguments,1)},J.a.Zd=function(e){for(var a;a=e.firstChild;)e.removeChild(a)},J.a.vg=function(e,a){a.parentNode&&a.parentNode.insertBefore(e,a)},J.a.ug=function(e,a){a.parentNode&&a.parentNode.insertBefore(e,a.nextSibling)},J.a.tg=function(e,a,t){e.insertBefore(a,e.childNodes[t]||null)},J.a.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},J.a.dh=function(e,a){var t=a.parentNode;t&&t.replaceChild(e,a)},J.a.Ff=function(e){var a,t=e.parentNode;if(t&&t.nodeType!=J.a.fa.Vh){if(e.removeNode)return e.removeNode(!1);for(;a=e.firstChild;)t.insertBefore(a,e);return J.a.removeNode(e)}},J.a.Nf=function(e){return J.a.ib.Mh&&void 0!=e.children?e.children:J.j.filter(e.childNodes,function(e){return e.nodeType==J.a.fa.Ia})},J.a.Sf=function(e){return J.R(e.firstElementChild)?e.firstElementChild:J.a.oc(e.firstChild,!0)},J.a.Wf=function(e){return J.R(e.lastElementChild)?e.lastElementChild:J.a.oc(e.lastChild,!1)},J.a.Zf=function(e){return J.R(e.nextElementSibling)?e.nextElementSibling:J.a.oc(e.nextSibling,!0)},J.a.fg=function(e){return J.R(e.previousElementSibling)?e.previousElementSibling:J.a.oc(e.previousSibling,!1)},J.a.oc=function(e,a){for(;e&&e.nodeType!=J.a.fa.Ia;)e=a?e.nextSibling:e.previousSibling;return e},J.a.$f=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},J.a.gg=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},J.a.Ld=function(e){return J.ha(e)&&0<e.nodeType},J.a.Hd=function(e){return J.ha(e)&&e.nodeType==J.a.fa.Ia},J.a.Ng=function(e){return J.ha(e)&&e.window==e},J.a.eg=function(e){var a;return J.a.ib.Nh&&!(J.userAgent.Y&&J.userAgent.va("9")&&!J.userAgent.va("10")&&J.global.SVGElement&&e instanceof J.global.SVGElement)&&(a=e.parentElement)?a:(a=e.parentNode,J.a.Hd(a)?a:null)},J.a.contains=function(e,a){if(!e||!a)return!1;if(e.contains&&a.nodeType==J.a.fa.Ia)return e==a||e.contains(a);if("undefined"!=typeof e.compareDocumentPosition)return e==a||!!(16&e.compareDocumentPosition(a));for(;a&&e!=a;)a=a.parentNode;return a==e},J.a.mf=function(a,t){if(a==t)return 0;if(a.compareDocumentPosition)return 2&a.compareDocumentPosition(t)?1:-1;if(J.userAgent.Y&&!J.userAgent.Pb(9)){if(a.nodeType==J.a.fa.Xc)return-1;if(t.nodeType==J.a.fa.Xc)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var n=a.nodeType==J.a.fa.Ia,o=t.nodeType==J.a.fa.Ia;if(n&&o)return a.sourceIndex-t.sourceIndex;var r=a.parentNode,l=t.parentNode;return r==l?J.a.pf(a,t):!n&&J.a.contains(r,t)?-1*J.a.nf(a,t):!o&&J.a.contains(l,a)?J.a.nf(t,a):(n?a.sourceIndex:r.sourceIndex)-(o?t.sourceIndex:l.sourceIndex)}return o=J.a.Qa(a),n=o.createRange(),n.selectNode(a),n.collapse(!0),a=o.createRange(),a.selectNode(t),a.collapse(!0),n.compareBoundaryPoints(J.global.Range.START_TO_END,a)},J.a.nf=function(e,a){var t=e.parentNode;if(t==a)return-1;for(;a.parentNode!=t;)a=a.parentNode;return J.a.pf(a,e)},J.a.pf=function(e,a){for(;a=a.previousSibling;)if(a==e)return-1;return 1},J.a.Bf=function(){var a,t=arguments.length;if(!t)return null;if(1==t)return arguments[0];var n=[],e=Infinity;for(a=0;a<t;a++){for(var o=[],r=arguments[a];r;)o.unshift(r),r=r.parentNode;n.push(o),e=W(e,o.length)}for(o=null,a=0;a<e;a++){r=n[0][a];for(var c=1;c<t;c++)if(r!=n[c][a])return o;o=r}return o},J.a.Qa=function(e){return e.nodeType==J.a.fa.Xc?e:e.ownerDocument||e.document},J.a.Tf=function(e){return e.contentDocument||e.contentWindow.document},J.a.Uf=function(e){try{return e.contentWindow||(e.contentDocument?J.a.tb(e.contentDocument):null)}catch(e){}return null},J.a.ae=function(e,a){if("textContent"in e)e.textContent=a;else if(e.nodeType==J.a.fa.cc)e.data=a+"";else if(e.firstChild&&e.firstChild.nodeType==J.a.fa.cc){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=a+""}else{J.a.Zd(e);var t=J.a.Qa(e);e.appendChild(t.createTextNode(a+""))}},J.a.dg=function(e){if("outerHTML"in e)return e.outerHTML;var a=J.a.Qa(e);return a=J.a.Oa(a,"DIV"),a.appendChild(e.cloneNode(!0)),a.innerHTML},J.a.Cf=function(e,a){var t=[];return J.a.nd(e,a,t,!0)?t[0]:void 0},J.a.Df=function(e,a){var t=[];return J.a.nd(e,a,t,!1),t},J.a.nd=function(a,t,n,o){if(null!=a)for(a=a.firstChild;a;){if(t(a)&&(n.push(a),o)||J.a.nd(a,t,n,o))return!0;a=a.nextSibling}return!1},J.a.Ue={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},J.a.ac={IMG:" ",BR:"\n"},J.a.Jd=function(e){return J.a.pg(e)&&J.a.Lg(e)},J.a.jh=function(e,a){a?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},J.a.Cg=function(e){var a;return(a=J.a.Qk(e)?!e.disabled&&(!J.a.pg(e)||J.a.Lg(e)):J.a.Jd(e))&&J.userAgent.Y?J.a.Wj(e):a},J.a.pg=function(e){return J.userAgent.Y&&!J.userAgent.va("9")?(e=e.getAttributeNode("tabindex"),J.cb(e)&&e.specified):e.hasAttribute("tabindex")},J.a.Lg=function(e){return e=e.tabIndex,J.Rb(e)&&0<=e&&32768>e},J.a.Qk=function(e){return"A"==e.tagName||"INPUT"==e.tagName||"TEXTAREA"==e.tagName||"SELECT"==e.tagName||"BUTTON"==e.tagName},J.a.Wj=function(e){return e=!J.ya(e.getBoundingClientRect)||J.userAgent.Y&&null==e.parentElement?{height:e.offsetHeight,width:e.offsetWidth}:e.getBoundingClientRect(),J.cb(e)&&0<e.height&&0<e.width},J.a.pc=function(e){if(J.a.ib.xe&&null!==e&&"innerText"in e)e=J.f.Yi(e.innerText);else{var a=[];J.a.Ad(e,a,!0),e=a.join("")}return e=e.replace(/ \xAD /g," ").replace(/\xAD/g,""),e=e.replace(/\u200B/g,""),J.a.ib.xe||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},J.a.gr=function(e){var a=[];return J.a.Ad(e,a,!1),a.join("")},J.a.Ad=function(e,a,t){if(!(e.nodeName in J.a.Ue))if(e.nodeType==J.a.fa.cc)t?a.push((e.nodeValue+"").replace(/(\r\n|\r|\n)/g,"")):a.push(e.nodeValue);else if(e.nodeName in J.a.ac)a.push(J.a.ac[e.nodeName]);else for(e=e.firstChild;e;)J.a.Ad(e,a,t),e=e.nextSibling},J.a.bg=function(e){return J.a.pc(e).length},J.a.cg=function(a,t){t=t||J.a.Qa(a).body;for(var n=[];a&&a!=t;){for(var o=a;o=o.previousSibling;)n.unshift(J.a.pc(o));a=a.parentNode}return J.f.trimLeft(n.join("")).replace(/ +/g," ").length},J.a.ag=function(a,t,n){a=[a];for(var o=0,e=null;0<a.length&&o<t;)if(e=a.pop(),!(e.nodeName in J.a.Ue))if(e.nodeType==J.a.fa.cc){var r=e.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");o+=r.length}else if(e.nodeName in J.a.ac)o+=J.a.ac[e.nodeName].length;else for(r=e.childNodes.length-1;0<=r;r--)a.push(e.childNodes[r]);return J.ha(n)&&(n.Is=e?e.nodeValue.length+t-o-1:0,n.node=e),e},J.a.Md=function(e){if(e&&typeof e.length==w){if(J.ha(e))return typeof e.item==t||typeof e.item==A;if(J.ya(e))return typeof e.item==t}return!1},J.a.qd=function(a,t,n,o){if(!t&&!n)return null;var e=t?(t+"").toUpperCase():null;return J.a.pd(a,function(a){return(!e||a.nodeName==e)&&(!n||J.L(a.className)&&J.j.contains(a.className.split(/\s+/),n))},!0,o)},J.a.Kf=function(e,a,t){return J.a.qd(e,null,a,t)},J.a.pd=function(a,t,n,o){for(a&&!n&&(a=a.parentNode),n=0;a&&(null==o||n<=o);){if(t(a))return a;a=a.parentNode,n++}return null},J.a.Jf=function(e){try{return e&&e.activeElement}catch(e){}return null},J.a.er=function(){var e=J.a.tb();return J.R(e.devicePixelRatio)?e.devicePixelRatio:e.matchMedia?J.a.wc(3)||J.a.wc(2)||J.a.wc(1.5)||J.a.wc(1)||.75:1},J.a.wc=function(e){return J.a.tb().matchMedia("(min-resolution: "+e+"dppx),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+96*e+"dpi)").matches?e:0},J.a.Mf=function(e){return e.getContext("2d")},J.a.lb=function(e){this.X=e||J.global.document||document},b=J.a.lb.prototype,b.td=J.a.td,b.Dj=l("X"),b.ud=function(e){return J.a.xd(this.X,e)},b.Lj=function(e){return J.a.ig(this.X,e)},b.Bh=J.a.lb.prototype.ud,b.getElementsByTagName=function(e,a){return(a||this.X).getElementsByTagName(e+"")},b.yd=function(e,a,t){return J.a.nc(this.X,e,a,t)},b.Gj=function(e,a,t){return J.a.wd(this.X,e,a,t)},b.Rf=function(e,a){return J.a.Rf(e,a||this.X)},b.vd=function(e,a){return J.a.vd(e,a||this.X)},b.hg=function(e,a){return J.a.hg(e,a||this.X)},b.Ch=J.a.lb.prototype.yd,b.Jc=J.a.Jc,b.mg=function(e){return J.a.mg(e||this.tb())},b.Ej=function(){return J.a.rd(this.tb())},b.fd=function(){return J.a.sf(this.X,arguments)},b.Dh=J.a.lb.prototype.fd,b.createElement=function(e){return J.a.Oa(this.X,e)},b.createTextNode=function(e){return this.X.createTextNode(e+"")},b.hj=function(e,a,t){return J.a.tf(this.X,e,a,!!t)},b.eh=function(e){return J.a.fh(this.X,e)},b.dk=function(){return J.a.Ob(this.X)},b.tb=function(){return J.a.qc(this.X)},b.Fj=function(){return J.a.sd(this.X)},b.Pf=function(){return J.a.Qf(this.X)},b.Jf=function(e){return J.a.Jf(e||this.X)},b.appendChild=J.a.appendChild,b.append=J.a.append,b.canHaveChildren=J.a.canHaveChildren,b.Zd=J.a.Zd,b.vg=J.a.vg,b.ug=J.a.ug,b.tg=J.a.tg,b.removeNode=J.a.removeNode,b.dh=J.a.dh,b.Ff=J.a.Ff,b.Nf=J.a.Nf,b.Sf=J.a.Sf,b.Wf=J.a.Wf,b.Zf=J.a.Zf,b.fg=J.a.fg,b.$f=J.a.$f,b.gg=J.a.gg,b.Ld=J.a.Ld,b.Hd=J.a.Hd,b.Ng=J.a.Ng,b.eg=J.a.eg,b.contains=J.a.contains,b.mf=J.a.mf,b.Bf=J.a.Bf,b.Qa=J.a.Qa,b.Tf=J.a.Tf,b.Uf=J.a.Uf,b.ae=J.a.ae,b.dg=J.a.dg,b.Cf=J.a.Cf,b.Df=J.a.Df,b.Jd=J.a.Jd,b.jh=J.a.jh,b.Cg=J.a.Cg,b.pc=J.a.pc,b.bg=J.a.bg,b.cg=J.a.cg,b.ag=J.a.ag,b.Md=J.a.Md,b.qd=J.a.qd,b.Kf=J.a.Kf,b.pd=J.a.pd,b.Mf=J.a.Mf,J.bh={},J.bh.to=e(),J.Thenable=e(),J.Thenable.prototype.then=e(),J.Thenable.He="$goog_Thenable",J.Thenable.af=function(e){e.prototype.then=e.prototype.then,e.prototype[J.Thenable.He]=!0},J.Thenable.Dg=function(e){if(!e)return!1;try{return!!e[J.Thenable.He]}catch(e){return!1}},J.Promise=function(e,a){if(this.$=J.Promise.P.wa,this.ia=void 0,this.ob=this.Na=this.da=null,this.ld=!1,0<J.Promise.Wa?this.Oc=0:0==J.Promise.Wa&&(this.rc=!1),J.Promise.Aa&&(this.ee=[],h(this,Error("created")),this.vf=0),e!=J.eb)try{var t=this;e.call(a,function(e){m(t,J.Promise.P.Ja,e)},function(e){if(J.ea&&!(e instanceof J.Promise.kb))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}m(t,J.Promise.P.ka,e)})}catch(a){m(this,J.Promise.P.ka,a)}},J.Promise.Aa=!1,J.Promise.Wa=0,J.Promise.P={wa:0,Jh:1,Ja:2,ka:3},J.Promise.ze=function(){this.next=this.context=this.wb=this.Tb=this.Xa=null,this.dc=!1},J.Promise.ze.prototype.reset=function(){this.context=this.wb=this.Tb=this.Xa=null,this.dc=!1},J.Promise.Vc=100,J.Promise.Kb=new J.async.Zb(function(){return new J.Promise.ze},function(e){e.reset()},J.Promise.Vc),J.Promise.Lf=function(a,t,n){var o=J.Promise.Kb.get();return o.Tb=a,o.wb=t,o.context=n,o},J.Promise.Yk=function(e){J.Promise.Kb.put(e)},J.Promise.resolve=function(e){if(e instanceof J.Promise)return e;var a=new J.Promise(J.eb);return m(a,J.Promise.P.Ja,e),a},J.Promise.reject=function(e){return new J.Promise(function(a,t){t(e)})},J.Promise.Ec=function(e,a,t){J.Promise.Ug(e,a,t,null)||J.async.M(J.fb(a,e))},J.Promise.race=function(a){return new J.Promise(function(t,n){a.length||t(void 0);for(var o,r=0;r<a.length;r++)o=a[r],J.Promise.Ec(o,t,n)})},J.Promise.all=function(a){return new J.Promise(function(t,n){var o=a.length,e=[];if(o)for(var r,c=function(a,n){o--,e[a]=n,0==o&&t(e)},s=function(e){n(e)},i=0;i<a.length;i++)r=a[i],J.Promise.Ec(r,J.fb(c,i),s);else t(e)})},J.Promise.jp=function(a){return new J.Promise(function(t){var n=a.length,o=[];if(n)for(var e,r=function(e,a,r){n--,o[e]=a?{Bj:!0,value:r}:{Bj:!1,reason:r},0==n&&t(o)},l=0;l<a.length;l++)e=a[l],J.Promise.Ec(e,J.fb(r,l,!0),J.fb(r,l,!1));else t(o)})},J.Promise.Iq=function(a){return new J.Promise(function(t,n){var o=a.length,e=[];if(o)for(var r,c=function(e){t(e)},s=function(a,t){o--,e[a]=t,0==o&&n(e)},i=0;i<a.length;i++)r=a[i],J.Promise.Ec(r,c,J.fb(s,i));else t(void 0)})},J.Promise.Wt=function(){var e,a,t=new J.Promise(function(t,n){e=t,a=n});return new J.Promise.li(t,e,a)},J.Promise.prototype.then=function(e,a,t){return J.Promise.Aa&&h(this,Error("then")),g(this,J.ya(e)?e:null,J.ya(a)?a:null,t)},J.Thenable.af(J.Promise),J.Promise.prototype.cancel=function(e){this.$==J.Promise.P.wa&&J.async.M(function(){var a=new J.Promise.kb(e);s(this,a)},this)},J.Promise.prototype.Dl=function(e){this.$=J.Promise.P.wa,m(this,J.Promise.P.Ja,e)},J.Promise.prototype.El=function(e){this.$=J.Promise.P.wa,m(this,J.Promise.P.ka,e)},J.Promise.Ug=function(a,t,n,o){if(a instanceof J.Promise)return J.Promise.Aa&&h(a,Error("then")),i(a,J.Promise.Lf(t||J.eb,n||null,o)),!0;if(J.Thenable.Dg(a))return a.then(t,n,o),!0;if(J.ha(a))try{var e=a.then;if(J.ya(e))return J.Promise.Bl(a,e,t,n,o),!0}catch(e){return n.call(o,e),!0}return!1},J.Promise.Bl=function(a,t,n,o,e){function r(a){s||(s=!0,o.call(e,a))}function c(a){s||(s=!0,n.call(e,a))}var s=!1;try{t.call(a,c,r)}catch(e){r(e)}},J.Promise.prototype.vj=function(){for(var e;e=j(this);)J.Promise.Aa&&this.vf++,E(this,e,this.$,this.ia);this.ld=!1},J.Promise.xg=function(e,a,t){a==J.Promise.P.Ja?e.Tb.call(e.context,t):e.wb&&e.wb.call(e.context,t)},J.Promise.Ii=function(e,a){0<J.Promise.Wa?e.Oc=J.global.setTimeout(function(){d(e,a),J.Promise.sc.call(null,a)},J.Promise.Wa):0==J.Promise.Wa&&(e.rc=!0,J.async.M(function(){e.rc&&(d(e,a),J.Promise.sc.call(null,a))}))},J.Promise.sc=J.async.qh,J.Promise.st=function(e){J.Promise.sc=e},J.Promise.kb=function(e){J.debug.Error.call(this,e)},J.ab(J.Promise.kb,J.debug.Error),J.Promise.kb.prototype.name="cancel",J.Promise.li=function(e,a,t){this.bh=e,this.resolve=a,this.reject=t},J.async.w=function(e,a){this.Ic=[],this.ah=e,this.wf=a||null,this.ub=this.qb=!1,this.ia=void 0,this.be=this.Ti=this.bd=!1,this.Nc=0,this.da=null,this.ec=0,J.async.w.Aa&&(this.ed=null,Error.captureStackTrace&&(e={stack:""},Error.captureStackTrace(e,J.async.w),typeof e.stack==A&&(this.ed=e.stack.replace(/^[^\n]*\n/,""))))},J.async.w.vi=!1,J.async.w.Aa=!1,b=J.async.w.prototype,b.cancel=function(e){if(this.qb)this.ia instanceof J.async.w&&this.ia.cancel();else{if(this.da){var a=this.da;delete this.da,e?a.cancel(e):(a.ec--,0>=a.ec&&a.cancel())}this.ah?this.ah.call(this.wf,this):this.be=!0,this.qb||this.Za(new J.async.w.jb(this))}},b.rf=function(e,a){this.bd=!1,T(this,e,a)},b.Db=function(e){c(this),T(this,!0,e)},b.Za=function(e){c(this),P(this,e),T(this,!1,e)},b.then=function(a,t,n){var o,e,r=new J.Promise(function(a,t){o=a,e=t});return O(this,o,function(a){a instanceof J.async.w.jb?r.cancel():e(a)}),r.then(a,t,n)},J.Thenable.af(J.async.w),J.async.w.prototype.Vi=function(){var e=new J.async.w;return O(this,e.Db,e.Za,e),e.da=this,this.ec++,e},J.async.w.oh=function(e){var a=new J.async.w;return a.Db(e),a},J.async.w.Pq=function(e){var a=new J.async.w;return a.Db(),S(a,function(){return e}),a},J.async.w.ma=function(e){var a=new J.async.w;return a.Za(e),a},J.async.w.Qp=function(){var e=new J.async.w;return e.cancel(),e},J.async.w.Vt=function(e,a,t){return e instanceof J.async.w?S(e.Vi(),a,t):S(J.async.w.oh(e),a,t)},J.async.w.Wb=function(e){J.debug.Error.call(this),this.pb=e},J.ab(J.async.w.Wb,J.debug.Error),J.async.w.Wb.prototype.message="Deferred has already fired",J.async.w.Wb.prototype.name="AlreadyCalledError",J.async.w.jb=function(e){J.debug.Error.call(this),this.pb=e},J.ab(J.async.w.jb,J.debug.Error),J.async.w.jb.prototype.message="Deferred was canceled",J.async.w.jb.prototype.name="CanceledError",J.async.w.Fe=function(e){this.Mb=J.global.setTimeout(J.bind(this.ph,this),0),this.tj=e},J.async.w.Fe.prototype.ph=function(){throw delete J.async.w.Jb[this.Mb],this.tj},J.async.w.Jb={},J.async.w.kl=function(e){return e=new J.async.w.Fe(e),J.async.w.Jb[e.Mb]=e,e.Mb},J.async.w.Il=function(e){var a=J.async.w.Jb[e];a&&(J.global.clearTimeout(a.Mb),delete J.async.w.Jb[e])},J.async.w.Dp=function(){var e,a=J.async.w.Jb;for(e in a){var t=a[e];J.global.clearTimeout(t.Mb),t.ph()}},J.D={},J.D.F={},J.D.F.Zc="closure_verification",J.D.F.Th=5E3,J.D.F.$d=[],J.D.F.gl=function(a,t){function n(){var o=a.shift();return o=J.D.F.Fc(o,t),a.length&&O(o,n,n,void 0),o}if(!a.length)return J.async.w.oh(null);var o=J.D.F.$d.length;return(J.j.extend(J.D.F.$d,a),o)?J.D.F.hh:(a=J.D.F.$d,J.D.F.hh=n(),J.D.F.hh)},J.D.F.Fc=function(a,t){var o=t||{};t=o.document||document;var c=J.b.C.u(a),e=J.a.createElement(n),s={ih:e,sh:void 0},i=new J.async.w(J.D.F.Xi,s),d=null,l=J.cb(o.timeout)?o.timeout:J.D.F.Th;return 0<l&&(d=window.setTimeout(function(){J.D.F.gc(e,!0),i.Za(new J.D.F.Error(J.D.F.Yb.TIMEOUT,"Timeout reached for loading script "+c))},l),s.sh=d),e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&e.readyState!=r||(J.D.F.gc(e,o.Xp||!1,d),i.Db(null))},e.onerror=function(){J.D.F.gc(e,!0,d),i.Za(new J.D.F.Error(J.D.F.Yb.ei,"Error while loading script "+c))},s=o.attributes||{},J.object.extend(s,{type:B,charset:"UTF-8"}),J.a.Jc(e,s),J.a.S.ol(e,a),J.D.F.Mj(t).appendChild(e),i},J.D.F.Ws=function(a,t,n){J.global[J.D.F.Zc]||(J.global[J.D.F.Zc]={});var o=J.global[J.D.F.Zc],e=J.b.C.u(a);if(J.R(o[t]))return J.async.w.ma(new J.D.F.Error(J.D.F.Yb.Gi,"Verification object "+t+" already defined."));a=J.D.F.Fc(a,n);var r=new J.async.w(J.bind(a.cancel,a));return S(a,function(){var a=o[t];J.R(a)?(r.Db(a),delete o[t]):r.Za(new J.D.F.Error(J.D.F.Yb.Fi,"Script "+e+" loaded, but verification object "+t+" was not defined."))}),N(a,function(e){J.R(o[t])&&delete o[t],r.Za(e)}),r},J.D.F.Mj=function(e){var a=J.a.getElementsByTagName("HEAD",e);return!a||J.j.Qb(a)?e.documentElement:a[0]},J.D.F.Xi=function(){if(this&&this.ih){var e=this.ih;e&&e.tagName==n&&J.D.F.gc(e,!0,this.sh)}},J.D.F.gc=function(e,a,t){J.cb(t)&&J.global.clearTimeout(t),e.onload=J.eb,e.onerror=J.eb,e.onreadystatechange=J.eb,a&&window.setTimeout(function(){J.a.removeNode(e)},0)},J.D.F.Yb={ei:0,TIMEOUT:1,Fi:2,Gi:3},J.D.F.Error=function(e,a){var t="Jsloader error (code #"+e+")";a&&(t+=": "+a),J.debug.Error.call(this,t),this.code=e},J.ab(J.D.F.Error,J.debug.Error);var ee={G:{}};if(ee.G.H={},ee.G.H.Ba={},ee.G.H.Ba.rh=3E4,ee.G.H.Ba.js=function(e,a){return{format:e,Mi:a}},ee.G.H.Ba.Pj=function(e){return J.b.C.format(e.format,e.Mi)},ee.G.H.Ba.load=function(e,a){e=J.b.C.format(e,a);var t=J.D.F.Fc(e,{timeout:ee.G.H.Ba.rh,attributes:{async:!1,defer:!1}});return new Promise(function(e){S(t,e)})},ee.G.H.Ba.cs=function(e){if(e=J.j.map(e,ee.G.H.Ba.Pj),J.j.Qb(e))return Promise.resolve();var a={timeout:ee.G.H.Ba.rh,attributes:{async:!1,defer:!1}},t=[];return!J.userAgent.Y||J.userAgent.va(11)?J.j.forEach(e,function(e){t.push(J.D.F.Fc(e,a))}):t.push(J.D.F.gl(e,a)),Promise.all(J.j.map(t,function(e){return new Promise(function(a){return S(e,a)})}))},ee.G.H.T={},J.rb(u))throw Error("Google Charts loader.js can only be loaded once.");ee.G.H.T.Nl={41:y,42:y,43:y,44:y,1:"1.0","1.0":"current",1.1:"upcoming",current:"45.2",upcoming:"46"},ee.G.H.T.Kk=function(a){var t=a,n=a.match(/^testing-/);n&&(t=t.replace(/^testing-/,"")),a=t;do{var o=ee.G.H.T.Nl[t];o&&(t=o)}while(o);return n=(n?"testing-":"")+t,{version:t==y?a:n,Dk:n}},ee.G.H.T.yh=null,ee.G.H.T.Bk=function(e){var a=ee.G.H.T.Kk(e),t=J.f.I.from("https://www.gstatic.com/charts/%{version}/loader.js");return ee.G.H.Ba.load(t,{version:a.Dk}).then(function(){var t=J.rb("google.charts.loader.VersionSpecific.load")||J.rb("google.charts.loader.publicLoad")||J.rb("google.charts.versionSpecific.load");if(!t)throw Error("Bad version: "+e);ee.G.H.T.yh=function(n){if(n=t(a.version,n),null==n||null==n.then){var o=J.rb("google.charts.loader.publicSetOnLoadCallback")||J.rb("google.charts.versionSpecific.setOnLoadCallback");n=new Promise(function(e){o(e)}),n.then=o}return n}})},ee.G.H.T.Pd=null,ee.G.H.T.jc=null,ee.G.H.T.yk=function(e,a){return ee.G.H.T.Pd||(ee.G.H.T.Pd=ee.G.H.T.Bk(e)),ee.G.H.T.jc=ee.G.H.T.Pd.then(function(){return ee.G.H.T.yh(a)})},ee.G.H.T.nl=function(e){if(!ee.G.H.T.jc)throw Error("Must call google.charts.load before google.charts.setOnLoadCallback");return e?ee.G.H.T.jc.then(e):ee.G.H.T.jc},ee.G.load=function(){for(var a=[],t=0;t<arguments.length;++t)a[t-0]=arguments[t];t=0,"visualization"===a[t]&&t++;var n="current";J.L(a[t])&&(n=a[t],t++);var e={};return J.ha(a[t])&&(e=a[t]),ee.G.H.T.yk(n,e)},J.zf(u,ee.G.load),ee.G.ml=ee.G.H.T.nl,J.zf("google.charts.setOnLoadCallback",ee.G.ml)}).call(this);
!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(a,b){if("__setXHR_"===a){var c=b(this);c instanceof Function&&c(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.3",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(l,a,b){function i(c){function g(c){i.notify&&i.notify(c),j.progressFunc&&b(function(){j.progressFunc(c)})}function e(b){return null!=c._start&&f?{loaded:b.loaded+c._start,total:c._file&&c._file.size||b.total,type:b.type,config:c,lengthComputable:!0,target:b.target}:b}function h(){l(c).then(function(e){if(f&&c._chunkSize&&!c._finished&&c._file){var a=c._file&&c._file.size||0;g({loaded:Math.min(c._end,a),total:a,config:c,type:"progress"}),m.upload(c,!0)}else c._finished&&delete c._finished,i.resolve(e)},function(b){i.reject(b)},function(b){i.notify(b)})}c.method=c.method||"POST",c.headers=c.headers||{};var i=c._deferred=c._deferred||a.defer(),j=i.promise;return c.disableProgress||(c.headers.__setXHR_=function(){return function(b){b&&b.upload&&b.upload.addEventListener&&(c.__XHR=b,c.xhrFn&&c.xhrFn(b),b.upload.addEventListener("progress",function(b){b.config=c,g(e(b))},!1),b.upload.addEventListener("load",function(b){b.lengthComputable&&(b.config=c,g(e(b)))},!1))}}),f?c._chunkSize&&c._end&&!c._finished?(c._start=c._end,c._end+=c._chunkSize,h()):c.resumeSizeUrl?l.get(c.resumeSizeUrl).then(function(b){c._start=c.resumeSizeResponseReader?c.resumeSizeResponseReader(b.data):parseInt((null==b.data.size?b.data:b.data.size).toString()),c._chunkSize&&(c._end=c._start+c._chunkSize),h()},function(b){throw b}):c.resumeSize?c.resumeSize().then(function(b){c._start=b,c._chunkSize&&(c._end=c._start+c._chunkSize),h()},function(b){throw b}):(c._chunkSize&&(c._start=0,c._end=c._start+c._chunkSize),h()):h(),j.success=function(d){return j.then(function(a){d(a.data,a.status,a.headers,c)}),j},j.error=function(d){return j.then(null,function(a){d(a.data,a.status,a.headers,c)}),j},j.progress=function(c){return j.progressFunc=c,j.then(null,null,function(a){c(a)}),j},j.abort=j.pause=function(){return c.__XHR&&b(function(){c.__XHR.abort()}),j},j.xhr=function(d){return c.xhrFn=function(a){return function(){a&&a.apply(j,arguments),d.apply(j,arguments)}}(c.xhrFn),j},m.promisesCount++,j["finally"]&&j["finally"]instanceof Function&&j["finally"](function(){m.promisesCount--}),j}function d(d){var a={};for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);return a}var m=this;m.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var f=this.isResumeSupported();this.isUploadInProgress=function(){return 0<m.promisesCount},this.rename=function(c,a){return c.ngfName=a,c},this.jsonBlob=function(c){null==c||angular.isString(c)||(c=JSON.stringify(c));var a=new window.Blob([c],{type:"application/json"});return a._ngfBlob=!0,a},this.json=function(b){return angular.toJson(b)},this.isFile=function(b){return null!=b&&(b instanceof window.Blob||b.flashId&&b.name&&b.size)},this.upload=function(l,a){function j(a,b){if(a._ngfBlob)return a;if(l._file=l._file||a,null!=l._start&&f){l._end&&l._end>=a.size&&(l._finished=!0,l._end=a.size);var e=a.slice(l._start,l._end||a.size);return e.name=a.name,e.ngfName=a.ngfName,l._chunkSize&&(b.append("_chunkSize",l._chunkSize),b.append("_currentChunkSize",l._end-l._start),b.append("_chunkNumber",Math.floor(l._start/l._chunkSize)),b.append("_totalSize",l._file.size)),e}return a}function g(a,b,c){if(void 0!==b)if(angular.isDate(b)&&(b=b.toISOString()),angular.isString(b))a.append(c,b);else if(m.isFile(b)){var d=j(b,a),e=c.split(",");e[1]&&(d.ngfName=e[1].replace(/^\s+|\s+$/g,""),c=e[0]),l._fileKey=l._fileKey||c,a.append(c,d,d.ngfName||d.name)}else if(angular.isObject(b)){if(b.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+c;b.$$ngfCircularDetection=!0;try{for(var f in b)if(b.hasOwnProperty(f)&&"$$ngfCircularDetection"!==f){var h=null==l.objectKey?"[i]":l.objectKey;b.length&&-1<parseInt(f)&&(h=null==l.arrayKey?h:l.arrayKey),g(a,b[f],c+h.replace(/[ik]/g,f))}}finally{delete b.$$ngfCircularDetection}}else a.append(c,b)}return a||(l=d(l)),l._isDigested||(l._isDigested=!0,function(){l._chunkSize=m.translateScalars(l.resumeChunkSize),l._chunkSize=l._chunkSize?parseInt(l._chunkSize.toString()):null,l.headers=l.headers||{},l.headers["Content-Type"]=void 0,l.transformRequest=l.transformRequest?angular.isArray(l.transformRequest)?l.transformRequest:[l.transformRequest]:[],l.transformRequest.push(function(a){var b,c=new window.FormData;for(b in a=a||l.fields||{},l.file&&(a.file=l.file),a)if(a.hasOwnProperty(b)){var d=a[b];l.formDataAppender?l.formDataAppender(c,b,d):g(c,d,b)}return c})}()),i(l)},this.http=function(a){return a=d(a),a.transformRequest=a.transformRequest||function(a){return window.ArrayBuffer&&a instanceof window.ArrayBuffer||a instanceof window.Blob?a:l.defaults.transformRequest[0].apply(this,arguments)},a._chunkSize=m.translateScalars(a.resumeChunkSize),a._chunkSize=a._chunkSize?parseInt(a._chunkSize.toString()):null,i(a)},this.translateScalars=function(b){if(angular.isString(b)){if(b.search(/kb/i)===b.length-2)return parseFloat(1024*b.substring(0,b.length-2));if(b.search(/mb/i)===b.length-2)return parseFloat(1048576*b.substring(0,b.length-2));if(b.search(/gb/i)===b.length-2)return parseFloat(1073741824*b.substring(0,b.length-2));if(b.search(/b/i)===b.length-1)return parseFloat(b.substring(0,b.length-1));if(b.search(/s/i)===b.length-1)return parseFloat(b.substring(0,b.length-1));if(b.search(/m/i)===b.length-1)return parseFloat(60*b.substring(0,b.length-1));if(b.search(/h/i)===b.length-1)return parseFloat(3600*b.substring(0,b.length-1))}return b},this.urlToBlob=function(h){var i=a.defer();return l({url:h,method:"get",responseType:"arraybuffer"}).then(function(c){var a=new Uint8Array(c.data),b=c.headers("content-type")||"image/WebP",d=new window.Blob([a],{type:b}),f=h.match(/.*\/(.+?)(\?.*)?$/);1<f.length&&(d.name=f[1]),i.resolve(d)},function(b){i.reject(b)}),i.promise},this.setDefaults=function(b){this.defaults=b||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(q,y,a,j,b){function c(d,a,b){var c=[A.emptyPromise()];return angular.forEach(d,function(e,g){0===e.type.indexOf("image/jpeg")&&A.attrGetter("ngfFixOrientation",a,b,{$file:e})&&c.push(A.happyPromise(A.applyExifRotation(e),e).then(function(a){d.splice(g,1,a)}))}),j.all(c)}function f(h,a,b){var c=A.attrGetter("ngfResize",a,b);if(!c||!A.isResizeSupported()||!h.length)return A.emptyPromise();if(!(c instanceof Function))return g(c,h,a,b);var d=j.defer();c(h).then(function(c){g(c,h,a,b).then(function(b){d.resolve(b)},function(b){d.reject(b)})},function(b){d.reject(b)})}function g(i,d,k,c){function a(e,g){if(0===e.type.indexOf("image")){if(i.pattern&&!A.validatePattern(e,i.pattern))return;i.resizeIf=function(f,g){return A.attrGetter("ngfResizeIf",k,c,{$width:f,$height:g,$file:e})};var a=A.resize(e,i);b.push(a),a.then(function(b){d.splice(g,1,b)},function(b){e.$error="resize",e.$errorParam=(b?(b.message?b.message:b)+": ":"")+(e&&e.name)})}}for(var b=[A.emptyPromise()],e=0;e<d.length;e++)a(d[e],e);return j.all(b)}var A=b;return A.getAttrWithDefaults=function(d,a){if(null!=d[a])return d[a];var b=A.defaults[a];return null==b?b:angular.isString(b)?b:JSON.stringify(b)},A.attrGetter=function(a,b,c,g){var e=this.getAttrWithDefaults(b,a);if(!c)return e;try{return g?q(e)(c,g):q(e)(c)}catch(b){if(a.search(/min|max|pattern/i))return e;throw b}},A.shouldUpdateOn=function(e,a,b){var c=A.attrGetter("ngfModelOptions",a,b);return c&&c.updateOn?-1<c.updateOn.split(" ").indexOf(e):!0},A.emptyPromise=function(){var b=j.defer(),a=arguments;return y(function(){b.resolve.apply(b,a)}),b.promise},A.rejectPromise=function(){var b=j.defer(),a=arguments;return y(function(){b.reject.apply(b,a)}),b.promise},A.happyPromise=function(b,d){var c=j.defer();return b.then(function(b){c.resolve(b)},function(b){y(function(){throw b}),c.resolve(d)}),c.promise},A.updateModel=function(b,i,d,a,e,h,g){function l(c,e,r,s,t){i.$$ngfPrevValidFiles=c,i.$$ngfPrevInvalidFiles=e;var u=c&&c.length?c[0]:null,v=e&&e.length?e[0]:null;b&&(A.applyModelValidation(b,c),b.$setViewValue(t?u:c)),a&&q(a)(d,{$files:c,$file:u,$newFiles:r,$duplicateFiles:s,$invalidFiles:e,$invalidFile:v,$event:h});var w=A.attrGetter("ngfModelInvalid",i);w&&y(function(){q(w).assign(d,t?v:e)}),y(function(){})}function m(){function c(){y(function(){l(v?o.concat(u):u,v?p.concat(s):s,e,r,B)},C&&C.debounce?C.debounce.change||C.debounce:0)}f(x?n:u,i,d).then(function(){x?A.validate(n,v?o.length:0,b,i,d).then(function(a){u=a.validsFiles,s=a.invalidsFiles,c()}):c()},function(b){throw"Could not resize files "+b})}var n,o,p,r=[],s=[],u=[];o=i.$$ngfPrevValidFiles||[],p=i.$$ngfPrevInvalidFiles||[],b&&b.$modelValue&&(o=function(b){return angular.isArray(b)?b:[b]}(b.$modelValue));var v=A.attrGetter("ngfKeep",i,d);n=(e||[]).slice(0),("distinct"===v||!0===A.attrGetter("ngfKeepDistinct",i,d))&&function(){function d(c,d){return c.name===d.name&&(c.$ngfOrigSize||c.size)===(d.$ngfOrigSize||d.size)&&c.type===d.type}function a(a){var e;for(e=0;e<o.length;e++)if(d(a,o[e]))return!0;for(e=0;e<p.length;e++)if(d(a,p[e]))return!0;return!1}if(e){n=[],r=[];for(var b=0;b<e.length;b++)a(e[b])?r.push(e[b]):n.push(e[b])}}(i,d);var B=!v&&!A.attrGetter("ngfMultiple",i,d)&&!A.attrGetter("multiple",i);if(!v||n.length){A.attrGetter("ngfBeforeModelChange",i,d,{$files:e,$file:e&&e.length?e[0]:null,$newFiles:n,$duplicateFiles:r,$event:h});var x=A.attrGetter("ngfValidateAfterResize",i,d),C=A.attrGetter("ngfModelOptions",i,d);A.validate(n,v?o.length:0,b,i,d).then(function(b){g?l(n,[],e,r,B):(C&&C.allowInvalid||x?u=n:(u=b.validFiles,s=b.invalidFiles),A.attrGetter("ngfFixOrientation",i,d)&&A.isExifSupported()?c(u,i,d).then(function(){m()}):m())})}},A}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(j,a,b,k){function h(d){var a=d.match(/Android[^\d]*(\d+)\.(\d+)/);if(a&&2<a.length){var b=k.defaults.androidFixMinorVersion||4;return 4>parseInt(a[1])||parseInt(a[1])===b&&parseInt(a[2])<b}return-1===d.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(d)}function c(o,e,p,a,c,g,x,i){function j(){return"input"===e[0].tagName.toLowerCase()&&p.type&&"file"===p.type.toLowerCase()}function k(){return s("ngfChange")||s("ngfSelect")}function l(c){if(i.shouldUpdateOn("change",p,o)){var b=c.__files_||c.target&&c.target.files,d=[];if(!b)return;for(var f=0;f<b.length;f++)d.push(b[f]);i.updateModel(a,p,o,k(),d.length?d:null,c)}}function m(b){for(var a,d=0;d<e[0].attributes.length;d++)a=e[0].attributes[d],"type"!==a.name&&"class"!==a.name&&"style"!==a.name&&((null==a.value||""===a.value)&&("required"===a.name&&(a.value="required"),"multiple"===a.name&&(a.value="multiple")),b.attr(a.name,"id"===a.name?"ngf-"+a.value:a.value))}function n(d){var a=d.changedTouches||d.originalEvent&&d.originalEvent.changedTouches;if("touchstart"===d.type)return u=a?a[0].clientY:0,!0;if(d.stopPropagation(),d.preventDefault(),"touchend"===d.type){var b=a?a[0].clientY:0;if(20<Math.abs(b-u))return!1}}function q(c){i.shouldUpdateOn("click",p,o)&&v.val()&&(v.val(null),i.updateModel(a,p,o,k(),null,c,!0))}function r(c){if(v&&!v.attr("__ngf_ie10_Fix_")){if(!v[0].parentNode)return void(v=null);c.preventDefault(),c.stopPropagation(),v.unbind("click");var a=v.clone();return v.replaceWith(a),v=a,v.attr("__ngf_ie10_Fix_","true"),v.bind("change",l),v.bind("click",r),v[0].click(),!1}v.removeAttr("__ngf_ie10_Fix_")}var s=function(c,a){return i.attrGetter(c,p,a)};i.registerModelChangeValidator(a,p,o);var t=[];s("ngfMultiple")&&t.push(o.$watch(s("ngfMultiple"),function(){v.attr("multiple",s("ngfMultiple",o))})),s("ngfCapture")&&t.push(o.$watch(s("ngfCapture"),function(){v.attr("capture",s("ngfCapture",o))})),s("ngfAccept")&&t.push(o.$watch(s("ngfAccept"),function(){v.attr("accept",s("ngfAccept",o))})),p.$observe("accept",function(){v.attr("accept",s("accept"))}),t.push(function(){p.$$observers&&delete p.$$observers.accept});var u=0,v=e;j()||(v=function(){if(j())return e;var f=angular.element("<input type=\"file\">");m(f);var a=angular.element("<label>upload</label>");return a.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),e.attr("id")&&a.attr("id","ngf-label-"+e.attr("id")),d.push({el:e,ref:a}),document.body.appendChild(a.append(f)[0]),f}()),v.bind("change",l),j()?e.bind("click",q):e.bind("click touchstart touchend",function(a){if(e.attr("disabled"))return!1;if(!s("ngfSelectDisabled",o)){var c=n(a);if(null!=c)return c;q(a);try{j()||document.body.contains(v[0])||(d.push({el:e,ref:v.parent()}),document.body.appendChild(v.parent()[0]),v.bind("change",l))}catch(a){}return h(navigator.userAgent)?setTimeout(function(){v[0].click()},0):v[0].click(),!1}}),-1!==navigator.appVersion.indexOf("MSIE 10")&&v.bind("click",r),a&&a.$formatters.push(function(b){return(null==b||0===b.length)&&v.val()&&v.val(null),b}),o.$on("$destroy",function(){j()||v.parent().remove(),angular.forEach(t,function(b){b()})}),g(function(){for(var c,b=0;b<d.length;b++)c=d[b],document.body.contains(c.el[0])||(d.splice(b,1),c.ref.remove())}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(e,v,l)}var d=[];return{restrict:"AEC",require:"?ngModel",link:function(d,e,f,g){c(d,e,f,g,j,a,b,k)}}}]),function(){function m(b){return"img"===b.tagName.toLowerCase()?"image":"audio"===b.tagName.toLowerCase()?"audio":"video"===b.tagName.toLowerCase()?"video":/./}function h(n,k,l,d,o,a,e,f){function g(c){var a=n.attrGetter("ngfNoObjectUrl",o,l);n.dataUrl(c,a)["finally"](function(){k(function(){var e=(a?c.$ngfDataUrl:c.$ngfBlobUrl)||c.$ngfDataUrl;f?d.css("background-image","url('"+(e||"")+"')"):d.attr("src",e),e?d.removeClass("ng-hide"):d.addClass("ng-hide")})})}k(function(){var b=l.$watch(o[a],function(b){var h=e;if("ngfThumbnail"===a&&(h||(h={width:d[0].clientWidth,height:d[0].clientHeight}),0===h.width&&window.getComputedStyle)){var j=getComputedStyle(d[0]);h={width:parseInt(j.width.slice(0,-2)),height:parseInt(j.height.slice(0,-2))}}return angular.isString(b)?(d.removeClass("ng-hide"),f?d.css("background-image","url('"+b+"')"):d.attr("src",b)):void(b&&b.type&&0===b.type.search(m(d[0]))&&(!f||0===b.type.indexOf("image"))?h&&n.isResizeSupported()?(h.resizeIf=function(d,f){return n.attrGetter("ngfResizeIf",o,l,{$width:d,$height:f,$file:b})},n.resize(b,h).then(function(b){g(b)},function(b){throw b})):g(b):d.addClass("ng-hide"))});l.$on("$destroy",function(){b()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,h,i){var j=e;return j.base64DataUrl=function(d){if(angular.isArray(d)){var a=i.defer(),b=0;return angular.forEach(d,function(e){j.dataUrl(e,!0)["finally"](function(){if(b++,b===d.length){var e=[];angular.forEach(d,function(b){e.push(b.$ngfDataUrl)}),a.resolve(e,d)}})}),a.promise}return j.dataUrl(d,!0)},j.dataUrl=function(d,b){if(!d)return j.emptyPromise(d,d);if(b&&null!=d.$ngfDataUrl||!b&&null!=d.$ngfBlobUrl)return j.emptyPromise(b?d.$ngfDataUrl:d.$ngfBlobUrl,d);var c=b?d.$$ngfDataUrlPromise:d.$$ngfBlobUrlPromise;if(c)return c;var k=i.defer();return h(function(){if(window.FileReader&&d&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||2e4>d.size)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||4e6>d.size)){var a=window.URL||window.webkitURL;if(a&&a.createObjectURL&&!b){var c;try{c=a.createObjectURL(d)}catch(a){return void h(function(){d.$ngfBlobUrl="",k.reject()})}h(function(){if(d.$ngfBlobUrl=c,c){k.resolve(c,d),j.blobUrls=j.blobUrls||[],j.blobUrlsTotalSize=j.blobUrlsTotalSize||0,j.blobUrls.push({url:c,size:d.size}),j.blobUrlsTotalSize+=d.size||0;for(var g,h=j.defaults.blobUrlsMaxMemory||268435456,b=j.defaults.blobUrlsMaxQueueSize||200;(j.blobUrlsTotalSize>h||j.blobUrls.length>b)&&1<j.blobUrls.length;)g=j.blobUrls.splice(0,1)[0],a.revokeObjectURL(g.url),j.blobUrlsTotalSize-=g.size}})}else{var g=new FileReader;g.onload=function(a){h(function(){d.$ngfDataUrl=a.target.result,k.resolve(a.target.result,d),h(function(){delete d.$ngfDataUrl},1e3)})},g.onerror=function(){h(function(){d.$ngfDataUrl="",k.reject()})},g.readAsDataURL(d)}}else h(function(){d[b?"$ngfDataUrl":"$ngfBlobUrl"]="",k.reject()})}),c=b?d.$$ngfDataUrlPromise=k.promise:d.$$ngfBlobUrlPromise=k.promise,c["finally"](function(){delete d[b?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),c},j}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(b,a){return{restrict:"AE",link:function(c,d,e){h(b,a,c,d,e,"ngfSrc",b.attrGetter("ngfResize",e,c),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(b,a){return{restrict:"AE",link:function(c,d,e){h(b,a,c,d,e,"ngfBackground",b.attrGetter("ngfResize",e,c),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(b,a){return{restrict:"AE",link:function(c,d,e){var f=b.attrGetter("ngfSize",e,c);h(b,a,c,d,e,"ngfThumbnail",f,b.attrGetter("ngfAsBackground",e,c))}}}]),ngFileUpload.config(["$compileProvider",function(b){b.imgSrcSanitizationWhitelist&&b.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),b.aHrefSanitizationWhitelist&&b.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(g,a){return function(b,c,d){if(angular.isString(b))return a.trustAsResourceUrl(b);var e=b&&((c?b.$ngfDataUrl:b.$ngfBlobUrl)||b.$ngfDataUrl);return b&&!e?(!b.$ngfDataUrlFilterInProgress&&angular.isObject(b)&&(b.$ngfDataUrlFilterInProgress=!0,g.dataUrl(b,c)),""):(b&&delete b.$ngfDataUrlFilterInProgress,(b&&e?d?a.trustAsResourceUrl(e):e:b)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(g,s,b){function i(d){var a="",h=[];if(2<d.length&&"/"===d[0]&&"/"===d[d.length-1])a=d.substring(1,d.length-1);else{var j=d.split(",");if(1<j.length)for(var e,g=0;g<j.length;g++)e=i(j[g]),e.regexp?(a+="("+e.regexp+")",g<j.length-1&&(a+="|")):h=h.concat(e.excludes);else 0===d.indexOf("!")?h.push("^((?!"+i(d.substring(1)).regexp+").)*$"):(0===d.indexOf(".")&&(d="*"+d),a="^"+d.replace(/[.\\+*?\[\^\]$(){}=!<>|:\-]/g,"\\$&")+"$",a=a.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:a,excludes:h}}function c(c,a){null==a||c.$dirty||(c.$setDirty?c.$setDirty():c.$dirty=!0)}var t=g;return t.validatePattern=function(d,a){if(!a)return!0;var j=i(a),c=!0;if(j.regexp&&j.regexp.length){var e=new RegExp(j.regexp,"i");c=null!=d.type&&e.test(d.type)||null!=d.name&&e.test(d.name)}for(var f,h=j.excludes.length;h--;)f=new RegExp(j.excludes[h],"i"),c=c&&(null==d.type||f.test(d.type))&&(null==d.name||f.test(d.name));return c},t.ratioToFloat=function(d){var a=d.toString(),b=a.search(/[x:]/i);return a=-1<b?parseFloat(a.substring(0,b))/parseFloat(a.substring(b+1)):parseFloat(a)},t.registerModelChangeValidator=function(e,a,b){e&&e.$formatters.push(function(c){e.$dirty&&(c&&!angular.isArray(c)&&(c=[c]),t.validate(c,0,e,a,b).then(function(){t.applyModelValidation(e,c)}))})},t.applyModelValidation=function(d,a){c(d,a),angular.forEach(d.$ngfValidations,function(a){d.$setValidity(a.name,a.valid)})},t.getValidationAttr=function(f,a,b,c,d){var j="ngf"+b[0].toUpperCase()+b.substr(1),g=t.attrGetter(j,f,a,{$file:d});if(null==g&&(g=t.attrGetter("ngfValidate",f,a,{$file:d}))){var h=(c||b).split(".");g=g[h[0]],1<h.length&&(g=g&&g[h[1]])}return g},t.validate=function(u,f,q,r,e){function c(a,d,c){if(u){for(var f,g=u.length,i=null;g--;)if(f=u[g],f){var m=t.getValidationAttr(r,e,a,d,f);null!=m&&(c(f,m,g)||(-1===v.indexOf(a)?(f.$error=a,(f.$errorMessages=f.$errorMessages||{})[a]=!0,f.$errorParam=m,-1===l.indexOf(f)&&l.push(f),k||u.splice(g,1)):u.splice(g,1),i=!1))}null!==i&&q.$ngfValidations.push({name:a,valid:i})}}function b(j,b,f,a,d){function h(c,b,h){function e(a){a()?(-1===v.indexOf(j)?(b.$error=j,(b.$errorMessages=b.$errorMessages||{})[j]=!0,b.$errorParam=h,-1===l.indexOf(b)&&l.push(b),k||u.splice(u.indexOf(b),1)):u.splice(u.indexOf(b),1),c.resolve(!1)):c.resolve(!0)}null==h?c.resolve(!0):a(b,h).then(function(b){e(function(){return!d(b,h)})},function(){e(function(){return g("ngfValidateForce",{$file:b})})})}var m=[t.emptyPromise()];u&&(u=void 0===u.length?[u]:u,angular.forEach(u,function(c){var i=s.defer();return m.push(i.promise),f&&(null==c.type||0!==c.type.search(f))?void i.resolve(!0):void("dimensions"===j&&null!=t.attrGetter("ngfDimensions",r)?t.imageDimensions(c).then(function(d){h(i,c,g("ngfDimensions",{$file:c,$width:d.width,$height:d.height}))},function(){i.resolve(!1)}):"duration"===j&&null!=t.attrGetter("ngfDuration",r)?t.mediaDuration(c).then(function(d){h(i,c,g("ngfDuration",{$file:c,$duration:d}))},function(){i.resolve(!1)}):h(i,c,t.getValidationAttr(r,e,j,b,c)))}));var n=s.defer();return s.all(m).then(function(b){b?(q.$ngfValidations.push({name:j,valid:!0}),n.resolve(!0)):(q.$ngfValidations.push({name:j,valid:!1}),n.resolve(!1))}),n.promise}q=q||{},q.$ngfValidations=q.$ngfValidations||[],angular.forEach(q.$ngfValidations,function(b){b.valid=!0});var g=function(c,a){return t.attrGetter(c,r,e,a)},v=(t.attrGetter("ngfIgnoreInvalid",r,e)||"").split(" "),k=t.attrGetter("ngfRunAllValidations",r,e);if(null==u||0===u.length)return t.emptyPromise({validFiles:u,invalidFiles:[]});u=void 0===u.length?[u]:u.slice(0);var l=[];c("pattern",null,t.validatePattern),c("minSize","size.min",function(c,a){return c.size+.1>=t.translateScalars(a)}),c("maxSize","size.max",function(c,a){return c.size-.1<=t.translateScalars(a)});var d=0;if(c("maxTotalSize",null,function(a,b){return d+=a.size,!(d>t.translateScalars(b))||(u.splice(0,u.length),!1)}),c("validateFn",null,function(c,a){return!0===a||null===a||""===a}),!u.length)return t.emptyPromise(q,q.$ngfValidations);var h=s.defer(),i=[];return i.push(b("maxHeight","height.max",/image/,this.imageDimensions,function(c,a){return c.height<=a})),i.push(b("minHeight","height.min",/image/,this.imageDimensions,function(c,a){return c.height>=a})),i.push(b("maxWidth","width.max",/image/,this.imageDimensions,function(c,a){return c.width<=a})),i.push(b("minWidth","width.min",/image/,this.imageDimensions,function(c,a){return c.width>=a})),i.push(b("dimensions",null,/image/,function(c,a){return t.emptyPromise(a)},function(b){return b})),i.push(b("ratio",null,/image/,this.imageDimensions,function(f,a){for(var b=a.toString().split(","),c=!1,d=0;d<b.length;d++).01>Math.abs(f.width/f.height-t.ratioToFloat(b[d]))&&(c=!0);return c})),i.push(b("maxRatio","ratio.max",/image/,this.imageDimensions,function(c,a){return 1e-4>c.width/c.height-t.ratioToFloat(a)})),i.push(b("minRatio","ratio.min",/image/,this.imageDimensions,function(c,a){return-1e-4<c.width/c.height-t.ratioToFloat(a)})),i.push(b("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(c,a){return c<=t.translateScalars(a)})),i.push(b("minDuration","duration.min",/audio|video/,this.mediaDuration,function(c,a){return c>=t.translateScalars(a)})),i.push(b("duration",null,/audio|video/,function(c,a){return t.emptyPromise(a)},function(b){return b})),i.push(b("validateAsyncFn",null,null,function(c,a){return a},function(b){return!0===b||null===b||""===b})),s.all(i).then(function(){if(k)for(var e,d=0;d<u.length;d++)e=u[d],e.$error&&u.splice(d--,1);k=!1,c("maxFiles",null,function(c,a,b){return a>f+b}),h.resolve({validFiles:u,invalidFiles:l})}),h.promise},t.imageDimensions=function(f){if(f.$ngfWidth&&f.$ngfHeight){var a=s.defer();return b(function(){a.resolve({width:f.$ngfWidth,height:f.$ngfHeight})}),a.promise}if(f.$ngfDimensionPromise)return f.$ngfDimensionPromise;var d=s.defer();return b(function(){return 0===f.type.indexOf("image")?void t.dataUrl(f).then(function(a){function c(){var a=g[0].clientWidth,e=g[0].clientHeight;g.remove(),f.$ngfWidth=a,f.$ngfHeight=e,d.resolve({width:a,height:e})}function e(){g.remove(),d.reject("load error")}function j(){b(function(){g[0].parentNode&&(g[0].clientWidth?c():10<h?e():j())},1e3)}var g=angular.element("<img>").attr("src",a).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");g.on("load",c),g.on("error",e);var h=0;j(),angular.element(document.getElementsByTagName("body")[0]).append(g)},function(){d.reject("load error")}):void d.reject("not image")}),f.$ngfDimensionPromise=d.promise,f.$ngfDimensionPromise["finally"](function(){delete f.$ngfDimensionPromise}),f.$ngfDimensionPromise},t.mediaDuration=function(c){if(c.$ngfDuration){var a=s.defer();return b(function(){a.resolve(c.$ngfDuration)}),a.promise}if(c.$ngfDurationPromise)return c.$ngfDurationPromise;var d=s.defer();return b(function(){return 0!==c.type.indexOf("audio")&&0!==c.type.indexOf("video")?void d.reject("not media"):void t.dataUrl(c).then(function(a){function e(){var a=g[0].duration;c.$ngfDuration=a,g.remove(),d.resolve(a)}function j(){g.remove(),d.reject("load error")}function f(){b(function(){g[0].parentNode&&(g[0].duration?e():10<h?j():f())},1e3)}var g=angular.element(0===c.type.indexOf("audio")?"<audio>":"<video>").attr("src",a).css("visibility","none").css("position","fixed");g.on("loadedmetadata",e),g.on("error",j);var h=0;f(),angular.element(document.body).append(g)},function(){d.reject("load error")})}),c.$ngfDurationPromise=d.promise,c.$ngfDurationPromise["finally"](function(){delete c.$ngfDurationPromise}),c.$ngfDurationPromise},t}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(f,o){var k=Math.min,g=f,c=function(g,a,b,c,d){var e=d?Math.max(b/g,c/a):k(b/g,c/a);return{width:g*e,height:a*e,marginX:g*e-b,marginY:a*e-c}},h=function(b,d,e,f,p,h,i,j){var t=o.defer(),l=document.createElement("canvas"),m=document.createElement("img");return m.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(m),m.onload=function(){var n=m.width,a=m.height;if(m.parentNode.removeChild(m),null!=j&&!1===j(n,a))return void t.reject("resizeIf");try{if(h){var b=g.ratioToFloat(h);b>n/a?(d=n,e=d/b):(e=a,d=e*b)}d||(d=n),e||(e=a);var o=c(n,a,d,e,i);l.width=k(o.width,d),l.height=k(o.height,e);var q=l.getContext("2d");q.drawImage(m,k(0,-o.marginX/2),k(0,-o.marginY/2),o.width,o.height),t.resolve(l.toDataURL(p||"image/WebP",f||.934))}catch(a){t.reject(a)}},m.onerror=function(){m.parentNode.removeChild(m),t.reject()},m.src=b,t.promise};return g.dataUrltoBlob=function(j,a,b){for(var c=j.split(","),d=c[0].match(/:(.*?);/)[1],k=atob(c[1]),f=k.length,g=new Uint8Array(f);f--;)g[f]=k.charCodeAt(f);var h=new window.Blob([g],{type:d});return h.name=a,h.$ngfOrigSize=b,h},g.isResizeSupported=function(){var b=document.createElement("canvas");return window.atob&&b.getContext&&b.getContext("2d")&&window.Blob},g.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(b){this.$ngfName=b},configurable:!0}),g.resize=function(c,a){if(0!==c.type.indexOf("image"))return g.emptyPromise(c);var d=o.defer();return g.dataUrl(c,!0).then(function(f){h(f,a.width,a.height,a.quality,a.type||c.type,a.ratio,a.centerCrop,a.resizeIf).then(function(b){if("image/jpeg"===c.type&&!1!==a.restoreExif)try{b=g.restoreExif(f,b)}catch(a){setTimeout(function(){throw a},1)}try{var e=g.dataUrltoBlob(b,c.name,c.size);d.resolve(e)}catch(a){d.reject(a)}},function(a){"resizeIf"===a&&d.resolve(c),d.reject(a)})},function(b){d.reject(b)}),d.promise},g}]),function(){function l(x,y,z,d,b,c,A,B,e,i){function g(){return y.attr("disabled")||C("ngfDropDisabled",x)}function h(a,b){B.updateModel(d,z,x,C("ngfChange")||C("ngfDrop"),a,b)}function j(a,b){if(!B.shouldUpdateOn(a,z,x)||"string"!=typeof b)return B.rejectPromise([]);var d=[];b.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,a,b){d.push(b)});var e=[],f=[];if(d.length){angular.forEach(d,function(b){e.push(B.urlToBlob(b).then(function(b){f.push(b)}))});var g=i.defer();return i.all(e).then(function(){g.resolve(f)},function(b){g.reject(b)}),g.promise}return B.emptyPromise()}function f(i,a,b,k){var d=C("ngfDragOverClass",i,{$event:b}),e="dragover";if(angular.isString(d))e=d;else if(d&&(d.delay&&(p=d.delay),d.accept||d.reject)){var f=b.dataTransfer.items;if(null!=f&&f.length)for(var g=d.pattern||C("ngfPattern",i,{$event:b}),h=f.length;h--;){if(!B.validatePattern(f[h],g)){e=d.reject;break}e=d.accept}else e=d.accept}k(e)}function k(a,b,c,d){function h(g,o){var b=i.defer();if(null!=g)if(g.isDirectory){var a=[B.emptyPromise()];if(l){var c={type:"directory"};c.name=c.path=(o||"")+g.name,m.push(c)}var d=g.createReader(),f=[],q=function(){d.readEntries(function(c){try{c.length?(f=f.concat(Array.prototype.slice.call(c||[],0)),q()):(angular.forEach(f.slice(0),function(b){m.length<=k&&j>=n&&a.push(h(b,(o?o:"")+g.name+"/"))}),i.all(a).then(function(){b.resolve()},function(c){b.reject(c)}))}catch(a){b.reject(a)}},function(c){b.reject(c)})};q()}else g.file(function(c){try{c.path=(o?o:"")+c.name,l&&(c=B.rename(c,c.path)),m.push(c),n+=c.size,b.resolve()}catch(a){b.reject(a)}},function(c){b.reject(c)});return b.promise}var g=Number.MAX_VALUE,k=B.getValidationAttr(z,x,"maxFiles");null==k&&(k=g);var j=B.getValidationAttr(z,x,"maxTotalSize");null==j&&(j=g);var l=C("ngfIncludeDir",x),m=[],n=0,o=[B.emptyPromise()];if(a&&0<a.length&&"file:"!==A.location.protocol)for(var r=0;r<a.length;r++){if(a[r].webkitGetAsEntry&&a[r].webkitGetAsEntry()&&a[r].webkitGetAsEntry().isDirectory){var q=a[r].webkitGetAsEntry();if(q.isDirectory&&!c)continue;null!=q&&o.push(h(q))}else{var s=a[r].getAsFile();null!=s&&(m.push(s),n+=s.size)}if(m.length>k||n>j||!d&&0<m.length)break}else if(null!=b)for(var t,v=0;v<b.length&&(t=b.item(v),(t.type||0<t.size)&&(m.push(t),n+=t.size),!(m.length>k||n>j||!d&&0<m.length));v++);var u=i.defer();return i.all(o).then(function(){if(d||l||!m.length)u.resolve(m);else{for(var b=0;m[b]&&"directory"===m[b].type;)b++;u.resolve([m[b]])}},function(b){u.reject(b)}),u.promise}var l=w(),C=function(d,a,b){return B.attrGetter(d,z,a,b)};if(C("dropAvailable")&&c(function(){x[C("dropAvailable")]?x[C("dropAvailable")].value=l:x[C("dropAvailable")]=l}),!l)return void(!0===C("ngfHideOnDropNotAvailable",x)&&y.css("display","none"));null==C("ngfSelect")&&B.registerModelChangeValidator(d,z,x);var m,n=null,o=b(C("ngfStopPropagation")),p=1;y[0].addEventListener("dragover",function(a){if(!g()&&B.shouldUpdateOn("drop",z,x)){if(a.preventDefault(),o(x)&&a.stopPropagation(),-1<navigator.userAgent.indexOf("Chrome")){var d=a.dataTransfer.effectAllowed;a.dataTransfer.dropEffect="move"===d||"linkMove"===d?"move":"copy"}c.cancel(n),m||(m="C",f(x,z,a,function(c){m=c,y.addClass(m),C("ngfDrag",x,{$isDragging:!0,$class:m,$event:a})}))}},!1),y[0].addEventListener("dragenter",function(a){!g()&&B.shouldUpdateOn("drop",z,x)&&(a.preventDefault(),o(x)&&a.stopPropagation())},!1),y[0].addEventListener("dragleave",function(a){!g()&&B.shouldUpdateOn("drop",z,x)&&(a.preventDefault(),o(x)&&a.stopPropagation(),n=c(function(){m&&y.removeClass(m),m=null,C("ngfDrag",x,{$isDragging:!1,$event:a})},p||100))},!1),y[0].addEventListener("drop",function(c){if(!g()&&B.shouldUpdateOn("drop",z,x)){c.preventDefault(),o(x)&&c.stopPropagation(),m&&y.removeClass(m),m=null;var b,a=c.dataTransfer.items;try{b=c.dataTransfer&&c.dataTransfer.getData&&c.dataTransfer.getData("text/html")}catch(a){}k(a,c.dataTransfer.files,!1!==C("ngfAllowDir",x),C("multiple")||C("ngfMultiple",x)).then(function(d){d.length?h(d,c):j("dropUrl",b).then(function(b){h(b,c)})})}},!1),y[0].addEventListener("paste",function(d){if(-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&C("ngfEnableFirefoxPaste",x)&&d.preventDefault(),!g()&&B.shouldUpdateOn("paste",z,x)){var a=[],b=d.clipboardData||d.originalEvent.clipboardData;if(b&&b.items)for(var c=0;c<b.items.length;c++)-1!==b.items[c].type.indexOf("image")&&a.push(b.items[c].getAsFile());a.length?h(a,d):j("pasteUrl",b).then(function(b){h(b,d)})}},!1),-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&C("ngfEnableFirefoxPaste",x)&&(y.attr("contenteditable",!0),y.on("keypress",function(b){b.metaKey||b.ctrlKey||b.preventDefault()}))}function w(){var b=document.createElement("div");return"draggable"in b&&"ondrop"in b&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(a,b,c,d,e,f){return{restrict:"AEC",require:"?ngModel",link:function(g,h,i,j){l(g,h,i,j,a,b,c,d,e,f)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(b,a){w()&&a.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(b,a,c){return function(d,e,f){if(w()){var g=b(c.attrGetter("ngfDropAvailable",f));a(function(){g(d),g.assign&&g.assign(d,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(f,g){function l(e,a,b,f){return 2===a?e.transform(-1,0,0,1,b,0):3===a?e.transform(-1,0,0,-1,b,f):4===a?e.transform(1,0,0,-1,0,f):5===a?e.transform(0,1,1,0,0,0):6===a?e.transform(0,1,-1,0,f,0):7===a?e.transform(0,-1,-1,0,f,b):8===a?e.transform(0,-1,1,0,0,b):void 0}function c(f){for(var a="",b=new Uint8Array(f),c=b.byteLength,g=0;c>g;g++)a+=String.fromCharCode(b[g]);return window.btoa(a)}var d=f;return d.isExifSupported=function(){return window.FileReader&&new FileReader().readAsArrayBuffer&&d.isResizeSupported()},d.readOrientation=function(b){var l=g.defer(),a=new FileReader,c=b.slice?b.slice(0,65536):b;return a.readAsArrayBuffer(c),a.onerror=function(b){return l.reject(b)},a.onload=function(c){var a={orientation:1},b=new DataView(this.result);if(65496!==b.getUint16(0,!1))return l.resolve(a);for(var d,g=b.byteLength,e=2;g>e;)if(d=b.getUint16(e,!1),e+=2,65505===d){if(1165519206!==b.getUint32(e+=2,!1))return l.resolve(a);var f=18761===b.getUint16(e+=6,!1);e+=b.getUint32(e+4,f);var h=b.getUint16(e,f);e+=2;for(var i=0;h>i;i++)if(274===b.getUint16(e+12*i,f)){var j=b.getUint16(e+12*i+8,f);return 2<=j&&8>=j&&(b.setUint16(e+12*i+8,1,f),a.fixedArrayBuffer=c.target.result),a.orientation=j,l.resolve(a)}}else{if(65280!=(65280&d))break;e+=b.getUint16(e,!1)}return l.resolve(a)},l.promise},d.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return d.emptyPromise(e);var m=g.defer();return d.readOrientation(e).then(function(a){return 2>a.orientation||8<a.orientation?m.resolve(e):void d.dataUrl(e,!0).then(function(b){var f=document.createElement("canvas"),h=document.createElement("img");h.onload=function(){try{f.width=4<a.orientation?h.height:h.width,f.height=4<a.orientation?h.width:h.height;var b=f.getContext("2d");l(b,a.orientation,h.width,h.height),b.drawImage(h,0,0);var g=f.toDataURL(e.type||"image/WebP",.934);g=d.restoreExif(c(a.fixedArrayBuffer),g);var i=d.dataUrltoBlob(g,e.name);m.resolve(i)}catch(a){return m.reject(a)}},h.onerror=function(){m.reject()},h.src=b},function(b){m.reject(b)})},function(b){m.reject(b)}),m.promise},d.restoreExif=function(d,a){var b={};return b.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b.encode64=function(k){var a,b,c,d,e,f="",g="",h="",i=0;do a=k[i++],b=k[i++],g=k[i++],c=a>>2,d=(3&a)<<4|b>>4,e=(15&b)<<2|g>>6,h=63&g,isNaN(b)?e=h=64:isNaN(g)&&(h=64),f=f+this.KEY_STR.charAt(c)+this.KEY_STR.charAt(d)+this.KEY_STR.charAt(e)+this.KEY_STR.charAt(h),a=b=g="",c=d=e=h="";while(i<k.length);return f},b.restore=function(f,a){f.match("data:image/jpeg;base64,")&&(f=f.replace("data:image/jpeg;base64,",""));var b=this.decode64(f),c=this.slice2Segments(b),d=this.exifManipulation(a,c);return"data:image/jpeg;base64,"+this.encode64(d)},b.exifManipulation=function(e,a){var b=this.getExifArray(a),c=this.insertExif(e,b);return new Uint8Array(c)},b.getExifArray=function(d){for(var a,b=0;b<d.length;b++)if(a=d[b],255===a[0]&225===a[1])return a;return[]},b.insertExif=function(i,a){var b=i.replace("data:image/jpeg;base64,",""),c=this.decode64(b),d=c.indexOf(255,3),e=c.slice(0,d),f=c.slice(d),g=e;return g=g.concat(a),g=g.concat(f)},b.slice2Segments=function(g){for(var a=0,b=[];;){if(255===g[a]&218===g[a+1])break;if(255===g[a]&216===g[a+1])a+=2;else{var c=256*g[a+2]+g[a+3],d=a+c+2,e=g.slice(a,d);b.push(e),a=d}if(a>g.length)break}return b},b.decode64=function(l){var a,b,c,d,e,f="",g="",h=0,i=[],j=/[^A-Za-z0-9\+\/\=]/g;j.exec(l)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"");do c=this.KEY_STR.indexOf(l.charAt(h++)),d=this.KEY_STR.indexOf(l.charAt(h++)),e=this.KEY_STR.indexOf(l.charAt(h++)),g=this.KEY_STR.indexOf(l.charAt(h++)),a=c<<2|d>>4,b=(15&d)<<4|e>>2,f=(3&e)<<6|g,i.push(a),64!==e&&i.push(b),64!==g&&i.push(f),a=b=f="",c=d=e=g="";while(h<l.length);return i},b.restore(d,a)},d}]);
!function(c,a){"use strict";"undefined"!=typeof module&&module.exports?module.exports=a(require("angular")):"function"==typeof define&&define.amd?define(["angular"],a):a(c.angular)}(window,function(b){"use strict";b.module("angucomplete-alt",[]).directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate",function(x,a,y,z,c,b,e){function f(t,a,b,e){function f(b,d){b&&("object"==typeof b?(t.searchStr=B(b),w({originalObject:b})):"string"==typeof b&&0<b.length?t.searchStr=b:console&&console.error&&console.error("Tried to set "+(d?"initial":"")+" value of angucomplete to",b,"which is an invalid value"),E(!0))}function u(b){ka=null,t.hideResults(b),document.body.removeEventListener("click",u)}function v(b){return b.which?b.which:b.keyCode}function w(b){"function"==typeof t.selectedObject?t.selectedObject(b,t.selectedObjectData):t.selectedObject=b,E(!!b)}function A(b){w({originalObject:b}),t.clearSelected&&(t.searchStr=null),R()}function B(c){return t.titleField.split(",").map(function(a){return C(c,a)}).join(" ")}function C(f,a){var b,c;if(a){b=a.split("."),c=f;for(var d=0;d<b.length;d++)c=c[b[d]]}else c=f;return c}function D(b,a){var c,d,e;if(e=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),b)return b.match&&b.replace||(b=b.toString()),d=b.match(e),c=d?b.replace(e,"<span class=\""+t.matchClass+"\">"+d[0]+"</span>"):b,z.trustAsHtml(c)}function E(b){t.notEmpty=b,fa=t.searchStr,t.fieldRequired&&e&&t.inputName&&e[t.inputName].$setValidity(ea,b)}function F(b){!t.overrideSuggestions||t.selectedObject&&t.selectedObject.originalObject===t.searchStr||(b&&b.preventDefault(),c.cancel(da),O(),A(t.searchStr))}function G(c){var a=getComputedStyle(c);return c.offsetHeight+parseInt(a.marginTop,10)+parseInt(a.marginBottom,10)}function H(){return ia.getBoundingClientRect().top+parseInt(getComputedStyle(ia).maxHeight,10)}function I(){return a[0].querySelectorAll(".angucomplete-row")[t.currentIndex]}function J(){return I().getBoundingClientRect().top-(ia.getBoundingClientRect().top+parseInt(getComputedStyle(ia).paddingTop,10))}function K(b){ia.scrollTop+=b}function L(){var b=t.results[t.currentIndex];t.matchClass?ba.val(B(b.originalObject)):ba.val(b.title)}function M(b){return function(a,c,d,e){c||d||e||!a.data||(a=a.data),t.searching=!1,W(C(Z(a),t.remoteUrlDataField),b)}}function N(b,a,c,d){t.searching=ha,a||c||d||(a=b.status),0!==a&&-1!==a&&(t.remoteUrlErrorCallback?t.remoteUrlErrorCallback(b,a,c,d):console&&console.error&&console.error("http error"))}function O(){ga&&ga.resolve()}function P(a){var b={},c=t.remoteUrl+encodeURIComponent(a);t.remoteUrlRequestFormatter&&(b={params:t.remoteUrlRequestFormatter(a)},c=t.remoteUrl),t.remoteUrlRequestWithCredentials&&(b.withCredentials=!0),O(),ga=x.defer(),b.timeout=ga.promise,ha=!0,y.get(c,b).then(M(a)).catch(N).finally(function(){ha=!1})}function Q(a){O(),ga=x.defer(),t.remoteApiHandler(a,ga.promise).then(M(a)).catch(N)}function R(){t.showDropdown=!1,t.results=[],ia&&(ia.scrollTop=0)}function S(){t.showDropdown=_,t.currentIndex=t.focusFirst?0:-1,t.results=[]}function T(b){var a,c,d,e,f=t.searchFields.split(","),g=[];for("undefined"!=typeof t.parseInput()&&(b=t.parseInput()(b)),a=0;a<t.localData.length;a++){for(c=!1,d=0;d<f.length;d++)e=C(t.localData[a],f[d])||"",c=c||0<=e.toString().toLowerCase().indexOf(b.toString().toLowerCase());c&&(g[g.length]=t.localData[a])}return g}function U(b,a,c){if(!c)return!1;for(var f in a)if(a[f].toLowerCase()===c.toLowerCase())return t.selectResult(b),!0;return!1}function V(b){!b||b.length<ca||(t.localData?t.$apply(function(){var a;a="undefined"==typeof t.localSearch()?T(b):t.localSearch()(b,t.localData),t.searching=!1,W(a,b)}):t.remoteApiHandler?Q(b):P(b))}function W(b,a){var c,d,e,j,k,l;if(b&&0<b.length)for(t.results=[],c=0;c<b.length;c++)t.titleField&&""!==t.titleField&&(j=k=B(b[c])),d="",t.descriptionField&&(d=l=C(b[c],t.descriptionField)),e="",t.imageField&&(e=C(b[c],t.imageField)),t.matchClass&&(k=D(j,a),l=D(d,a)),t.results[t.results.length]={title:k,description:l,image:e,originalObject:b[c]};else t.results=[];t.showDropdown=t.autoMatch&&1===t.results.length&&U(t.results[0],{title:j,desc:d||""},t.searchStr)?!1:0!==t.results.length||aa}function X(){t.localData?(t.searching=!1,W(t.localData,"")):t.remoteApiHandler?(t.searching=!0,Q("")):(t.searching=!0,P(""))}var Y,Z,$,_,aa,ba=a.find("input"),ca=m,da=null,ea=q,fa=null,ga=null,ha=!1,ia=a[0].querySelector(".angucomplete-dropdown"),ja=!1,ka=null;a.on("mousedown",function(b){b.target.id?(ka=b.target.id,ka===t.id+"_dropdown"&&document.body.addEventListener("click",u)):ka=b.target.className}),t.currentIndex=t.focusFirst?0:null,t.searching=!1,$=t.$watch("initialValue",function(b){b&&($(),f(b,!0))}),t.$watch("fieldRequired",function(b,a){b!==a&&(b?E(fa&&-1!==t.currentIndex):e[t.inputName].$setValidity(ea,!0))}),t.$on("angucomplete-alt:clearInput",function(b,a){a&&a!==t.id||(t.searchStr=null,w(),E(!1),R())}),t.$on("angucomplete-alt:changeInput",function(b,a,c){a&&a===t.id&&f(c)}),t.onFocusHandler=function(){t.focusIn&&t.focusIn(),0!==ca||t.searchStr&&0!==t.searchStr.length||(t.currentIndex=t.focusFirst?0:t.currentIndex,t.showDropdown=!0,X())},t.hideResults=function(){ka&&(ka===t.id+"_dropdown"||0<=ka.indexOf("angucomplete"))?ka=null:(Y=c(function(){R(),t.$apply(function(){t.searchStr&&0<t.searchStr.length&&ba.val(t.searchStr)})},p),O(),t.focusOut&&t.focusOut(),t.overrideSuggestions&&t.searchStr&&0<t.searchStr.length&&-1===t.currentIndex&&F())},t.resetHideResults=function(){Y&&c.cancel(Y)},t.hoverRow=function(b){t.currentIndex=b},t.selectResult=function(b){t.matchClass&&(b.title=B(b.originalObject),b.description=C(b.originalObject,t.descriptionField)),t.searchStr=t.clearSelected?null:b.title,w(b),R()},t.inputChangeHandler=function(b){return b.length<ca?(O(),R()):0===b.length&&0==ca&&X(),t.inputChanged&&(b=t.inputChanged(b)),b},t.fieldRequiredClass&&""!==t.fieldRequiredClass&&(ea=t.fieldRequiredClass),t.minlength&&""!==t.minlength&&(ca=parseInt(t.minlength,10)),t.pause||(t.pause=o),t.clearSelected||(t.clearSelected=!1),t.overrideSuggestions||(t.overrideSuggestions=!1),t.fieldRequired&&e&&E(!!t.initialValue),t.inputType=b.type?b.type:"text",t.textSearching=b.textSearching?b.textSearching:r,t.textNoResults=b.textNoResults?b.textNoResults:s,_="false"!==t.textSearching,aa="false"!==t.textNoResults,t.maxlength=b.maxlength?b.maxlength:n,ba.on("keydown",function(b){var a=v(b),c=null,d=null;a===k&&t.results?(0<=t.currentIndex&&t.currentIndex<t.results.length?(b.preventDefault(),t.selectResult(t.results[t.currentIndex])):(F(b),R()),t.$apply()):a===g&&t.results?(b.preventDefault(),t.currentIndex+1<t.results.length&&t.showDropdown&&(t.$apply(function(){t.currentIndex++,L()}),ja&&(c=I(),H()<c.getBoundingClientRect().bottom&&K(G(c))))):a===h&&t.results?(b.preventDefault(),1<=t.currentIndex?(t.$apply(function(){t.currentIndex--,L()}),ja&&(d=J(),0>d&&K(d-1))):0===t.currentIndex&&t.$apply(function(){t.currentIndex=-1,ba.val(t.searchStr)})):a===l?t.results&&0<t.results.length&&t.showDropdown?-1===t.currentIndex&&t.overrideSuggestions?F():(-1===t.currentIndex&&(t.currentIndex=0),t.selectResult(t.results[t.currentIndex]),t.$digest()):t.searchStr&&0<t.searchStr.length&&F():a===j&&b.preventDefault()}),ba.on("keyup compositionend",function(b){var a=v(b);if(a!==i&&a!==d)if(a===h||a===k)b.preventDefault();else if(a===g)b.preventDefault(),!t.showDropdown&&t.searchStr&&t.searchStr.length>=ca&&(S(),t.searching=!0,V(t.searchStr));else if(a===j)R(),t.$apply(function(){ba.val(t.searchStr)});else{if(0===ca&&!t.searchStr)return;t.searchStr&&""!==t.searchStr?t.searchStr.length>=ca&&(S(),da&&c.cancel(da),t.searching=!0,da=c(function(){V(t.searchStr)},t.pause)):t.showDropdown=!1,fa&&fa!==t.searchStr&&!t.clearSelected&&t.$apply(function(){w()})}}),Z=function(b){return function(a){return t[b]?t[b](a):a}}("remoteUrlResponseFormatter"),c(function(){var b=getComputedStyle(ia);ja=b.maxHeight&&"auto"===b.overflowY})}var g=40,d=39,h=38,i=37,j=27,k=13,l=9,m=3,n=524288,o=500,p=200,q="autocomplete-required",r="Searching...",s="No results found",t="/angucomplete-alt/index.html";return b.put(t,"<div class=\"angucomplete-holder\" ng-class=\"{'angucomplete-dropdown-visible': showDropdown}\">  <input id=\"{{id}}_value\" name=\"{{inputName}}\" tabindex=\"{{fieldTabindex}}\" ng-class=\"{'angucomplete-input-not-empty': notEmpty}\" ng-model=\"searchStr\" ng-disabled=\"disableInput\" type=\"{{inputType}}\" placeholder=\"{{placeholder}}\" maxlength=\"{{maxlength}}\" ng-focus=\"onFocusHandler()\" class=\"{{inputClass}}\" ng-focus=\"resetHideResults()\" ng-blur=\"hideResults($event)\" autocapitalize=\"off\" autocorrect=\"off\" autocomplete=\"off\" ng-change=\"inputChangeHandler(searchStr)\"/>  <div id=\"{{id}}_dropdown\" class=\"angucomplete-dropdown\" ng-show=\"showDropdown\">    <div class=\"angucomplete-searching\" ng-show=\"searching\" ng-bind=\"textSearching\"></div>    <div class=\"angucomplete-searching\" ng-show=\"!searching && (!results || results.length == 0)\" ng-bind=\"textNoResults\"></div>    <div class=\"angucomplete-row\" ng-repeat=\"result in results\" ng-click=\"selectResult(result)\" ng-mouseenter=\"hoverRow($index)\" ng-class=\"{'angucomplete-selected-row': $index == currentIndex}\">      <div ng-if=\"imageField\" class=\"angucomplete-image-holder\">        <img ng-if=\"result.image && result.image != ''\" ng-src=\"{{result.image}}\" class=\"angucomplete-image\"/>        <div ng-if=\"!result.image && result.image != ''\" class=\"angucomplete-image-default\"></div>      </div>      <div class=\"angucomplete-title\" ng-if=\"matchClass\" ng-bind-html=\"result.title\"></div>      <div class=\"angucomplete-title\" ng-if=\"!matchClass\">{{ result.title }}</div>      <div ng-if=\"matchClass && result.description && result.description != ''\" class=\"angucomplete-description\" ng-bind-html=\"result.description\"></div>      <div ng-if=\"!matchClass && result.description && result.description != ''\" class=\"angucomplete-description\">{{result.description}}</div>    </div>  </div></div>"),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",selectedObjectData:"=",disableInput:"=",initialValue:"=",localData:"=",localSearch:"&",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",textSearching:"@",textNoResults:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"=",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",fieldTabindex:"@",inputName:"@",focusFirst:"@",parseInput:"&"},templateUrl:function(c,a){return a.templateUrl||t},compile:function(g){var a=e.startSymbol(),b=e.endSymbol();if("{{"!==a||"}}"!==b){var c=g.html().replace(/\{\{/g,a).replace(/\}\}/g,b);g.html(c)}return f}}}])});
(function(a,i,b){"use strict";function c(b){var a=[];return j(a,i.noop).chars(b),a.join("")}function d(e,a){var f,b={},d=e.split(",");for(f=0;f<d.length;f++)b[a?i.lowercase(d[f]):d[f]]=!0;return b}function e(h,j){function f(c,a,b,e){if(a=i.lowercase(a),u[a])for(;x.last()&&s[x.last()];)w("",x.last());v[a]&&x.last()==a&&w("",a),(e=z[a]||!!e)||x.push(a);var h={};b.replace(k,function(e,b,a,f,c){h[b]=g(a||f||c||"")}),j.start&&j.start(a,h,e)}function w(e,b){var a,d=0;if(b=i.lowercase(b))for(d=x.length-1;0<=d&&x[d]!=b;d--);if(0<=d){for(a=x.length-1;a>=d;a--)j.end&&j.end(x[a]);x.length=d}}"string"!=typeof h&&(h=null===h||"undefined"==typeof h?"":""+h);var c,b,d,x=[],e=h;for(x.last=function(){return x[x.length-1]};h;){if(d="",b=!0,x.last()&&t[x.last()]?(h=h.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+x.last()+"[^>]*>","i"),function(c,a){return a=a.replace(l,"$1").replace(m,"$1"),j.chars&&j.chars(g(a)),""}),w("",x.last())):(0===h.indexOf("<!--")?(c=h.indexOf("--",4),0<=c&&h.lastIndexOf("-->",c)===c&&(j.comment&&j.comment(h.substring(4,c)),h=h.substring(c+3),b=!1)):y.test(h)?(c=h.match(y))&&(h=h.replace(c[0],""),b=!1):r.test(h)?(c=h.match(p))&&(h=h.substring(c[0].length),c[0].replace(p,w),b=!1):q.test(h)&&((c=h.match(o))?(c[4]&&(h=h.substring(c[0].length),c[0].replace(o,f)),b=!1):(d+="<",h=h.substring(1))),b&&(c=h.indexOf("<"),d+=0>c?h:h.substring(0,c),h=0>c?"":h.substring(c),j.chars&&j.chars(g(d)))),h==e)throw n("badparse",h);e=h}w()}function g(b){return b?(D.innerHTML=b.replace(/</g,"&lt;"),D.textContent):""}function h(b){return b.replace(/&/g,"&amp;").replace(f,function(b){var a=b.charCodeAt(0);return b=b.charCodeAt(1),"&#"+(1024*(a-55296)+(b-56320)+65536)+";"}).replace(x,function(b){return"&#"+b.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function j(b,j){var f=!1,l=i.bind(b,b.push);return{start:function(b,a,c){b=i.lowercase(b),!f&&t[b]&&(f=b),f||!0!==w[b]||(l("<"),l(b),i.forEach(a,function(a,c){var d=i.lowercase(c),e="img"===b&&"src"===d||"background"===d;!0===C[d]&&(!0!==B[d]||j(a,e))&&(l(" "),l(c),l("=\""),l(h(a)),l("\""))}),l(c?"/>":">"))},end:function(b){b=i.lowercase(b),f||!0!==w[b]||(l("</"),l(b),l(">")),b==f&&(f=!1)},chars:function(b){f||l(h(b))}}}var n=i.$$minErr("$sanitize"),o=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,p=/^<\/\s*([\w:-]+)[^>]*>/,k=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,q=/^</,r=/^<\//,l=/\x3c!--(.*?)--\x3e/g,y=/<!DOCTYPE([^>]*?)>/i,m=/<!\[CDATA\[(.*?)]]\x3e/g,f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x=/([^\#-~| |!])/g,z=d("area,br,col,hr,img,wbr");a=d("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=d("rp,rt");var v=i.extend({},b,a),u=i.extend({},a,d("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),s=i.extend({},b,d("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));a=d("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var t=d("script,style"),w=i.extend({},z,u,s,v,a),B=d("background,cite,href,longdesc,src,usemap,xlink:href");a=d("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),b=d("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0);var C=i.extend({},B,b,a),D=document.createElement("pre");i.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(d){return function(a){var b=[];return e(a,j(b,function(a,c){return!/^unsafe/.test(d(a,c))})),b.join("")}}]}),i.module("ngSanitize").filter("linky",["$sanitize",function(h){var a=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,b=/^mailto:/i;return function(d,f){function j(b){b&&l.push(c(b))}function k(b,a){l.push("<a "),i.isDefined(f)&&l.push("target=\"",f,"\" "),l.push("href=\"",b.replace(/"/g,"&quot;"),"\">"),j(a),l.push("</a>")}if(!d)return d;for(var e,m,n,o=d,l=[];e=o.match(a);)m=e[0],e[2]||e[4]||(m=(e[3]?"http://":"mailto:")+m),n=e.index,j(o.substr(0,n)),k(m,e[0].replace(b,"")),o=o.substring(n+e[0].length);return j(o),h(l.join(""))}}])})(window,window.angular);
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Sweetalert2=b()}(this,function(){"use strict";var aa,F={title:"",titleText:"",text:"",html:"",type:null,customClass:"",target:"body",animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonColor:"#3085d6",confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonColor:"#aaa",cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusCancel:!1,showCloseButton:!1,showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageClass:null,timer:null,width:500,padding:20,background:"#fff",input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,progressSteps:[],currentProgressStep:null,progressStepsDistance:"40px",onOpen:null,onClose:null},e=function(a){var b={};for(var c in a)b[a[c]]="swal2-"+a[c];return b},U=e(["container","shown","iosfix","modal","overlay","fade","show","hide","noanimation","close","title","content","spacer","confirm","cancel","icon","image","input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled"]),n=e(["success","warning","info","question","error"]),t=function(a,b){a=(a+"").replace(/[^0-9a-f]/gi,""),6>a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;for(var c,d="#",e=0;3>e;e++)c=parseInt(a.substr(2*e,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),d+=("00"+c).substr(c.length);return d},ba={previousWindowKeyDown:null,previousActiveElement:null,previousBodyPadding:null},o=function(b){if("undefined"==typeof document)return void console.error("SweetAlert2 requires document to initialize");var e=document.createElement("div");e.className=U.container,e.innerHTML=G;var g=document.querySelector(b.target);g||(console.warn("SweetAlert2: Can't find the target \""+b.target+"\""),g=document.body),g.appendChild(e);var h=J(),j=x(h,U.input),i=x(h,U.file),a=h.querySelector("."+U.range+" input"),k=h.querySelector("."+U.range+" output"),c=x(h,U.select),d=h.querySelector("."+U.checkbox+" input"),l=x(h,U.textarea);return j.oninput=function(){Q.resetValidationError()},j.onkeydown=function(a){setTimeout(function(){13===a.keyCode&&b.allowEnterKey&&(a.stopPropagation(),Q.clickConfirm())},0)},i.onchange=function(){Q.resetValidationError()},a.oninput=function(){Q.resetValidationError(),k.value=a.value},a.onchange=function(){Q.resetValidationError(),a.previousSibling.value=a.value},c.onchange=function(){Q.resetValidationError()},d.onchange=function(){Q.resetValidationError()},l.oninput=function(){Q.resetValidationError()},h},G=("\n <div  role=\"dialog\" aria-labelledby=\"modalTitleId\" aria-describedby=\"modalContentId\" class=\""+U.modal+"\" tabIndex=\"-1\" >\n   <ul class=\""+U.progresssteps+"\"></ul>\n   <div class=\""+U.icon+" "+n.error+"\">\n     <span class=\"x-mark\"><span class=\"line left\"></span><span class=\"line right\"></span></span>\n   </div>\n   <div class=\""+U.icon+" "+n.question+"\">?</div>\n   <div class=\""+U.icon+" "+n.warning+"\">!</div>\n   <div class=\""+U.icon+" "+n.info+"\">i</div>\n   <div class=\""+U.icon+" "+n.success+"\">\n     <span class=\"line tip\"></span> <span class=\"line long\"></span>\n     <div class=\"placeholder\"></div> <div class=\"fix\"></div>\n   </div>\n   <img class=\""+U.image+"\">\n   <h2 class=\""+U.title+"\" id=\"modalTitleId\"></h2>\n   <div id=\"modalContentId\" class=\""+U.content+"\"></div>\n   <input class=\""+U.input+"\">\n   <input type=\"file\" class=\""+U.file+"\">\n   <div class=\""+U.range+"\">\n     <output></output>\n     <input type=\"range\">\n   </div>\n   <select class=\""+U.select+"\"></select>\n   <div class=\""+U.radio+"\"></div>\n   <label for=\""+U.checkbox+"\" class=\""+U.checkbox+"\">\n     <input type=\"checkbox\">\n   </label>\n   <textarea class=\""+U.textarea+"\"></textarea>\n   <div class=\""+U.validationerror+"\"></div>\n   <hr class=\""+U.spacer+"\">\n   <button type=\"button\" role=\"button\" tabIndex=\"0\" class=\""+U.confirm+"\">OK</button>\n   <button type=\"button\" role=\"button\" tabIndex=\"0\" class=\""+U.cancel+"\">Cancel</button>\n   <span class=\""+U.close+"\">&times;</span>\n </div>\n").replace(/(^|\n)\s*/g,""),i=function(){return document.body.querySelector("."+U.container)},J=function(){return i()?i().querySelector("."+U.modal):null},a=function(){return J().querySelectorAll("."+U.icon)},c=function(a){return i()?i().querySelector("."+a):null},u=function(){return c(U.title)},p=function(){return c(U.content)},f=function(){return c(U.image)},m=function(){return c(U.spacer)},v=function(){return c(U.progresssteps)},d=function(){return c(U.validationerror)},h=function(){return c(U.confirm)},g=function(){return c(U.cancel)},b=function(){return c(U.close)},w=function(a){var b=[h(),g()];return a&&b.reverse(),b.concat(Array.prototype.slice.call(J().querySelectorAll("button:not([class^=swal2-]), input:not([type=hidden]), textarea, select")))},l=function(a,b){return!!a.classList&&a.classList.contains(b)},k=function(a){if(a.focus(),"file"!==a.type){var b=a.value;a.value="",a.value=b}},ca=function(a,b){a&&b&&b.split(/\s+/).filter(Boolean).forEach(function(b){a.classList.add(b)})},S=function(a,b){a&&b&&b.split(/\s+/).filter(Boolean).forEach(function(b){a.classList.remove(b)})},x=function(a,b){for(var c=0;c<a.childNodes.length;c++)if(l(a.childNodes[c],b))return a.childNodes[c]},E=function(a,b){b||(b="block"),a.style.opacity="",a.style.display=b},A=function(a){a.style.opacity="",a.style.display="none"},P=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},s=function(a){return a.offsetWidth||a.offsetHeight||a.getClientRects().length},T=function(a,b){a.style.removeProperty?a.style.removeProperty(b):a.style.removeAttribute(b)},y=function(a){if(!s(a))return!1;if("function"==typeof MouseEvent){var b=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});a.dispatchEvent(b)}else if(document.createEvent){var c=document.createEvent("MouseEvents");c.initEvent("click",!1,!1),a.dispatchEvent(c)}else document.createEventObject?a.fireEvent("onclick"):"function"==typeof a.onclick&&a.onclick()},q=function(){var a=document.createElement("div"),b={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var c in b)if(b.hasOwnProperty(c)&&void 0!==a.style[c])return b[c];return!1}(),B=function(){if(window.onkeydown=ba.previousWindowKeyDown,ba.previousActiveElement&&ba.previousActiveElement.focus){var a=window.scrollX,b=window.scrollY;ba.previousActiveElement.focus(),a&&b&&window.scrollTo(a,b)}},r=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var a=document.createElement("div");a.style.width="50px",a.style.height="50px",a.style.overflow="scroll",document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),b},C=function(a,b){var c;return function(){clearTimeout(c),c=setTimeout(function(){c=null,a()},b)}},I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},H=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},j=H({},F),K=[],D=function(c){var e=J()||o(c);for(var r in c)F.hasOwnProperty(r)||"extraParams"===r||console.warn("SweetAlert2: Unknown parameter \""+r+"\"");e.style.width="number"==typeof c.width?c.width+"px":c.width,e.style.padding=c.padding+"px",e.style.background=c.background;var i=u(),l=p(),s=h(),d=g(),t=b();if(c.titleText?i.innerText=c.titleText:i.innerHTML=c.title.split("\n").join("<br>"),c.text||c.html){if(!("object"===I(c.html)))c.html?l.innerHTML=c.html:c.text&&(l.textContent=c.text);else if(l.innerHTML="",0 in c.html)for(var w=0;w in c.html;w++)l.appendChild(c.html[w].cloneNode(!0));else l.appendChild(c.html.cloneNode(!0));E(l)}else A(l);c.showCloseButton?E(t):A(t),e.className=U.modal,c.customClass&&ca(e,c.customClass);var k=v(),x=parseInt(null===c.currentProgressStep?Q.getQueueStep():c.currentProgressStep,10);c.progressSteps.length?(E(k),P(k),x>=c.progressSteps.length&&console.warn("SweetAlert2: Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),c.progressSteps.forEach(function(a,b){var d=document.createElement("li");if(ca(d,U.progresscircle),d.innerHTML=a,b===x&&ca(d,U.activeprogressstep),k.appendChild(d),b!==c.progressSteps.length-1){var e=document.createElement("li");ca(e,U.progressline),e.style.width=c.progressStepsDistance,k.appendChild(e)}})):A(k);for(var y=a(),z=0;z<y.length;z++)A(y[z]);if(c.type){var q=!1;for(var B in n)if(c.type===B){q=!0;break}if(!q)return console.error("SweetAlert2: Unknown alert type: "+c.type),!1;var C=e.querySelector("."+U.icon+"."+n[c.type]);switch(E(C),c.type){case"success":ca(C,"animate"),ca(C.querySelector(".tip"),"animate-success-tip"),ca(C.querySelector(".long"),"animate-success-long");break;case"error":ca(C,"animate-error-icon"),ca(C.querySelector(".x-mark"),"animate-x-mark");break;case"warning":ca(C,"pulse-warning");}}var D=f();c.imageUrl?(D.setAttribute("src",c.imageUrl),E(D),c.imageWidth?D.setAttribute("width",c.imageWidth):D.removeAttribute("width"),c.imageHeight?D.setAttribute("height",c.imageHeight):D.removeAttribute("height"),D.className=U.image,c.imageClass&&ca(D,c.imageClass)):A(D),c.showCancelButton?d.style.display="inline-block":A(d),c.showConfirmButton?T(s,"display"):A(s);var G=m();c.showConfirmButton||c.showCancelButton?E(G):A(G),s.innerHTML=c.confirmButtonText,d.innerHTML=c.cancelButtonText,c.buttonsStyling&&(s.style.backgroundColor=c.confirmButtonColor,d.style.backgroundColor=c.cancelButtonColor),s.className=U.confirm,ca(s,c.confirmButtonClass),d.className=U.cancel,ca(d,c.cancelButtonClass),c.buttonsStyling?(ca(s,U.styled),ca(d,U.styled)):(S(s,U.styled),S(d,U.styled),s.style.backgroundColor=s.style.borderLeftColor=s.style.borderRightColor="",d.style.backgroundColor=d.style.borderLeftColor=d.style.borderRightColor=""),!0===c.animation?S(e,U.noanimation):ca(e,U.noanimation)},L=function(a,b){var c=i(),d=J();a?(ca(d,U.show),ca(c,U.fade),S(d,U.hide)):S(d,U.fade),E(d),c.style.overflowY="hidden",q&&!l(d,U.noanimation)?d.addEventListener(q,function a(){d.removeEventListener(q,a),c.style.overflowY="auto"}):c.style.overflowY="auto",ca(document.documentElement,U.shown),ca(document.body,U.shown),ca(c,U.shown),M(),N(),ba.previousActiveElement=document.activeElement,null!==b&&"function"==typeof b&&setTimeout(function(){b(d)})},M=function(){null===ba.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(ba.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=r()+"px")},z=function(){null!==ba.previousBodyPadding&&(document.body.style.paddingRight=ba.previousBodyPadding,ba.previousBodyPadding=null)},N=function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!l(document.body,U.iosfix)){var a=document.body.scrollTop;document.body.style.top=-1*a+"px",ca(document.body,U.iosfix)}},O=function(){if(l(document.body,U.iosfix)){var a=parseInt(document.body.style.top,10);S(document.body,U.iosfix),document.body.style.top="",document.body.scrollTop=-1*a}},Q=function q(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];if(void 0===n[0])return console.error("SweetAlert2 expects at least 1 attribute!"),!1;var B=H({},j);switch(I(n[0])){case"string":B.title=n[0],B.html=n[1],B.type=n[2];break;case"object":H(B,n[0]),B.extraParams=n[0].extraParams,"email"===B.input&&null===B.inputValidator&&(B.inputValidator=function(a){return new Promise(function(b,c){/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(a)?b():c("Invalid email address")})}),"url"===B.input&&null===B.inputValidator&&(B.inputValidator=function(a){return new Promise(function(b,c){/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([\/\w .-]*)*\/?$/.test(a)?b():c("Invalid URL")})});break;default:return console.error("SweetAlert2: Unexpected type of argument! Expected \"string\" or \"object\", got "+I(n[0])),!1;}D(B);var l=i(),c=J();return new Promise(function(e,N){B.timer&&(c.timeout=setTimeout(function(){q.closeModal(B.onClose),N("timer")},B.timer));var r=function(a){if(!(a=a||B.input))return null;return"select"===a||"textarea"===a||"file"===a?x(c,U[a]):"checkbox"===a?c.querySelector("."+U.checkbox+" input"):"radio"===a?c.querySelector("."+U.radio+" input:checked")||c.querySelector("."+U.radio+" input:first-child"):"range"===a?c.querySelector("."+U.range+" input"):x(c,U.input)},a=function(){var a=r();if(!a)return null;switch(B.input){case"checkbox":return a.checked?1:0;case"radio":return a.checked?a.value:null;case"file":return a.files.length?a.files[0]:null;default:return B.inputAutoTrim?a.value.trim():a.value;}};B.input&&setTimeout(function(){var a=r();a&&k(a)},0);for(var o=function(a){B.showLoaderOnConfirm&&q.showLoading(),B.preConfirm?B.preConfirm(a,B.extraParams).then(function(b){q.closeModal(B.onClose),e(b||a)},function(a){q.hideLoading(),a&&q.showValidationError(a)}):(q.closeModal(B.onClose),e(a))},n=function(b){var e=b||window.event,f=e.target||e.srcElement,i=h(),j=g(),k=i===f||i.contains(f),l=j===f||j.contains(f);switch(e.type){case"mouseover":case"mouseup":B.buttonsStyling&&(k?i.style.backgroundColor=t(B.confirmButtonColor,-.1):l&&(j.style.backgroundColor=t(B.cancelButtonColor,-.1)));break;case"mouseout":B.buttonsStyling&&(k?i.style.backgroundColor=B.confirmButtonColor:l&&(j.style.backgroundColor=B.cancelButtonColor));break;case"mousedown":B.buttonsStyling&&(k?i.style.backgroundColor=t(B.confirmButtonColor,-.2):l&&(j.style.backgroundColor=t(B.cancelButtonColor,-.2)));break;case"click":if(!(k&&q.isVisible()))l&&q.isVisible()&&(q.disableButtons(),q.closeModal(B.onClose),N("cancel"));else if(q.disableButtons(),B.input){var c=a();B.inputValidator?(q.disableInput(),B.inputValidator(c,B.extraParams).then(function(){q.enableButtons(),q.enableInput(),o(c)},function(a){q.enableButtons(),q.enableInput(),a&&q.showValidationError(a)})):o(c)}else o(!0);}},M=c.querySelectorAll("button"),P=0;P<M.length;P++)M[P].onclick=n,M[P].onmouseover=n,M[P].onmouseout=n,M[P].onmousedown=n;b().onclick=function(){q.closeModal(B.onClose),N("close")},l.onclick=function(a){a.target===l&&B.allowOutsideClick&&(q.closeModal(B.onClose),N("overlay"))};var O=h(),H=g();B.reverseButtons?O.parentNode.insertBefore(H,O):O.parentNode.insertBefore(O,H);var j=function(a,b){for(var c=w(B.focusCancel),d=0;d<c.length;d++){a+=b,a===c.length?a=0:-1===a&&(a=c.length-1);var e=c[a];if(s(e))return e.focus()}};ba.previousWindowKeyDown=window.onkeydown,window.onkeydown=function(b){var c=b||window.event,d=c.keyCode||c.which;if(-1!==[9,13,32,27].indexOf(d)){for(var e=c.target||c.srcElement,f=w(B.focusCancel),a=-1,g=0;g<f.length;g++)if(e===f[g]){a=g;break}9===d?(c.shiftKey?j(a,-1):j(a,1),c.stopPropagation(),c.preventDefault()):13===d||32===d?-1===a&&B.allowEnterKey&&(B.focusCancel?y(H,c):y(O,c)):27===d&&!0===B.allowEscapeKey&&(q.closeModal(B.onClose),N("esc"))}},B.buttonsStyling&&(O.style.borderLeftColor=B.confirmButtonColor,O.style.borderRightColor=B.confirmButtonColor),q.showLoading=q.enableLoading=function(){E(m()),E(O,"inline-block"),ca(O,U.loading),ca(c,U.loading),O.disabled=!0,H.disabled=!0},q.hideLoading=q.disableLoading=function(){B.showConfirmButton||(A(O),B.showCancelButton||A(m())),S(O,U.loading),S(c,U.loading),O.disabled=!1,H.disabled=!1},q.getTitle=function(){return u()},q.getContent=function(){return p()},q.getInput=function(){return r()},q.getImage=function(){return f()},q.getConfirmButton=function(){return h()},q.getCancelButton=function(){return g()},q.enableButtons=function(){O.disabled=!1,H.disabled=!1},q.disableButtons=function(){O.disabled=!0,H.disabled=!0},q.enableConfirmButton=function(){O.disabled=!1},q.disableConfirmButton=function(){O.disabled=!0},q.enableInput=function(){var a=r();if(!a)return!1;if("radio"===a.type)for(var b=a.parentNode.parentNode,c=b.querySelectorAll("input"),d=0;d<c.length;d++)c[d].disabled=!1;else a.disabled=!1},q.disableInput=function(){var a=r();if(!a)return!1;if(a&&"radio"===a.type)for(var b=a.parentNode.parentNode,c=b.querySelectorAll("input"),d=0;d<c.length;d++)c[d].disabled=!0;else a.disabled=!0},q.recalculateHeight=C(function(){var a=J();if(a){var b=a.style.display;a.style.minHeight="",E(a),a.style.minHeight=a.scrollHeight+1+"px",a.style.display=b}},50),q.showValidationError=function(a){var b=d();b.innerHTML=a,E(b);var c=r();c&&(k(c),ca(c,U.inputerror))},q.resetValidationError=function(){A(d()),q.recalculateHeight();var a=r();a&&S(a,U.inputerror)},q.getProgressSteps=function(){return B.progressSteps},q.setProgressSteps=function(a){B.progressSteps=a,D(B)},q.showProgressSteps=function(){E(v())},q.hideProgressSteps=function(){A(v())},q.enableButtons(),q.hideLoading(),q.resetValidationError();for(var K=["input","file","range","select","radio","checkbox","textarea"],z=void 0,Q=0;Q<K.length;Q++){var R=U[K[Q]],T=x(c,R);if(z=r(K[Q])){for(var V in z.attributes)if(z.attributes.hasOwnProperty(V)){var W=z.attributes[V].name;"type"!==W&&"value"!==W&&z.removeAttribute(W)}for(var X in B.inputAttributes)z.setAttribute(X,B.inputAttributes[X])}T.className=R,B.inputClass&&ca(T,B.inputClass),A(T)}var Y;switch(B.input){case"text":case"email":case"password":case"number":case"tel":case"url":z=x(c,U.input),z.value=B.inputValue,z.placeholder=B.inputPlaceholder,z.type=B.input,E(z);break;case"file":z=x(c,U.file),z.placeholder=B.inputPlaceholder,z.type=B.input,E(z);break;case"range":var F=x(c,U.range),G=F.querySelector("input"),Z=F.querySelector("output");G.value=B.inputValue,G.type=B.input,Z.value=B.inputValue,E(F);break;case"select":var $=x(c,U.select);if($.innerHTML="",B.inputPlaceholder){var _=document.createElement("option");_.innerHTML=B.inputPlaceholder,_.value="",_.disabled=!0,_.selected=!0,$.appendChild(_)}Y=function(a){for(var b in a){var c=document.createElement("option");c.value=b,c.innerHTML=a[b],B.inputValue===b&&(c.selected=!0),$.appendChild(c)}E($),$.focus()};break;case"radio":var da=x(c,U.radio);da.innerHTML="",Y=function(b){for(var c in b){var d=document.createElement("input"),e=document.createElement("label"),f=document.createElement("span");d.type="radio",d.name=U.radio,d.value=c,B.inputValue===c&&(d.checked=!0),f.innerHTML=b[c],e.appendChild(d),e.appendChild(f),e.for=d.id,da.appendChild(e)}E(da);var g=da.querySelectorAll("input");g.length&&g[0].focus()};break;case"checkbox":var ea=x(c,U.checkbox),fa=r("checkbox");fa.type="checkbox",fa.value=1,fa.id=U.checkbox,fa.checked=!!B.inputValue;var ga=ea.getElementsByTagName("span");ga.length&&ea.removeChild(ga[0]),ga=document.createElement("span"),ga.innerHTML=B.inputPlaceholder,ea.appendChild(ga),E(ea);break;case"textarea":var ha=x(c,U.textarea);ha.value=B.inputValue,ha.placeholder=B.inputPlaceholder,E(ha);break;case null:break;default:console.error("SweetAlert2: Unexpected type of input! Expected \"text\", \"email\", \"password\", \"number\", \"tel\", \"select\", \"radio\", \"checkbox\", \"textarea\", \"file\" or \"url\", got \""+B.input+"\"");}"select"!==B.input&&"radio"!==B.input||(B.inputOptions instanceof Promise?(q.showLoading(),B.inputOptions.then(function(a){q.hideLoading(),Y(a)})):"object"===I(B.inputOptions)?Y(B.inputOptions):console.error("SweetAlert2: Unexpected type of inputOptions! Expected object or Promise, got "+I(B.inputOptions))),L(B.animation,B.onOpen),B.allowEnterKey?j(-1,1):document.activeElement&&document.activeElement.blur(),i().scrollTop=0,"undefined"==typeof MutationObserver||aa||(aa=new MutationObserver(q.recalculateHeight),aa.observe(c,{childList:!0,characterData:!0,subtree:!0}))})};return Q.isVisible=function(){return!!J()},Q.queue=function(a){K=a;var b=function(){K=[],document.body.removeAttribute("data-swal2-queue-step")},c=[];return new Promise(function(a,d){!function f(){0<K.length?(document.body.setAttribute("data-swal2-queue-step",0),Q(K[0]).then(function(a){c.push(a),f(1,void 0)},function(a){b(),d(a)})):(b(),a(c))}(0)})},Q.getQueueStep=function(){return document.body.getAttribute("data-swal2-queue-step")},Q.insertQueueStep=function(a,b){return b&&b<K.length?K.splice(b,0,a):K.push(a)},Q.deleteQueueStep=function(a){void 0!==K[a]&&K.splice(a,1)},Q.close=Q.closeModal=function(a){var b=i(),c=J();if(c){S(c,U.show),ca(c,U.hide),clearTimeout(c.timeout),B();var d=function(){b.parentNode.removeChild(b),S(document.documentElement,U.shown),S(document.body,U.shown),z(),O()};q&&!l(c,U.noanimation)?c.addEventListener(q,function a(){c.removeEventListener(q,a),l(c,U.hide)&&d()}):d(),null!==a&&"function"==typeof a&&setTimeout(function(){a(c)})}},Q.clickConfirm=function(){return h().click()},Q.clickCancel=function(){return g().click()},Q.setDefaults=function(a){if(!a||"object"!==(void 0===a?"undefined":I(a)))return console.error("SweetAlert2: the argument for setDefaults() is required and has to be a object");for(var b in a)F.hasOwnProperty(b)||"extraParams"===b||(console.warn("SweetAlert2: Unknown parameter \""+b+"\""),delete a[b]);H(j,a)},Q.resetDefaults=function(){j=H({},F)},Q.noop=function(){},Q.version="6.4.3",Q.default=Q,Q}),window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2);
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof module&&module.exports?module.exports=a:a(jQuery,window,document)}(function(aa){!function(b){var c="function"==typeof define&&define.amd,d="undefined"!=typeof module&&module.exports,a="https:"==document.location.protocol?"https:":"http:";c||(d?require("jquery-mousewheel")(aa):aa.event.special.mousewheel||aa("head").append(decodeURI("%3Cscript src="+a+"//"+"cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js"+"%3E%3C/script%3E"))),b()}(function(){var ba,ca=Math.round,da=Math.abs,e="mCustomScrollbar",ea="mCS",a=".mCustomScrollbar",n={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},fa=0,i={},ga=window.attachEvent&&!window.addEventListener?1:0,ha=!1,ia=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],r={init:function(b){var b=aa.extend(!0,{},n,b),e=d.call(this);if(b.live){var j=b.liveSelector||this.selector||a,k=aa(j);if("off"===b.live)return void h(j);i[j]=setTimeout(function(){k.mCustomScrollbar(b),"once"===b.live&&k.length&&h(j)},500)}else h(j);return b.setWidth=b.set_width?b.set_width:b.setWidth,b.setHeight=b.set_height?b.set_height:b.setHeight,b.axis=b.horizontalScroll?"x":l(b.axis),b.scrollInertia=0<b.scrollInertia&&17>b.scrollInertia?17:b.scrollInertia,"object"!=typeof b.mouseWheel&&1==b.mouseWheel&&(b.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),b.mouseWheel.scrollAmount=b.mouseWheelPixels?b.mouseWheelPixels:b.mouseWheel.scrollAmount,b.mouseWheel.normalizeDelta=b.advanced.normalizeMouseWheelDelta?b.advanced.normalizeMouseWheelDelta:b.mouseWheel.normalizeDelta,b.scrollButtons.scrollType=m(b.scrollButtons.scrollType),f(b),aa(e).each(function(){var a=aa(this);if(!a.data(ea)){a.data(ea,{idx:++fa,opt:b,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:a.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var d=a.data(ea),e=d.opt,h=a.data("mcs-axis"),i=a.data("mcs-scrollbar-position"),j=a.data("mcs-theme");h&&(e.axis=h),i&&(e.scrollbarPosition=i),j&&(e.theme=j,f(e)),g.call(this),d&&e.callbacks.onCreate&&"function"==typeof e.callbacks.onCreate&&e.callbacks.onCreate.call(this),aa("#mCSB_"+d.idx+"_container img:not(."+ia[2]+")").addClass(ia[2]),r.update.call(null,a)}})},update:function(a,e){var c=a||d.call(this);return aa(c).each(function(){var a=aa(this);if(a.data(ea)){var d=a.data(ea),f=d.opt,g=aa("#mCSB_"+d.idx+"_container"),h=aa("#mCSB_"+d.idx),i=[aa("#mCSB_"+d.idx+"_dragger_vertical"),aa("#mCSB_"+d.idx+"_dragger_horizontal")];if(!g.length)return;d.tweenRunning&&T(a),e&&d&&f.callbacks.onBeforeUpdate&&"function"==typeof f.callbacks.onBeforeUpdate&&f.callbacks.onBeforeUpdate.call(this),a.hasClass(ia[3])&&a.removeClass(ia[3]),a.hasClass(ia[4])&&a.removeClass(ia[4]),h.css("max-height","none"),h.height()!==a.height()&&h.css("max-height",a.height()),p.call(this),"y"===f.axis||f.advanced.autoExpandHorizontalScroll||g.css("width",v(g)),d.overflowed=b.call(this),k.call(this),f.autoDraggerLength&&u.call(this),w.call(this),y.call(this);var j=[da(g[0].offsetTop),da(g[0].offsetLeft)];"x"!==f.axis&&(d.overflowed[0]?i[0].height()>i[0].parent().height()?x.call(this):(Q(a,j[0].toString(),{dir:"y",dur:0,overwrite:"none"}),d.contentReset.y=null):(x.call(this),"y"===f.axis?B.call(this):"yx"===f.axis&&d.overflowed[1]&&Q(a,j[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==f.axis&&(d.overflowed[1]?i[1].width()>i[1].parent().width()?x.call(this):(Q(a,j[1].toString(),{dir:"x",dur:0,overwrite:"none"}),d.contentReset.x=null):(x.call(this),"x"===f.axis?B.call(this):"yx"===f.axis&&d.overflowed[0]&&Q(a,j[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),e&&d&&(2===e&&f.callbacks.onImageLoad&&"function"==typeof f.callbacks.onImageLoad?f.callbacks.onImageLoad.call(this):3===e&&f.callbacks.onSelectorChange&&"function"==typeof f.callbacks.onSelectorChange?f.callbacks.onSelectorChange.call(this):f.callbacks.onUpdate&&"function"==typeof f.callbacks.onUpdate&&f.callbacks.onUpdate.call(this)),S.call(this)}})},scrollTo:function(a,b){if("undefined"!=typeof a&&null!=a){var c=d.call(this);return aa(c).each(function(){var e=aa(this);if(e.data(ea)){var f=e.data(ea),g=f.opt,h={trigger:"external",scrollInertia:g.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=aa.extend(!0,{},h,b),k=j.call(this,a),c=0<i.scrollInertia&&17>i.scrollInertia?17:i.scrollInertia;k[0]=R.call(this,k[0],"y"),k[1]=R.call(this,k[1],"x"),i.moveDragger&&(k[0]*=f.scrollRatio.y,k[1]*=f.scrollRatio.x),i.dur=Z()?0:c,setTimeout(function(){null!==k[0]&&"undefined"!=typeof k[0]&&"x"!==g.axis&&f.overflowed[0]&&(i.dir="y",i.overwrite="all",Q(e,k[0].toString(),i)),null!==k[1]&&"undefined"!=typeof k[1]&&"y"!==g.axis&&f.overflowed[1]&&(i.dir="x",i.overwrite="none",Q(e,k[1].toString(),i))},i.timeout)}})}},stop:function(){var a=d.call(this);return aa(a).each(function(){var a=aa(this);a.data(ea)&&T(a)})},disable:function(a){var b=d.call(this);return aa(b).each(function(){var b=aa(this);b.data(ea)&&(b.data(ea),S.call(this,"remove"),B.call(this),a&&x.call(this),k.call(this,!0),b.addClass(ia[3]))})},destroy:function(){var a=d.call(this);return aa(a).each(function(){var b=aa(this);if(b.data(ea)){var d=b.data(ea),f=d.opt,g=aa("#mCSB_"+d.idx),i=aa("#mCSB_"+d.idx+"_container"),j=aa(".mCSB_"+d.idx+"_scrollbar");f.live&&h(f.liveSelector||aa(a).selector),S.call(this,"remove"),B.call(this),x.call(this),b.removeData(ea),U(this,"mcs"),j.remove(),i.find("img."+ia[2]).removeClass(ia[2]),g.replaceWith(i.contents()),b.removeClass(e+" _"+ea+"_"+d.idx+" "+ia[6]+" "+ia[7]+" "+ia[5]+" "+ia[3]).addClass(ia[4])}})}},d=function(){return"object"!=typeof aa(this)||1>aa(this).length?a:this},f=function(a){a.autoDraggerLength=!(-1<aa.inArray(a.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&a.autoDraggerLength,a.autoExpandScrollbar=!(-1<aa.inArray(a.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&a.autoExpandScrollbar,a.scrollButtons.enable=!(-1<aa.inArray(a.theme,["minimal","minimal-dark"]))&&a.scrollButtons.enable,a.autoHideScrollbar=!!(-1<aa.inArray(a.theme,["minimal","minimal-dark"]))||a.autoHideScrollbar,a.scrollbarPosition=-1<aa.inArray(a.theme,["minimal","minimal-dark"])?"outside":a.scrollbarPosition},h=function(a){i[a]&&(clearTimeout(i[a]),U(i,a))},l=function(a){return"yx"===a||"xy"===a||"auto"===a?"yx":"x"===a||"horizontal"===a?"x":"y"},m=function(a){return"stepped"===a||"pixels"===a||"step"===a||"click"===a?"stepped":"stepless"},g=function(){var a=aa(this),b=a.data(ea),d=b.opt,i=d.autoExpandScrollbar?" "+ia[1]+"_expand":"",j=["<div id='mCSB_"+b.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+b.idx+"_scrollbar mCS-"+d.theme+" mCSB_scrollTools_vertical"+i+"'><div class='"+ia[12]+"'><div id='mCSB_"+b.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+b.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+b.idx+"_scrollbar mCS-"+d.theme+" mCSB_scrollTools_horizontal"+i+"'><div class='"+ia[12]+"'><div id='mCSB_"+b.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],k="yx"===d.axis?"mCSB_vertical_horizontal":"x"===d.axis?"mCSB_horizontal":"mCSB_vertical",l="yx"===d.axis?j[0]+j[1]:"x"===d.axis?j[1]:j[0],c="yx"===d.axis?"<div id='mCSB_"+b.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",n=d.autoHideScrollbar?" "+ia[6]:"",f="x"!==d.axis&&"rtl"===b.langDir?" "+ia[7]:"";d.setWidth&&a.css("width",d.setWidth),d.setHeight&&a.css("height",d.setHeight),d.setLeft="y"!==d.axis&&"rtl"===b.langDir?"989999px":d.setLeft,a.addClass(e+" _"+ea+"_"+b.idx+n+f).wrapInner("<div id='mCSB_"+b.idx+"' class='mCustomScrollBox mCS-"+d.theme+" "+k+"'><div id='mCSB_"+b.idx+"_container' class='mCSB_container' style='position:relative; top:"+d.setTop+"; left:"+d.setLeft+";' dir='"+b.langDir+"' /></div>");var h=aa("#mCSB_"+b.idx),m=aa("#mCSB_"+b.idx+"_container");"y"===d.axis||d.advanced.autoExpandHorizontalScroll||m.css("width",v(m)),"outside"===d.scrollbarPosition?("static"===a.css("position")&&a.css("position","relative"),a.css("overflow","visible"),h.addClass("mCSB_outside").after(l)):(h.addClass("mCSB_inside").append(l),m.wrap(c)),o.call(this);var p=[aa("#mCSB_"+b.idx+"_dragger_vertical"),aa("#mCSB_"+b.idx+"_dragger_horizontal")];p[0].css("min-height",p[0].height()),p[1].css("min-width",p[1].width())},v=function(b){var c=[b[0].scrollWidth,Math.max.apply(Math,b.children().map(function(){return aa(this).outerWidth(!0)}).get())],d=b.parent().width();return c[0]>d?c[0]:c[1]>d?c[1]:"100%"},p=function(){var a=Math.ceil,b=aa(this),c=b.data(ea),d=c.opt,e=aa("#mCSB_"+c.idx+"_container");if(d.advanced.autoExpandHorizontalScroll&&"y"!==d.axis){e.css({width:"auto","min-width":0,"overflow-x":"scroll"});var f=a(e[0].scrollWidth);3===d.advanced.autoExpandHorizontalScroll||2!==d.advanced.autoExpandHorizontalScroll&&f>e.parent().width()?e.css({width:f,"min-width":"100%","overflow-x":"inherit"}):e.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:a(e[0].getBoundingClientRect().right+.4)-Math.floor(e[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},o=function(){var a=aa(this),b=a.data(ea),c=b.opt,d=aa(".mCSB_"+b.idx+"_scrollbar:first"),e=W(c.scrollButtons.tabindex)?"tabindex='"+c.scrollButtons.tabindex+"'":"",f=["<a href='#' class='"+ia[13]+"' "+e+" />","<a href='#' class='"+ia[14]+"' "+e+" />","<a href='#' class='"+ia[15]+"' "+e+" />","<a href='#' class='"+ia[16]+"' "+e+" />"],g=["x"===c.axis?f[2]:f[0],"x"===c.axis?f[3]:f[1],f[2],f[3]];c.scrollButtons.enable&&d.prepend(g[0]).append(g[1]).next(".mCSB_scrollTools").prepend(g[2]).append(g[3])},u=function(){var a=aa(this),b=a.data(ea),e=aa("#mCSB_"+b.idx),f=aa("#mCSB_"+b.idx+"_container"),g=[aa("#mCSB_"+b.idx+"_dragger_vertical"),aa("#mCSB_"+b.idx+"_dragger_horizontal")],h=[e.height()/f.outerHeight(!1),e.width()/f.outerWidth(!1)],i=[parseInt(g[0].css("min-height")),ca(h[0]*g[0].parent().height()),parseInt(g[1].css("min-width")),ca(h[1]*g[1].parent().width())],c=ga&&i[1]<i[0]?i[0]:i[1],j=ga&&i[3]<i[2]?i[2]:i[3];g[0].css({height:c,"max-height":g[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":i[0]+"px"}),g[1].css({width:j,"max-width":g[1].parent().width()-10})},w=function(){var a=aa(this),b=a.data(ea),c=aa("#mCSB_"+b.idx),d=aa("#mCSB_"+b.idx+"_container"),e=[aa("#mCSB_"+b.idx+"_dragger_vertical"),aa("#mCSB_"+b.idx+"_dragger_horizontal")],f=[d.outerHeight(!1)-c.height(),d.outerWidth(!1)-c.width()],g=[f[0]/(e[0].parent().height()-e[0].height()),f[1]/(e[1].parent().width()-e[1].width())];b.scrollRatio={y:g[0],x:g[1]}},_=function(b,c,d){var e=d?ia[0]+"_expanded":"",a=b.closest(".mCSB_scrollTools");"active"===c?(b.toggleClass(ia[0]+" "+e),a.toggleClass(ia[1]),b[0]._draggable=b[0]._draggable?0:1):b[0]._draggable||("hide"===c?(b.removeClass(ia[0]),a.removeClass(ia[1])):(b.addClass(ia[0]),a.addClass(ia[1])))},b=function(){var a=aa(this),b=a.data(ea),d=aa("#mCSB_"+b.idx),e=aa("#mCSB_"+b.idx+"_container"),f=null==b.overflowed?e.height():e.outerHeight(!1),g=null==b.overflowed?e.width():e.outerWidth(!1),h=e[0].scrollHeight,i=e[0].scrollWidth;return h>f&&(f=h),i>g&&(g=i),[f>d.height(),g>d.width()]},x=function(){var a=aa(this),b=a.data(ea),c=b.opt,d=aa("#mCSB_"+b.idx),e=aa("#mCSB_"+b.idx+"_container"),f=[aa("#mCSB_"+b.idx+"_dragger_vertical"),aa("#mCSB_"+b.idx+"_dragger_horizontal")];if(T(a),("x"!==c.axis&&!b.overflowed[0]||"y"===c.axis&&b.overflowed[0])&&(f[0].add(e).css("top",0),Q(a,"_resetY")),"y"!==c.axis&&!b.overflowed[1]||"x"===c.axis&&b.overflowed[1]){var g=dx=0;"rtl"===b.langDir&&(g=d.width()-e.outerWidth(!1),dx=da(g/b.scrollRatio.x)),e.css("left",g),f[1].css("left",dx),Q(a,"_resetX")}},y=function(){function a(){e=setTimeout(function(){aa.event.special.mousewheel?(clearTimeout(e),E.call(b[0])):a()},100)}var b=aa(this),c=b.data(ea),d=c.opt;if(!c.bindEvents){if(s.call(this),d.contentTouchScroll&&C.call(this),D.call(this),d.mouseWheel.enable){var e;a()}z.call(this),H.call(this),d.advanced.autoScrollOnFocus&&O.call(this),d.scrollButtons.enable&&P.call(this),d.keyboard.enable&&F.call(this),c.bindEvents=!0}},B=function(){var a=aa(this),b=a.data(ea),c=b.opt,d=ea+"_"+b.idx,e=".mCSB_"+b.idx+"_scrollbar",f=aa("#mCSB_"+b.idx+",#mCSB_"+b.idx+"_container,#mCSB_"+b.idx+"_container_wrapper,"+e+" ."+ia[12]+",#mCSB_"+b.idx+"_dragger_vertical,#mCSB_"+b.idx+"_dragger_horizontal,"+e+">a"),g=aa("#mCSB_"+b.idx+"_container");c.advanced.releaseDraggableSelectors&&f.add(aa(c.advanced.releaseDraggableSelectors)),c.advanced.extraDraggableSelectors&&f.add(aa(c.advanced.extraDraggableSelectors)),b.bindEvents&&(aa(document).add(aa(!M()||top.document)).unbind("."+d),f.each(function(){aa(this).unbind("."+d)}),clearTimeout(a[0]._focusTimeout),U(a[0],"_focusTimeout"),clearTimeout(b.sequential.step),U(b.sequential,"step"),clearTimeout(g[0].onCompleteTimeout),U(g[0],"onCompleteTimeout"),b.bindEvents=!1)},k=function(a){var b=aa(this),d=b.data(ea),e=d.opt,f=aa("#mCSB_"+d.idx+"_container_wrapper"),g=f.length?f:aa("#mCSB_"+d.idx+"_container"),h=[aa("#mCSB_"+d.idx+"_scrollbar_vertical"),aa("#mCSB_"+d.idx+"_scrollbar_horizontal")],i=[h[0].find(".mCSB_dragger"),h[1].find(".mCSB_dragger")];"x"!==e.axis&&(d.overflowed[0]&&!a?(h[0].add(i[0]).add(h[0].children("a")).css("display","block"),g.removeClass(ia[8]+" "+ia[10])):(e.alwaysShowScrollbar?(2!==e.alwaysShowScrollbar&&i[0].css("display","none"),g.removeClass(ia[10])):(h[0].css("display","none"),g.addClass(ia[10])),g.addClass(ia[8]))),"y"!==e.axis&&(d.overflowed[1]&&!a?(h[1].add(i[1]).add(h[1].children("a")).css("display","block"),g.removeClass(ia[9]+" "+ia[11])):(e.alwaysShowScrollbar?(2!==e.alwaysShowScrollbar&&i[1].css("display","none"),g.removeClass(ia[11])):(h[1].css("display","none"),g.addClass(ia[11])),g.addClass(ia[9]))),d.overflowed[0]||d.overflowed[1]?b.removeClass(ia[5]):b.addClass(ia[5])},ja=function(b){var c=b.type,d=b.target.ownerDocument!==document&&null!==frameElement?[aa(frameElement).offset().top,aa(frameElement).offset().left]:null,a=M()&&b.target.ownerDocument!==top.document&&null!==frameElement?[aa(b.view.frameElement).offset().top,aa(b.view.frameElement).offset().left]:[0,0];switch(c){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return d?[b.originalEvent.pageY-d[0]+a[0],b.originalEvent.pageX-d[1]+a[1],!1]:[b.originalEvent.pageY,b.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var e=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],f=b.originalEvent.touches.length||b.originalEvent.changedTouches.length;return b.target.ownerDocument===document?[e.pageY,e.pageX,1<f]:[e.screenY,e.screenX,1<f];default:return d?[b.pageY-d[0]+a[0],b.pageX-d[1]+a[1],!1]:[b.pageY,b.pageX,!1];}},s=function(){function b(b,e,f,a){if(v[0].idleTimer=233>r.scrollInertia?250:0,c.attr("id")===d[1])var g="x",h=(c[0].offsetLeft-e+a)*q.scrollRatio.x;else var g="y",h=(c[0].offsetTop-b+f)*q.scrollRatio.y;Q(o,h.toString(),{dir:g,drag:!0})}var c,j,k,o=aa(this),q=o.data(ea),r=q.opt,a=ea+"_"+q.idx,d=["mCSB_"+q.idx+"_dragger_vertical","mCSB_"+q.idx+"_dragger_horizontal"],v=aa("#mCSB_"+q.idx+"_container"),e=aa("#"+d[0]+",#"+d[1]),f=r.advanced.releaseDraggableSelectors?e.add(aa(r.advanced.releaseDraggableSelectors)):e,h=r.advanced.extraDraggableSelectors?aa(!M()||top.document).add(aa(r.advanced.extraDraggableSelectors)):aa(!M()||top.document);e.bind("contextmenu."+a,function(a){a.preventDefault()}).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,function(b){if(b.stopImmediatePropagation(),b.preventDefault(),V(b)){ha=!0,ga&&(document.onselectstart=function(){return!1}),A.call(v,!1),T(o),c=aa(this);var d=c.offset(),a=ja(b)[0]-d.top,e=ja(b)[1]-d.left,g=c.height()+d.top,f=c.width()+d.left;g>a&&0<a&&f>e&&0<e&&(j=a,k=e),_(c,"active",r.autoExpandScrollbar)}}).bind("touchmove."+a,function(d){d.stopImmediatePropagation(),d.preventDefault();var e=c.offset(),a=ja(d)[0]-e.top,f=ja(d)[1]-e.left;b(j,k,a,f)}),aa(document).add(h).bind("mousemove."+a+" pointermove."+a+" MSPointerMove."+a,function(d){if(c){var e=c.offset(),a=ja(d)[0]-e.top,f=ja(d)[1]-e.left;if(j===a&&k===f)return;b(j,k,a,f)}}).add(f).bind("mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a,function(){c&&(_(c,"active",r.autoExpandScrollbar),c=null),ha=!1,ga&&(document.onselectstart=null),A.call(v,!0)})},C=function(){function a(a){if(!X(a)||ha||ja(a)[2])return void(ba=0);ba=1,A=0,b=0,s=1,f.removeClass("mCS_touch_action");var c=G.offset();d=ja(a)[0]-c.top,u=ja(a)[1]-c.left,L=[ja(a)[0],ja(a)[1]]}function j(g){if(X(g)&&!ha&&!ja(g)[2]&&(B.documentTouchScroll||g.preventDefault(),g.stopImmediatePropagation(),(!b||A)&&s)){p=J();var e=k.offset(),j=ja(g)[0]-e.top,m=ja(g)[1]-e.left,a="mcsLinearOut";if(D.push(j),E.push(m),L[2]=da(ja(g)[0]-L[0]),L[3]=da(ja(g)[1]-L[1]),F.overflowed[0])var o=y[0].parent().height()-y[0].height(),i=0<d-j&&j-d>-(o*F.scrollRatio.y)&&(2*L[3]<L[2]||"yx"===B.axis);if(F.overflowed[1])var r=y[1].parent().width()-y[1].width(),l=0<u-m&&m-u>-(r*F.scrollRatio.x)&&(2*L[2]<L[3]||"yx"===B.axis);i||l?(H||g.preventDefault(),A=1):(b=1,f.addClass("mCS_touch_action")),H&&g.preventDefault(),x="yx"===B.axis?[d-j,u-m]:"x"===B.axis?[null,u-m]:[d-j,null],G[0].idleTimer=250,F.overflowed[0]&&q(x[0],I,a,"y","all",!0),F.overflowed[1]&&q(x[1],I,a,"x",K,!0)}}function n(a){if(!X(a)||ha||ja(a)[2])return void(ba=0);ba=1,a.stopImmediatePropagation(),T(f),m=J();var b=k.offset();l=ja(a)[0]-b.top,h=ja(a)[1]-b.left,D=[],E=[]}function i(d){if(X(d)&&!ha&&!ja(d)[2]){s=0,d.stopImmediatePropagation(),A=0,b=0,g=J();var j=k.offset(),z=ja(d)[0]-j.top,o=ja(d)[1]-j.left;if(!(30<g-p)){v=1e3/(g-m);var a="mcsEaseOut",n=2.5>v,i=n?[D[D.length-2],E[E.length-2]]:[0,0];t=n?[z-i[0],o-i[1]]:[z-l,o-h];var C=[da(t[0]),da(t[1])];v=n?[da(t[0]/4),da(t[1]/4)]:[v,v];var u=[da(G[0].offsetTop)-t[0]*e(C[0]/v[0],v[0]),da(G[0].offsetLeft)-t[1]*e(C[1]/v[1],v[1])];x="yx"===B.axis?[u[0],u[1]]:"x"===B.axis?[null,u[1]]:[u[0],null],w=[4*C[0]+B.scrollInertia,4*C[1]+B.scrollInertia];var f=parseInt(B.contentTouchScroll)||0;x[0]=C[0]>f?x[0]:0,x[1]=C[1]>f?x[1]:0,F.overflowed[0]&&q(x[0],w[0],a,"y",K,!1),F.overflowed[1]&&q(x[1],w[1],a,"x",K,!1)}}}function e(a,b){var c=[1.5*b,2*b,b/1.5,b/2];return 90<a?4<b?c[0]:c[3]:60<a?3<b?c[3]:c[2]:30<a?8<b?c[1]:6<b?c[0]:4<b?b:c[2]:8<b?b:c[3]}function q(b,c,d,e,g,h){b&&Q(f,b.toString(),{dur:c,scrollEasing:d,dir:e,overwrite:g,drag:h})}var s,d,u,l,h,m,p,g,t,v,x,w,A,b,f=aa(this),F=f.data(ea),B=F.opt,o=ea+"_"+F.idx,k=aa("#mCSB_"+F.idx),G=aa("#mCSB_"+F.idx+"_container"),y=[aa("#mCSB_"+F.idx+"_dragger_vertical"),aa("#mCSB_"+F.idx+"_dragger_horizontal")],D=[],E=[],I=0,K="yx"===B.axis?"none":"all",L=[],r=G.find("iframe"),z=["touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,"touchmove."+o+" pointermove."+o+" MSPointerMove."+o,"touchend."+o+" pointerup."+o+" MSPointerUp."+o],H=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;G.bind(z[0],function(b){a(b)}).bind(z[1],function(a){j(a)}),k.bind(z[0],function(a){n(a)}).bind(z[2],function(a){i(a)}),r.length&&r.each(function(){aa(this).bind("load",function(){M(this)&&aa(this.contentDocument||this.contentWindow.document).bind(z[0],function(b){a(b),n(b)}).bind(z[1],function(a){j(a)}).bind(z[2],function(a){i(a)})})})},D=function(){function b(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function g(b,c,d){l.type=d&&j?"stepped":"stepless",l.scrollAmount=10,q(a,b,c,"mcsLinearOut",d?60:null)}var j,a=aa(this),i=a.data(ea),k=i.opt,l=i.sequential,c=ea+"_"+i.idx,d=aa("#mCSB_"+i.idx+"_container"),f=d.parent();d.bind("mousedown."+c,function(){ba||j||(j=1,ha=!0)}).add(document).bind("mousemove."+c,function(h){if(!ba&&j&&b()){var e=d.offset(),a=ja(h)[0]-e.top+d[0].offsetTop,m=ja(h)[1]-e.left+d[0].offsetLeft;0<a&&a<f.height()&&0<m&&m<f.width()?l.step&&g("off",null,"stepped"):("x"!==k.axis&&i.overflowed[0]&&(0>a?g("on",38):a>f.height()&&g("on",40)),"y"!==k.axis&&i.overflowed[1]&&(0>m?g("on",37):m>f.width()&&g("on",39)))}}).bind("mouseup."+c+" dragend."+c,function(){ba||(j&&(j=0,g("off",null)),ha=!1)})},E=function(){function a(c,l){if(T(b),!L(b,c.target)){var a="auto"===j.mouseWheel.deltaFactor?ga&&100>c.deltaFactor?100:c.deltaFactor||100:parseInt(j.mouseWheel.deltaFactor),n=j.scrollInertia;if("x"===j.axis||"x"===j.mouseWheel.axis)var o="x",q=[ca(a*e.scrollRatio.x),parseInt(j.mouseWheel.scrollAmount)],f="auto"===j.mouseWheel.scrollAmount?q[0]>=i.width()?.9*i.width():q[0]:q[1],h=da(aa("#mCSB_"+e.idx+"_container")[0].offsetLeft),m=k[1][0].offsetLeft,p=k[1].parent().width()-k[1].width(),g="y"===j.mouseWheel.axis?c.deltaY||l:c.deltaX;else var o="y",q=[ca(a*e.scrollRatio.y),parseInt(j.mouseWheel.scrollAmount)],f="auto"===j.mouseWheel.scrollAmount?q[0]>=i.height()?.9*i.height():q[0]:q[1],h=da(aa("#mCSB_"+e.idx+"_container")[0].offsetTop),m=k[0][0].offsetTop,p=k[0].parent().height()-k[0].height(),g=c.deltaY||l;("y"!=o||e.overflowed[0])&&("x"!=o||e.overflowed[1])&&((j.mouseWheel.invert||c.webkitDirectionInvertedFromDevice)&&(g=-g),j.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(0<g&&0!==m||0>g&&m!==p||j.mouseWheel.preventDefault)&&(c.stopImmediatePropagation(),c.preventDefault()),5>c.deltaFactor&&!j.mouseWheel.normalizeDelta&&(f=c.deltaFactor,n=17),Q(b,(h-g*f).toString(),{dir:o,dur:n}))}}if(aa(this).data(ea)){var b=aa(this),e=b.data(ea),j=e.opt,f=ea+"_"+e.idx,i=aa("#mCSB_"+e.idx),k=[aa("#mCSB_"+e.idx+"_dragger_vertical"),aa("#mCSB_"+e.idx+"_dragger_horizontal")],c=aa("#mCSB_"+e.idx+"_container").find("iframe");c.length&&c.each(function(){aa(this).bind("load",function(){M(this)&&aa(this.contentDocument||this.contentWindow.document).bind("mousewheel."+f,function(b,c){a(b,c)})})}),i.bind("mousewheel."+f,function(b,c){a(b,c)})}},I={},M=function(b){var c=!1,d=!1,a=null;if(void 0===b?d="#empty":void 0!==aa(b).attr("id")&&(d=aa(b).attr("id")),!1!==d&&void 0!==I[d])return I[d];if(b){try{var e=b.contentDocument||b.contentWindow.document;a=e.body.innerHTML}catch(a){}c=null!==a}else{try{var e=top.document;a=e.body.innerHTML}catch(a){}c=null!==a}return!1!==d&&(I[d]=c),c},A=function(a){var b=this.find("iframe");if(b.length){var c=a?"auto":"none";b.css("pointer-events",c)}},L=function(a,b){var c=b.nodeName.toLowerCase(),d=a.data(ea).opt.mouseWheel.disableOver;return-1<aa.inArray(c,d)&&(!(-1<aa.inArray(c,["select","textarea"]))||aa(b).is(":focus"))},z=function(){var b,d=aa(this),e=d.data(ea),a=ea+"_"+e.idx,g=aa("#mCSB_"+e.idx+"_container"),h=g.parent(),c=aa(".mCSB_"+e.idx+"_scrollbar ."+ia[12]);c.bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,function(a){ha=!0,aa(a.target).hasClass("mCSB_dragger")||(b=1)}).bind("touchend."+a+" pointerup."+a+" MSPointerUp."+a,function(){ha=!1}).bind("click."+a,function(j){if(b&&(b=0,aa(j.target).hasClass(ia[12])||aa(j.target).hasClass("mCSB_draggerRail"))){T(d);var a=aa(this),i=a.find(".mCSB_dragger");if(0<a.parent(".mCSB_scrollTools_horizontal").length){if(!e.overflowed[1])return;var k="x",l=j.pageX>i.offset().left?-1:1,m=da(g[0].offsetLeft)-l*(.9*h.width())}else{if(!e.overflowed[0])return;var k="y",l=j.pageY>i.offset().top?-1:1,m=da(g[0].offsetTop)-l*(.9*h.height())}Q(d,m.toString(),{dir:k,scrollEasing:"mcsEaseInOut"})}})},O=function(){var b=aa(this),a=b.data(ea),d=a.opt,c=ea+"_"+a.idx,f=aa("#mCSB_"+a.idx+"_container"),g=f.parent();f.bind("focusin."+c,function(){var h=aa(document.activeElement),a=f.find(".mCustomScrollBox").length,j=0;h.is(d.advanced.autoScrollOnFocus)&&(T(b),clearTimeout(b[0]._focusTimeout),b[0]._focusTimer=a?(j+17)*a:0,b[0]._focusTimeout=setTimeout(function(){var a=[Y(h)[0],Y(h)[1]],e=[f[0].offsetTop,f[0].offsetLeft],k=[0<=e[0]+a[0]&&e[0]+a[0]<g.height()-h.outerHeight(!1),0<=e[1]+a[1]&&e[0]+a[1]<g.width()-h.outerWidth(!1)],i="yx"!==d.axis||k[0]||k[1]?"all":"none";"x"===d.axis||k[0]||Q(b,a[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:i,dur:j}),"y"===d.axis||k[1]||Q(b,a[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:i,dur:j})},b[0]._focusTimer))})},H=function(){var a=aa(this),b=a.data(ea),c=ea+"_"+b.idx,d=aa("#mCSB_"+b.idx+"_container").parent();d.bind("scroll."+c,function(){0===d.scrollTop()&&0===d.scrollLeft()||aa(".mCSB_"+b.idx+"_scrollbar").css("visibility","hidden")})},P=function(){var a=aa(this),b=a.data(ea),c=b.opt,d=b.sequential,e=ea+"_"+b.idx,f=".mCSB_"+b.idx+"_scrollbar",g=aa(f+">a");g.bind("contextmenu."+e,function(a){a.preventDefault()}).bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e+" mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e+" mouseout."+e+" pointerout."+e+" MSPointerOut."+e+" click."+e,function(e){function f(b,e){d.scrollAmount=c.scrollButtons.scrollAmount,q(a,b,e)}if(e.preventDefault(),V(e)){var g=aa(this).attr("class");switch(d.type=c.scrollButtons.scrollType,e.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===d.type)return;ha=!0,b.tweenRunning=!1,f("on",g);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===d.type)return;ha=!1,d.dir&&f("off",g);break;case"click":if("stepped"!==d.type||b.tweenRunning)return;f("on",g);}}})},F=function(){function a(e){function k(a,c){i.type=j.keyboard.scrollType,i.scrollAmount=j.keyboard.scrollAmount,"stepped"===i.type&&g.tweenRunning||q(b,a,c)}switch(e.type){case"blur":g.tweenRunning&&i.dir&&k("off",null);break;case"keydown":case"keyup":var a=e.keyCode?e.keyCode:e.which,l="on";if("x"!==j.axis&&(38===a||40===a)||"y"!==j.axis&&(37===a||39===a)){if((38===a||40===a)&&!g.overflowed[0]||(37===a||39===a)&&!g.overflowed[1])return;"keyup"===e.type&&(l="off"),aa(document.activeElement).is(d)||(e.preventDefault(),e.stopImmediatePropagation(),k(l,a))}else if(33===a||34===a){if((g.overflowed[0]||g.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){T(b);var o=34===a?-1:1;if("x"===j.axis||"yx"===j.axis&&g.overflowed[1]&&!g.overflowed[0])var f="x",p=da(n[0].offsetLeft)-o*(.9*c.width());else var f="y",p=da(n[0].offsetTop)-o*(.9*c.height());Q(b,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===a||36===a)&&!aa(document.activeElement).is(d)&&((g.overflowed[0]||g.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===j.axis||"yx"===j.axis&&g.overflowed[1]&&!g.overflowed[0])var f="x",p=35===a?da(c.width()-n.outerWidth(!1)):0;else var f="y",p=35===a?da(c.height()-n.outerHeight(!1)):0;Q(b,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}}var b=aa(this),g=b.data(ea),j=g.opt,i=g.sequential,e=ea+"_"+g.idx,k=aa("#mCSB_"+g.idx),n=aa("#mCSB_"+g.idx+"_container"),c=n.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",l=n.find("iframe"),f=["blur."+e+" keydown."+e+" keyup."+e];l.length&&l.each(function(){aa(this).bind("load",function(){M(this)&&aa(this.contentDocument||this.contentWindow.document).bind(f[0],function(b){a(b)})})}),k.attr("tabindex","0").bind(f[0],function(b){a(b)})},q=function(b,a,d,j,i){function e(g){c.snapAmount&&(q.scrollAmount=c.snapAmount instanceof Array?"x"===q.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var h="stepped"!==q.type,k=i?i:g?h?r/1.5:p:1e3/60,o=g?h?7.5:40:2.5,n=[da(f[0].offsetTop),da(f[0].offsetLeft)],s=[10<l.scrollRatio.y?10:l.scrollRatio.y,10<l.scrollRatio.x?10:l.scrollRatio.x],d="x"===q.dir[0]?n[1]+q.dir[1]*(s[1]*o):n[0]+q.dir[1]*(s[0]*o),m="x"===q.dir[0]?n[1]+q.dir[1]*parseInt(q.scrollAmount):n[0]+q.dir[1]*parseInt(q.scrollAmount),t="auto"===q.scrollAmount?d:m,u=j?j:g?h?"mcsLinearOut":"mcsEaseInOut":"mcsLinear";return g&&17>k&&(t="x"===q.dir[0]?n[1]:n[0]),Q(b,t.toString(),{dir:q.dir[0],scrollEasing:u,dur:k,onComplete:!!g}),g?void(q.dir=!1):(clearTimeout(q.step),void(q.step=setTimeout(function(){e()},k)))}function k(){clearTimeout(q.step),U(q,"step"),T(b)}var l=b.data(ea),c=l.opt,q=l.sequential,f=aa("#mCSB_"+l.idx+"_container"),h="stepped"===q.type,r=26>c.scrollInertia?26:c.scrollInertia,p=1>c.scrollInertia?17:c.scrollInertia;switch(a){case"on":if(q.dir=[d===ia[16]||d===ia[15]||39===d||37===d?"x":"y",d===ia[13]||d===ia[15]||38===d||37===d?-1:1],T(b),W(d)&&"stepped"===q.type)return;e(h);break;case"off":k(),(h||l.tweenRunning&&q.dir)&&e(!0);}},j=function(a){var b=aa(this).data(ea).opt,c=[];return"function"==typeof a&&(a=a()),a instanceof Array?c=1<a.length?[a[0],a[1]]:"x"===b.axis?[null,a[0]]:[a[0],null]:(c[0]=a.y?a.y:a.x||"x"===b.axis?null:a,c[1]=a.x?a.x:a.y||"y"===b.axis?null:a),"function"==typeof c[0]&&(c[0]=c[0]()),"function"==typeof c[1]&&(c[1]=c[1]()),c},R=function(a,b){if(null!=a&&"undefined"!=typeof a){var c=aa(this),e=c.data(ea),g=e.opt,i=aa("#mCSB_"+e.idx+"_container"),j=i.parent();b||(b="x"===g.axis?"x":"y");var k="x"===b?i.outerWidth(!1)-j.width():i.outerHeight(!1)-j.height(),d="x"===b?i[0].offsetLeft:i[0].offsetTop,f="x"===b?"left":"top";switch(typeof a){case"function":return a();case"object":var h=a.jquery?a:aa(a);return h.length?"x"===b?Y(h)[1]:Y(h)[0]:void 0;case"string":case"number":if(W(a))return da(a);if(-1!==a.indexOf("%"))return da(k*parseInt(a)/100);if(-1!==a.indexOf("-="))return da(d-parseInt(a.split("-=")[1]));if(-1!==a.indexOf("+=")){var l=d+parseInt(a.split("+=")[1]);return 0<=l?0:da(l)}if(-1!==a.indexOf("px")&&W(a.split("px")[0]))return da(a.split("px")[0]);if("top"===a||"left"===a)return 0;if("bottom"===a)return da(j.height()-i.outerHeight(!1));if("right"===a)return da(j.width()-i.outerWidth(!1));if("first"===a||"last"===a){var h=i.find(":"+a);return"x"===b?Y(h)[1]:Y(h)[0]}return aa(a).length?"x"===b?Y(aa(a))[1]:Y(aa(a))[0]:(i.css(f,a),void r.update.call(null,c[0]));}}},S=function(a){function b(){return clearTimeout(c[0].autoUpdate),0===h.parents("html").length?void(h=null):void(c[0].autoUpdate=setTimeout(function(){return j.advanced.updateOnSelectorChange&&(i.poll.change.n=e(),i.poll.change.n!==i.poll.change.o)?(i.poll.change.o=i.poll.change.n,void g(3)):j.advanced.updateOnContentResize&&(i.poll.size.n=h[0].scrollHeight+h[0].scrollWidth+c[0].offsetHeight+h[0].offsetHeight+h[0].offsetWidth,i.poll.size.n!==i.poll.size.o)?(i.poll.size.o=i.poll.size.n,void g(1)):!j.advanced.updateOnImageLoad||"auto"===j.advanced.updateOnImageLoad&&"y"===j.axis||(i.poll.img.n=c.find("img").length,i.poll.img.n===i.poll.img.o)?void((j.advanced.updateOnSelectorChange||j.advanced.updateOnContentResize||j.advanced.updateOnImageLoad)&&b()):(i.poll.img.o=i.poll.img.n,void c.find("img").each(function(){d(this)}))},j.advanced.autoUpdateTimeout))}function d(a){if(aa(a).hasClass(ia[2]))return void g();var b=new Image;b.onload=function(a,b){return function(){return b.apply(a,arguments)}}(b,function(){this.onload=null,aa(a).addClass(ia[2]),g(2)}),b.src=a.src}function e(){!0===j.advanced.updateOnSelectorChange&&(j.advanced.updateOnSelectorChange="*");var a=0,b=c.find(j.advanced.updateOnSelectorChange);return j.advanced.updateOnSelectorChange&&0<b.length&&b.each(function(){a+=this.offsetHeight+this.offsetWidth}),a}function g(a){clearTimeout(c[0].autoUpdate),r.update.call(null,h[0],a)}var h=aa(this),i=h.data(ea),j=i.opt,c=aa("#mCSB_"+i.idx+"_container");return a?(clearTimeout(c[0].autoUpdate),void U(c[0],"autoUpdate")):void b()},N=function(a,b,c){return ca(a/b)*b-c},T=function(a){var b=a.data(ea),c=aa("#mCSB_"+b.idx+"_container,#mCSB_"+b.idx+"_container_wrapper,#mCSB_"+b.idx+"_dragger_vertical,#mCSB_"+b.idx+"_dragger_horizontal");c.each(function(){K.call(this)})},Q=function(q,a,t){function e(a){return l&&o.callbacks[a]&&"function"==typeof o.callbacks[a]}function i(){return[o.callbacks.alwaysTriggerOffsets||x>=w[0]+b,o.callbacks.alwaysTriggerOffsets||-y>=x]}function n(){var b=[f[0].offsetTop,f[0].offsetLeft],c=[u[0].offsetTop,u[0].offsetLeft],d=[f.outerHeight(!1),f.outerWidth(!1)],a=[r.height(),r.width()];q[0].mcs={content:f,top:b[0],left:b[1],draggerTop:c[0],draggerLeft:c[1],topPct:ca(100*da(b[0])/(da(d[0])-a[0])),leftPct:ca(100*da(b[1])/(da(d[1])-a[1])),direction:t.dir}}var l=q.data(ea),o=l.opt,c={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:o.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},t=aa.extend(c,t),d=[t.dur,t.drag?0:t.dur],r=aa("#mCSB_"+l.idx),f=aa("#mCSB_"+l.idx+"_container"),s=f.parent(),m=o.callbacks.onTotalScrollOffset?j.call(q,o.callbacks.onTotalScrollOffset):[0,0],p=o.callbacks.onTotalScrollBackOffset?j.call(q,o.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=t.trigger,0===s.scrollTop()&&0===s.scrollLeft()||(aa(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),s.scrollTop(0).scrollLeft(0)),"_resetY"!==a||l.contentReset.y||(e("onOverflowYNone")&&o.callbacks.onOverflowYNone.call(q[0]),l.contentReset.y=1),"_resetX"!==a||l.contentReset.x||(e("onOverflowXNone")&&o.callbacks.onOverflowXNone.call(q[0]),l.contentReset.x=1),"_resetY"!==a&&"_resetX"!==a){if(!l.contentReset.y&&q[0].mcs||!l.overflowed[0]||(e("onOverflowY")&&o.callbacks.onOverflowY.call(q[0]),l.contentReset.x=null),!l.contentReset.x&&q[0].mcs||!l.overflowed[1]||(e("onOverflowX")&&o.callbacks.onOverflowX.call(q[0]),l.contentReset.x=null),o.snapAmount){var g=o.snapAmount instanceof Array?"x"===t.dir?o.snapAmount[1]:o.snapAmount[0]:o.snapAmount;a=N(a,g,o.snapOffset)}switch(t.dir){case"x":var u=aa("#mCSB_"+l.idx+"_dragger_horizontal"),v="left",x=f[0].offsetLeft,w=[r.width()-f.outerWidth(!1),u.parent().width()-u.width()],z=[a,0===a?0:a/l.scrollRatio.x],b=m[1],y=p[1],A=0<b?b/l.scrollRatio.x:0,C=0<y?y/l.scrollRatio.x:0;break;case"y":var u=aa("#mCSB_"+l.idx+"_dragger_vertical"),v="top",x=f[0].offsetTop,w=[r.height()-f.outerHeight(!1),u.parent().height()-u.height()],z=[a,0===a?0:a/l.scrollRatio.y],b=m[0],y=p[0],A=0<b?b/l.scrollRatio.y:0,C=0<y?y/l.scrollRatio.y:0;}0>z[1]||0===z[0]&&0===z[1]?z=[0,0]:z[1]>=w[1]?z=[w[0],w[1]]:z[0]=-z[0],q[0].mcs||(n(),e("onInit")&&o.callbacks.onInit.call(q[0])),clearTimeout(f[0].onCompleteTimeout),G(u[0],v,ca(z[1]),d[1],t.scrollEasing),!l.tweenRunning&&(0===x&&0<=z[0]||x===w[0]&&z[0]<=w[0])||G(f[0],v,ca(z[0]),d[0],t.scrollEasing,t.overwrite,{onStart:function(){t.callbacks&&t.onStart&&!l.tweenRunning&&(e("onScrollStart")&&(n(),o.callbacks.onScrollStart.call(q[0])),l.tweenRunning=!0,_(u),l.cbOffsets=i())},onUpdate:function(){t.callbacks&&t.onUpdate&&e("whileScrolling")&&(n(),o.callbacks.whileScrolling.call(q[0]))},onComplete:function(){if(t.callbacks&&t.onComplete){"yx"===o.axis&&clearTimeout(f[0].onCompleteTimeout);var a=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){e("onScroll")&&(n(),o.callbacks.onScroll.call(q[0])),e("onTotalScroll")&&z[1]>=w[1]-A&&l.cbOffsets[0]&&(n(),o.callbacks.onTotalScroll.call(q[0])),e("onTotalScrollBack")&&z[1]<=C&&l.cbOffsets[1]&&(n(),o.callbacks.onTotalScrollBack.call(q[0])),l.tweenRunning=!1,f[0].idleTimer=0,_(u,"hide")},a)}}})}},G=function(c,d,e,j,a,k,i){function n(){u.stop||(r||h.call(),r=J()-g,l(),r>=u.time&&(u.time=r>u.time?r+q-(r-u.time):r+q-1,u.time<r+1&&(u.time=r+1)),u.time<j?u.id=f(n):p.call())}function l(){0<j?(u.currVal=o(u.time,s,v,j,a),t[d]=ca(u.currVal)+"px"):t[d]=e+"px",m.call()}function o(b,c,d,e,a){var f=Math.pow;switch(a){case"linear":case"mcsLinear":return d*b/e+c;case"mcsLinearOut":return b/=e,b--,d*Math.sqrt(1-b*b)+c;case"easeInOutSmooth":return b/=e/2,1>b?d/2*b*b+c:(b--,-d/2*(b*(b-2)-1)+c);case"easeInOutStrong":return b/=e/2,1>b?d/2*f(2,10*(b-1))+c:(b--,d/2*(-f(2,-10*b)+2)+c);case"easeInOut":case"mcsEaseInOut":return b/=e/2,1>b?d/2*b*b*b+c:(b-=2,d/2*(b*b*b+2)+c);case"easeOutSmooth":return b/=e,b--,-d*(b*b*b*b-1)+c;case"easeOutStrong":return d*(-f(2,-10*b/e)+1)+c;case"easeOut":case"mcsEaseOut":default:var g=(b/=e)*b,h=g*b;return c+d*(.499999999999997*h*g+-2.5*g*g+5.5*h+-6.5*g+4*b);}}c._mTween||(c._mTween={top:{},left:{}});var q,f,i=i||{},h=i.onStart||function(){},m=i.onUpdate||function(){},p=i.onComplete||function(){},g=J(),r=0,s=c.offsetTop,t=c.style,u=c._mTween[d];"left"===d&&(s=c.offsetLeft);var v=e-s;u.stop=0,"none"!==k&&function(){null!=u.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(u.id):clearTimeout(u.id),u.id=null)}(),function(){q=1e3/60,u.time=r+q,f=window.requestAnimationFrame?window.requestAnimationFrame:function(a){return l(),setTimeout(a,.01)},u.id=f(n)}()},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():new Date().getTime()},K=function(){var b=this;b._mTween||(b._mTween={top:{},left:{}});for(var c,a=["top","left"],d=0;d<a.length;d++)c=a[d],b._mTween[c].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(b._mTween[c].id):clearTimeout(b._mTween[c].id),b._mTween[c].id=null,b._mTween[c].stop=1)},U=function(a,b){try{delete a[b]}catch(c){a[b]=null}},V=function(a){return!(a.which&&1!==a.which)},X=function(a){var b=a.originalEvent.pointerType;return!(b&&"touch"!==b&&2!==b)},W=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},Y=function(a){var b=a.parents(".mCSB_container");return[a.offset().top-b.offset().top,a.offset().left-b.offset().left]},Z=function(){var a=function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null}();return!!a&&document[a]};aa.fn[e]=function(a){return r[a]?r[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void aa.error("Method "+a+" does not exist"):r.init.apply(this,arguments)},aa[e]=function(a){return r[a]?r[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void aa.error("Method "+a+" does not exist"):r.init.apply(this,arguments)},aa[e].defaults=n,window[e]=!0,aa(window).bind("load",function(){aa(a)[e](),aa.extend(aa.expr[":"],{mcsInView:aa.expr[":"].mcsInView||function(b){var c,d,a=aa(b),e=a.parents(".mCSB_container");if(e.length)return c=e.parent(),d=[e[0].offsetTop,e[0].offsetLeft],0<=d[0]+Y(a)[0]&&d[0]+Y(a)[0]<c.height()-a.outerHeight(!1)&&0<=d[1]+Y(a)[1]&&d[1]+Y(a)[1]<c.width()-a.outerWidth(!1)},mcsInSight:aa.expr[":"].mcsInSight||function(b,e,f){var a,g,h,i,j=aa(b),k=j.parents(".mCSB_container"),c="exact"===f[3]?[[1,0],[1,0]]:[[0.9,0.1],[0.6,0.4]];if(k.length)return a=[j.outerHeight(!1),j.outerWidth(!1)],h=[k[0].offsetTop+Y(j)[0],k[0].offsetLeft+Y(j)[1]],g=[k.parent()[0].offsetHeight,k.parent()[0].offsetWidth],i=[a[0]<g[0]?c[0]:c[1],a[1]<g[1]?c[0]:c[1]],0>h[0]-g[0]*i[0][0]&&0<=h[0]+a[0]-g[0]*i[0][1]&&0>h[1]-g[1]*i[1][0]&&0<=h[1]+a[1]-g[1]*i[1][1]},mcsOverflow:aa.expr[":"].mcsOverflow||function(a){var b=aa(a).data(ea);if(b)return b.overflowed[0]||b.overflowed[1]}})})})});
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(t,a,s,i){var o=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(e,r,p){function d(){r.hasClass("collapse")&&r.hasClass("in")||a.resolve(b(e)).then(function(){r.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),o?o(r,{addClass:"in",easing:"ease",to:{height:r[0].scrollHeight+"px"}}).start()["finally"](c):t.addClass(r,"in",{to:{height:r[0].scrollHeight+"px"}}).then(c)})}function c(){r.removeClass("collapsing").addClass("collapse").css({height:"auto"}),l(e)}function i(){return r.hasClass("collapse")||r.hasClass("in")?void a.resolve(m(e)).then(function(){r.css({height:r[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),o?o(r,{removeClass:"in",to:{height:"0"}}).start()["finally"](u):t.removeClass(r,"in",{to:{height:"0"}}).then(u)}):u()}function u(){r.css({height:"0"}),r.removeClass("collapsing").addClass("collapse"),n(e)}var b=s(p.expanding),l=s(p.expanded),m=s(p.collapsing),n=s(p.collapsed);e.$eval(p.uibCollapse)||r.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),e.$watch(p.uibCollapse,function(e){e?i():d()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,a,i){this.groups=[],this.closeOthers=function(o){var n=angular.isDefined(a.closeOthers)?t.$eval(a.closeOthers):i.closeOthers;n&&angular.forEach(this.groups,function(e){e!==o&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,a,i,o){o.addGroup(t),t.openClass=i.openClass||"panel-open",t.panelClass=i.panelClass||"panel-default",t.$watch("isOpen",function(e){a.toggleClass(t.openClass,!!e),e&&o.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};var n="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=n+"-tab",t.panelId=n+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,a,i,o,n){o.setHeading(n(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,a,i){e.$watch(function(){return i[a.uibAccordionTransclude]},function(e){if(e){var a=angular.element(t[0].querySelector("[uib-accordion-header]"));a.html(""),a.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(t,a,i,o){t.closeable=!!a.close;var n=angular.isDefined(a.dismissOnTimeout)?i(a.dismissOnTimeout)(t.$parent):null;n&&o(function(){t.close()},parseInt(n,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(t){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(i,o,n,a){var e=a[0],l=a[1],s=t(n.uibUncheckable);o.find("input").css({display:"none"}),l.$render=function(){o.toggleClass(e.activeClass,angular.equals(l.$modelValue,i.$eval(n.uibBtnRadio)))},o.on(e.toggleEvent,function(){if(!n.disabled){var t=o.hasClass(e.activeClass);t&&!angular.isDefined(n.uncheckable)||i.$apply(function(){l.$setViewValue(t?null:i.$eval(n.uibBtnRadio)),l.$render()})}}),n.uibUncheckable&&i.$watch(s,function(e){n.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(t,a,o,n){function l(){return s(o.btnCheckboxTrue,!0)}function e(){return s(o.btnCheckboxFalse,!1)}function s(e,a){return angular.isDefined(e)?t.$eval(e):a}var r=n[0],p=n[1];a.find("input").css({display:"none"}),p.$render=function(){a.toggleClass(r.activeClass,angular.equals(p.$modelValue,l()))},a.on(r.toggleEvent,function(){o.disabled||t.$apply(function(){p.$setViewValue(a.hasClass(r.activeClass)?e():l()),p.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(v,$,a,c,y){function e(){for(;s.length;)s.shift()}function f(e){for(var t=0;t<p.length;t++)p[t].slide.active=t===e}function w(a,n,l){if(!t){if(angular.extend(a,{direction:l}),angular.extend(p[r].slide||{},{direction:l}),y.enabled($)&&!v.$currentTransition&&p[n].element&&1<o.slides.length){p[n].element.data(m,a.direction);var d=o.getCurrentIndex();angular.isNumber(d)&&p[d].element&&p[d].element.data(m,a.direction),v.$currentTransition=!0,y.on("addClass",p[n].element,function(t,a){if("close"===a&&(v.$currentTransition=null,y.off("addClass",t),s.length)){var n=s.pop().slide,l=n.index,r=l>o.getCurrentIndex()?"next":"prev";e(),w(n,l,r)}})}v.active=a.index,r=a.index,f(n),b()}}function h(e){for(var t=0;t<p.length;t++)if(p[t].slide===e)return t}function i(){d&&(a.cancel(d),d=null)}function b(){i();var e=+v.interval;!isNaN(e)&&0<e&&(d=a(l,e))}function l(){var e=+v.interval;n&&!isNaN(e)&&0<e&&p.length?v.next():v.pause()}var d,n,o=this,p=o.slides=v.slides=[],m="uib-slideDirection",r=v.active,s=[],t=!1;o.addSlide=function(e,t){p.push({slide:e,element:t}),p.sort(function(e,t){return+e.slide.index-+t.slide.index}),e.index!==v.active&&(1!==p.length||angular.isNumber(v.active))||(v.$currentTransition&&(v.$currentTransition=null),r=e.index,v.active=e.index,f(r),o.select(p[h(e)]),1===p.length&&v.play())},o.getCurrentIndex=function(){for(var e=0;e<p.length;e++)if(p[e].slide.index===r)return e},o.next=v.next=function(){var e=(o.getCurrentIndex()+1)%p.length;return 0==e&&v.noWrap()?void v.pause():o.select(p[e],"next")},o.prev=v.prev=function(){var e=0>o.getCurrentIndex()-1?p.length-1:o.getCurrentIndex()-1;return v.noWrap()&&e==p.length-1?void v.pause():o.select(p[e],"prev")},o.removeSlide=function(t){var a=h(t),i=s.indexOf(p[a]);-1!==i&&s.splice(i,1),p.splice(a,1),0<p.length&&r===a?a>=p.length?(r=p.length-1,v.active=r,f(r),o.select(p[p.length-1])):(r=a,v.active=r,f(r),o.select(p[a])):r>a&&(r--,v.active=r),0===p.length&&(r=null,v.active=null,e())},o.select=v.select=function(e,t){var a=h(e.slide);void 0===t&&(t=a>o.getCurrentIndex()?"next":"prev"),e.slide.index===r||v.$currentTransition?e&&e.slide.index!==r&&v.$currentTransition&&s.push(p[a]):w(e.slide,a,t)},v.indexOfSlide=function(e){return+e.slide.index},v.isActive=function(e){return v.active===e.slide.index},v.isPrevDisabled=function(){return 0===v.active&&v.noWrap()},v.isNextDisabled=function(){return v.active===p.length-1&&v.noWrap()},v.pause=function(){v.noPause||(n=!1,i())},v.play=function(){n||(n=!0,b())},v.$on("$destroy",function(){t=!0,i()}),v.$watch("noTransition",function(e){y.enabled($,!e)}),v.$watch("interval",b),v.$watchCollection("slides",function(t){t.length||(v.$currentTransition=null,e())}),v.$watch("active",function(e){if(angular.isNumber(e)&&r!==e){for(var t=0;t<p.length;t++)if(p[t].slide.index===e){e=t;break}var a=p[e];a&&(f(e),o.select(p[e]),r=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,t,a,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)})}}}).animation(".item",["$animateCss",function(e){function t(e,t,a){e.removeClass(t),a&&a()}var a="uib-slideDirection";return{beforeAddClass:function(o,n,l){if("active"===n){var s=o.data(a),r="next"===s?"left":"right",p=t.bind(this,o,r+" "+s,l);return o.addClass(s),e(o,{addClass:r}).start().done(p),function(){}}l()},beforeRemoveClass:function(o,n,l){if("active"===n){var s=o.data(a),r="next"===s?"left":"right",p=t.bind(this,o,r,l);return e(o,{addClass:r}).start().done(p),function(){}}l()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(i,v,t,s){function b(t,a){var i=[],o=t.split(""),n=t.indexOf("'");if(-1<n){var r=!1;t=t.split("");for(var p=n;p<t.length;p++)r?("'"===t[p]&&(p+1<t.length&&"'"===t[p+1]?(t[p+1]="$",o[p+1]=""):(o[p]="",r=!1)),t[p]="$"):"'"===t[p]&&(t[p]="$",o[p]="",r=!0);t=t.join("")}return angular.forEach(l,function(e){var n=t.indexOf(e.key);if(-1<n){t=t.split(""),o[n]="("+e.regex+")",t[n]="$";for(var l=n+1,s=n+e.key.length;s>l;l++)o[l]="",t[l]="$";t=t.join(""),i.push({index:n,key:e.key,apply:e[a],matcher:e.regex})}}),{regex:new RegExp("^"+o.join("")+"$"),map:s(i,"index")}}function e(e,t,a){return!(1>a)&&(1===t&&28<a?29==a&&(0==e%4&&0!=e%100||0==e%400):3===t||5===t||8===t||10===t?31>a:!0)}function r(e){return parseInt(e,10)}function p(e,t){var a=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(a)?t:a}function u(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function d(e,t,a){a=a?-1:1;var i=p(t,e.getTimezoneOffset());return u(e,a*(i-e.getTimezoneOffset()))}var $,l,n=Math.abs,a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){$=v.id,this.parsers={},this.formatters={},l=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var a=new Date;return a.setFullYear(n(e.getFullYear())),t(a,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=69>e?e+2e3:e+1900},formatter:function(e){var a=new Date;return a.setFullYear(n(e.getFullYear())),t(a,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var a=new Date;return a.setFullYear(n(e.getFullYear())),t(a,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var a=e.getMonth();return /^[0-9]$/.test(a)?t(e,"MM"):t(e,"M")}},{key:"MMMM",regex:v.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=v.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return t(e,"MMMM")}},{key:"MMM",regex:v.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=v.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return t(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return t(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return t(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var a=e.getDate();return /^[1-9]$/.test(a)?t(e,"dd"):t(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return t(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return t(e,"d")}},{key:"EEEE",regex:v.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return t(e,"EEEE")}},{key:"EEE",regex:v.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return t(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return t(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return t(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return t(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return t(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return t(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return t(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return t(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return t(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return t(e,"s")}},{key:"a",regex:v.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return t(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var a=t.match(/([+-])(\d{2})(\d{2})/),i=a[1],o=a[2],n=a[3];this.hours+=r(i+o),this.minutes+=r(i+n)},formatter:function(e){return t(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return t(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return t(e,"w")}},{key:"GGGG",regex:v.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return t(e,"GGGG")}},{key:"GGG",regex:v.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return t(e,"GGG")}},{key:"GG",regex:v.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return t(e,"GG")}},{key:"G",regex:v.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return t(e,"G")}}]},this.init(),this.filter=function(t,e){if(!angular.isDate(t)||isNaN(t)||!e)return"";e=v.DATETIME_FORMATS[e]||e,v.id!==$&&this.init(),this.formatters[e]||(this.formatters[e]=b(e,"formatter"));var a=this.formatters[e],i=a.map,o=e;return i.reduce(function(a,n,l){var s=o.match(new RegExp("(.*)"+n.key));s&&angular.isString(s[1])&&(a+=s[1],o=o.replace(s[1]+n.key,""));var e=l===i.length-1?o:"";return n.apply?a+n.apply.call(null,t)+e:a+e},"")},this.parse=function(o,c,m){if(!angular.isString(o)||!c)return o;c=v.DATETIME_FORMATS[c]||c,c=c.replace(a,"\\$&"),v.id!==$&&this.init(),this.parsers[c]||(this.parsers[c]=b(c,"apply"));var g=this.parsers[c],h=g.regex,f=g.map,y=o.match(h),w=!1;if(y&&y.length){var l,n;angular.isDate(m)&&!isNaN(m.getTime())?l={year:m.getFullYear(),month:m.getMonth(),date:m.getDate(),hours:m.getHours(),minutes:m.getMinutes(),seconds:m.getSeconds(),milliseconds:m.getMilliseconds()}:(m&&i.warn("dateparser:","baseDate is not a valid date"),l={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var p,s=1,k=y.length;k>s;s++)p=f[s-1],"Z"===p.matcher&&(w=!0),p.apply&&p.apply.call(l,y[s]);var r=w?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,t=w?Date.prototype.setUTCHours:Date.prototype.setHours;return e(l.year,l.month,l.date)&&(!angular.isDate(m)||isNaN(m.getTime())||w?(n=new Date(0),r.call(n,l.year,l.month,l.date),t.call(n,l.hours||0,l.minutes||0,l.seconds||0,l.milliseconds||0)):(n=new Date(m),r.call(n,l.year,l.month,l.date),t.call(n,l.hours,l.minutes,l.seconds,l.milliseconds))),n}},this.toTimezone=function(e,t){return e&&t?d(e,t):e},this.fromTimezone=function(e,t){return e&&t?d(e,t,!0):e},this.timezoneToOffset=p,this.addDateMinutes=u,this.convertTimezoneToLocal=d}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,a=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(s,r){function p(t,o){var n=t.match(a),s=o.$eval(n[1]),r=n[2],p=v[t];if(!p){var c=function(t){var o=null;i.some(function(e){var a=e.scope.$eval(l);return a===t?(o=e,!0):void 0}),p.lastActivated!==o&&(p.lastActivated&&e.removeClass(p.lastActivated.element,s),o&&e.addClass(o.element,s),p.lastActivated=o)};v[t]=p={lastActivated:null,scope:o,watchFn:c,compareWithExp:r,watcher:o.$watch(r,c)}}p.watchFn(o.$eval(r))}function d(e){var t=e.targetScope,a=u.indexOf(t);if(u.splice(a,1),i.splice(a,1),u.length){var o=u[0];angular.forEach(v,function(e){e.scope===t&&(e.watcher=o.$watch(e.compareWithExp,e.watchFn),e.scope=o)})}else v={}}var u=[],i=[],v={},c=r.uibIsClass.match(t),l=c[2],m=c[1],n=m.split(",");return function(e,t){u.push(e),i.push({scope:e,element:t}),n.forEach(function(t){p(t,e)}),e.$on("$destroy",d)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(t,a,s,r,d,e,c,u,h,i,v){function g(e){t.datepickerMode=e,t.datepickerOptions.datepickerMode=e}var l=this,m={$setViewValue:angular.noop},n={},o=[];!!a.datepickerOptions,t.datepickerOptions||(t.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(i){"customClass"===i||"dateDisabled"===i?t[i]=t.datepickerOptions[i]||angular.noop:"datepickerMode"===i?t.datepickerMode=angular.isDefined(t.datepickerOptions.datepickerMode)?t.datepickerOptions.datepickerMode:u.datepickerMode:"formatDay"===i||"formatDayHeader"===i||"formatDayTitle"===i||"formatMonth"===i||"formatMonthTitle"===i||"formatYear"===i?l[i]=angular.isDefined(t.datepickerOptions[i])?r(t.datepickerOptions[i])(t.$parent):u[i]:"showWeeks"===i||"shortcutPropagation"===i||"yearColumns"===i||"yearRows"===i?l[i]=angular.isDefined(t.datepickerOptions[i])?t.datepickerOptions[i]:u[i]:"startingDay"===i?l.startingDay=angular.isDefined(t.datepickerOptions.startingDay)?t.datepickerOptions.startingDay:angular.isNumber(u.startingDay)?u.startingDay:(d.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7:"maxDate"===i||"minDate"===i?t.$watch("datepickerOptions."+i,function(t){t?angular.isDate(t)?l[i]=v.fromTimezone(new Date(t),n.timezone):(h&&e.warn("Literal date support has been deprecated, please switch to date object usage"),l[i]=new Date(c(t,"medium"))):l[i]=u[i]?v.fromTimezone(new Date(u[i]),n.timezone):null,l.refreshView()}):"maxMode"===i||"minMode"===i?t.datepickerOptions[i]?t.$watch(function(){return t.datepickerOptions[i]},function(e){l[i]=t[i]=angular.isDefined(e)?e:datepickerOptions[i],("minMode"===i&&l.modes.indexOf(t.datepickerOptions.datepickerMode)<l.modes.indexOf(l[i])||"maxMode"===i&&l.modes.indexOf(t.datepickerOptions.datepickerMode)>l.modes.indexOf(l[i]))&&(t.datepickerMode=l[i],t.datepickerOptions.datepickerMode=l[i])}):l[i]=t[i]=u[i]||null:void 0}),t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),t.disabled=angular.isDefined(a.disabled)||!1,angular.isDefined(a.ngDisabled)&&o.push(t.$parent.$watch(a.ngDisabled,function(e){t.disabled=e,l.refreshView()})),t.isActive=function(e){return!(0!==l.compare(e.date,l.activeDate))&&(t.activeDateId=e.uid,!0)},this.init=function(e){m=e,n=e.$options||u.ngModelOptions,t.datepickerOptions.initDate?(l.activeDate=v.fromTimezone(t.datepickerOptions.initDate,n.timezone)||new Date,t.$watch("datepickerOptions.initDate",function(e){e&&(m.$isEmpty(m.$modelValue)||m.$invalid)&&(l.activeDate=v.fromTimezone(e,n.timezone),l.refreshView())})):l.activeDate=new Date,this.activeDate=m.$modelValue?v.fromTimezone(new Date(m.$modelValue),n.timezone):v.fromTimezone(new Date,n.timezone),m.$render=function(){l.render()}},this.render=function(){if(m.$viewValue){var t=new Date(m.$viewValue),a=!isNaN(t);a?this.activeDate=v.fromTimezone(t,n.timezone):i||e.error("Datepicker directive: \"ng-model\" value must be a Date object")}this.refreshView()},this.refreshView=function(){if(this.element){t.selectedDt=null,this._refreshView(),t.activeDt&&(t.activeDateId=t.activeDt.uid);var e=m.$viewValue?new Date(m.$viewValue):null;e=v.fromTimezone(e,n.timezone),m.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(a,i){var o=m.$viewValue?new Date(m.$viewValue):null;o=v.fromTimezone(o,n.timezone);var s=new Date;s=v.fromTimezone(s,n.timezone);var e=this.compare(a,s),r={date:a,label:v.filter(a,i),selected:o&&0===this.compare(a,o),disabled:this.isDisabled(a),past:0>e,current:0===e,future:0<e,customClass:this.customClass(a)||null};return o&&0===this.compare(a,o)&&(t.selectedDt=r),l.activeDate&&0===this.compare(r.date,l.activeDate)&&(t.activeDt=r),r},this.isDisabled=function(e){return t.disabled||this.minDate&&0>this.compare(e,this.minDate)||this.maxDate&&0<this.compare(e,this.maxDate)||t.dateDisabled&&t.dateDisabled({date:e,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(e,t){for(var a=[];0<e.length;)a.push(e.splice(0,t));return a},t.select=function(e){if(t.datepickerMode===l.minMode){var a=m.$viewValue?v.fromTimezone(new Date(m.$viewValue),n.timezone):new Date(0,0,0,0,0,0,0);a.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a=v.toTimezone(a,n.timezone),m.$setViewValue(a),m.$render()}else l.activeDate=e,g(l.modes[l.modes.indexOf(t.datepickerMode)-1]),t.$emit("uib:datepicker.mode");t.$broadcast("uib:datepicker.focus")},t.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),a=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,a,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(g(l.modes[l.modes.indexOf(t.datepickerMode)+e]),t.$emit("uib:datepicker.mode"))},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};t.$on("uib:datepicker.focus",function(){l.element[0].focus()}),t.keydown=function(e){var a=t.keys[e.which];if(a&&!e.shiftKey&&!e.altKey&&!t.disabled)if(e.preventDefault(),l.shortcutPropagation||e.stopPropagation(),"enter"===a||"space"===a){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate)}else e.ctrlKey&&("up"===a||"down"===a)?t.toggleMode("up"===a?1:-1):(l.handleKeyDown(a,e),l.refreshView())},t.$on("$destroy",function(){for(;o.length;)o.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(t,a,s){function i(t,a){return 1!==a||0!=t%4||0==t%100&&0!=t%400?e[a]:29}function l(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var a=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((a-t)/864e5)/7)+1}var e=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=a,this.init=function(e){angular.extend(e,this),t.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(t,a){for(var i,o=Array(a),n=new Date(t),e=0;a>e;)i=new Date(n),o[e++]=i,n.setDate(n.getDate()+1);return o},this._refreshView=function(){var e=this.activeDate.getFullYear(),a=this.activeDate.getMonth(),r=new Date(this.activeDate);r.setFullYear(e,a,1);var p=this.startingDay-r.getDay(),d=0<p?7-p:-p,c=new Date(r);0<d&&c.setDate(-d+1);for(var i=this.getDates(c,42),u=0;42>u;u++)i[u]=angular.extend(this.createDateObject(i[u],this.formatDay),{secondary:i[u].getMonth()!==a,uid:t.uniqueId+"-"+u});t.labels=Array(7);for(var b=0;7>b;b++)t.labels[b]={abbr:s(i[b].date,this.formatDayHeader),full:s(i[b].date,"EEEE")};if(t.title=s(this.activeDate,this.formatDayTitle),t.rows=this.split(i,7),t.showWeeks){t.weekNumbers=[];for(var f=(11-this.startingDay)%7,m=t.rows.length,n=0;m>n;n++)t.weekNumbers.push(l(t.rows[n][f].date))}},this.compare=function(e,t){var a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return a.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),a-i},this.handleKeyDown=function(t){var a=this.activeDate.getDate();if("left"===t)a-=1;else if("up"===t)a-=7;else if("right"===t)a+=1;else if("down"===t)a+=7;else if("pageup"===t||"pagedown"===t){var o=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(o,1),a=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),a)}else"home"===t?a=1:"end"==t&&(a=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(a)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(t,e,a){this.step={years:1},this.element=e,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var i,o=Array(12),n=this.activeDate.getFullYear(),e=0;12>e;e++)i=new Date(this.activeDate),i.setFullYear(n,e,1),o[e]=angular.extend(this.createDateObject(i,this.formatMonth),{uid:t.uniqueId+"-"+e});t.title=a(this.activeDate,this.formatMonthTitle),t.rows=this.split(o,3)},this.compare=function(e,t){var a=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return a.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),a-i},this.handleKeyDown=function(e){var t=this.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var a=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(a)}else"home"===e?t=0:"end"==e&&(t=11);this.activeDate.setMonth(t)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(t,a){function i(t){return parseInt((t-1)/e,10)*e+1}var o,e;this.element=a,this.yearpickerInit=function(){o=this.yearColumns,e=this.yearRows*o,this.step={years:e}},this._refreshView=function(){for(var a,n=Array(e),l=0,s=i(this.activeDate.getFullYear());e>l;l++)a=new Date(this.activeDate),a.setFullYear(s+l,0,1),n[l]=angular.extend(this.createDateObject(a,this.formatYear),{uid:t.uniqueId+"-"+l});t.title=[n[0].label,n[e-1].label].join(" - "),t.rows=this.split(n,o),t.columns=o},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(t){var a=this.activeDate.getFullYear();"left"===t?a-=1:"up"===t?a-=o:"right"===t?a+=1:"down"===t?a+=o:"pageup"===t||"pagedown"===t?a+=("pageup"===t?-1:1)*e:"home"===t?a=i(this.activeDate.getFullYear()):"end"==t&&(a=i(this.activeDate.getFullYear())+e-1),this.activeDate.setFullYear(a)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,a,i,o){var n=o[0],e=o[1];n.init(e)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(t,a,i,o){var n=o[0],e=o[1];e.init(n)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(t,a,i,o){var n=o[0],e=o[1];e.init(n)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(t,a,i,o){var n=o[0];angular.extend(n,o[1]),n.yearpickerInit(),n.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(t,s){var a,i,r=Math.round,p=Math.abs,o={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},u={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},n=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(a){function i(e){return"static"===(s.getComputedStyle(e).position||"static")}a=this.getRawNode(a);for(var o=a.offsetParent||t[0].documentElement;o&&o!==t[0].documentElement&&i(o);)o=o.offsetParent;return o||t[0].documentElement},scrollbarWidth:function(o){if(o){if(angular.isUndefined(i)){var e=t.find("body");e.addClass("uib-position-body-scrollbar-measure"),i=s.innerWidth-e[0].clientWidth,i=isFinite(i)?i:0,e.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(a)){var n=angular.element("<div class=\"uib-position-scrollbar-measure\"></div>");t.find("body").append(n),a=n[0].offsetWidth-n[0].clientWidth,a=isFinite(a)?a:0,n.remove()}return a},scrollbarPadding:function(t){t=this.getRawNode(t);var a=s.getComputedStyle(t),i=this.parseStyle(a.paddingRight),o=this.parseStyle(a.paddingBottom),l=this.scrollParent(t,!1,!0),r=this.scrollbarWidth(l,n.test(l.tagName));return{scrollbarWidth:r,widthOverflow:l.scrollWidth>l.clientWidth,right:i+r,originalRight:i,heightOverflow:l.scrollHeight>l.clientHeight,bottom:o+r,originalBottom:o}},isScrollable:function(e,t){e=this.getRawNode(e);var a=t?o.hidden:o.normal,i=s.getComputedStyle(e);return a.test(i.overflow+i.overflowY+i.overflowX)},scrollParent:function(e,a,n){e=this.getRawNode(e);var r=a?o.hidden:o.normal,p=t[0].documentElement,d=s.getComputedStyle(e);if(n&&r.test(d.overflow+d.overflowY+d.overflowX))return e;var i="absolute"===d.position,c=e.parentElement||p;if(c===p||"fixed"===d.position)return p;for(;c.parentElement&&c!==p;){var u=s.getComputedStyle(c);if(i&&"static"!==u.position&&(i=!1),!i&&r.test(u.overflow+u.overflowY+u.overflowX))break;c=c.parentElement}return c},position:function(a,i){a=this.getRawNode(a);var o=this.offset(a);if(i){var e=s.getComputedStyle(a);o.top-=this.parseStyle(e.marginTop),o.left-=this.parseStyle(e.marginLeft)}var n=this.offsetParent(a),l={top:0,left:0};return n!==t[0].documentElement&&(l=this.offset(n),l.top+=n.clientTop-n.scrollTop,l.left+=n.clientLeft-n.scrollLeft),{width:r(angular.isNumber(o.width)?o.width:a.offsetWidth),height:r(angular.isNumber(o.height)?o.height:a.offsetHeight),top:r(o.top-l.top),left:r(o.left-l.left)}},offset:function(e){e=this.getRawNode(e);var a=e.getBoundingClientRect();return{width:r(angular.isNumber(a.width)?a.width:e.offsetWidth),height:r(angular.isNumber(a.height)?a.height:e.offsetHeight),top:r(a.top+(s.pageYOffset||t[0].documentElement.scrollTop)),left:r(a.left+(s.pageXOffset||t[0].documentElement.scrollLeft))}},viewportOffset:function(a,o,n){a=this.getRawNode(a),n=!1!==n;var e=a.getBoundingClientRect(),l={top:0,left:0,bottom:0,right:0},p=o?t[0].documentElement:this.scrollParent(a),d=p.getBoundingClientRect();if(l.top=d.top+p.clientTop,l.left=d.left+p.clientLeft,p===t[0].documentElement&&(l.top+=s.pageYOffset,l.left+=s.pageXOffset),l.bottom=l.top+p.clientHeight,l.right=l.left+p.clientWidth,n){var i=s.getComputedStyle(p);l.top+=this.parseStyle(i.paddingTop),l.bottom-=this.parseStyle(i.paddingBottom),l.left+=this.parseStyle(i.paddingLeft),l.right-=this.parseStyle(i.paddingRight)}return{top:r(e.top-l.top),bottom:r(l.bottom-e.bottom),left:r(e.left-l.left),right:r(l.right-e.right)}},parsePlacement:function(e){var t=u.auto.test(e);return t&&(e=e.replace(u.auto,"")),e=e.split("-"),e[0]=e[0]||"top",u.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",u.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(t,a,c,d){t=this.getRawNode(t),a=this.getRawNode(a);var e=angular.isDefined(a.offsetWidth)?a.offsetWidth:a.prop("offsetWidth"),b=angular.isDefined(a.offsetHeight)?a.offsetHeight:a.prop("offsetHeight");c=this.parsePlacement(c);var h=d?this.offset(t):this.position(t),i={top:0,left:0,placement:""};if(c[2]){var g=this.viewportOffset(t,d),f=s.getComputedStyle(a),l={width:e+r(p(this.parseStyle(f.marginLeft)+this.parseStyle(f.marginRight))),height:b+r(p(this.parseStyle(f.marginTop)+this.parseStyle(f.marginBottom)))};if(c[0]="top"===c[0]&&l.height>g.top&&l.height<=g.bottom?"bottom":"bottom"===c[0]&&l.height>g.bottom&&l.height<=g.top?"top":"left"===c[0]&&l.width>g.left&&l.width<=g.right?"right":"right"===c[0]&&l.width>g.right&&l.width<=g.left?"left":c[0],c[1]="top"===c[1]&&l.height-h.height>g.bottom&&l.height-h.height<=g.top?"bottom":"bottom"===c[1]&&l.height-h.height>g.top&&l.height-h.height<=g.bottom?"top":"left"===c[1]&&l.width-h.width>g.right&&l.width-h.width<=g.left?"right":"right"===c[1]&&l.width-h.width>g.left&&l.width-h.width<=g.right?"left":c[1],"center"===c[1])if(u.vertical.test(c[0])){var m=h.width/2-e/2;0>g.left+m&&l.width-h.width<=g.right?c[1]="left":0>g.right+m&&l.width-h.width<=g.left&&(c[1]="right")}else{var n=h.height/2-l.height/2;0>g.top+n&&l.height-h.height<=g.bottom?c[1]="top":0>g.bottom+n&&l.height-h.height<=g.top&&(c[1]="bottom")}}switch(c[0]){case"top":i.top=h.top-b;break;case"bottom":i.top=h.top+h.height;break;case"left":i.left=h.left-e;break;case"right":i.left=h.left+h.width;}switch(c[1]){case"top":i.top=h.top;break;case"bottom":i.top=h.top+h.height-b;break;case"left":i.left=h.left;break;case"right":i.left=h.left+h.width-e;break;case"center":u.vertical.test(c[0])?i.left=h.left+h.width/2-e/2:i.top=h.top+h.height/2-b/2;}return i.top=r(i.top),i.left=r(i.left),i.placement="center"===c[1]?c[0]:c[0]+"-"+c[1],i},positionArrow:function(t,a){t=this.getRawNode(t);var o=t.querySelector(".tooltip-inner, .popover-inner");if(o){var n=angular.element(o).hasClass("tooltip-inner"),e=n?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(e){var r={top:"",bottom:"",left:"",right:""};if(a=this.parsePlacement(a),"center"===a[1])return void angular.element(e).css(r);var p="border-"+a[0]+"-width",i=s.getComputedStyle(e)[p],d="border-";d+=u.vertical.test(a[0])?a[0]+"-"+a[1]:a[1]+"-"+a[0],d+="-radius";var c=s.getComputedStyle(n?o:t)[d];switch(a[0]){case"top":r.bottom=n?"0":"-"+i;break;case"bottom":r.top=n?"0":"-"+i;break;case"left":r.right=n?"0":"-"+i;break;case"right":r.left=n?"0":"-"+i;}r[a[1]]=c,angular.element(e).css(r)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function($,a,T,c,d,e,b,g,h,i,f,k,l,m,n,o){function p(e){var t=k.parse(e,v,$.date);if(isNaN(t))for(var a=0;a<H.length;a++)if(t=k.parse(e,H[a],$.date),!isNaN(t))return t;return t}function M(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=p(e);if(!isNaN(t))return k.toTimezone(t,I)}return E.$options&&E.$options.allowInvalid?e:void 0}function r(e,t){var a=e||t;return T.ngRequired||a?(angular.isNumber(a)&&(a=new Date(a)),!a||angular.isDate(a)&&!isNaN(a)||!!angular.isString(a)&&!isNaN(p(t))):!0}function s(t){if($.isOpen||!$.disabled){var i=N[0],o=a[0].contains(t.target),e=void 0!==i.contains&&i.contains(t.target);!$.isOpen||o||e||$.$apply(function(){$.isOpen=!1})}}function t(e){27===e.which&&$.isOpen?(e.preventDefault(),e.stopPropagation(),$.$apply(function(){$.isOpen=!1}),a[0].focus()):40!==e.which||$.isOpen||(e.preventDefault(),e.stopPropagation(),$.$apply(function(){$.isOpen=!0}))}function u(){if($.isOpen){var t=angular.element(N[0].querySelector(".uib-datepicker-popup")),o=T.popupPlacement?T.popupPlacement:l.placement,e=i.positionElements(a,t,o,x);t.css({top:e.top+"px",left:e.left+"px"}),t.hasClass("uib-position-measure")&&t.removeClass("uib-position-measure")}}var v,O,x,y,P,S,U,C,D,E,F,N,H,I,R=!1,V=[];this.init=function(i){if(E=i,F=i.$options,O=angular.isDefined(T.closeOnDateSelection)?$.$parent.$eval(T.closeOnDateSelection):l.closeOnDateSelection,x=angular.isDefined(T.datepickerAppendToBody)?$.$parent.$eval(T.datepickerAppendToBody):l.appendToBody,y=angular.isDefined(T.onOpenFocus)?$.$parent.$eval(T.onOpenFocus):l.onOpenFocus,P=angular.isDefined(T.datepickerPopupTemplateUrl)?T.datepickerPopupTemplateUrl:l.datepickerPopupTemplateUrl,S=angular.isDefined(T.datepickerTemplateUrl)?T.datepickerTemplateUrl:l.datepickerTemplateUrl,H=angular.isDefined(T.altInputFormats)?$.$parent.$eval(T.altInputFormats):l.altInputFormats,$.showButtonBar=angular.isDefined(T.showButtonBar)?$.$parent.$eval(T.showButtonBar):l.showButtonBar,l.html5Types[T.type]?(v=l.html5Types[T.type],R=!0):(v=T.uibDatepickerPopup||l.datepickerPopup,T.$observe("uibDatepickerPopup",function(e){var t=e||l.datepickerPopup;if(t!==v&&(v=t,E.$modelValue=null,!v))throw new Error("uibDatepickerPopup must have a date format specified.")})),!v)throw new Error("uibDatepickerPopup must have a date format specified.");if(R&&T.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");U=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),F?(I=F.timezone,$.ngModelOptions=angular.copy(F),$.ngModelOptions.timezone=null,!0===$.ngModelOptions.updateOnDefault&&($.ngModelOptions.updateOn=$.ngModelOptions.updateOn?$.ngModelOptions.updateOn+" default":"default"),U.attr("ng-model-options","ngModelOptions")):I=null,U.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":P}),C=angular.element(U.children()[0]),C.attr("template-url",S),$.datepickerOptions||($.datepickerOptions={}),R&&"month"===T.type&&($.datepickerOptions.datepickerMode="month",$.datepickerOptions.minMode="month"),C.attr("datepicker-options","datepickerOptions"),R?E.$formatters.push(function(e){return $.date=k.fromTimezone(e,I),e}):(E.$$parserName="date",E.$validators.date=r,E.$parsers.unshift(M),E.$formatters.push(function(e){return E.$isEmpty(e)?($.date=e,e):($.date=k.fromTimezone(e,I),angular.isNumber($.date)&&($.date=new Date($.date)),k.filter($.date,v))})),E.$viewChangeListeners.push(function(){$.date=p(E.$viewValue)}),a.on("keydown",t),N=c(U)($),U.remove(),x?g.find("body").append(N):a.after(N),$.$on("$destroy",function(){for(!0===$.isOpen&&(h.$$phase||$.$apply(function(){$.isOpen=!1})),N.remove(),a.off("keydown",t),g.off("click",s),D&&D.off("scroll",u),angular.element(b).off("resize",u);V.length;)V.shift()()})},$.getText=function(e){return $[e+"Text"]||l[e+"Text"]},$.isDisabled=function(e){"today"===e&&(e=k.fromTimezone(new Date,I));var t={};return angular.forEach(["minDate","maxDate"],function(e){$.datepickerOptions[e]?angular.isDate($.datepickerOptions[e])?t[e]=k.fromTimezone(new Date($.datepickerOptions[e]),I):(o&&d.warn("Literal date support has been deprecated, please switch to date object usage"),t[e]=new Date(f($.datepickerOptions[e],"medium"))):t[e]=null}),$.datepickerOptions&&t.minDate&&0>$.compare(e,t.minDate)||t.maxDate&&0<$.compare(e,t.maxDate)},$.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},$.dateSelection=function(e){angular.isDefined(e)&&($.date=e);var t=$.date?k.filter($.date,v):null;a.val(t),E.$setViewValue(t),O&&($.isOpen=!1,a[0].focus())},$.keydown=function(e){27===e.which&&(e.stopPropagation(),$.isOpen=!1,a[0].focus())},$.select=function(e,t){if(t.stopPropagation(),"today"===e){var a=new Date;angular.isDate($.date)?(e=new Date($.date),e.setFullYear(a.getFullYear(),a.getMonth(),a.getDate())):e=new Date(a.setHours(0,0,0,0))}$.dateSelection(e)},$.close=function(e){e.stopPropagation(),$.isOpen=!1,a[0].focus()},$.disabled=angular.isDefined(T.disabled)||!1,T.ngDisabled&&V.push($.$parent.$watch(e(T.ngDisabled),function(e){$.disabled=e})),$.$watch("isOpen",function(e){e?$.disabled?$.isOpen=!1:m(function(){u(),y&&$.$broadcast("uib:datepicker.focus"),g.on("click",s);var e=T.popupPlacement?T.popupPlacement:l.placement;x||i.parsePlacement(e)[2]?(D=D||angular.element(i.scrollParent(a)),D&&D.on("scroll",u)):D=null,angular.element(b).on("resize",u)},0,!1):(g.off("click",s),D&&D.off("scroll",u),angular.element(b).off("resize",u))}),$.$on("uib:datepicker.mode",function(){m(u,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,a,i,o){var n=o[0],e=o[1];e.init(n)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(t){return function(a,i){var o;return function(){var n=this,e=Array.prototype.slice.call(arguments);o&&t.cancel(o),o=t(function(){a.apply(n,e)},i)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(t,i){var o=null;this.open=function(e,i){o||(t.on("click",n),i.on("keydown",a)),o&&o!==e&&(o.isOpen=!1),o=e},this.close=function(e,i){o===e&&(o=null,t.off("click",n),i.off("keydown",a))};var n=function(t){if(o&&!(t&&"disabled"===o.getAutoClose()||t&&3===t.which)){var a=o.getToggleElement();if(!(t&&a&&a[0].contains(t.target))){var n=o.getDropdownElement();t&&"outsideClick"===o.getAutoClose()&&n&&n[0].contains(t.target)||(o.isOpen=!1,i.$$phase||o.$apply())}}},a=function(e){27===e.which?(e.stopPropagation(),o.focusToggleElement(),n()):o.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&o.isOpen&&(e.preventDefault(),e.stopPropagation(),o.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function($,D,a,c,d,b,f,g,e,i,h){var k,l,C=this,n=$.$new(),o=d.appendToOpenClass,p=d.openClass,T=angular.noop,r=a.onToggle?c(a.onToggle):angular.noop,s=!1,M=null,m=!1,v=e.find("body");D.addClass("dropdown"),this.init=function(){if(a.isOpen&&(l=c(a.isOpen),T=l.assign,$.$watch(l,function(e){n.isOpen=!!e})),angular.isDefined(a.dropdownAppendTo)){var t=c(a.dropdownAppendTo)(n);t&&(M=angular.element(t))}s=angular.isDefined(a.dropdownAppendToBody),m=angular.isDefined(a.keyboardNav),s&&!M&&(M=v),M&&C.dropdownMenu&&(M.append(C.dropdownMenu),D.on("$destroy",function(){C.dropdownMenu.remove()}))},this.toggle=function(e){return n.isOpen=arguments.length?!!e:!n.isOpen,angular.isFunction(T)&&T(n,n.isOpen),n.isOpen},this.isOpen=function(){return n.isOpen},n.getToggleElement=function(){return C.toggleElement},n.getAutoClose=function(){return a.autoClose||"always"},n.getElement=function(){return D},n.isKeynavEnabled=function(){return m},n.focusDropdownEntry=function(e){var t=C.dropdownMenu?angular.element(C.dropdownMenu).find("a"):D.find("ul").eq(0).find("a");40===e?C.selectedOption=angular.isNumber(C.selectedOption)?C.selectedOption===t.length-1?C.selectedOption:C.selectedOption+1:0:38===e?C.selectedOption=angular.isNumber(C.selectedOption)?0===C.selectedOption?0:C.selectedOption-1:t.length-1:void 0;t[C.selectedOption].focus()},n.getDropdownElement=function(){return C.dropdownMenu},n.focusToggleElement=function(){C.toggleElement&&C.toggleElement[0].focus()},n.$watch("isOpen",function(a,l){if(M&&C.dropdownMenu){var d,e,u=g.positionElements(D,C.dropdownMenu,"bottom-left",!0);if(d={top:u.top+"px",display:a?"block":"none"},e=C.dropdownMenu.hasClass("dropdown-menu-right"),e?(d.left="auto",d.right=window.innerWidth-(u.left+D.prop("offsetWidth"))+"px"):(d.left=u.left+"px",d.right="auto"),!s){var m=g.offset(M);d.top=u.top-m.top+"px",e?d.right=window.innerWidth-(u.left-m.left+D.prop("offsetWidth"))+"px":d.left=u.left-m.left+"px"}C.dropdownMenu.css(d)}var v=M?M:D,w=v.hasClass(M?o:p);if(w===!a&&f[a?"addClass":"removeClass"](v,M?o:p).then(function(){angular.isDefined(a)&&a!==l&&r($,{open:!!a})}),a)C.dropdownMenuTemplateUrl&&h(C.dropdownMenuTemplateUrl).then(function(e){k=n.$new(),i(e.trim())(k,function(e){var t=e;C.dropdownMenu.replaceWith(t),C.dropdownMenu=t})}),n.focusToggleElement(),b.open(n,D);else{if(C.dropdownMenuTemplateUrl){k&&k.$destroy();var x=angular.element("<ul class=\"dropdown-menu\"></ul>");C.dropdownMenu.replaceWith(x),C.dropdownMenu=x}b.close(n,D),C.selectedOption=null}angular.isFunction(T)&&T($,a)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,a,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,a,i,o){if(o&&!angular.isDefined(i.dropdownNested)){a.addClass("dropdown-menu");var n=i.templateUrl;n&&(o.dropdownMenuTemplateUrl=n),o.dropdownMenu||(o.dropdownMenu=a)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,i,a,o){if(o){i.addClass("dropdown-toggle"),o.toggleElement=i;var n=function(n){n.preventDefault(),i.hasClass("disabled")||a.disabled||t.$apply(function(){o.toggle()})};i.bind("click",n),i.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(o.isOpen,function(e){i.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){i.unbind("click",n)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,a){e.push({key:t,value:a})},get:function(t){for(var a=0;a<e.length;a++)if(t===e[a].key)return e[a]},keys:function(){for(var t=[],a=0;a<e.length;a++)t.push(e[a].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var a=-1,i=0;i<e.length;i++)if(t===e[i].key){a=i;break}return e.splice(a,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,a){t[e]||(t[e]=[]),t[e].push(a)},remove:function(a,i){var o=t[a];if(o){var n=o.indexOf(i);-1!==n&&o.splice(n,1),o.length||delete t[a]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,i){var o=e.resolver?t.get(e.resolver):null;return{resolve:function(n,a,e,l){if(o)return o.resolve(n,a,e,l);var s=[];return angular.forEach(n,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(i.resolve(t.invoke(e))):angular.isString(e)?s.push(i.resolve(t.get(e))):s.push(i.resolve(e))}),i.all(s).then(function(t){var i={},o=0;return angular.forEach(n,function(n,a){i[a]=t[o++]}),i})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(t,e,a){function i(i,o,n){n.modalInClass&&(t.addClass(o,n.modalInClass),i.$on(a.NOW_CLOSING_EVENT,function(e,a){var l=a();i.modalOptions.animation?t.removeClass(o,n.modalInClass).then(l):l()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(t,a,i,e){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(o,n,l){n.addClass(l.windowClass||""),n.addClass(l.windowTopClass||""),o.size=l.size,o.close=function(e){var a=t.getTop();a&&a.value.backdrop&&"static"!==a.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(a.key,"backdrop click"))},n.on("click",o.close),o.$isRendered=!0;var s=a.defer();l.$observe("modalRender",function(e){"true"===e&&s.resolve()}),s.promise.then(function(){var s=null;l.modalInClass&&(s=i(n,{addClass:l.modalInClass}).start(),o.$on(t.NOW_CLOSING_EVENT,function(e,t){var a=t();i(n,{removeClass:l.modalInClass}).start().then(a)})),a.when(s).then(function(){var a=t.getTop();if(a&&t.modalRendered(a.key),!e[0].activeElement||!n[0].contains(e[0].activeElement)){var i=n[0].querySelector("[autofocus]");i?i.focus():n[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(t,i,a,o,n){n(t.$parent,function(e){i.empty(),i.append(e)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function($,a,D,c,C,T,e,d,M){function i(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function O(){for(var e=-1,t=u.keys(),a=0;a<t.length;a++)u.get(t[a]).value.backdrop&&(e=a);return-1<e&&w>e&&(e=w),e}function h(i,e){var a=u.get(i).value,o=a.appendTo;u.remove(i),x=u.top(),x&&(w=parseInt(x.value.modalDomEl.attr("index"),10)),n(a.modalDomEl,a.modalScope,function(){var n=a.openedClass||t;v.remove(n,i);var l=v.hasKey(n);o.toggleClass(n,l),!l&&s&&s.heightOverflow&&s.scrollbarWidth&&(s.originalRight?o.css({paddingRight:s.originalRight+"px"}):o.css({paddingRight:""}),s=null),k(!0)},a.closedDeferred),l(),e&&e.focus?e.focus():o.focus&&o.focus()}function k(e){var t;0<u.length()&&(t=u.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function l(){if(m&&-1===O()){n(m,P,function(){}),m=void 0,P=void 0}}function n(t,a,o,n){function e(){e.done||(e.done=!0,$.leave(t).then(function(){t.remove(),n&&n.resolve()}),a.$destroy(),o&&o())}var l,s=null;return a.$broadcast(f.NOW_CLOSING_EVENT,function(){return l||(l=T.defer(),s=l.promise),function(){l.resolve()}}),T.when(s).then(e)}function o(e){if(e.isDefaultPrevented())return e;var t=u.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),C.$apply(function(){f.dismiss(t.key,"escape key press")}));break;case 9:var a=f.loadFocusElementList(t),i=!1;e.shiftKey?(f.isFocusInFirstItem(e,a)||f.isModalFocused(e,t))&&(i=f.focusLastFocusableElement(a)):f.isFocusInLastItem(e,a)&&(i=f.focusFirstFocusableElement(a)),i&&(e.preventDefault(),e.stopPropagation());}}function p(e,t,a){return!e.value.modalScope.$broadcast("modal.closing",t,a).defaultPrevented}var m,P,s,t="modal-open",u=d.createNew(),v=e.createNew(),f={NOW_CLOSING_EVENT:"modal.stack.now-closing"},w=0,x=null;return C.$watch(O,function(e){P&&(P.index=e)}),D.on("keydown",o),C.$on("$destroy",function(){D.off("keydown",o)}),f.open=function(e,a){var i=D[0].activeElement,o=a.openedClass||t;k(!1),x=u.top(),u.add(e,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),v.put(o,e);var p=a.appendTo,d=O();if(!p.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");0<=d&&!m&&(P=C.$new(!0),P.modalOptions=a,P.index=d,m=angular.element("<div uib-modal-backdrop=\"modal-backdrop\"></div>"),m.attr("backdrop-class",a.backdropClass),a.animation&&m.attr("modal-animation","true"),c(m)(P),$.enter(m,p),s=M.scrollbarPadding(p),s.heightOverflow&&s.scrollbarWidth&&p.css({paddingRight:s.right+"px"})),w=x?parseInt(x.value.modalDomEl.attr("index"),10)+1:0;var l=angular.element("<div uib-modal-window=\"modal-window\"></div>");l.attr({"template-url":a.windowTemplateUrl,"window-class":a.windowClass,"window-top-class":a.windowTopClass,size:a.size,index:w,animate:"animate"}).html(a.content),a.animation&&l.attr("modal-animation","true"),p.addClass(o),$.enter(c(l)(a.scope),p),u.top().value.modalDomEl=l,u.top().value.modalOpener=i},f.close=function(e,t){var a=u.get(e);return a&&p(a,t,!0)?(a.value.modalScope.$$uibDestructionScheduled=!0,a.value.deferred.resolve(t),h(e,a.value.modalOpener),!0):!a},f.dismiss=function(e,t){var a=u.get(e);return a&&p(a,t,!1)?(a.value.modalScope.$$uibDestructionScheduled=!0,a.value.deferred.reject(t),h(e,a.value.modalOpener),!0):!a},f.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},f.getTop=function(){return u.top()},f.modalRendered=function(e){var t=u.get(e);t&&t.value.renderDeferred.resolve()},f.focusFirstFocusableElement=function(e){return!!(0<e.length)&&(e[0].focus(),!0)},f.focusLastFocusableElement=function(e){return!!(0<e.length)&&(e[e.length-1].focus(),!0)},f.isModalFocused=function(e,t){if(e&&t){var a=t.value.modalDomEl;if(a&&a.length)return(e.target||e.srcElement)===a[0]}return!1},f.isFocusInFirstItem=function(e,t){return!!(0<t.length)&&(e.target||e.srcElement)===t[0]},f.isFocusInLastItem=function(e,t){return!!(0<t.length)&&(e.target||e.srcElement)===t[t.length-1]},f.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var a=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]");return a?Array.prototype.filter.call(a,function(e){return i(e)}):a}}},f}]).provider("$uibModal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(s,u,a,o,r,d,b){function c(e){return e.template?u.when(e.template):o(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var e={},i=null;return e.getPromiseChain=function(){return i},e.open=function(h){function e(){return g}var f=u.defer(),v=u.defer(),m=u.defer(),$=u.defer(),y={result:f.promise,opened:v.promise,closed:m.promise,rendered:$.promise,close:function(e){return b.close(y,e)},dismiss:function(e){return b.dismiss(y,e)}};if(h=angular.extend({},t.options,h),h.resolve=h.resolve||{},h.appendTo=h.appendTo||a.find("body").eq(0),!h.template&&!h.templateUrl)throw new Error("One of template or templateUrl options is required.");var p,g=u.all([c(h),d.resolve(h.resolve,{},null,null)]);return p=i=u.all([i]).then(e,e).then(function(e){var t=h.scope||s,a=t.$new();a.$close=y.close,a.$dismiss=y.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var p,c,i={};h.controller&&(i.$scope=a,i.$uibModalInstance=y,angular.forEach(e[1],function(e,t){i[t]=e}),c=r(h.controller,i,!0),h.controllerAs?(p=c.instance,h.bindToController&&(p.$close=a.$close,p.$dismiss=a.$dismiss,angular.extend(p,t)),p=c(),a[h.controllerAs]=p):p=c(),angular.isFunction(p.$onInit)&&p.$onInit()),b.open(y,{scope:a,deferred:f,renderDeferred:$,closedDeferred:m,content:e[0],animation:h.animation,backdrop:h.backdrop,keyboard:h.keyboard,backdropClass:h.backdropClass,windowTopClass:h.windowTopClass,windowClass:h.windowClass,windowTemplateUrl:h.windowTemplateUrl,size:h.size,openedClass:h.openedClass,appendTo:h.appendTo}),v.resolve(!0)},function(e){v.reject(e),f.reject(e)})["finally"](function(){i===p&&(i=null)}),y},e}]};return t}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,i,o){t.setNumPages=o.numPages?e(o.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(n,a){t.ngModelCtrl=n,t.config=a,n.$render=function(){t.render()},o.itemsPerPage?t._watchers.push(i.$parent.$watch(o.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),i.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=a.itemsPerPage,i.$watch("totalItems",function(e,a){(angular.isDefined(e)||e!==a)&&(i.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=1>t.itemsPerPage?1:Math.ceil(i.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){i.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},i.selectPage=function(o,a){a&&a.preventDefault();var n=!i.ngDisabled||!a;n&&i.page!==o&&0<o&&o<=i.totalPages&&(a&&a.target&&a.target.blur(),t.ngModelCtrl.$setViewValue(o),t.ngModelCtrl.$render())},i.getText=function(e){return i[e+"Text"]||t.config[e+"Text"]},i.noPrevious=function(){return 1===i.page},i.noNext=function(){return i.page===i.totalPages},t.updatePage=function(){t.setNumPages(i.$parent,i.totalPages),i.page>i.totalPages?i.selectPage(i.totalPages):t.ngModelCtrl.$render()},i.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,a,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,a.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"\xAB Previous",nextText:"Next \xBB",align:!0}).directive("uibPager",["uibPagerConfig",function(t){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(a,i,o,n){var e=n[0],l=n[1];l&&e.init(l,t)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,a,o,s,r){function u(e,t,i){return{number:e,text:t,active:i}}function e(m,a){var y=[],c=1,d=a,e=angular.isDefined(f)&&a>f;e&&(i?(c=Math.max(m-Math.floor(f/2),1),d=c+f-1,d>a&&(d=a,c=d-f+1)):(c=(Math.ceil(m/f)-1)*f+1,d=Math.min(c+f-1,a)));for(var w,n=c;d>=n;n++)w=u(n,b(n),n===m),y.push(w);if(e&&0<f&&(!i||v||$)){if(1<c){if(!$||3<c){var h=u(c-1,"...",!1);y.unshift(h)}if($){if(3===c){var o=u(2,"2",!1);y.unshift(o)}var p=u(1,"1",!1);y.unshift(p)}}if(a>d){if(!$||a-2>d){var k=u(d+1,"...",!1);y.push(k)}if($){if(d===a-2){var r=u(a-1,a-1,!1);y.push(r)}var s=u(a,a,!1);y.push(s)}}}return y}var p=this,f=angular.isDefined(a.maxSize)?t.$parent.$eval(a.maxSize):r.maxSize,i=angular.isDefined(a.rotate)?t.$parent.$eval(a.rotate):r.rotate,v=angular.isDefined(a.forceEllipses)?t.$parent.$eval(a.forceEllipses):r.forceEllipses,$=angular.isDefined(a.boundaryLinkNumbers)?t.$parent.$eval(a.boundaryLinkNumbers):r.boundaryLinkNumbers,b=angular.isDefined(a.pageLabel)?function(e){return t.$parent.$eval(a.pageLabel,{$page:e})}:angular.identity;t.boundaryLinks=angular.isDefined(a.boundaryLinks)?t.$parent.$eval(a.boundaryLinks):r.boundaryLinks,t.directionLinks=angular.isDefined(a.directionLinks)?t.$parent.$eval(a.directionLinks):r.directionLinks,s.create(this,t,a),a.maxSize&&p._watchers.push(t.$parent.$watch(o(a.maxSize),function(e){f=parseInt(e,10),p.render()}));var d=this.render;this.render=function(){d(),0<t.page&&t.page<=t.totalPages&&(t.pages=e(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(i,a,o,n){var e=n[0],l=n[1];l&&e.init(l,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function u(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})}var a={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},e={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},c={};this.options=function(e){angular.extend(c,e)},this.setTriggers=function(t){angular.extend(e,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(t,s,p,r,h,i,d,g,l){function m(e){if(27===e.which){var t=f.top();t&&(t.value.close(),f.removeTop(),t=null)}}var f=l.createNew();return r.on("keypress",m),d.$on("$destroy",function(){r.off("keypress",m)}),function(o,l,v,$){function n(t){var a=(t||$.trigger||v).split(" "),i=a.map(function(t){return e[t]||t});return{show:a,hide:i}}$=angular.extend({},a,c,$);var d=u(o),m=i.startSymbol(),b=i.endSymbol(),y="<div "+d+"-popup uib-title=\""+m+"title"+b+"\" "+($.useContentExp?"content-exp=\"contentExp()\" ":"content=\""+m+"content"+b+"\" ")+"placement=\""+m+"placement"+b+"\" popup-class=\""+m+"popupClass"+b+"\" animation=\"animation\" is-open=\"isOpen\" origin-scope=\"origScope\" class=\"uib-position-measure\"></div>";return{compile:function(){var e=s(y);return function(i,k,C){function d(){M.isOpen?m():b()}function b(){L&&!i.$eval(C[l+"Enable"])||(q(),w(),M.popupDelay?F||(F=p(a,M.popupDelay,!1)):a())}function m(){c(),M.popupCloseDelay?B||(B=p(s,M.popupCloseDelay,!1)):s()}function a(){return c(),q(),M.content?(u(),void M.$evalAsync(function(){M.isOpen=!0,x(!0),R()})):angular.noop}function c(){F&&(p.cancel(F),F=null),H&&(p.cancel(H),H=null)}function s(){M&&M.$evalAsync(function(){M&&(M.isOpen=!1,x(!1),M.animation?E||(E=p(v,150,!1)):v())})}function q(){B&&(p.cancel(B),B=null),E&&(p.cancel(E),E=null)}function u(){z||(D=M.$new(),z=e(D,function(e){j?r.find("body").append(e):k.after(e)}),y())}function v(){c(),q(),Y(),z&&(z.remove(),z=null),D&&(D.$destroy(),D=null)}function w(){M.title=C[l+"Title"],M.content=P?P(i):C[o],M.popupClass=C[l+"Class"],M.placement=angular.isDefined(C[l+"Placement"])?C[l+"Placement"]:$.placement;var e=h.parsePlacement(M.placement);I=e[1]?e[0]+"-"+e[1]:e[0];var t=parseInt(C[l+"PopupDelay"],10),a=parseInt(C[l+"PopupCloseDelay"],10);M.popupDelay=isNaN(t)?$.popupDelay:t,M.popupCloseDelay=isNaN(a)?$.popupCloseDelay:a}function x(e){O&&angular.isFunction(O.assign)&&O.assign(i,e)}function y(){G.length=0,P?(G.push(i.$watch(P,function(e){M.content=e,!e&&M.isOpen&&s()})),G.push(D.$watch(function(){N||(N=!0,D.$$postDigest(function(){N=!1,M&&M.isOpen&&R()}))}))):G.push(C.$observe(o,function(e){M.content=e,!e&&M.isOpen?s():R()})),G.push(C.$observe(l+"Title",function(e){M.title=e,M.isOpen&&R()})),G.push(C.$observe(l+"Placement",function(e){M.placement=e?e:$.placement,M.isOpen&&R()}))}function Y(){G.length&&(angular.forEach(G,function(e){e()}),G.length=0)}function A(e){M&&M.isOpen&&z&&(k[0].contains(e.target)||z[0].contains(e.target)||m())}var z,D,E,F,B,H,I,j=!!angular.isDefined($.appendToBody)&&$.appendToBody,_=n(void 0),L=angular.isDefined(C[l+"Enable"]),M=i.$new(!0),N=!1,O=!!angular.isDefined(C[l+"IsOpen"])&&g(C[l+"IsOpen"]),P=!!$.useContentExp&&g(C[o]),G=[],R=function(){z&&z.html()&&(H||(H=p(function(){var e=h.positionElements(k,z,M.placement,j);z.css({top:e.top+"px",left:e.left+"px"}),z.hasClass(e.placement.split("-")[0])||(z.removeClass(I.split("-")[0]),z.addClass(e.placement.split("-")[0])),z.hasClass($.placementClassPrefix+e.placement)||(z.removeClass($.placementClassPrefix+I),z.addClass($.placementClassPrefix+e.placement)),z.hasClass("uib-position-measure")?(h.positionArrow(z,e.placement),z.removeClass("uib-position-measure")):I!==e.placement&&h.positionArrow(z,e.placement),I=e.placement,H=null},0,!1)))};M.origScope=i,M.isOpen=!1,f.add(M,{close:s}),M.contentExp=function(){return M.content},C.$observe("disabled",function(e){e&&c(),e&&M.isOpen&&s()}),O&&i.$watch(O,function(e){M&&!e===M.isOpen&&d()});var S=function(){_.show.forEach(function(e){"outsideClick"===e?k.off("click",d):(k.off(e,b),k.off(e,d))}),_.hide.forEach(function(e){"outsideClick"===e?r.off("click",A):k.off(e,m)})};(function(){var e=C[l+"Trigger"];S(),_=n(e),"none"!==_.show&&_.show.forEach(function(e,t){"outsideClick"===e?(k.on("click",d),r.on("click",A)):e===_.hide[t]?k.on(e,d):e&&(k.on(e,b),k.on(_.hide[t],m)),k.on("keypress",function(e){27===e.which&&m()})})})();var T=i.$eval(C[l+"Animation"]);M.animation=angular.isDefined(T)?!!T:$.animation;var K,V=l+"AppendToBody";K=V in C&&void 0===C[V]||i.$eval(C[V]),j=angular.isDefined(K)?K:j,i.$on("$destroy",function(){S(),v(),f.remove(M),M=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,a,i){return{link:function(o,n,s){var r,p,c,u=o.$eval(s.tooltipTemplateTranscludeScope),h=0,l=function(){p&&(p.remove(),p=null),r&&(r.$destroy(),r=null),c&&(e.leave(c).then(function(){p=null}),p=c,c=null)};o.$watch(t.parseAsResourceUrl(s.uibTooltipTemplateTransclude),function(t){var s=++h;t?(i(t,!0).then(function(i){if(s==h){var o=u.$new(),p=a(i)(o,function(t){l(),e.enter(t,n)});r=o,c=p,r.$emit("$includeContentLoaded",t)}},function(){s==h&&(l(),o.$emit("$includeContentError",t))}),o.$emit("$includeContentRequested",t)):l()}),o.$on("$destroy",l)}}}]).directive("uibTooltipClasses",["$uibPosition",function(t){return{restrict:"A",link:function(a,i,o){if(a.placement){var n=t.parsePlacement(a.placement);i.addClass(n[0])}a.popupClass&&i.addClass(a.popupClass),a.animation()&&i.addClass(o.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{uibTitle:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",uibTitle:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{uibTitle:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,a,i){function o(){return angular.isDefined(t.maxParam)?t.maxParam:i.max}var n=this,e=angular.isDefined(a.animate)?t.$parent.$eval(a.animate):i.animate;this.bars=[],t.max=o(),this.addBar=function(t,a,i){e||a.css({transition:"none"}),this.bars.push(t),t.max=o(),t.title=i&&angular.isDefined(i.title)?i.title:"progressbar",t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=n.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);100<e&&(t.percent-=e-100)},t.$on("$destroy",function(){a=null,n.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},t.$watch("maxParam",function(){n.bars.forEach(function(e){e.max=o(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,a,i){i.addBar(e,t,a)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,a,i){i.addBar(e,angular.element(t.children()[0]),{title:a.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,a,i){var o={$setViewValue:angular.noop},n=this;this.init=function(n){o=n,o.$render=this.render,o.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(a.stateOn)?t.$parent.$eval(a.stateOn):i.stateOn,this.stateOff=angular.isDefined(a.stateOff)?t.$parent.$eval(a.stateOff):i.stateOff,this.enableReset=angular.isDefined(a.enableReset)?t.$parent.$eval(a.enableReset):i.enableReset;var e=angular.isDefined(a.titles)?t.$parent.$eval(a.titles):i.titles;this.titles=angular.isArray(e)&&0<e.length?e:i.titles;var l=angular.isDefined(a.ratingStates)?t.$parent.$eval(a.ratingStates):Array(angular.isDefined(a.max)?t.$parent.$eval(a.max):i.max);t.range=this.buildTemplateObjects(l)},this.buildTemplateObjects=function(e){for(var t=0,a=e.length;a>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},t.rate=function(e){if(!t.readonly&&0<=e&&e<=t.range.length){var a=n.enableReset&&o.$viewValue===e?0:e;o.$setViewValue(a),o.$render()}},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=o.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=o.$viewValue,t.title=n.getTitle(t.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(t,a,i,o){var n=o[0],e=o[1];n.init(e)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){function o(e){for(var t=0;t<l.tabs.length;t++)if(l.tabs[t].index===e)return t}var n,l=this;l.tabs=[],l.select=function(t,a){if(!s){var r=o(n),p=l.tabs[r];if(p){if(p.tab.onDeselect({$event:a}),a&&a.isDefaultPrevented())return;p.tab.active=!1}var d=l.tabs[t];d?(d.tab.onSelect({$event:a}),d.tab.active=!0,l.active=d.index,n=d.index):!d&&angular.isNumber(n)&&(l.active=null,n=null)}},l.addTab=function(e){if(l.tabs.push({tab:e,index:e.index}),l.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===l.active||!angular.isNumber(l.active)&&1===l.tabs.length){var t=o(e.index);l.select(t)}},l.removeTab=function(t){for(var a,i=0;i<l.tabs.length;i++)if(l.tabs[i].tab===t){a=i;break}if(l.tabs[a].index===l.active){var o=a===l.tabs.length-1?a-1:a+1%l.tabs.length;l.select(o)}l.tabs.splice(a,1)},t.$watch("tabset.active",function(e){angular.isNumber(e)&&e!==n&&l.select(o(e))});var s;t.$on("$destroy",function(){s=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,a){e.vertical=!!angular.isDefined(a.vertical)&&e.$parent.$eval(a.vertical),e.justified=!!angular.isDefined(a.justified)&&e.$parent.$eval(a.justified),angular.isUndefined(a.active)&&(e.active=0)}}}).directive("uibTab",["$parse",function(t){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(i,a,o,n,e){i.disabled=!1,o.disable&&i.$parent.$watch(t(o.disable),function(e){i.disabled=!!e}),angular.isUndefined(o.index)&&(n.tabs&&n.tabs.length?i.index=Math.max.apply(null,n.tabs.map(function(e){return e.index}))+1:i.index=0),angular.isUndefined(o.classes)&&(i.classes=""),i.select=function(e){if(!i.disabled){for(var t,a=0;a<n.tabs.length;a++)if(n.tabs[a].tab===i){t=a;break}n.select(t,e)}},n.addTab(i),i.$on("$destroy",function(){n.removeTab(i)}),i.$transcludeFn=e}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function t(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(a,i,o){var n=a.$eval(o.uibTabContentTransclude).tab;n.$transcludeFn(n.$parent,function(e){angular.forEach(e,function(e){t(e)?n.headingElement=e:i.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function($,a,D,c,d,e,T){function g(){var e=+$.hours,t=$.showMeridian?0<e&&13>e:0<=e&&24>e;return t&&""!==$.hours?($.showMeridian&&(12==e&&(e=0),$.meridian===u[1]&&(e+=12)),e):void 0}function h(){var e=+$.minutes;return 0<=e&&60>e&&""!==$.minutes?e:void 0}function i(){var e=+$.seconds;return 0<=e&&60>e?e:void 0}function f(e,t){return null===e?"":angular.isDefined(e)&&2>e.toString().length&&!t?"0"+e:e.toString()}function k(e){l(),t.$setViewValue(new Date(r)),m(e)}function l(){t.$setValidity("time",!0),$.invalidHours=!1,$.invalidMinutes=!1,$.invalidSeconds=!1}function m(a){if(t.$modelValue){var i=r.getHours(),o=r.getMinutes(),n=r.getSeconds();$.showMeridian&&(i=0===i||12===i?12:i%12),$.hours="h"===a?i:f(i,!v),"m"!==a&&($.minutes=f(o)),$.meridian=12>r.getHours()?u[0]:u[1],"s"!==a&&($.seconds=f(n)),$.meridian=12>r.getHours()?u[0]:u[1]}else $.hours=null,$.minutes=null,$.seconds=null,$.meridian=u[0]}function n(e){r=p(r,e),k()}function o(e,t){return p(e,60*t)}function p(e,t){var a=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(a.getHours(),a.getMinutes(),a.getSeconds()),i}function b(){return(null===$.hours||""===$.hours)&&(null===$.minutes||""===$.minutes)&&(!$.showSeconds||$.showSeconds&&(null===$.seconds||""===$.seconds))}var r=new Date,s=[],t={$setViewValue:angular.noop},u=angular.isDefined(D.meridians)?$.$parent.$eval(D.meridians):T.meridians||e.DATETIME_FORMATS.AMPMS,v=!angular.isDefined(D.padHours)||$.$parent.$eval(D.padHours);$.tabindex=angular.isDefined(D.tabindex)?D.tabindex:0,a.removeAttr("tabindex"),this.init=function(a,o){t=a,t.$render=this.render,t.$formatters.unshift(function(e){return e?new Date(e):null});var n=o.eq(0),e=o.eq(1),l=o.eq(2),s=angular.isDefined(D.mousewheel)?$.$parent.$eval(D.mousewheel):T.mousewheel;s&&this.setupMousewheelEvents(n,e,l);var i=angular.isDefined(D.arrowkeys)?$.$parent.$eval(D.arrowkeys):T.arrowkeys;i&&this.setupArrowkeyEvents(n,e,l),$.readonlyInput=angular.isDefined(D.readonlyInput)?$.$parent.$eval(D.readonlyInput):T.readonlyInput,this.setupInputEvents(n,e,l)};var M=T.hourStep;D.hourStep&&s.push($.$parent.$watch(c(D.hourStep),function(e){M=+e}));var O=T.minuteStep;D.minuteStep&&s.push($.$parent.$watch(c(D.minuteStep),function(e){O=+e}));var P;s.push($.$parent.$watch(c(D.min),function(e){var t=new Date(e);P=isNaN(t)?void 0:t}));var S;s.push($.$parent.$watch(c(D.max),function(e){var t=new Date(e);S=isNaN(t)?void 0:t}));var E=!1;D.ngDisabled&&s.push($.$parent.$watch(c(D.ngDisabled),function(e){E=e})),$.noIncrementHours=function(){var e=o(r,60*M);return E||e>S||r>e&&P>e},$.noDecrementHours=function(){var e=o(r,60*-M);return E||P>e||e>r&&e>S},$.noIncrementMinutes=function(){var e=o(r,O);return E||e>S||r>e&&P>e},$.noDecrementMinutes=function(){var e=o(r,-O);return E||P>e||e>r&&e>S},$.noIncrementSeconds=function(){var e=p(r,I);return E||e>S||r>e&&P>e},$.noDecrementSeconds=function(){var e=p(r,-I);return E||P>e||e>r&&e>S},$.noToggleMeridian=function(){return 12>r.getHours()?E||o(r,720)>S:E||o(r,-720)<P};var I=T.secondStep;D.secondStep&&s.push($.$parent.$watch(c(D.secondStep),function(e){I=+e})),$.showSeconds=T.showSeconds,D.showSeconds&&s.push($.$parent.$watch(c(D.showSeconds),function(e){$.showSeconds=!!e})),$.showMeridian=T.showMeridian,D.showMeridian&&s.push($.$parent.$watch(c(D.showMeridian),function(e){if($.showMeridian=!!e,t.$error.time){var a=g(),i=h();angular.isDefined(a)&&angular.isDefined(i)&&(r.setHours(a),k())}else m()})),this.setupMousewheelEvents=function(t,a,i){var o=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||0<t};t.bind("mousewheel wheel",function(e){E||$.$apply(o(e)?$.incrementHours():$.decrementHours()),e.preventDefault()}),a.bind("mousewheel wheel",function(e){E||$.$apply(o(e)?$.incrementMinutes():$.decrementMinutes()),e.preventDefault()}),i.bind("mousewheel wheel",function(e){E||$.$apply(o(e)?$.incrementSeconds():$.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,t,a){e.bind("keydown",function(e){E||(38===e.which?(e.preventDefault(),$.incrementHours(),$.$apply()):40===e.which&&(e.preventDefault(),$.decrementHours(),$.$apply()))}),t.bind("keydown",function(e){E||(38===e.which?(e.preventDefault(),$.incrementMinutes(),$.$apply()):40===e.which&&(e.preventDefault(),$.decrementMinutes(),$.$apply()))}),a.bind("keydown",function(e){E||(38===e.which?(e.preventDefault(),$.incrementSeconds(),$.$apply()):40===e.which&&(e.preventDefault(),$.decrementSeconds(),$.$apply()))})},this.setupInputEvents=function(a,o,n){if($.readonlyInput)return $.updateHours=angular.noop,$.updateMinutes=angular.noop,void($.updateSeconds=angular.noop);var s=function(e,a,i){t.$setViewValue(null),t.$setValidity("time",!1),angular.isDefined(e)&&($.invalidHours=e),angular.isDefined(a)&&($.invalidMinutes=a),angular.isDefined(i)&&($.invalidSeconds=i)};$.updateHours=function(){var e=g(),a=h();t.$setDirty(),angular.isDefined(e)&&angular.isDefined(a)?(r.setHours(e),r.setMinutes(a),P>r||r>S?s(!0):k("h")):s(!0)},a.bind("blur",function(){t.$setTouched(),b()?l():null===$.hours||""===$.hours?s(!0):!$.invalidHours&&10>$.hours&&$.$apply(function(){$.hours=f($.hours,!v)})}),$.updateMinutes=function(){var e=h(),a=g();t.$setDirty(),angular.isDefined(e)&&angular.isDefined(a)?(r.setHours(a),r.setMinutes(e),P>r||r>S?s(void 0,!0):k("m")):s(void 0,!0)},o.bind("blur",function(){t.$setTouched(),b()?l():null===$.minutes?s(void 0,!0):!$.invalidMinutes&&10>$.minutes&&$.$apply(function(){$.minutes=f($.minutes)})}),$.updateSeconds=function(){var e=i();t.$setDirty(),angular.isDefined(e)?(r.setSeconds(e),k("s")):s(void 0,void 0,!0)},n.bind("blur",function(){b()?l():!$.invalidSeconds&&10>$.seconds&&$.$apply(function(){$.seconds=f($.seconds)})})},this.render=function(){var e=t.$viewValue;isNaN(e)?(t.$setValidity("time",!1),d.error("Timepicker directive: \"ng-model\" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.")):(e&&(r=e),P>r||r>S?(t.$setValidity("time",!1),$.invalidHours=!0,$.invalidMinutes=!0):l(),m())},$.showSpinners=angular.isDefined(D.showSpinners)?$.$parent.$eval(D.showSpinners):T.showSpinners,$.incrementHours=function(){$.noIncrementHours()||n(60*(60*M))},$.decrementHours=function(){$.noDecrementHours()||n(60*(60*-M))},$.incrementMinutes=function(){$.noIncrementMinutes()||n(60*O)},$.decrementMinutes=function(){$.noDecrementMinutes()||n(60*-O)},$.incrementSeconds=function(){$.noIncrementSeconds()||n(I)},$.decrementSeconds=function(){$.noDecrementSeconds()||n(-I)},$.toggleMeridian=function(){var e=h(),t=g();$.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(t)?n(720*(12>r.getHours()?60:-60)):$.meridian=$.meridian===u[0]?u[1]:u[0])},$.blur=function(){t.$setTouched()},$.$on("$destroy",function(){for(;s.length;)s.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,a){return a.templateUrl||e.templateUrl},link:function(t,a,i,o){var n=o[0],e=o[1];e&&n.init(e,a.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(a){var i=a.match(t);if(!i)throw new Error("Expected typeahead specification in form of \"_modelValue_ (as _label_)? for _item_ in _collection_\" but got \""+a+"\".");return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(s,ee,a,c,d,b,te,e,h,i,g,f,l){function m(){M.moveInProgress||(M.moveInProgress=!0,M.$digest()),X()}function n(){M.position=C?f.offset(ee):f.position(ee),M.position.top+=ee.prop("offsetHeight")}var o,p,k=[9,13,27,38,40],r=s.$eval(a.typeaheadMinLength);r||0===r||(r=1),s.$watch(a.typeaheadMinLength,function(e){r=e||0===e?e:1});var t=s.$eval(a.typeaheadWaitMs)||0,u=!1!==s.$eval(a.typeaheadEditable);s.$watch(a.typeaheadEditable,function(e){u=!1!==e});var q,w,j=d(a.typeaheadLoading).assign||angular.noop,y=d(a.typeaheadOnSelect),z=!!angular.isDefined(a.typeaheadSelectOnBlur)&&s.$eval(a.typeaheadSelectOnBlur),A=d(a.typeaheadNoResults).assign||angular.noop,B=a.typeaheadInputFormatter?d(a.typeaheadInputFormatter):void 0,C=!!a.typeaheadAppendToBody&&s.$eval(a.typeaheadAppendToBody),D=a.typeaheadAppendTo?s.$eval(a.typeaheadAppendTo):null,E=!1!==s.$eval(a.typeaheadFocusFirst),F=!!a.typeaheadSelectOnExact&&s.$eval(a.typeaheadSelectOnExact),G=d(a.typeaheadIsOpen).assign||angular.noop,H=s.$eval(a.typeaheadShowHint)||!1,I=d(a.ngModel),J=d(a.ngModel+"($$$p)"),K=function(e,t){return angular.isFunction(I(s))&&p&&p.$options&&p.$options.getterSetter?J(e,{$$$p:t}):I.assign(e,t)},L=l.parse(a.uibTypeahead),M=s.$new(),N=s.$on("$destroy",function(){M.$destroy()});M.$on("$destroy",N);var O="typeahead-"+M.$id+"-"+Math.floor(1e4*Math.random());ee.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":O});var ae,Q;H&&(ae=angular.element("<div></div>"),ae.css("position","relative"),ee.after(ae),Q=ee.clone(),Q.attr("placeholder",""),Q.attr("tabindex","-1"),Q.val(""),Q.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),ee.css({position:"relative","vertical-align":"top","background-color":"transparent"}),ae.append(Q),Q.after(ee));var R=angular.element("<div uib-typeahead-popup></div>");R.attr({id:O,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(a.typeaheadTemplateUrl)&&R.attr("template-url",a.typeaheadTemplateUrl),angular.isDefined(a.typeaheadPopupTemplateUrl)&&R.attr("popup-template-url",a.typeaheadPopupTemplateUrl);var S=function(){H&&Q.val("")},T=function(){M.matches=[],M.activeIdx=-1,ee.attr("aria-expanded",!1),S()},U=function(e){return O+"-option-"+e};M.$watch("activeIdx",function(e){0>e?ee.removeAttr("aria-activedescendant"):ee.attr("aria-activedescendant",U(e))});var V=function(e,t){return M.matches.length>t&&e&&e.toUpperCase()===M.matches[t].label.toUpperCase()},W=function(t,a){var i={$viewValue:t};j(s,!0),A(s,!1),b.when(L.source(s,i)).then(function(e){var l=t===o.$viewValue;if(l&&q)if(e&&0<e.length){M.activeIdx=E?0:-1,A(s,!1),M.matches.length=0;for(var r=0;r<e.length;r++)i[L.itemName]=e[r],M.matches.push({id:U(r),label:L.viewMapper(M,i),model:e[r]});if(M.query=t,n(),ee.attr("aria-expanded",!0),F&&1===M.matches.length&&V(t,0)&&(angular.isNumber(M.debounceUpdate)||angular.isObject(M.debounceUpdate)?g(function(){M.select(0,a)},angular.isNumber(M.debounceUpdate)?M.debounceUpdate:M.debounceUpdate["default"]):M.select(0,a)),H){var p=M.matches[0].label;angular.isString(t)&&0<t.length&&p.slice(0,t.length).toUpperCase()===t.toUpperCase()?Q.val(t+p.slice(t.length)):Q.val("")}}else T(),A(s,!0);l&&j(s,!1)},function(){T(),j(s,!1),A(s,!0)})};C&&(angular.element(h).on("resize",m),e.find("body").on("scroll",m));var X=g(function(){M.matches.length&&n(),M.moveInProgress=!1},200);M.moveInProgress=!1,M.query=void 0;var Y,Z=function(e){Y=te(function(){W(e)},t)},$=function(){Y&&te.cancel(Y)};T(),M.assignIsOpen=function(e){G(s,e)},M.select=function(t,n){var l,r,p={};w=!0,p[L.itemName]=r=M.matches[t].model,l=L.modelMapper(s,p),K(s,l),o.$setValidity("editable",!0),o.$setValidity("parse",!0),y(s,{$item:r,$model:l,$label:L.viewMapper(s,p),$event:n}),T(),!1!==M.$eval(a.typeaheadFocusOnSelect)&&te(function(){ee[0].focus()},0,!1)},ee.on("keydown",function(e){if(0!==M.matches.length&&-1!==k.indexOf(e.which)){if(-1===M.activeIdx&&(9===e.which||13===e.which)||9===e.which&&e.shiftKey)return T(),void M.$digest();e.preventDefault();var t;switch(e.which){case 9:case 13:M.$apply(function(){angular.isNumber(M.debounceUpdate)||angular.isObject(M.debounceUpdate)?g(function(){M.select(M.activeIdx,e)},angular.isNumber(M.debounceUpdate)?M.debounceUpdate:M.debounceUpdate["default"]):M.select(M.activeIdx,e)});break;case 27:e.stopPropagation(),T(),s.$digest();break;case 38:M.activeIdx=(0<M.activeIdx?M.activeIdx:M.matches.length)-1,M.$digest(),t=R.find("li")[M.activeIdx],t.parentNode.scrollTop=t.offsetTop;break;case 40:M.activeIdx=(M.activeIdx+1)%M.matches.length,M.$digest(),t=R.find("li")[M.activeIdx],t.parentNode.scrollTop=t.offsetTop;}}}),ee.bind("focus",function(e){q=!0,0!==r||o.$viewValue||te(function(){W(o.$viewValue,e)},0)}),ee.bind("blur",function(e){z&&M.matches.length&&-1!==M.activeIdx&&!w&&(w=!0,M.$apply(function(){angular.isObject(M.debounceUpdate)&&angular.isNumber(M.debounceUpdate.blur)?g(function(){M.select(M.activeIdx,e)},M.debounceUpdate.blur):M.select(M.activeIdx,e)})),!u&&o.$error.editable&&(o.$setViewValue(),o.$setValidity("editable",!0),o.$setValidity("parse",!0),ee.val("")),q=!1,w=!1});var _=function(e){ee[0]!==e.target&&3!==e.which&&0!==M.matches.length&&(T(),i.$$phase||s.$digest())};e.on("click",_),s.$on("$destroy",function(){e.off("click",_),(C||D)&&ie.remove(),C&&(angular.element(h).off("resize",m),e.find("body").off("scroll",m)),R.remove(),H&&ae.remove()});var ie=c(R)(M);C?e.find("body").append(ie):D?angular.element(D).eq(0).append(ie):ee.after(ie),this.init=function(e,a){o=e,p=a,M.debounceUpdate=o.$options&&d(o.$options.debounce)(s),o.$parsers.unshift(function(e){return q=!0,0===r||e&&e.length>=r?0<t?($(),Z(e)):W(e):(j(s,!1),$(),T()),u?e:e?void o.$setValidity("editable",!1):(o.$setValidity("editable",!0),null)}),o.$formatters.push(function(t){var a,i,n={};return u||o.$setValidity("editable",!0),B?(n.$model=t,B(s,n)):(n[L.itemName]=t,a=L.viewMapper(s,n),n[L.itemName]=void 0,i=L.viewMapper(s,n),a===i?t:a)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,a,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(i,e,a){i.templateUrl=a.templateUrl,i.isOpen=function(){var e=0<i.matches.length;return i.assignIsOpen({isOpen:e}),e},i.isActive=function(e){return i.active===e},i.selectActive=function(e){i.active=e},i.selectMatch=function(a,o){var n=i.debounce();angular.isNumber(n)||angular.isObject(n)?t(function(){i.select({activeIdx:a,evt:o})},angular.isNumber(n)?n:n["default"]):i.select({activeIdx:a,evt:o})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(t,i,a){return{scope:{index:"=",match:"=",query:"="},link:function(o,n,e){var l=a(e.templateUrl)(o.$parent)||"uib/template/typeahead/typeahead-match.html";t(l).then(function(e){var t=angular.element(e.trim());n.replaceWith(t),i(t)(o)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(t,a,i){function o(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function n(e){return /<.*>/g.test(e)}var e;return e=a.has("$sanitize"),function(a,l){return!e&&n(a)&&i.warn("Unsafe use of typeahead please use ngSanitize"),a=l?(""+a).replace(new RegExp(o(l),"gi"),"<strong>$&</strong>"):a,e||(a=t.trustAsHtml(a)),a}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html","<div class=\"panel\" ng-class=\"panelClass || 'panel-default'\">\n  <div role=\"tab\" id=\"{{::headingId}}\" aria-selected=\"{{isOpen}}\" class=\"panel-heading\" ng-keypress=\"toggleOpen($event)\">\n    <h4 class=\"panel-title\">\n      <a role=\"button\" data-toggle=\"collapse\" href aria-expanded=\"{{isOpen}}\" aria-controls=\"{{::panelId}}\" tabindex=\"0\" class=\"accordion-toggle\" ng-click=\"toggleOpen()\" uib-accordion-transclude=\"heading\"><span uib-accordion-header ng-class=\"{'text-muted': isDisabled}\">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id=\"{{::panelId}}\" aria-labelledby=\"{{::headingId}}\" aria-hidden=\"{{!isOpen}}\" role=\"tabpanel\" class=\"panel-collapse collapse\" uib-collapse=\"!isOpen\">\n    <div class=\"panel-body\" ng-transclude></div>\n  </div>\n</div>\n")}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html","<div role=\"tablist\" class=\"panel-group\" ng-transclude></div>")}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html","<div class=\"alert\" ng-class=\"['alert-' + (type || 'warning'), closeable ? 'alert-dismissible' : null]\" role=\"alert\">\n    <button ng-show=\"closeable\" type=\"button\" class=\"close\" ng-click=\"close({$event: $event})\">\n        <span aria-hidden=\"true\">&times;</span>\n        <span class=\"sr-only\">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html","<div ng-mouseenter=\"pause()\" ng-mouseleave=\"play()\" class=\"carousel\" ng-swipe-right=\"prev()\" ng-swipe-left=\"next()\">\n  <div class=\"carousel-inner\" ng-transclude></div>\n  <a role=\"button\" href class=\"left carousel-control\" ng-click=\"prev()\" ng-class=\"{ disabled: isPrevDisabled() }\" ng-show=\"slides.length > 1\">\n    <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></span>\n    <span class=\"sr-only\">previous</span>\n  </a>\n  <a role=\"button\" href class=\"right carousel-control\" ng-click=\"next()\" ng-class=\"{ disabled: isNextDisabled() }\" ng-show=\"slides.length > 1\">\n    <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></span>\n    <span class=\"sr-only\">next</span>\n  </a>\n  <ol class=\"carousel-indicators\" ng-show=\"slides.length > 1\">\n    <li ng-repeat=\"slide in slides | orderBy:indexOfSlide track by $index\" ng-class=\"{ active: isActive(slide) }\" ng-click=\"select(slide)\">\n      <span class=\"sr-only\">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if=\"isActive(slide)\">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n")}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html","<div ng-class=\"{\n    'active': active\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html","<div class=\"uib-datepicker\" ng-switch=\"datepickerMode\" role=\"application\" ng-keydown=\"keydown($event)\">\n  <uib-daypicker ng-switch-when=\"day\" tabindex=\"0\"></uib-daypicker>\n  <uib-monthpicker ng-switch-when=\"month\" tabindex=\"0\"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when=\"year\" tabindex=\"0\"></uib-yearpicker>\n</div>\n")}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html","<table class=\"uib-daypicker\" role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n  <thead>\n    <tr>\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n      <th colspan=\"{{::5 + showWeeks}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if=\"showWeeks\" class=\"text-center\"></th>\n      <th ng-repeat=\"label in ::labels track by $index\" class=\"text-center\"><small aria-label=\"{{::label.full}}\">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class=\"uib-weeks\" ng-repeat=\"row in rows track by $index\">\n      <td ng-if=\"showWeeks\" class=\"text-center h6\"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat=\"dt in row\" class=\"uib-day text-center\" role=\"gridcell\"\n        id=\"{{::dt.uid}}\"\n        ng-class=\"::dt.customClass\">\n        <button type=\"button\" class=\"btn btn-default btn-sm\"\n          uib-is-class=\"\n            'btn-info' for selectedDt,\n            'active' for activeDt\n            on dt\"\n          ng-click=\"select(dt.date)\"\n          ng-disabled=\"::dt.disabled\"\n          tabindex=\"-1\"><span ng-class=\"::{'text-muted': dt.secondary, 'text-info': dt.current}\">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n")}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html","<table class=\"uib-monthpicker\" role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n  <thead>\n    <tr>\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n      <th><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class=\"uib-months\" ng-repeat=\"row in rows track by $index\">\n      <td ng-repeat=\"dt in row\" class=\"uib-month text-center\" role=\"gridcell\"\n        id=\"{{::dt.uid}}\"\n        ng-class=\"::dt.customClass\">\n        <button type=\"button\" class=\"btn btn-default\"\n          uib-is-class=\"\n            'btn-info' for selectedDt,\n            'active' for activeDt\n            on dt\"\n          ng-click=\"select(dt.date)\"\n          ng-disabled=\"::dt.disabled\"\n          tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n")}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html","<table class=\"uib-yearpicker\" role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n  <thead>\n    <tr>\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n      <th colspan=\"{{::columns - 2}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class=\"uib-years\" ng-repeat=\"row in rows track by $index\">\n      <td ng-repeat=\"dt in row\" class=\"uib-year text-center\" role=\"gridcell\"\n        id=\"{{::dt.uid}}\"\n        ng-class=\"::dt.customClass\">\n        <button type=\"button\" class=\"btn btn-default\"\n          uib-is-class=\"\n            'btn-info' for selectedDt,\n            'active' for activeDt\n            on dt\"\n          ng-click=\"select(dt.date)\"\n          ng-disabled=\"::dt.disabled\"\n          tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n")}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html","<div>\n  <ul class=\"uib-datepicker-popup dropdown-menu uib-position-measure\" dropdown-nested ng-if=\"isOpen\" ng-keydown=\"keydown($event)\" ng-click=\"$event.stopPropagation()\">\n    <li ng-transclude></li>\n    <li ng-if=\"showButtonBar\" class=\"uib-button-bar\">\n      <span class=\"btn-group pull-left\">\n        <button type=\"button\" class=\"btn btn-sm btn-info uib-datepicker-current\" ng-click=\"select('today', $event)\" ng-disabled=\"isDisabled('today')\">{{ getText('current') }}</button>\n        <button type=\"button\" class=\"btn btn-sm btn-danger uib-clear\" ng-click=\"select(null, $event)\">{{ getText('clear') }}</button>\n      </span>\n      <button type=\"button\" class=\"btn btn-sm btn-success pull-right uib-close\" ng-click=\"close($event)\">{{ getText('close') }}</button>\n    </li>\n  </ul>\n</div>\n")}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html","<div class=\"modal-backdrop\"\n     uib-modal-animation-class=\"fade\"\n     modal-in-class=\"in\"\n     ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"\n></div>\n")}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div modal-render=\"{{$isRendered}}\" tabindex=\"-1\" role=\"dialog\" class=\"modal\"\n    uib-modal-animation-class=\"fade\"\n    modal-in-class=\"in\"\n    ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\">\n    <div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n</div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html","<ul class=\"pager\">\n  <li ng-class=\"{disabled: noPrevious()||ngDisabled, previous: align}\"><a href ng-click=\"selectPage(page - 1, $event)\">{{::getText('previous')}}</a></li>\n  <li ng-class=\"{disabled: noNext()||ngDisabled, next: align}\"><a href ng-click=\"selectPage(page + 1, $event)\">{{::getText('next')}}</a></li>\n</ul>\n")}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html","<ul class=\"pagination\">\n  <li ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-first\"><a href ng-click=\"selectPage(1, $event)\">{{::getText('first')}}</a></li>\n  <li ng-if=\"::directionLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-prev\"><a href ng-click=\"selectPage(page - 1, $event)\">{{::getText('previous')}}</a></li>\n  <li ng-repeat=\"page in pages track by $index\" ng-class=\"{active: page.active,disabled: ngDisabled&&!page.active}\" class=\"pagination-page\"><a href ng-click=\"selectPage(page.number, $event)\">{{page.text}}</a></li>\n  <li ng-if=\"::directionLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-next\"><a href ng-click=\"selectPage(page + 1, $event)\">{{::getText('next')}}</a></li>\n  <li ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-last\"><a href ng-click=\"selectPage(totalPages, $event)\">{{::getText('last')}}</a></li>\n</ul>\n")}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html","<div class=\"tooltip\"\n  tooltip-animation-class=\"fade\"\n  uib-tooltip-classes\n  ng-class=\"{ in: isOpen() }\">\n  <div class=\"tooltip-arrow\"></div>\n  <div class=\"tooltip-inner\" ng-bind-html=\"contentExp()\"></div>\n</div>\n")}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html","<div class=\"tooltip\"\n  tooltip-animation-class=\"fade\"\n  uib-tooltip-classes\n  ng-class=\"{ in: isOpen() }\">\n  <div class=\"tooltip-arrow\"></div>\n  <div class=\"tooltip-inner\" ng-bind=\"content\"></div>\n</div>\n")}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html","<div class=\"tooltip\"\n  tooltip-animation-class=\"fade\"\n  uib-tooltip-classes\n  ng-class=\"{ in: isOpen() }\">\n  <div class=\"tooltip-arrow\"></div>\n  <div class=\"tooltip-inner\"\n    uib-tooltip-template-transclude=\"contentExp()\"\n    tooltip-template-transclude-scope=\"originScope()\"></div>\n</div>\n")}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html","<div class=\"popover\"\n  tooltip-animation-class=\"fade\"\n  uib-tooltip-classes\n  ng-class=\"{ in: isOpen() }\">\n  <div class=\"arrow\"></div>\n\n  <div class=\"popover-inner\">\n      <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n      <div class=\"popover-content\" ng-bind-html=\"contentExp()\"></div>\n  </div>\n</div>\n")}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html","<div class=\"popover\"\n  tooltip-animation-class=\"fade\"\n  uib-tooltip-classes\n  ng-class=\"{ in: isOpen() }\">\n  <div class=\"arrow\"></div>\n\n  <div class=\"popover-inner\">\n      <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n      <div class=\"popover-content\"\n        uib-tooltip-template-transclude=\"contentExp()\"\n        tooltip-template-transclude-scope=\"originScope()\"></div>\n  </div>\n</div>\n")}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html","<div class=\"popover\"\n  tooltip-animation-class=\"fade\"\n  uib-tooltip-classes\n  ng-class=\"{ in: isOpen() }\">\n  <div class=\"arrow\"></div>\n\n  <div class=\"popover-inner\">\n      <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n      <div class=\"popover-content\" ng-bind=\"content\"></div>\n  </div>\n</div>\n")}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html","<div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\n")}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html","<div class=\"progress\" ng-transclude aria-labelledby=\"{{::title}}\"></div>")}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html","<div class=\"progress\">\n  <div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\n</div>\n")}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html","<span ng-mouseleave=\"reset()\" ng-keydown=\"onKeydown($event)\" tabindex=\"0\" role=\"slider\" aria-valuemin=\"0\" aria-valuemax=\"{{range.length}}\" aria-valuenow=\"{{value}}\" aria-valuetext=\"{{title}}\">\n    <span ng-repeat-start=\"r in range track by $index\" class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n    <i ng-repeat-end ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"glyphicon\" ng-class=\"$index < value && (r.stateOn || 'glyphicon-star') || (r.stateOff || 'glyphicon-star-empty')\" ng-attr-title=\"{{r.title}}\"></i>\n</span>\n")}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html","<li ng-class=\"[{active: active, disabled: disabled}, classes]\" class=\"uib-tab nav-item\">\n  <a href ng-click=\"select($event)\" class=\"nav-link\" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n")}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html","<div>\n  <ul class=\"nav nav-{{tabset.type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n  <div class=\"tab-content\">\n    <div class=\"tab-pane\"\n         ng-repeat=\"tab in tabset.tabs\"\n         ng-class=\"{active: tabset.active === tab.index}\"\n         uib-tab-content-transclude=\"tab\">\n    </div>\n  </div>\n</div>\n")}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html","<table class=\"uib-timepicker\">\n  <tbody>\n    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n      <td class=\"uib-increment hours\"><a ng-click=\"incrementHours()\" ng-class=\"{disabled: noIncrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementHours()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n      <td>&nbsp;</td>\n      <td class=\"uib-increment minutes\"><a ng-click=\"incrementMinutes()\" ng-class=\"{disabled: noIncrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementMinutes()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n      <td ng-show=\"showSeconds\">&nbsp;</td>\n      <td ng-show=\"showSeconds\" class=\"uib-increment seconds\"><a ng-click=\"incrementSeconds()\" ng-class=\"{disabled: noIncrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementSeconds()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n      <td ng-show=\"showMeridian\"></td>\n    </tr>\n    <tr>\n      <td class=\"form-group uib-time hours\" ng-class=\"{'has-error': invalidHours}\">\n        <input type=\"text\" placeholder=\"HH\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementHours()\" ng-blur=\"blur()\">\n      </td>\n      <td class=\"uib-separator\">:</td>\n      <td class=\"form-group uib-time minutes\" ng-class=\"{'has-error': invalidMinutes}\">\n        <input type=\"text\" placeholder=\"MM\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementMinutes()\" ng-blur=\"blur()\">\n      </td>\n      <td ng-show=\"showSeconds\" class=\"uib-separator\">:</td>\n      <td class=\"form-group uib-time seconds\" ng-class=\"{'has-error': invalidSeconds}\" ng-show=\"showSeconds\">\n        <input type=\"text\" placeholder=\"SS\" ng-model=\"seconds\" ng-change=\"updateSeconds()\" class=\"form-control text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementSeconds()\" ng-blur=\"blur()\">\n      </td>\n      <td ng-show=\"showMeridian\" class=\"uib-time am-pm\"><button type=\"button\" ng-class=\"{disabled: noToggleMeridian()}\" class=\"btn btn-default text-center\" ng-click=\"toggleMeridian()\" ng-disabled=\"noToggleMeridian()\" tabindex=\"{{::tabindex}}\">{{meridian}}</button></td>\n    </tr>\n    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n      <td class=\"uib-decrement hours\"><a ng-click=\"decrementHours()\" ng-class=\"{disabled: noDecrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementHours()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n      <td>&nbsp;</td>\n      <td class=\"uib-decrement minutes\"><a ng-click=\"decrementMinutes()\" ng-class=\"{disabled: noDecrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementMinutes()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n      <td ng-show=\"showSeconds\">&nbsp;</td>\n      <td ng-show=\"showSeconds\" class=\"uib-decrement seconds\"><a ng-click=\"decrementSeconds()\" ng-class=\"{disabled: noDecrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementSeconds()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n      <td ng-show=\"showMeridian\"></td>\n    </tr>\n  </tbody>\n</table>\n")}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html","<a href\n   tabindex=\"-1\"\n   ng-bind-html=\"match.label | uibTypeaheadHighlight:query\"\n   ng-attr-title=\"{{match.label}}\"></a>\n")}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-show=\"isOpen() && !moveInProgress\" ng-style=\"{top: position().top+'px', left: position().left+'px'}\" role=\"listbox\" aria-hidden=\"{{!isOpen()}}\">\n    <li ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\" ng-click=\"selectMatch($index, $event)\" role=\"option\" id=\"{{::match.id}}\">\n        <div uib-typeahead-match index=\"$index\" match=\"match\" query=\"query\" template-url=\"templateUrl\"></div>\n    </li>\n</ul>\n")}]),angular.module("ui.bootstrap.carousel").run(function(){angular.$$csp().noInlineStyle||angular.$$uibCarouselCss||angular.element(document).find("head").prepend("<style type=\"text/css\">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>"),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerCss||angular.element(document).find("head").prepend("<style type=\"text/css\">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>"),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){angular.$$csp().noInlineStyle||angular.$$uibPositionCss||angular.element(document).find("head").prepend("<style type=\"text/css\">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>"),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerpopupCss||angular.element(document).find("head").prepend("<style type=\"text/css\">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>"),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTooltipCss||angular.element(document).find("head").prepend("<style type=\"text/css\">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>"),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTimepickerCss||angular.element(document).find("head").prepend("<style type=\"text/css\">.uib-time input{width:50px;}</style>"),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTypeaheadCss||angular.element(document).find("head").prepend("<style type=\"text/css\">[uib-typeahead-popup].dropdown-menu{display:block;}</style>"),angular.$$uibTypeaheadCss=!0});
!function(b,c){var a=b();b.fn.dropdownHover=function(e){return"ontouchstart"in document?this:(a=a.add(this.parent()),this.each(function(){function f(){i.parents(".navbar").find(".navbar-toggle").is(":visible")||(c.clearTimeout(g),c.clearTimeout(j),j=c.setTimeout(function(){a.find(":focus").blur(),!0===h.instantlyCloseOthers&&a.removeClass("open"),c.clearTimeout(j),i.attr("aria-expanded","true"),d.addClass("open"),i.trigger(l)},h.hoverDelay))}var g,j,i=b(this),d=i.parent(),k={delay:b(this).data("delay"),hoverDelay:b(this).data("hover-delay"),instantlyCloseOthers:b(this).data("close-others")},l="show.bs.dropdown",h=b.extend(!0,{},{delay:500,hoverDelay:0,instantlyCloseOthers:!0},e,k);d.hover(function(a){return d.hasClass("open")||i.is(a.target)?void f(a):!0},function(){c.clearTimeout(j),g=c.setTimeout(function(){i.attr("aria-expanded","false"),d.removeClass("open"),i.trigger("hide.bs.dropdown")},h.delay)}),i.hover(function(a){return d.hasClass("open")||d.is(a.target)?void f(a):!0}),d.find(".dropdown-submenu").each(function(){var a,d=b(this);d.hover(function(){c.clearTimeout(a),d.children(".dropdown-menu").show(),d.siblings().children(".dropdown-menu").hide()},function(){var b=d.children(".dropdown-menu");a=c.setTimeout(function(){b.hide()},h.delay)})})}))},b(document).ready(function(){b("[data-hover=\"dropdown\"]").dropdownHover()})}(jQuery,window);
(function(){"use strict";!function(){for(var f=0,a=["webkit","moz"],b=0;b<a.length&&!window.requestAnimationFrame;++b)window.requestAnimationFrame=window[a[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[b]+"CancelAnimationFrame"]||window[a[b]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=new Date().getTime(),c=Math.max(0,16-(b-f)),d=window.setTimeout(function(){a(b+c)},c);return f=b+c,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(b){window.clearTimeout(b)})}(),angular.module("angular-svg-round-progressbar",[]),angular.module("angular-svg-round-progressbar").constant("roundProgressConfig",{max:50,semi:!1,rounded:!1,responsive:!1,clockwise:!0,radius:100,color:"#45ccce",bgcolor:"#eaeaea",stroke:15,duration:800,animation:"easeOutCubic",animationDelay:0,offset:0}),angular.module("angular-svg-round-progressbar").service("roundProgressService",["$window",function(f){function n(h,a,i,c){var d=(c-90)*m/180,e=h+i*l(d),f=a+i*k(d);return e+" "+f}var h=Math.asin,i=Math.abs,g=Math.sqrt,j=Math.pow,k=Math.sin,l=Math.cos,m=Math.PI,o={},b=angular.isNumber,a=document.head.querySelector("base");return o.isSupported=document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.resolveColor=a&&a.href?function(c){var a=c.indexOf("#");return-1<a&&-1<c.indexOf("url")?c.slice(0,a)+window.location.href+c.slice(a):c}:function(b){return b},o.toNumber=function(c){return b(c)?c:parseFloat((c+"").replace(",","."))},o.getOffset=function(f,a){var b=+a.offset||0;if("inherit"===a.offset)for(var c=f.$parent;c;){if(c.hasOwnProperty("$$getRoundProgressOptions")){var d=c.$$getRoundProgressOptions();b+=(+d.offset||0)+(+d.stroke||0)}c=c.$parent}return b},o.getTimestamp=f.performance&&f.performance.now&&angular.isNumber(f.performance.now())?function(){return f.performance.now()}:function(){return new f.Date().getTime()},o.updateState=function(b,a,c,d,e,o){if(!e)return d;var g=0<b?Math.min(b,a):0,h=o?180:359.9999,i=0===a?0:g/a*h,j=n(e,e,c,i),k=n(e,e,c,0),l=180>=i?0:1;return d.attr("d","M "+j+" A "+c+" "+c+" 0 "+l+" 0 "+k)},o.animations={linearEase:function(e,a,b,c){return b*e/c+a},easeInQuad:function(e,a,b,c){return b*(e/=c)*e+a},easeOutQuad:function(e,a,b,f){return-b*(e/=f)*(e-2)+a},easeInOutQuad:function(e,a,b,f){return 1>(e/=f/2)?b/2*e*e+a:-b/2*(--e*(e-2)-1)+a},easeInCubic:function(e,a,b,c){return b*(e/=c)*e*e+a},easeOutCubic:function(e,a,b,c){return b*((e=e/c-1)*e*e+1)+a},easeInOutCubic:function(e,a,b,c){return 1>(e/=c/2)?b/2*e*e*e+a:b/2*((e-=2)*e*e+2)+a},easeInQuart:function(e,a,b,c){return b*(e/=c)*e*e*e+a},easeOutQuart:function(e,a,b,f){return-b*((e=e/f-1)*e*e*e-1)+a},easeInOutQuart:function(e,a,b,f){return 1>(e/=f/2)?b/2*e*e*e*e+a:-b/2*((e-=2)*e*e*e-2)+a},easeInQuint:function(e,a,b,c){return b*(e/=c)*e*e*e*e+a},easeOutQuint:function(e,a,b,c){return b*((e=e/c-1)*e*e*e*e+1)+a},easeInOutQuint:function(e,a,b,c){return 1>(e/=c/2)?b/2*e*e*e*e*e+a:b/2*((e-=2)*e*e*e*e+2)+a},easeInSine:function(e,a,b,f){return-b*l(e/f*(m/2))+b+a},easeOutSine:function(e,a,b,c){return b*k(e/c*(m/2))+a},easeInOutSine:function(e,a,b,f){return-b/2*(l(m*e/f)-1)+a},easeInExpo:function(e,a,b,c){return 0==e?a:b*j(2,10*(e/c-1))+a},easeOutExpo:function(e,a,b,c){return e==c?a+b:b*(-j(2,-10*e/c)+1)+a},easeInOutExpo:function(e,a,b,c){return 0==e?a:e==c?a+b:1>(e/=c/2)?b/2*j(2,10*(e-1))+a:b/2*(-j(2,-10*--e)+2)+a},easeInCirc:function(e,a,b,f){return-b*(g(1-(e/=f)*e)-1)+a},easeOutCirc:function(e,a,b,c){return b*g(1-(e=e/c-1)*e)+a},easeInOutCirc:function(e,a,b,f){return 1>(e/=f/2)?-b/2*(g(1-e*e)-1)+a:b/2*(g(1-(e-=2)*e)+1)+a},easeInElastic:function(l,a,b,c){var d=1.70158,e=0,f=b;return 0==l?a:1==(l/=c)?a+b:(e||(e=.3*c),f<i(b)?(f=b,d=e/4):d=e/(2*m)*h(b/f),-(f*j(2,10*(l-=1))*k((l*c-d)*(2*m)/e))+a)},easeOutElastic:function(l,a,b,c){var d=1.70158,e=0,f=b;return 0==l?a:1==(l/=c)?a+b:(e||(e=.3*c),f<i(b)?(f=b,d=e/4):d=e/(2*m)*h(b/f),f*j(2,-10*l)*k((l*c-d)*(2*m)/e)+b+a)},easeInOutElastic:function(l,a,b,c){var d=1.70158,e=0,f=b;return 0==l?a:2==(l/=c/2)?a+b:(e||(e=c*(1.5*.3)),f<i(b)?(f=b,d=e/4):d=e/(2*m)*h(b/f),1>l?-.5*(f*j(2,10*(l-=1))*k((l*c-d)*(2*m)/e))+a:.5*(f*j(2,-10*(l-=1))*k((l*c-d)*(2*m)/e))+b+a)},easeInBack:function(f,a,b,c,d){return void 0==d&&(d=1.70158),b*(f/=c)*f*((d+1)*f-d)+a},easeOutBack:function(f,a,b,c,d){return void 0==d&&(d=1.70158),b*((f=f/c-1)*f*((d+1)*f+d)+1)+a},easeInOutBack:function(f,a,b,c,d){return void 0==d&&(d=1.70158),1>(f/=c/2)?b/2*(f*f*(((d*=1.525)+1)*f-d))+a:b/2*((f-=2)*f*(((d*=1.525)+1)*f+d)+2)+a},easeInBounce:function(c,a,b,d){return b-o.animations.easeOutBounce(d-c,0,b,d)+a},easeOutBounce:function(e,a,b,c){return(e/=c)<1/2.75?b*(7.5625*e*e)+a:e<2/2.75?b*(7.5625*(e-=1.5/2.75)*e+.75)+a:e<2.5/2.75?b*(7.5625*(e-=2.25/2.75)*e+.9375)+a:b*(7.5625*(e-=2.625/2.75)*e+.984375)+a},easeInOutBounce:function(c,a,b,d){return c<d/2?.5*o.animations.easeInBounce(2*c,0,b,d)+a:.5*o.animations.easeOutBounce(2*c-d,0,b,d)+.5*b+a}},o}]),angular.module("angular-svg-round-progressbar").directive("roundProgress",["$window","roundProgressService","roundProgressConfig",function(n,x,a){var b={restrict:"EA",replace:!0,transclude:!0,scope:{current:"=",max:"=",semi:"=",rounded:"=",clockwise:"=",responsive:"=",onRender:"=",radius:"@",color:"@",bgcolor:"@",stroke:"@",duration:"@",animation:"@",offset:"@",animationDelay:"@"}};return x.isSupported?angular.extend(b,{link:function(y,w,c){function d(b){return c.hasOwnProperty(b)}var e,f,j=!w.hasClass("round-progress-wrapper"),z=j?w:w.find("svg").eq(0),l=z.find("path").eq(0),k=z.find("circle").eq(0),m=angular.copy(a),o=0;y.$$getRoundProgressOptions=function(){return m};var g=function(){var b=m.semi,a=m.responsive,c=+m.radius||0,e=+m.stroke,f=2*c,n=c-e/2-x.getOffset(y,m);z.css({top:0,left:0,position:a?"absolute":"static",width:a?"100%":f+"px",height:a?"100%":(b?c:f)+"px",overflow:"hidden"}),j||z[0].setAttribute("viewBox","0 0 "+f+" "+(b?c:f)),w.css({width:a?"100%":"auto",position:"relative",paddingBottom:a?b?"50%":"100%":0}),l.css({stroke:x.resolveColor(m.color),strokeWidth:e,strokeLinecap:m.rounded?"round":"butt"}),b?l.attr("transform",m.clockwise?"translate(0, "+f+") rotate(-90)":"translate("+f+", "+f+") rotate(90) scale(-1, 1)"):l.attr("transform",m.clockwise?"":"scale(-1, 1) translate("+-f+" 0)"),k.attr({cx:c,cy:c,r:0<=n?n:0}).css({stroke:x.resolveColor(m.bgcolor),strokeWidth:e})},h=function(a,b,c){var f=x.toNumber(m.max||0),p=0<a?n.Math.min(a,f):0,A=b===p||0>b?0:b||0,k=x.animations[m.animation],q=+m.duration||0,g=c||a>f&&b>f||0>a&&0>b||25>q,r=x.toNumber(m.radius),s=r-m.stroke/2-x.getOffset(y,m),t=m.semi;z.attr({"aria-valuemax":f,"aria-valuenow":p});var d=function(){if(g)x.updateState(p,f,s,l,r,t),m.onRender&&m.onRender(p,m,w);else{var a=x.getTimestamp(),b=++o;n.requestAnimationFrame(function c(){var d=n.Math.min(x.getTimestamp()-a,q),e=k(d,A,p-A,q);x.updateState(e,f,s,l,r,t),m.onRender&&m.onRender(e,m,w),b==o&&d<q&&n.requestAnimationFrame(c)})}};0<m.animationDelay?(n.clearTimeout(e),n.setTimeout(d,m.animationDelay)):d()},i=Object.keys(b.scope).filter(function(b){return d(b)&&"current"!==b});y.$watchGroup(i,function(c){for(var a=0;a<c.length;a++)"undefined"!=typeof c[a]&&(m[i[a]]=c[a]);g(),y.$broadcast("$parentOffsetChanged"),"inherit"!==m.offset||f?"inherit"!==m.offset&&f&&f():f=y.$on("$parentOffsetChanged",function(){h(y.current,y.current,!0),g()})}),y.$watchGroup(["current","max","radius","stroke","semi","offset"].filter(d),function(b,a){h(x.toNumber(b[0]),x.toNumber(a[0]))})},template:function(e){for(var a=e.parent(),b="round-progress",c=["<svg class=\""+b+"\" xmlns=\"http://www.w3.org/2000/svg\" role=\"progressbar\" aria-valuemin=\"0\">","<circle fill=\"none\"/>","<path fill=\"none\"/>","<g ng-transclude></g>","</svg>"];a.length&&a[0].nodeName.toLowerCase()!==b&&"undefined"==typeof a.attr(b);)a=a.parent();return a&&a.length||(c.unshift("<div class=\"round-progress-wrapper\">"),c.push("</div>")),c.join("\n")}}):angular.extend(b,{template:"<div class=\"round-progress\" ng-transclude></div>"})}])})();
var bind=function(a,b){return function(){return a.apply(b,arguments)}};!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return a.Tour=b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):a.Tour=b(a.jQuery)}(window,function(b){var d;return d=window.document,function(){function a(a){this._showPopoverAndOverlay=bind(this._showPopoverAndOverlay,this);var c;try{c=window.localStorage}catch(a){c=!1}this._options=b.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:c,debug:!1,backdrop:!1,backdropContainer:"body",backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:"<div class=\"popover\" role=\"tooltip\"> <div class=\"arrow\"></div> <h3 class=\"popover-title\"></h3> <div class=\"popover-content\"></div> <div class=\"popover-navigation\"> <div class=\"btn-group\"> <button class=\"btn btn-sm btn-default\" data-role=\"prev\">&laquo; Prev</button> <button class=\"btn btn-sm btn-default\" data-role=\"next\">Next &raquo;</button> <button class=\"btn btn-sm btn-default\" data-role=\"pause-resume\" data-pause-text=\"Pause\" data-resume-text=\"Resume\">Pause</button> </div> <button class=\"btn btn-sm btn-default\" data-role=\"end\">End tour</button> </div> </div>",afterSetState:function(){},afterGetState:function(){},afterRemoveState:function(){},onStart:function(){},onEnd:function(){},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNext:function(){},onPrev:function(){},onPause:function(){},onResume:function(){},onRedirectError:function(){}},a),this._force=!1,this._inited=!1,this._current=null,this.backdrops=[]}return a.prototype.addSteps=function(a){var b,c,d;for(b=0,c=a.length;b<c;b++)d=a[b],this.addStep(d);return this},a.prototype.addStep=function(a){return this._options.steps.push(a),this},a.prototype.getStep=function(a){if(null!=this._options.steps[a])return b.extend({id:"step-"+a,path:"",host:"",placement:"right",title:"",content:"<p></p>",next:a===this._options.steps.length-1?-1:a+1,prev:a-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropContainer:this._options.backdropContainer,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,reflexElement:this._options.steps[a].element,backdropElement:this._options.steps[a].element,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume,onRedirectError:this._options.onRedirectError},this._options.steps[a])},a.prototype.init=function(a){return this._force=a,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(a){return function(){return a.showStep(a._current)}}(this)),this._onScroll(function(a){return function(){return a._showPopoverAndOverlay(a._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},a.prototype.start=function(a){var b;return null==a&&(a=!1),this._inited||this.init(a),null===this._current&&(b=this._makePromise(null==this._options.onStart?void 0:this._options.onStart(this)),this._callOnPromiseDone(b,this.showStep,0)),this},a.prototype.next=function(){var a;return a=this.hideStep(this._current,this._current+1),this._callOnPromiseDone(a,this._showNextStep)},a.prototype.prev=function(){var a;return a=this.hideStep(this._current,this._current-1),this._callOnPromiseDone(a,this._showPrevStep)},a.prototype.goTo=function(a){var b;return b=this.hideStep(this._current,a),this._callOnPromiseDone(b,this.showStep,a)},a.prototype.end=function(){var a,c;return a=function(a){return function(){if(b(d).off("click.tour-"+a._options.name),b(d).off("keyup.tour-"+a._options.name),b(window).off("resize.tour-"+a._options.name),b(window).off("scroll.tour-"+a._options.name),a._setState("end","yes"),a._inited=!1,a._force=!1,a._clearTimer(),null!=a._options.onEnd)return a._options.onEnd(a)}}(this),c=this.hideStep(this._current),this._callOnPromiseDone(c,a)},a.prototype.ended=function(){return!this._force&&!!this._getState("end")},a.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this._removeState("redirect_to"),this.start()},a.prototype.pause=function(){var a;return(a=this.getStep(this._current))&&a.duration?(this._paused=!0,this._duration-=new Date().getTime()-this._start,window.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null==a.onPause?void 0:a.onPause(this,this._duration)):this},a.prototype.resume=function(){var a;return(a=this.getStep(this._current))&&a.duration?(this._paused=!1,this._start=new Date().getTime(),this._duration=this._duration||a.duration,this._timer=window.setTimeout(function(a){return function(){return a._isLast()?a.next():a.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=a.onResume&&this._duration!==a.duration?a.onResume(this,this._duration):void 0):this},a.prototype.hideStep=function(c,d){var a,e,f,g;if(g=this.getStep(c))return this._clearTimer(),f=this._makePromise(null==g.onHide?void 0:g.onHide(this,c)),e=function(e){return function(){var f,h;if((f=b(g.element)).data("bs.popover")||f.data("popover")||(f=b("body")),f.popover("destroy").removeClass("tour-"+e._options.name+"-element tour-"+e._options.name+"-"+c+"-element").removeData("bs.popover"),g.reflex&&b(g.reflexElement).removeClass("tour-step-element-reflex").off(e._reflexEvent(g.reflex)+".tour-"+e._options.name),g.backdrop&&((h=null!=d&&e.getStep(d))&&h.backdrop&&h.backdropElement===g.backdropElement||e._hideOverlayElement(g)),null!=g.onHidden)return g.onHidden(e)}}(this),a=g.delay.hide||g.delay,"[object Number]"==={}.toString.call(a)&&0<a?(this._debug("Wait "+a+" milliseconds to hide the step "+(this._current+1)),window.setTimeout(function(a){return function(){return a._callOnPromiseDone(f,e)}}(this),a)):this._callOnPromiseDone(f,e),f},a.prototype.showStep=function(b){var c,e,f,g,h,i;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(i=this.getStep(b))&&(h=b<this._current,e=this._makePromise(null==i.onShow?void 0:i.onShow(this,b)),this.setCurrentStep(b),c=function(){switch({}.toString.call(i.path)){case"[object Function]":return i.path();case"[object String]":return this._options.basePath+i.path;default:return i.path;}}.call(this),!i.redirect||!this._isRedirect(i.host,c,d.location)||(this._redirect(i,b,c),this._isJustPathHashDifferent(i.host,c,d.location)))?(g=function(a){return function(){if(a._isOrphan(i)){if(!1===i.orphan)return a._debug("Skip the orphan step "+(a._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),void(h?a._showPrevStep():a._showNextStep());a._debug("Show the orphan step "+(a._current+1)+". Orphans option is true.")}return(i.autoscroll?a._scrollIntoView(b):a._showPopoverAndOverlay(b),i.duration)?a.resume():void 0}}(this),f=i.delay.show||i.delay,"[object Number]"==={}.toString.call(f)&&0<f?(this._debug("Wait "+f+" milliseconds to show the step "+(this._current+1)),window.setTimeout(function(a){return function(){return a._callOnPromiseDone(e,g)}}(this),f)):this._callOnPromiseDone(e,g),e):void 0},a.prototype.getCurrentStep=function(){return this._current},a.prototype.setCurrentStep=function(a){return null==a?(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)):(this._current=a,this._setState("current_step",a)),this},a.prototype.redraw=function(){return this._showOverlayElement(this.getStep(this.getCurrentStep()))},a.prototype._setState=function(a,b){var c;if(this._options.storage){c=this._options.name+"_"+a;try{this._options.storage.setItem(c,b)}catch(a){a.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(c,b)}return null==this._state&&(this._state={}),this._state[a]=b},a.prototype._removeState=function(a){var b;return this._options.storage?(b=this._options.name+"_"+a,this._options.storage.removeItem(b),this._options.afterRemoveState(b)):null==this._state?void 0:delete this._state[a]},a.prototype._getState=function(a){var b,c;return this._options.storage?(b=this._options.name+"_"+a,c=this._options.storage.getItem(b)):null!=this._state&&(c=this._state[a]),void 0!==c&&"null"!==c||(c=null),this._options.afterGetState(a,c),c},a.prototype._showNextStep=function(){var a,b,c;return c=this.getStep(this._current),b=function(a){return function(){return a.showStep(c.next)}}(this),a=this._makePromise(null==c.onNext?void 0:c.onNext(this)),this._callOnPromiseDone(a,b)},a.prototype._showPrevStep=function(){var a,b,c;return c=this.getStep(this._current),b=function(a){return function(){return a.showStep(c.prev)}}(this),a=this._makePromise(null==c.onPrev?void 0:c.onPrev(this)),this._callOnPromiseDone(a,b)},a.prototype._debug=function(a){if(this._options.debug)return window.console.log("Bootstrap Tour '"+this._options.name+"' | "+a)},a.prototype._isRedirect=function(a,b,c){var d;return null!=a&&""!==a&&("[object RegExp]"==={}.toString.call(a)&&!a.test(c.origin)||"[object String]"==={}.toString.call(a)&&this._isHostDifferent(a,c))||(d=[c.pathname,c.search,c.hash].join(""),null!=b&&""!==b&&("[object RegExp]"==={}.toString.call(b)&&!b.test(d)||"[object String]"==={}.toString.call(b)&&this._isPathDifferent(b,d)))},a.prototype._isHostDifferent=function(a,b){switch({}.toString.call(a)){case"[object RegExp]":return!a.test(b.origin);case"[object String]":return this._getProtocol(a)!==this._getProtocol(b.href)||this._getHost(a)!==this._getHost(b.href);default:return!0;}},a.prototype._isPathDifferent=function(a,b){return this._getPath(a)!==this._getPath(b)||!this._equal(this._getQuery(a),this._getQuery(b))||!this._equal(this._getHash(a),this._getHash(b))},a.prototype._isJustPathHashDifferent=function(a,b,c){var d;return(null==a||""===a||!this._isHostDifferent(a,c))&&(d=[c.pathname,c.search,c.hash].join(""),"[object String]"==={}.toString.call(b)&&this._getPath(b)===this._getPath(d)&&this._equal(this._getQuery(b),this._getQuery(d))&&!this._equal(this._getHash(b),this._getHash(d)))},a.prototype._redirect=function(a,c,e){var f;return b.isFunction(a.redirect)?a.redirect.call(this,e):(f="[object String]"==={}.toString.call(a.host)?""+a.host+e:e,this._debug("Redirect to "+f),this._getState("redirect_to")===""+c?(this._debug("Error redirection loop to "+e),this._removeState("redirect_to"),null==a.onRedirectError?void 0:a.onRedirectError(this)):(this._setState("redirect_to",""+c),d.location.href=f))},a.prototype._isOrphan=function(a){return null==a.element||!b(a.element).length||b(a.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==b(a.element)[0].namespaceURI},a.prototype._isLast=function(){return this._current<this._options.steps.length-1},a.prototype._showPopoverAndOverlay=function(a){var b;if(this.getCurrentStep()===a&&!this.ended())return(b=this.getStep(a)).backdrop&&this._showOverlayElement(b),this._showPopover(b,a),null!=b.onShown&&b.onShown(this),this._debug("Step "+(this._current+1)+" of "+this._options.steps.length)},a.prototype._showPopover=function(c,d){var e,f,g,h,i;if(b(".tour-"+this._options.name).remove(),h=b.extend({},this._options),g=this._isOrphan(c),c.template=this._template(c,d),g&&(c.element="body",c.placement="top"),(e=b(c.element)).addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+d+"-element"),c.options&&b.extend(h,c.options),c.reflex&&!g&&b(c.reflexElement).addClass("tour-step-element-reflex").off(this._reflexEvent(c.reflex)+".tour-"+this._options.name).on(this._reflexEvent(c.reflex)+".tour-"+this._options.name,function(a){return function(){return a._isLast()?a.next():a.end()}}(this)),i=!0===c.smartPlacement&&-1===c.placement.search(/auto/i),e.popover({placement:i?"auto "+c.placement:c.placement,trigger:"manual",title:c.title,content:c.content,html:!0,animation:c.animation,container:c.container,template:c.template,selector:c.element}).popover("show"),(f=e.data("bs.popover")?e.data("bs.popover").tip():e.data("popover").tip()).attr("id",c.id),"fixed"===e.css("position")&&f.css("position","fixed"),this._reposition(f,c),g)return this._center(f)},a.prototype._template=function(c,d){var e,f,g,i,j,a;return a=c.template,this._isOrphan(c)&&"[object Boolean]"!=={}.toString.call(c.orphan)&&(a=c.orphan),j=b(b.isFunction(a)?a(d,c):a),e=j.find(".popover-navigation"),g=e.find("[data-role=\"prev\"]"),f=e.find("[data-role=\"next\"]"),i=e.find("[data-role=\"pause-resume\"]"),this._isOrphan(c)&&j.addClass("orphan"),j.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+d),c.reflex&&j.addClass("tour-"+this._options.name+"-reflex"),0>c.prev&&g.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),0>c.next&&f.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),c.duration||i.remove(),j.clone().wrap("<div>").parent().html()},a.prototype._reflexEvent=function(a){return"[object Boolean]"==={}.toString.call(a)?"click":a},a.prototype._reposition=function(c,e){var f,g,i,j,a,h,k;if(j=c[0].offsetWidth,g=c[0].offsetHeight,k=c.offset(),a=k.left,h=k.top,0>(f=b(d).outerHeight()-k.top-c.outerHeight())&&(k.top+=f),0>(i=b("html").outerWidth()-k.left-c.outerWidth())&&(k.left+=i),0>k.top&&(k.top=0),0>k.left&&(k.left=0),c.offset(k),"bottom"===e.placement||"top"===e.placement){if(a!==k.left)return this._replaceArrow(c,2*(k.left-a),j,"left");}else if(h!==k.top)return this._replaceArrow(c,2*(k.top-h),g,"top")},a.prototype._center=function(a){return a.css("top",b(window).outerHeight()/2-a.outerHeight()/2)},a.prototype._replaceArrow=function(a,b,c,d){return a.find(".arrow").css(d,b?50*(1-b/c)+"%":"")},a.prototype._scrollIntoView=function(c){var d,e,f,g,i,j,a,h,k=Math.max;if(a=this.getStep(c),!(d=b(a.element)).length)return this._showPopoverAndOverlay(c);switch(e=b(window),i=d.offset().top,g=d.outerHeight(),h=e.height(),j=0,a.placement){case"top":j=k(0,i-h/2);break;case"left":case"right":j=k(0,i+g/2-h/2);break;case"bottom":j=k(0,i+g-h/2);}return this._debug("Scroll into view. ScrollTop: "+j+". Element offset: "+i+". Window height: "+h+"."),f=0,b("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(j)},function(a){return function(){if(2==++f)return a._showPopoverAndOverlay(c),a._debug("Scroll into view.\nAnimation end element offset: "+d.offset().top+".\nWindow height: "+e.height()+".")}}(this))},a.prototype._onResize=function(a,c){return b(window).on("resize.tour-"+this._options.name,function(){return clearTimeout(c),c=setTimeout(a,100)})},a.prototype._onScroll=function(a,c){return b(window).on("scroll.tour-"+this._options.name,function(){return clearTimeout(c),c=setTimeout(a,100)})},a.prototype._initMouseNavigation=function(){var a;return a=this,b(d).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(a){return function(b){return b.preventDefault(),a.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(a){return function(b){if(b.preventDefault(),0<a._current)return a.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(a){return function(b){return b.preventDefault(),a.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(c){var d;return c.preventDefault(),(d=b(this)).text(a._paused?d.data("pause-text"):d.data("resume-text")),a._paused?a.resume():a.pause()})},a.prototype._initKeyboardNavigation=function(){if(this._options.keyboard)return b(d).on("keyup.tour-"+this._options.name,function(a){return function(b){if(b.which)switch(b.which){case 39:return b.preventDefault(),a._isLast()?a.next():a.end();case 37:if(b.preventDefault(),0<a._current)return a.prev();}}}(this))},a.prototype._makePromise=function(a){return a&&b.isFunction(a.then)?a:null},a.prototype._callOnPromiseDone=function(a,b,c){return a?a.then(function(a){return function(){return b.call(a,c)}}(this)):b.call(this,c)},a.prototype._showBackground=function(e,f){var g,i,j,k,a,h,m,n,l;for(j=b(d).height(),l=b(d).width(),n=[],k=0,a=(m=["top","bottom","left","right"]).length;k<a;k++)switch(h=m[k],g=null==(i=this.backdrops)[h]?i[h]=b("<div>",{class:"tour-backdrop "+h}):i[h],b(e.backdropContainer).append(g),h){case"top":n.push(g.height(0<f.offset.top?f.offset.top:0).width(l).offset({top:0,left:0}));break;case"bottom":n.push(g.offset({top:f.offset.top+f.height,left:0}).height(j-(f.offset.top+f.height)).width(l));break;case"left":n.push(g.offset({top:f.offset.top,left:0}).height(f.height).width(0<f.offset.left?f.offset.left:0));break;case"right":n.push(g.offset({top:f.offset.top,left:f.offset.left+f.width}).height(f.height).width(l-(f.offset.left+f.width)));break;default:n.push(void 0);}return n},a.prototype._showOverlayElement=function(a){var c,d;return 0===(c=b(a.backdropElement)).length?d={width:0,height:0,offset:{top:0,left:0}}:(d={width:c.innerWidth(),height:c.innerHeight(),offset:c.offset()},c.addClass("tour-step-backdrop"),a.backdropPadding&&(d=this._applyBackdropPadding(a.backdropPadding,d))),this._showBackground(a,d)},a.prototype._hideOverlayElement=function(a){var c,d,e;for(d in b(a.backdropElement).removeClass("tour-step-backdrop"),e=this.backdrops,e)(c=e[d])&&void 0!==c.remove&&c.remove();return this.backdrops=[]},a.prototype._applyBackdropPadding=function(a,b){return"object"==typeof a?(null==a.top&&(a.top=0),null==a.right&&(a.right=0),null==a.bottom&&(a.bottom=0),null==a.left&&(a.left=0),b.offset.top-=a.top,b.offset.left-=a.left,b.width=b.width+a.left+a.right,b.height=b.height+a.top+a.bottom):(b.offset.top-=a,b.offset.left-=a,b.width+=2*a,b.height+=2*a),b},a.prototype._clearTimer=function(){return window.clearTimeout(this._timer),this._timer=null,this._duration=null},a.prototype._getProtocol=function(a){return 1<(a=a.split("://")).length?a[0]:"http"},a.prototype._getHost=function(a){return a=a.split("//"),(a=1<a.length?a[1]:a[0]).split("/")[0]},a.prototype._getPath=function(a){return a.replace(/\/?$/,"").split("?")[0].split("#")[0]},a.prototype._getQuery=function(a){return this._getParams(a,"?")},a.prototype._getHash=function(a){return this._getParams(a,"#")},a.prototype._getParams=function(a,b){var c,d,e,f,g;if(1===(f=a.split(b)).length)return{};for(g={},c=0,d=(f=f[1].split("&")).length;c<d;c++)g[(e=(e=f[c]).split("="))[0]]=e[1]||"";return g},a.prototype._equal=function(b,c){var d,e,f,g,h,i;if("[object Object]"==={}.toString.call(b)&&"[object Object]"==={}.toString.call(c)){if(g=Object.keys(b),h=Object.keys(c),g.length!==h.length)return!1;for(e in b)if(i=b[e],!this._equal(c[e],i))return!1;return!0}if("[object Array]"==={}.toString.call(b)&&"[object Array]"==={}.toString.call(c)){if(b.length!==c.length)return!1;for(e=d=0,f=b.length;d<f;e=++d)if(i=b[e],!this._equal(i,c[e]))return!1;return!0}return b===c},a}()});
var HopPlugin;(function(a){var b=function(){function a(a){this.$=a,this.defaultOptions={borderColor:'#fff',color:'#282c3f',radius:50,borderWidth:1,opacity:0.5,adjustLeft:0,adjustTop:0,borderRadius:'50%'}}var b=Math.ceil;return a.prototype.init=function(c,d){d=this.$.extend(this.defaultOptions,d);var e=this.$(window);this.documentHeight=e.height(),this.documentWidth=e.width(),this.targetHeight=c.height(),this.targetWidth=c.width(),this.targetOffset=c.offset(),null===a.outerEl&&(a.outerEl=this.$('<div class="hop-outer" />'),a.innerEl=this.$('<div class="hop-inner" />'),a.outerEl.append(a.innerEl),this.$('body').append(a.outerEl));var f=this.maxRadius(this.documentWidth-this.targetOffset.left,this.documentHeight-this.targetOffset.top),g=d.radius;d.width&&(g=d.width);var h=d.radius;d.height&&(h=d.height),a.outerEl.css({top:b(d.adjustTop+this.targetOffset.top+this.targetHeight/2),left:b(d.adjustLeft+this.targetOffset.left+this.targetWidth/2),width:g,height:h,marginTop:-d.radius/2,marginLeft:-d.radius/2,position:'fixed',zIndex:101,borderRadius:d.borderRadius,borderWidth:d.borderWidth,borderStyle:'solid',borderColor:d.borderColor,boxSizing:'content-box'}),a.innerEl.css({width:g+2*d.borderWidth,height:h+2*d.borderWidth,position:'absolute',border:f+'px solid '+d.color,marginTop:-f-d.borderWidth,marginLeft:-f-d.borderWidth,borderRadius:d.borderRadius,opacity:d.opacity,boxSizing:'content-box'})},a.prototype.maxRadius=function(a,c){var d=Math.pow;return b(Math.sqrt(d(a,2)*d(c,2)))},a.prototype.remove=function(){return a.outerEl.remove(),a.outerEl=null,this},a.prototype.move=function(b,c,d){return(void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=!1),!0===d)?(a.outerEl.css({left:'+='+b,top:'+='+c}),this):(a.outerEl.css({left:b,top:c}),this)},a.outerEl=null,a.innerEl=null,a}();a.Hop=b;var c=function(){function a(){}return a.main=function(){if(!window.jQuery)return void console.error('Hop requires jQuery.');var a=window.jQuery;a.fn.hop=function(c){if(0!==this.length){var d=1<this.length?a(this[0]):this,e=new b(a);return e.init(d,c),d.data('hop',e),d}}},a}();a.Startup=c})(HopPlugin||(HopPlugin={})),HopPlugin.Startup.main();
angular.module('angular-duration-format.filter',[]).filter('duration',function(){function a(a){for(var b=[],c=a?a.toString():'';c;){var e=d.exec(c);e?(b=b.concat(e.slice(1)),c=b.pop()):(b.push(c),c=null)}return b}function b(a,b){var d='',f={};return b.filter(function(a){return e.hasOwnProperty(a)}).map(function(a){var b=e[a];return b.hasOwnProperty('pad')?b.value:a}).filter(function(a,b,c){return c.indexOf(a)===b}).map(function(a){return angular.extend({name:a},e[a])}).sort(function(c,a){return a.value-c.value}).forEach(function(b){var c=f[b.name]=Math.floor(a/b.value);a-=c*b.value}),b.forEach(function(a){var b=e[a];if(b){var g=f[b.value];d+=b.hasOwnProperty('pad')?c(g,Math.max(b.pad,g.toString().length)):f[a]}else d+=a.replace(/(^'|'$)/g,'').replace(/''/g,'\'')}),d}function c(a,b){return(Array(b+1).join('0')+a).slice(-b)}var d=/((?:[^ydhms']+)|(?:'(?:[^']|'')*')|(?:y+|d+|h+|m+|s+))(.*)/,e={y:{value:31536000000},yy:{value:'y',pad:2},d:{value:86400000},dd:{value:'d',pad:2},h:{value:3600000},hh:{value:'h',pad:2},m:{value:60000},mm:{value:'m',pad:2},s:{value:1e3},ss:{value:'s',pad:2},sss:{value:1},ssss:{value:'sss',pad:4}};return function(c,d){var e=parseFloat(c,10),f=a(d);return isNaN(e)||0===f.length?c:b(e,f)}}),angular.module('angular-duration-format',['angular-duration-format.filter']);
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=20)}([function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});b.default=function a(b,d){c(this,a),this.data=b,this.text=d.text||b,this.options=d}},function(b,d){"use strict";function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(d,"__esModule",{value:!0});var g,h=d.SET_A=0,j=d.SET_B=1,k=d.SET_C=2,l=(d.SHIFT=98,d.START_A=103),f=d.START_B=104,c=d.START_C=105;d.MODULO=103,d.STOP=106,d.FNC1=207,d.SET_BY_CODE=(g={},e(g,l,h),e(g,f,j),e(g,c,k),g),d.SWAP={101:h,100:j,99:k},d.A_START_CHAR="\xD0",d.B_START_CHAR="\xD1",d.C_START_CHAR="\xD2",d.A_CHARS="[\0-_\xC8-\xCF]",d.B_CHARS="[ -\x7F\xC8-\xCF]",d.C_CHARS="(\xCF*[0-9]{2}\xCF*)",d.BARS=[11011001100,11001101100,11001100110,10010011000,10010001100,10001001100,10011001000,10011000100,10001100100,11001001000,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011000,11011000110,11000110110,10100011000,10001011000,10001000110,10110001000,10001101000,10001100010,11010001000,11000101000,11000100010,10110111000,10110001110,10001101110,10111011000,10111000110,10001110110,11101110110,11010001110,11000101110,11011101000,11011100010,11011101110,11101011000,11101000110,11100010110,11101101000,11101100010,11100011010,11101111010,11001000010,11110001010,10100110000,10100001100,10010110000,10010000110,10000101100,10000100110,10110010000,10110000100,10011010000,10011000010,10000110100,10000110010,11000010010,11001010000,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111000,10100011110,10001011110,10111101000,10111100010,11110101000,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,11010010000,11010011100,1100011101011]},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SIDE_BIN="101",b.MIDDLE_BIN="01010",b.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},b.EAN2_STRUCTURE=["LL","LG","GL","GG"],b.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],b.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(2);b.default=function(a,b,c){var e=a.split("").map(function(a,c){return d.BINARIES[b[c]]}).map(function(b,c){return b?b[a[c]]:""});if(c){var f=a.length-1;e=e.map(function(a,b){return b<f?a+c:a})}return e.join("")}},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){for(var c=0;c<b;c++)a="0"+a;return a}Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),a=e(0),f=function(a){return a&&a.__esModule?a:{default:a}}(a),c=function(a){function b(a,c){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return j(b,a),k(b,[{key:"encode",value:function(){for(var a="110",b=0;b<this.data.length;b++){var c=parseInt(this.data[b]),d=c.toString(2);d=i(d,4-d.length);for(var e=0;e<d.length;e++)a+="0"==d[e]?"100":"110"}return a+="1001",{data:a,text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),b}(f.default);d.default=c},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};b.default=function(a,b){return c({},a,b)}},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=e(0),a=function(a){return a&&a.__esModule?a:{default:a}}(k),f=e(1),c=function(a){function b(a,c){g(this,b);var d=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a.substring(1),c));return d.bytes=a.split("").map(function(a){return a.charCodeAt(0)}),d}return j(b,a),i(b,[{key:"valid",value:function(){return /^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var a=this.bytes,c=a.shift()-105,d=f.SET_BY_CODE[c];if(void 0===d)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&a.unshift(f.FNC1);var e=b.next(a,1,d);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:b.getBar(c)+e.result+b.getBar((e.checksum+c)%f.MODULO)+b.getBar(f.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var a=this.options.ean128||!1;return"string"==typeof a&&(a="true"===a.toLowerCase()),a}}],[{key:"getBar",value:function(a){return f.BARS[a]?f.BARS[a].toString():""}},{key:"correctIndex",value:function(a,b){if(b===f.SET_A){var c=a.shift();return 32>c?c+64:c-32}return b===f.SET_B?a.shift()-32:10*(a.shift()-48)+a.shift()-48}},{key:"next",value:function(c,d,e){if(!c.length)return{result:"",checksum:0};var g,h;if(200<=c[0]){h=c.shift()-105;var i=f.SWAP[h];void 0===i?(e!==f.SET_A&&e!==f.SET_B||h!==f.SHIFT||(c[0]=e===f.SET_A?95<c[0]?c[0]-96:c[0]:32>c[0]?c[0]+96:c[0]),g=b.next(c,d+1,e)):g=b.next(c,d+1,i)}else h=b.correctIndex(c,e),g=b.next(c,d+1,e);var j=b.getBar(h),a=h*d;return{result:j+g.result,checksum:a+g.checksum}}}]),b}(a.default);d.default=c},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.mod10=function(a){for(var b,c=0,d=0;d<a.length;d++)b=parseInt(a[d]),c+=0==(d+a.length)%2?b:2*b%10+Math.floor(2*b/10);return(10-c%10)%10},b.mod11=function(a){for(var b=0,c=[2,3,4,5,6,7],d=0;d<a.length;d++)b+=c[d%c.length]*parseInt(a[a.length-1-d]);return(11-b%11)%11}},function(b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var e=function(a){function b(a,c){d(this,b);var e=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return e.name="InvalidInputException",e.symbology=a,e.input=c,e.message="\""+e.input+"\" is not a valid input for "+e.symbology,e}return h(b,a),b}(Error),i=function(a){function b(){d(this,b);var a=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.name="InvalidElementException",a.message="Not supported type to render on",a}return h(b,a),b}(Error),a=function(a){function b(){d(this,b);var a=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.name="NoElementException",a.message="No element to render on.",a}return h(b,a),b}(Error);c.InvalidInputException=e,c.InvalidElementException=i,c.NoElementException=a},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a){var b=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var c in b)b.hasOwnProperty(c)&&(c=b[c],"string"==typeof a[c]&&(a[c]=parseInt(a[c],10)));return"string"==typeof a.displayValue&&(a.displayValue="false"!=a.displayValue),a}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},function(b,g,e){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(g,"__esModule",{value:!0});var m=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),a=e(2),f=e(3),c=h(f),n=e(0),l=h(n),o=function(b){function d(a,b){j(this,d);var c=k(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a,b));return c.fontSize=!b.flat&&b.fontSize>10*b.width?10*b.width:b.fontSize,c.guardHeight=b.height+c.fontSize/2+b.textMargin,c}return i(d,b),m(d,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(a,b){return this.text.substr(a,b)}},{key:"leftEncode",value:function(a,b){return(0,c.default)(a,b)}},{key:"rightText",value:function(a,b){return this.text.substr(a,b)}},{key:"rightEncode",value:function(a,b){return(0,c.default)(a,b)}},{key:"encodeGuarded",value:function(){var b={fontSize:this.fontSize},c={height:this.guardHeight};return[{data:a.SIDE_BIN,options:c},{data:this.leftEncode(),text:this.leftText(),options:b},{data:a.MIDDLE_BIN,options:c},{data:this.rightEncode(),text:this.rightText(),options:b},{data:a.SIDE_BIN,options:c}]}},{key:"encodeFlat",value:function(){return{data:[a.SIDE_BIN,this.leftEncode(),a.MIDDLE_BIN,this.rightEncode(),a.SIDE_BIN].join(""),text:this.text}}}]),d}(l.default);g.default=o},function(b,g,e){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function m(a){var b,c=0;for(b=1;11>b;b+=2)c+=parseInt(a[b]);for(b=0;11>b;b+=2)c+=3*parseInt(a[b]);return(10-c%10)%10}Object.defineProperty(g,"__esModule",{value:!0});var a=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();g.checksum=m;var f=e(3),c=h(f),n=e(0),l=h(n),o=function(b){function d(a,b){j(this,d),-1!==a.search(/^[0-9]{11}$/)&&(a+=m(a));var c=k(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a,b));return c.displayValue=b.displayValue,c.fontSize=b.fontSize>10*b.width?10*b.width:b.fontSize,c.guardHeight=b.height+c.fontSize/2+b.textMargin,c}return i(d,b),a(d,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==m(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var a="";return a+="101",a+=(0,c.default)(this.data.substr(0,6),"LLLLLL"),a+="01010",a+=(0,c.default)(this.data.substr(6,6),"RRRRRR"),a+="101",{data:a,text:this.text}}},{key:"guardedEncoding",value:function(){var a=[];return this.displayValue&&a.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),a.push({data:"101"+(0,c.default)(this.data[0],"L"),options:{height:this.guardHeight}}),a.push({data:(0,c.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),a.push({data:"01010",options:{height:this.guardHeight}}),a.push({data:(0,c.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),a.push({data:(0,c.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&a.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),a}}]),d}(l.default);g.default=o},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=e(36),a=e(0),f=function(a){return a&&a.__esModule?a:{default:a}}(a),c=function(a){function b(){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return j(b,a),i(b,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var a=this,b=this.data.match(/.{2}/g).map(function(b){return a.encodePair(b)}).join("");return{data:k.START_BIN+b+k.END_BIN,text:this.text}}},{key:"encodePair",value:function(a){var b=k.BINARIES[a[1]];return k.BINARIES[a[0]].split("").map(function(a,c){return("1"===a?"111":"1")+("1"===b[c]?"000":"0")}).join("")}}]),b}(f.default);d.default=c},function(a,b,d){"use strict";function g(a,b){return b.height+(b.displayValue&&0<a.text.length?b.fontSize+b.textMargin:0)+b.marginTop+b.marginBottom}function h(a,b,c){if(c.displayValue&&b<a){if("center"==c.textAlign)return f((a-b)/2);if("left"==c.textAlign)return 0;if("right"==c.textAlign)return f(a-b)}return 0}function j(a,b,c){var d;if(c)d=c;else{if("undefined"==typeof document)return 0;d=document.createElement("canvas").getContext("2d")}return d.font=b.fontOptions+" "+b.fontSize+"px "+b.font,d.measureText(a).width}var f=Math.floor;Object.defineProperty(b,"__esModule",{value:!0}),b.getTotalWidthOfEncodings=b.calculateEncodingAttributes=b.getBarcodePadding=b.getEncodingHeight=b.getMaximumHeightOfEncodings=void 0;var e=d(5),k=function(a){return a&&a.__esModule?a:{default:a}}(e);b.getMaximumHeightOfEncodings=function(a){for(var b=0,c=0;c<a.length;c++)a[c].height>b&&(b=a[c].height);return b},b.getEncodingHeight=g,b.getBarcodePadding=h,b.calculateEncodingAttributes=function(b,d,e){for(var f=0;f<b.length;f++){var i,m=b[f],a=(0,k.default)(d,m.options);i=a.displayValue?j(m.text,a,e):0;var c=m.data.length*a.width;m.width=Math.ceil(Math.max(i,c)),m.height=g(m,a),m.barcodePadding=h(i,c,a)}},b.getTotalWidthOfEncodings=function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c].width;return b}},function(b,d,e){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var g=e(27),h=e(26),j=e(33),i=e(37),k=e(42),a=e(44),f=e(43),c=e(34);d.default={CODE39:g.CODE39,CODE128:h.CODE128,CODE128A:h.CODE128A,CODE128B:h.CODE128B,CODE128C:h.CODE128C,EAN13:j.EAN13,EAN8:j.EAN8,EAN5:j.EAN5,EAN2:j.EAN2,UPC:j.UPC,UPCE:j.UPCE,ITF14:i.ITF14,ITF:i.ITF,MSI:k.MSI,MSI10:k.MSI10,MSI11:k.MSI11,MSI1010:k.MSI1010,MSI1110:k.MSI1110,pharmacode:a.pharmacode,codabar:f.codabar,GenericBarcode:c.GenericBarcode}},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b){c(this,a),this.api=b}return d(a,[{key:"handleCatch",value:function(a){if("InvalidInputException"!==a.name)throw a;if(this.api._options.valid===this.api._defaults.valid)throw a.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(a){try{var b=a.apply(void 0,arguments);return this.api._options.valid(!0),b}catch(a){return this.handleCatch(a),this.api}}}]),a}();b.default=e},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a){return a.marginTop=a.marginTop||a.margin,a.marginBottom=a.marginBottom||a.margin,a.marginRight=a.marginRight||a.margin,a.marginLeft=a.marginLeft||a.margin,a}},function(b,d,e){"use strict";function g(a){return a&&a.__esModule?a:{default:a}}function h(a){if("string"==typeof a)return j(a);if(Array.isArray(a)){for(var b=[],c=0;c<a.length;c++)b.push(h(a[c]));return b}if("undefined"!=typeof HTMLCanvasElement&&a instanceof HTMLImageElement)return i(a);if(a&&"svg"===a.nodeName||"undefined"!=typeof SVGElement&&a instanceof SVGElement)return{element:a,options:(0,f.default)(a),renderer:m.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement)return{element:a,options:(0,f.default)(a),renderer:m.default.CanvasRenderer};if(a&&a.getContext)return{element:a,renderer:m.default.CanvasRenderer};if(a&&"object"===(void 0===a?"undefined":k(a))&&!a.nodeName)return{element:a,renderer:m.default.ObjectRenderer};throw new l.InvalidElementException}function j(a){var b=document.querySelectorAll(a);if(0!==b.length){for(var c=[],d=0;d<b.length;d++)c.push(h(b[d]));return c}}function i(a){var b=document.createElement("canvas");return{element:b,options:(0,f.default)(a),renderer:m.default.CanvasRenderer,afterRender:function(){a.setAttribute("src",b.toDataURL())}}}Object.defineProperty(d,"__esModule",{value:!0});var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},a=e(45),f=g(a),c=e(47),m=g(c),l=e(8);d.default=h},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a){function b(a){if(Array.isArray(a))for(var d=0;d<a.length;d++)b(a[d]);else a.text=a.text||"",a.data=a.data||"",c.push(a)}var c=[];return b(a),c}},function(k,q,e){"use strict";function n(a){return a&&a.__esModule?a:{default:a}}function z(a,b,d){a=""+a;var e=new b(a,d);if(!e.valid())throw new u.InvalidInputException(e.constructor.name,a);var f=e.encode();f=(0,l.default)(f);for(var g=0;g<f.length;g++)f[g].options=(0,c.default)(d,f[g].options);return f}function o(){return a.default.CODE128?"CODE128":Object.keys(a.default)[0]}function A(a,b,e){b=(0,l.default)(b);for(var f=0;f<b.length;f++)b[f].options=(0,c.default)(e,b[f].options),(0,d.default)(b[f].options);(0,d.default)(e),new(0,a.renderer)(a.element,b,e).render(),a.afterRender&&a.afterRender()}var i=e(15),a=n(i),f=e(5),c=n(f),r=e(19),l=n(r),p=e(17),d=n(p),h=e(18),s=n(h),b=e(9),y=n(b),t=e(16),g=n(t),u=e(8),v=e(10),w=n(v),m=function(){},j=function(a,b,c){var d=new m;if(void 0===a)throw Error("No element to render on was provided.");return d._renderProperties=(0,s.default)(a),d._encodings=[],d._options=w.default,d._errorHandler=new g.default(d),void 0!==b&&(c=c||{},c.format||(c.format=o()),d.options(c)[c.format](b,c).render()),d};for(var x in j.getModule=function(b){return a.default[b]},a.default)a.default.hasOwnProperty(x)&&function(b,d){m.prototype[d]=m.prototype[d.toUpperCase()]=m.prototype[d.toLowerCase()]=function(e,g){var h=this;return h._errorHandler.wrapBarcodeCall(function(){g.text=void 0===g.text?void 0:""+g.text;var i=(0,c.default)(h._options,g);i=(0,y.default)(i);var j=b[d],a=z(e,j,i);return h._encodings.push(a),h})}}(a.default,x);m.prototype.options=function(a){return this._options=(0,c.default)(this._options,a),this},m.prototype.blank=function(a){var b=Array(a+1).join("0");return this._encodings.push({data:b}),this},m.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var b;for(var d in this._renderProperties){b=this._renderProperties[d];var f=(0,c.default)(this._options,b.options);"auto"==f.format&&(f.format=o()),this._errorHandler.wrapBarcodeCall(function(){var c=f.value,d=a.default[f.format.toUpperCase()],e=z(c,d,f);A(b,e,f)})}}},m.prototype.render=function(){if(!this._renderProperties)throw new u.NoElementException;if(Array.isArray(this._renderProperties))for(var a=0;a<this._renderProperties.length;a++)A(this._renderProperties[a],this._encodings,this._options);else A(this._renderProperties,this._encodings,this._options);return this},m.prototype._defaults=w.default,"undefined"!=typeof window&&(window.JsBarcode=j),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(a,b){var c=[];return jQuery(this).each(function(){c.push(this)}),j(c,a,b)}),k.exports=j},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=e(6),a=function(a){return a&&a.__esModule?a:{default:a}}(k),f=e(1),c=function(a){function b(a,c){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,f.A_START_CHAR+a,c))}return j(b,a),i(b,[{key:"valid",value:function(){return new RegExp("^"+f.A_CHARS+"+$").test(this.data)}}]),b}(a.default);d.default=c},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=e(6),a=function(a){return a&&a.__esModule?a:{default:a}}(k),f=e(1),c=function(a){function b(a,c){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,f.B_START_CHAR+a,c))}return j(b,a),i(b,[{key:"valid",value:function(){return new RegExp("^"+f.B_CHARS+"+$").test(this.data)}}]),b}(a.default);d.default=c},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=e(6),a=function(a){return a&&a.__esModule?a:{default:a}}(k),f=e(1),c=function(a){function b(a,c){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,f.C_START_CHAR+a,c))}return j(b,a),i(b,[{key:"valid",value:function(){return new RegExp("^"+f.C_CHARS+"+$").test(this.data)}}]),b}(a.default);d.default=c},function(b,d,e){"use strict";function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var k=e(6),a=g(k),f=e(25),c=g(f),m=function(a){function b(a,d){if(h(this,b),/^[\x00-\x7F\xC8-\xD3]+$/.test(a))var e=j(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,(0,c.default)(a),d));else var e=j(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d));return j(e)}return i(b,a),b}(a.default);d.default=m},function(b,c,d){"use strict";function g(b,c){var d=c?k.A_CHARS:k.B_CHARS,f=b.match(new RegExp("^("+d+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(f)return f[1]+"\xCC"+h(b.substring(f[1].length));var i=b.match(new RegExp("^"+d+"+"))[0];return i.length===b.length?b:i+j(c?205:206)+g(b.substring(i.length),!c)}function h(b){var c=a(b),d=c.length;if(d===b.length)return b;b=b.substring(d);var e=i(b)>=l(b);return c+j(e?206:205)+g(b,e)}var j=String.fromCharCode;Object.defineProperty(c,"__esModule",{value:!0});var k=d(1),i=function(a){return a.match(new RegExp("^"+k.A_CHARS+"*"))[0].length},l=function(a){return a.match(new RegExp("^"+k.B_CHARS+"*"))[0].length},a=function(a){return a.match(new RegExp("^"+k.C_CHARS+"*"))[0]};c.default=function(b){var c;if(2<=a(b).length)c=k.C_START_CHAR+h(b);else{var d=i(b)>l(b);c=(d?k.A_START_CHAR:k.B_START_CHAR)+g(b,d)}return c.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,b){return"\xCB"+b})}},function(b,d,e){"use strict";function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0}),d.CODE128C=d.CODE128B=d.CODE128A=d.CODE128=void 0;var h=e(24),j=g(h),i=e(21),k=g(i),a=e(22),f=g(a),c=e(23),m=g(c);d.CODE128=j.default,d.CODE128A=k.default,d.CODE128B=f.default,d.CODE128C=m.default},function(g,j,e){"use strict";function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a){return o(f(a))}function o(a){return r[a].toString(2)}function a(a){return h[a]}function f(a){return h.indexOf(a)}function c(a){for(var b=0,c=0;c<a.length;c++)b+=f(a[c]);return b%=43}Object.defineProperty(j,"__esModule",{value:!0}),j.CODE39=void 0;var q=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=e(0),p=function(a){return a&&a.__esModule?a:{default:a}}(l),d=function(b){function d(b,e){return k(this,d),b=b.toUpperCase(),e.mod43&&(b+=a(c(b))),m(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,b,e))}return n(d,b),q(d,[{key:"encode",value:function(){for(var a=i("*"),b=0;b<this.data.length;b++)a+=i(this.data[b])+"0";return a+=i("*"),{data:a,text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),d}(p.default),h=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],r=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];j.CODE39=d},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},a=e(2),f=e(11),c=function(a){return a&&a.__esModule?a:{default:a}}(f),m=function(a){return(10-a.substr(0,12).split("").map(function(a){return+a}).reduce(function(a,b,c){return c%2?a+3*b:a+b},0)%10)%10},l=function(b){function c(a,b){g(this,c),-1!==a.search(/^[0-9]{12}$/)&&(a+=m(a));var d=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a,b));return d.lastChar=b.lastChar,d}return j(c,b),i(c,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===m(this.data)}},{key:"leftText",value:function(){return k(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var b=this.data.substr(1,6),d=a.EAN13_STRUCTURE[this.data[0]];return k(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"leftEncode",this).call(this,b,d)}},{key:"rightText",value:function(){return k(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var a=this.data.substr(7,6);return k(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"rightEncode",this).call(this,a,"RRRRRR")}},{key:"encodeGuarded",value:function(){var a=k(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(a.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(a.push({data:"00"}),a.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),a}}]),c}(c.default);d.default=l},function(b,g,e){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(g,"__esModule",{value:!0});var m=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),a=e(2),f=e(3),c=h(f),n=e(0),l=h(n),o=function(b){function d(a,b){return j(this,d),k(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a,b))}return i(d,b),m(d,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var b=a.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,c.default)(this.data,b,"01"),text:this.text}}}]),d}(l.default);g.default=o},function(b,g,e){"use strict";function j(a){return a&&a.__esModule?a:{default:a}}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(g,"__esModule",{value:!0});var n=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),a=e(2),f=e(3),c=j(f),o=e(0),l=j(o),p=function(a){return a.split("").map(function(a){return+a}).reduce(function(a,b,c){return c%2?a+9*b:a+3*b},0)%10},d=function(b){function d(a,b){return k(this,d),m(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a,b))}return i(d,b),n(d,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var b=a.EAN5_STRUCTURE[p(this.data)];return{data:"1011"+(0,c.default)(this.data,b,"01"),text:this.text}}}]),d}(l.default);g.default=d},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},a=e(11),f=function(a){return a&&a.__esModule?a:{default:a}}(a),c=function(a){return(10-a.substr(0,7).split("").map(function(a){return+a}).reduce(function(a,b,c){return c%2?a+b:a+3*b},0)%10)%10},m=function(a){function b(a,d){return g(this,b),-1!==a.search(/^[0-9]{7}$/)&&(a+=c(a)),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d))}return j(b,a),i(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===c(this.data)}},{key:"leftText",value:function(){return k(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var a=this.data.substr(0,4);return k(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"leftEncode",this).call(this,a,"LLLL")}},{key:"rightText",value:function(){return k(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var a=this.data.substr(4,4);return k(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rightEncode",this).call(this,a,"RRRR")}}]),b}(f.default);d.default=m},function(g,j,e){"use strict";function k(a){return a&&a.__esModule?a:{default:a}}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function o(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function q(b,c){for(var e,f=parseInt(b[b.length-1]),g=d[f],h="",j=0,i=0;i<g.length;i++)e=g[i],h+="X"===e?b[j++]:e;return""+(h=""+c+h)+(0,p.checksum)(h)}Object.defineProperty(j,"__esModule",{value:!0});var a=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=e(3),c=k(f),n=e(0),l=k(n),p=e(12),d=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],h=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],r=function(b){function d(a,b){m(this,d);var c=o(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,a,b));if(c.isValid=!1,-1!==a.search(/^[0-9]{6}$/))c.middleDigits=a,c.upcA=q(a,"0"),c.text=b.text||""+c.upcA[0]+a+c.upcA[c.upcA.length-1],c.isValid=!0;else{if(-1===a.search(/^[01][0-9]{7}$/))return o(c);if(c.middleDigits=a.substring(1,a.length-1),c.upcA=q(c.middleDigits,a[0]),c.upcA[c.upcA.length-1]!==a[a.length-1])return o(c);c.isValid=!0}return c.displayValue=b.displayValue,c.fontSize=b.fontSize>10*b.width?10*b.width:b.fontSize,c.guardHeight=b.height+c.fontSize/2+b.textMargin,c}return i(d,b),a(d,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var a="";return a+="101",a+=this.encodeMiddleDigits(),a+="010101",{data:a,text:this.text}}},{key:"guardedEncoding",value:function(){var a=[];return this.displayValue&&a.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),a.push({data:"101",options:{height:this.guardHeight}}),a.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),a.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&a.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),a}},{key:"encodeMiddleDigits",value:function(){var a=this.upcA[0],b=this.upcA[this.upcA.length-1],d=h[parseInt(b)][parseInt(a)];return(0,c.default)(this.middleDigits,d)}}]),d}(l.default);j.default=r},function(b,g,e){"use strict";function j(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(g,"__esModule",{value:!0}),g.UPCE=g.UPC=g.EAN2=g.EAN5=g.EAN8=g.EAN13=void 0;var k=e(28),m=j(k),i=e(31),n=j(i),a=e(30),f=j(a),c=e(29),o=j(c),l=e(12),p=j(l),d=e(32),h=j(d);g.EAN13=m.default,g.EAN8=n.default,g.EAN5=f.default,g.EAN2=o.default,g.UPC=p.default,g.UPCE=h.default},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0}),d.GenericBarcode=void 0;var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=e(0),a=function(a){return a&&a.__esModule?a:{default:a}}(k),f=function(a){function b(a,c){return g(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return j(b,a),i(b,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),b}(a.default);d.GenericBarcode=f},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=e(13),a=function(a){return a&&a.__esModule?a:{default:a}}(k),f=function(a){var b=a.substr(0,13).split("").map(function(a){return parseInt(a,10)}).reduce(function(a,b,c){return a+b*(3-2*(c%2))},0);return 10*Math.ceil(b/10)-b},c=function(a){function b(a,c){return g(this,b),-1!==a.search(/^[0-9]{13}$/)&&(a+=f(a)),h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return j(b,a),i(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===f(this.data)}}]),b}(a.default);d.default=c},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.START_BIN="1010",b.END_BIN="11101",b.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},function(b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.ITF14=c.ITF=void 0;var f=d(13),g=e(f),h=d(35),i=e(h);c.ITF=g.default,c.ITF14=i.default},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=e(4),k=function(a){return a&&a.__esModule?a:{default:a}}(i),a=e(7),f=function(b){function c(b,d){return g(this,c),h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,b+(0,a.mod10)(b),d))}return j(c,b),c}(k.default);d.default=f},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=e(4),k=function(a){return a&&a.__esModule?a:{default:a}}(i),a=e(7),f=function(b){function c(b,d){return g(this,c),b+=(0,a.mod10)(b),b+=(0,a.mod10)(b),h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,b,d))}return j(c,b),c}(k.default);d.default=f},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=e(4),k=function(a){return a&&a.__esModule?a:{default:a}}(i),a=e(7),f=function(b){function c(b,d){return g(this,c),h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,b+(0,a.mod11)(b),d))}return j(c,b),c}(k.default);d.default=f},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0});var i=e(4),k=function(a){return a&&a.__esModule?a:{default:a}}(i),a=e(7),f=function(b){function c(b,d){return g(this,c),b+=(0,a.mod11)(b),b+=(0,a.mod10)(b),h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,b,d))}return j(c,b),c}(k.default);d.default=f},function(b,g,e){"use strict";function h(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(g,"__esModule",{value:!0}),g.MSI1110=g.MSI1010=g.MSI11=g.MSI10=g.MSI=void 0;var j=e(4),k=h(j),i=e(38),m=h(i),a=e(40),f=h(a),c=e(39),n=h(c),l=e(41),o=h(l);g.MSI=k.default,g.MSI10=m.default,g.MSI11=f.default,g.MSI1010=n.default,g.MSI1110=o.default},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0}),d.codabar=void 0;var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=e(0),a=function(a){return a&&a.__esModule?a:{default:a}}(k),f=function(a){function b(a,c){g(this,b),0===a.search(/^[0-9\-\$\:\.\+\/]+$/)&&(a="A"+a+"A");var d=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a.toUpperCase(),c));return d.text=d.options.text||d.text.replace(/[A-D]/g,""),d}return j(b,a),i(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var a=[],b=this.getEncodings(),c=0;c<this.data.length;c++)a.push(b[this.data.charAt(c)]),c!==this.data.length-1&&a.push("0");return{text:this.text,data:a.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),b}(a.default);d.codabar=f},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(d,"__esModule",{value:!0}),d.pharmacode=void 0;var i=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=e(0),a=function(a){return a&&a.__esModule?a:{default:a}}(k),f=function(a){function b(a,c){g(this,b);var d=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.number=parseInt(a,10),d}return j(b,a),i(b,[{key:"encode",value:function(){for(var a=this.number,b="";!isNaN(a)&&0!=a;)0==a%2?(b="11100"+b,a=(a-2)/2):(b="100"+b,a=(a-1)/2);return b=b.slice(0,-2),{data:b,text:this.text}}},{key:"valid",value:function(){return 3<=this.number&&131070>=this.number}}]),b}(a.default);d.pharmacode=f},function(b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var g=d(9),h=e(g),i=d(10),a=e(i);c.default=function(b){var c={};for(var d in a.default)a.default.hasOwnProperty(d)&&(b.hasAttribute("jsbarcode-"+d.toLowerCase())&&(c[d]=b.getAttribute("jsbarcode-"+d.toLowerCase())),b.hasAttribute("data-"+d.toLowerCase())&&(c[d]=b.getAttribute("data-"+d.toLowerCase())));return c.value=b.getAttribute("jsbarcode-value")||b.getAttribute("data-value"),c=(0,h.default)(c)}},function(b,c,d){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=d(5),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=d(14),a=function(){function a(b,c,d){g(this,a),this.canvas=b,this.encodings=c,this.options=d}return e(a,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var a,b=0;b<this.encodings.length;b++)a=(0,i.default)(this.options,this.encodings[b].options),this.drawCanvasBarcode(a,this.encodings[b]),this.drawCanvasText(a,this.encodings[b]),this.moveCanvasDrawing(this.encodings[b]);this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var a=this.canvas.getContext("2d");a.save(),(0,j.calculateEncodingAttributes)(this.encodings,this.options,a);var b=(0,j.getTotalWidthOfEncodings)(this.encodings),c=(0,j.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=b+this.options.marginLeft+this.options.marginRight,this.canvas.height=c,a.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(a.fillStyle=this.options.background,a.fillRect(0,0,this.canvas.width,this.canvas.height)),a.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(a,b){var c,d=this.canvas.getContext("2d"),e=b.data;c="top"==a.textPosition?a.marginTop+a.fontSize+a.textMargin:a.marginTop,d.fillStyle=a.lineColor;for(var f,g=0;g<e.length;g++)f=g*a.width+b.barcodePadding,"1"===e[g]?d.fillRect(f,c,a.width,a.height):e[g]&&d.fillRect(f,c,a.width,a.height*e[g])}},{key:"drawCanvasText",value:function(a,b){var c=this.canvas.getContext("2d"),d=a.fontOptions+" "+a.fontSize+"px "+a.font;if(a.displayValue){var e,f;f="top"==a.textPosition?a.marginTop+a.fontSize-a.textMargin:a.height+a.textMargin+a.marginTop+a.fontSize,c.font=d,"left"==a.textAlign||0<b.barcodePadding?(e=0,c.textAlign="left"):"right"==a.textAlign?(e=b.width-1,c.textAlign="right"):(e=b.width/2,c.textAlign="center"),c.fillText(b.text,e,f)}}},{key:"moveCanvasDrawing",value:function(a){this.canvas.getContext("2d").translate(a.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),a}();c.default=a},function(b,d,e){"use strict";function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(d,"__esModule",{value:!0});var h=e(46),j=g(h),i=e(49),k=g(i),a=e(48),f=g(a);d.default={CanvasRenderer:j.default,SVGRenderer:k.default,ObjectRenderer:f.default}},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d,e){c(this,a),this.object=b,this.encodings=d,this.options=e}return d(a,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),a}();b.default=e},function(b,d,e){"use strict";function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(d,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=e(5),i=function(a){return a&&a.__esModule?a:{default:a}}(j),k=e(14),a="http://www.w3.org/2000/svg",f=function(){function b(a,c,d){g(this,b),this.svg=a,this.encodings=c,this.options=d,this.document=d.xmlDocument||document}return h(b,[{key:"render",value:function(){var a=this.options.marginLeft;this.prepareSVG();for(var b=0;b<this.encodings.length;b++){var c=this.encodings[b],d=(0,i.default)(this.options,c.options),e=this.createGroup(a,d.marginTop,this.svg);this.setGroupOptions(e,d),this.drawSvgBarcode(e,d,c),this.drawSVGText(e,d,c),a+=c.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,k.calculateEncodingAttributes)(this.encodings,this.options);var a=(0,k.getTotalWidthOfEncodings)(this.encodings),b=(0,k.getMaximumHeightOfEncodings)(this.encodings),c=a+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(c,b),this.options.background&&this.drawRect(0,0,c,b,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(b,c,d){var e,f=d.data;e="top"==c.textPosition?c.fontSize+c.textMargin:0;for(var g=0,h=0,i=0;i<f.length;i++)h=i*c.width+d.barcodePadding,"1"===f[i]?g++:0<g&&(this.drawRect(h-c.width*g,e,c.width*g,c.height,b),g=0);0<g&&this.drawRect(h-c.width*(g-1),e,c.width*g,c.height,b)}},{key:"drawSVGText",value:function(b,c,d){var e=this.document.createElementNS(a,"text");if(c.displayValue){var f,g;e.setAttribute("style","font:"+c.fontOptions+" "+c.fontSize+"px "+c.font),g="top"==c.textPosition?c.fontSize-c.textMargin:c.height+c.textMargin+c.fontSize,"left"==c.textAlign||0<d.barcodePadding?(f=0,e.setAttribute("text-anchor","start")):"right"==c.textAlign?(f=d.width-1,e.setAttribute("text-anchor","end")):(f=d.width/2,e.setAttribute("text-anchor","middle")),e.setAttribute("x",f),e.setAttribute("y",g),e.appendChild(this.document.createTextNode(d.text)),b.appendChild(e)}}},{key:"setSvgAttributes",value:function(b,c){var d=this.svg;d.setAttribute("width",b+"px"),d.setAttribute("height",c+"px"),d.setAttribute("x","0px"),d.setAttribute("y","0px"),d.setAttribute("viewBox","0 0 "+b+" "+c),d.setAttribute("xmlns",a),d.setAttribute("version","1.1"),d.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(b,c,d){var e=this.document.createElementNS(a,"g");return e.setAttribute("transform","translate("+b+", "+c+")"),d.appendChild(e),e}},{key:"setGroupOptions",value:function(a,b){a.setAttribute("style","fill:"+b.lineColor+";")}},{key:"drawRect",value:function(b,c,d,e,f){var g=this.document.createElementNS(a,"rect");return g.setAttribute("x",b),g.setAttribute("y",c),g.setAttribute("width",d),g.setAttribute("height",e),f.appendChild(g),g}}]),b}();d.default=f}]);
var configRmsWebCall='http://rms.swiggy.in/';
angular.module('ordersApp',['angular-svg-round-progressbar','angular-duration-format']),angular.module('ordersApp').config(['$httpProvider',function(e){e.interceptors.push(['$rootScope','$q',function(e,r){var t=0;return{request:function(s){return s.timeout=15000,s.config&&s.config.silent||(t++,e.$broadcast('httpRequestsInProgress')),s.start=new Date().getTime(),s||r.when(s)},requestError:function(s){return s.config&&s.config.config&&s.config.config.silent||(t--,0==t&&e.$broadcast('httpRequestsCompleted')),r.reject(s)},response:function(s){return s.config&&s.config.config&&s.config.config.silent||(t--,0==t&&e.$broadcast('httpRequestsCompleted')),s.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+s.end-+s.config.start)/1e3,ep:s.config.url,rc:s.status,sc:s.data.statusCode,md:s.config.method,pn:globals.menu}),s||r.when(s)},responseError:function(s){return s.config&&s.config.config&&s.config.config.silent||(t--,0==t&&e.$broadcast('httpRequestsCompleted')),s.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+s.end-+s.config.start)/1e3,ep:s.config.url,rc:s.status,sc:-999,md:s.config.method,pn:globals.menu}),r.reject(s)}}}])}]),angular.module('ordersApp').controller('ordersAppController',['$rootScope','$scope','$http','$window','thirtyMinsService','prepTimeService',function(e,r,t,s,o,n){r.isThirtyMfFeatureFlagOn=globals.userInfoDataParam.isThirtyMfEnabled,r.stopPropagation=function(){event.stopPropagation()},r.goToPrepTimePage=function(e,t){if('singleoutlet'==e.toLowerCase()){var s=r.thirtyMinsCentralObj[0]?r.thirtyMinsCentralObj[0].restaurantId:'';window.location.href='/restaurant-info/restaurant/'+s+'/prep-time'}else if('multioutlet'==e.toLowerCase()){var s=t.restaurantId;window.location.href='/restaurant-info/restaurant/'+s+'/prep-time'}},r.toggleThityMinsStatus=function(t,s,i){if('singleoutlet'==t.toLowerCase()){var n=r.thirtyMinsCentralObj[0]?r.thirtyMinsCentralObj[0].restaurantId:'',d=r.thirtyMinsCentralObj[0]?r.thirtyMinsCentralObj[0].thirtyMinsStatus:'',a=!d,l=1;e.ordersAppTrack('assured_toggle',a,n,a,'orders-page',l,'click'),o.toggleStatus(n,a).then(function(){r.thirtyMinsCentralObj[0].thirtyMinsStatus=a,r.checkGlobalThirtyMinsStatus()},function(e){console.warn(e)})}else if('multioutlet'==t.toLowerCase()){var n=s.restaurantId,d=s.thirtyMinsStatus,a=!d,l=i+1;e.ordersAppTrack('assured_toggle',a,n,a,'orders-page',l,'click'),o.toggleStatus(n,a).then(function(){s.thirtyMinsStatus=a,r.checkGlobalThirtyMinsStatus()},function(e){console.warn(e)})}},r.checkGlobalThirtyMinsStatus=function(){r.globalThirtyMinsStatus=!1,r.activeRestaurantCount=0,r.totalRestaurantCount=r.thirtyMinsCentralObj.length?r.thirtyMinsCentralObj.length:0;for(var e=0;e<r.thirtyMinsCentralObj.length;e++)r.thirtyMinsCentralObj[e].thirtyMinsStatus&&r.activeRestaurantCount++;r.activeRestaurantCount&&(r.globalThirtyMinsStatus=!0)},r.initThirtyMinsFlow=function(){angular.element(document).ready(function(){angular.element('#thirty-mins-dropdown').bind('shown.bs.dropdown',function(){var t=r.thirtyMinsCentralObj.map(function(e){return e.restaurantId});e.ordersAppTrack('assured_toggle_dropdown','open',t,null,'orders-page',null,'click')}),angular.element('#thirty-mins-dropdown').bind('hidden.bs.dropdown',function(){var t=r.thirtyMinsCentralObj.map(function(e){return e.restaurantId});e.ordersAppTrack('assured_toggle_dropdown','close',t,null,'orders-page',null,'click')})});var t=globals.userInfoDataParam.outlets,s=t?t.length:0;r.isMultiOutletSupport=!!(1<s);for(var d=[],a={},l={},p=0;p<s;p++)t[p].assured&&(d.push(t[p].rest_rid),a[t[p].rest_rid]=t[p].rest_name);r.isThirtyMinsSupport=d.length,r.isThirtyMinsSupport&&n.getAllPrepTimes(d).then(function(t){r.thirtyMinsCentralObj=t.data&&t.data.map(function(e){var r=e.restaurantId,t=e.prepTimes.filter(function(e){return!('THIRTYMF'!=e.type.toUpperCase())&&e}),s=a[r];return{restaurantId:r,thirtyMinsPrepTimeObj:t.length?t[0]:{},restaurantName:s}}),r.thirtyMinsCentralObj=r.thirtyMinsCentralObj?r.thirtyMinsCentralObj:[],o.getStatus(d).then(function(t){t.data&&t.data.forEach(function(e){l[e.restaurantId]=e.isOpen}),e.thirtMinsRestPrepTimeMapping=angular.copy(r.thirtyMinsCentralObj),r.thirtyMinsCentralObj.forEach(function(e){e.thirtyMinsStatus=!(l[e.restaurantId]!=void 0)||l[e.restaurantId]}),r.checkGlobalThirtyMinsStatus(),e.$emit('apiUpdatedAssuredPrepTimes')},function(e){console.warn(e)})},function(e){console.warn(e)})},r.toggleItem=function(e){for(var r=angular.element('#thirty-mins-menu-list')?angular.element('#thirty-mins-menu-list').children():[],t=r[e+2],s=r.filter(function(r){return 0==r||1==r?!1:r!=e+2}),o=0;o<s.length;o++){angular.element(s[o]).removeClass('active-restaurant');var i=angular.element(s[o]).children()?angular.element(s[o]).children()[1]:'';angular.element(i).removeClass('display-block'),angular.element(i).addClass('display-none')}if(angular.element(t).hasClass('active-restaurant')){var i=angular.element(t).children()?angular.element(t).children()[1]:'';angular.element(i).removeClass('display-block'),angular.element(i).addClass('display-none')}else{var i=angular.element(t).children()?angular.element(t).children()[1]:'';angular.element(i).removeClass('display-none'),angular.element(i).addClass('display-block')}angular.element(t).toggleClass('active-restaurant')},r.initThirtyMinsFlow()}]),angular.module('ordersApp').run(['$rootScope','$http','$window','$timeout','prepTimeService','orderService','popupService','$compile','menuService','$q','$interval','deService','notificationService','swiggyPOPFactory','$cookies','$httpParamSerializer','fcmService','$filter','thirtyMinsService','orderUtils',function(e,r,t,s,o,i,n,d,a,l,p,c,u,g,m,h,f,_,T,O){e.$on('httpRequestsInProgress',function(){e.showPageLoading=!0}),e.$on('httpRequestsCompleted',function(){e.showPageLoading=!1}),e.appTrack||(e.appTrack=function(e){try{window._vmsTracker_queue=window._vmsTracker_queue||[],window._vmsTracker_queue.push(e)}catch(e){console.error('Error doing appTrack : ',e)}}),e.ordersAppTrack=function(){var r=arguments[4]||'order-page',t=arguments[6]||'click';switch(arguments[4]){case'menu':r='menu-details-page';break;case'outofStockItems':r='menu-oos-page';}var s={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":r,"object-position":arguments[5],eventType:t}};e.appTrack(s)},e.complianceBannerTrack=function(){var r=arguments[4]||'compliance-banner',t=arguments[6]||'click',s={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":r,"object-position":arguments[5],eventType:t}};e.appTrack(s)},e.complianceOutletChooserTrack=function(){var r=arguments[4]||'choose-compliance-outlet',t=arguments[6]||'click',s={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":r,"object-position":arguments[5],eventType:t}};e.appTrack(s)},e.complianceBlockerTrack=function(){var r=arguments[4]||'compliance-alert',t=arguments[6]||'click',s={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":r,"object-position":arguments[5],eventType:t}};e.appTrack(s)};var b=function(e,r){this.name=e,this.type='localStorage',r&&'sessionStorage'===r&&(this.type='sessionStorage')};b.prototype.get=function(){return'localStorage'===this.type?localStorage.getItem(this.name):'sessionStorage'===this.type?sessionStorage.getItem(this.name):void 0},b.prototype.set=function(e){'localStorage'===this.type&&localStorage.setItem(this.name,JSON.stringify(e)),'sessionStorage'===this.type&&sessionStorage.setItem(this.name,JSON.stringify(e))},b.prototype.delete=function(){'localStorage'===this.type&&localStorage.removeItem(this.name),'sessionStorage'===this.type&&sessionStorage.removeItem(this.name)},e.store={},e.store.config=new b('config'),e.store.outlets=new b('Swiggy_outlets'),e.store.outlet=new b('choosen_outlet'),e.store.history=new b('history'),e.store.user=new b('Swiggy_user'),e.store.role=new b('Swiggy_role'),e.store.permissions=new b('Swiggy_perms'),e.store.fcm=new b('fcm'),e.globalsMenu=globals.menu,e.userIdleTimer=null;var y=e.store.config.get(),k=e.store.outlets.get(),w=e.store.outlet.get(),v=e.store.history.get(),S=e.store.user.get(),x=e.store.role.get(),P=e.store.permissions.get();k||(k=JSON.stringify(globals.userInfoDataParam.outlets),e.store.outlets.set(globals.userInfoDataParam.outlets)),S||e.store.user.set(globals.userInfoDataParam.user_id),x||(x=globals.userInfoDataParam.role_id,e.store.role.set(globals.userInfoDataParam.role_id)),P||(P=globals.userInfoDataParam.permissions,e.store.permissions.set(globals.userInfoDataParam.permissions));var C=m.get('hard_reload');if(C&&(m.remove('hard_reload',{path:'/'}),location.reload(!0)),-1===t.location.href.toString().indexOf('/menu')&&m.remove('hide_pending_tickets_alert',{path:'/'}),e.globals={},e.globals.orderSound=document.getElementById('order-sound'),e.globals.cancelOrderSound=document.getElementById('cancel-sound'),e.globals.thirtymfSound=document.getElementById('thirtymf-sound'),e.globals.assuredDeArrivedSound=document.getElementById('de-arrived-thirtymf-sound'),e.globals.mfrSuccessSound=document.getElementById('mfr-success-sound'),e.globals.mfrFailSound=document.getElementById('mfr-fail-sound'),e.globals.orderSound.volume=1,e.globals.newOrders=0,e.globals.numPolls=0,e.globals.lastPollTime=null,e.globals.switches={},e.globals.switches.toggleOutletsSearch=!1,e.globals.switches.chooseOutletSearch=!1,e.globals.broadcastMessages=[],e.indexing={},e.clone={},e.firebase={},e.clockDrift=0,e.toggleSwitch=function(r){e.globals.switches[r]=!e.globals.switches[r]},null!==y&&0<y.length)try{y=JSON.parse(y),e.globals.config=y}catch(r){console.error('error parsing config: ',r)}if(!e.globals.config){var I=!1;try{'string'==typeof P&&(P=JSON.parse(P)),P instanceof Array&&-1<P.indexOf(1)&&(I=!0)}catch(r){console.error('Error parsing permissions: ',r)}I&&1===+x&&(I=!1),y={orders:{polling:I,maxPrepTime:30,minPrepTime:1}},e.globals.config=y,e.store.config.set(y),localStorage.setItem('stopOrderNotification',!y.orders.polling)}if(m.get('polling')&&(y.orders.polling=JSON.parse(m.get('polling')),m.remove('polling',{path:'/'}),e.globals.config=y,e.store.config.set(y),localStorage.setItem('stopOrderNotification',!y.orders.polling)),y.orders.maxPrepTime&&y.orders.minPrepTime||(y.orders.maxPrepTime=30,y.orders.minPrepTime=1,e.globals.config=y,e.store.config.set(y)),e.setPrepTimeStatus=function(r){var t=m.get('Swiggy_Session-user');m.put(t+'_prep_time_status',r,{path:'/'}),e.globals.switches.prepTimeNotification=r},null!==v&&0<v.length)try{v=JSON.parse(v),e.globals.history=v}catch(r){console.error('error parsing pastEvents: ',r)}if(e.globals.history||(v={orders:{relayed:[],cancelled:[],deArrived:[]}},e.globals.history=v,e.store.history.set(v)),v.orders.relayed&&(!v.orders.relayed||Array.isArray(v.orders.relayed))||(v.orders.relayed=[],e.globals.history=v,e.store.history.set(v)),v.orders.cancelled&&(!v.orders.cancelled||Array.isArray(v.orders.cancelled))||(v.orders.cancelled=[],e.globals.history=v,e.store.history.set(v)),v.orders.deArrived&&(!v.orders.deArrived||Array.isArray(v.orders.deArrived))||(v.orders.deArrived=[],e.globals.history=v,e.store.history.set(v)),null!==k&&0<k.length)try{k=JSON.parse(k);var M=[],A=[],D={},R={};R.outlets=[],R.openOutlets=[],R.pollingOutlets=[];for(var L,j=0;j<k.length;j++)L=k[j],R.outlets.push(L.rest_rid),L.isOpen=!0,M.push(L),R.openOutlets.push(L.rest_rid),L.isPolling=!0,A.push(L),R.pollingOutlets.push(L.rest_rid),D[L.rest_city_id]?D[L.rest_city_id].outlets.push(L):D[L.rest_city_id]={name:L.rest_city,outlets:[L]};e.globals.cities=D,e.globals.outlets=k,e.globals.openOutlets=M,e.globals.pollingOutlets=A,e.indexing.outlets=R.outlets,e.indexing.openOutlets=R.openOutlets,e.indexing.pollingOutlets=R.pollingOutlets}catch(r){console.error('Error in all outlets loop: ',r)}if(null!==w&&0<w.length)try{var L=JSON.parse(w),j=e.indexing.outlets.indexOf(L.rest_rid);if(-1<j){if(0<globals.params.length){var B=JSON.parse(globals.params),E=+B.restaurant_id;E&&(j=e.indexing.outlets.indexOf(E),-1===j?L={rest_rid:E}:L.rest_rid!==E&&(L=angular.copy(e.globals.outlets[j]))),B.restaurant_id=L.rest_rid,globals.params=JSON.stringify(B)}e.chainOutletObject=[L],e.globals.choosenOutlet=L,L.rest_name&&e.store.outlet.set(L)}}catch(r){console.error('error setting up rootScope globals Choosen outlet: ',r)}if(!e.globals.choosenOutlet){var L=angular.copy(k[0]);if(0<globals.params.length){var B=JSON.parse(globals.params),E=+B.restaurant_id;if(E){var j=e.indexing.outlets.indexOf(E);-1===j?L={rest_rid:E}:L.rest_rid!==E&&(L=angular.copy(e.globals.outlets[j]))}}e.chainOutletObject=[L],e.globals.choosenOutlet=L,L.rest_name&&e.store.outlet.set(L)}if(1<e.globals.outlets.length){var $=e.globals.choosenOutlet.rest_rid,j=e.indexing.outlets.indexOf($);-1<j&&(e.indexing.outlets.splice(j,1),e.globals.outlets.splice(j,1),e.globals.outlets.unshift(e.globals.choosenOutlet),e.indexing.outlets.unshift(e.globals.choosenOutlet.rest_rid))}e.startUserIdleTimer=function(){e.userIdleTimer=s(function(){var r=localStorage.getItem('idle_time');if(!r)r=14;else if(r=parseInt(r)+14,42===r){var t=e.globals.pollingOutlets.map(function(e){return e.rest_rid}),s=localStorage.getItem('last_poll_time_'+e.store.user.get());s&&(s=new Date(s)),e.ordersAppTrack('order_poll_idle_time',t,null,s,null,null,'impression')}42>r?localStorage.setItem('idle_time',r):localStorage.removeItem('idle_time'),window.location.href='/orders'},8.4e5)},e.resetUserIdleTimer=function(){e.userIdleTimer&&(s.cancel(e.userIdleTimer),localStorage.removeItem('idle_time')),s(function(){e.userIdleTimer=null,e.startUserIdleTimer()},0)},e.changeOutlet=function(r){e.store.outlet.set(r),e.ordersAppTrack('change_outlet_choose_outlet_click',r.rest_rid,null,r.rest_rid,'menu'),s(function(){var e=t.location.href;e=e.replace(/restaurant\/\d+/,'restaurant/'+r.rest_rid),t.location.href=e},0)},e.addComplianceInfoClicked=function(){e.openComplianceBlocker(!1);var r=e.getAllRestIds();if(e.complianceBlockerTrack('add-info','COMPLIANCE',null,r.join(','),null,null,'click'),1===e.globals.outlets.length)s(function(){var r=e.globals.choosenOutlet;location.href=e.gstBlockerEligible?'/restaurant-info/restaurant/'+r.rest_rid+'/gst':'/restaurant-info/restaurant/'+r.rest_rid+'/fssai'},0);else{e.showOutletSwitcherPopup=!0;var t=e.getUserType(),r=e.getAllRestIds();e.complianceOutletChooserTrack('view-outlet-screen','default',t,r.join(','),null,null,'impression')}},e.switchToTabAndChangeOutlet=function(r,t){e.showOutletSwitcherPopup=!1;var o=e.getUserType(),i=e.getAllRestIds();e.complianceOutletChooserTrack('select-outlet',r.rest_rid,o,i.join(','),null,t,'click'),s(function(){e.gstBlockerEligible?location.href='/restaurant-info/restaurant/'+r.rest_rid+'/gst':e.fssaiBlockerEligible&&(location.href='/restaurant-info/restaurant/'+r.rest_rid+'/fssai')},200)},e.getPrepTimes=function(){var r=e.globals.outlets.map(function(e){return e.rest_rid});o.getAll(r).then(function(r){var t=m.get('Swiggy_Session-user'),s=m.get(t+'_prep_time_status'),o=m.get(t+'_prep_time_blocker_status');if(s||(s=2),s=parseInt(s),1<s&&!1===r&&(s=2),!0===r&&(s=3),m.put(t+'_prep_time_status',s,{path:'/'}),e.globals.switches.prepTimeNotification=s,2===s&&!o){var i=new Date;i.setDate(i.getDate()+1),i=new Date(i),m.put(t+'_prep_time_blocker_status',!0,{path:'/',expires:i}),n.showAlert('',d('<prep-time-blocker-popup-info />')(e),{customClass:'prep-time-blocker-popup',showConfirmButton:!1,showCancelButton:!1,showCloseButton:!0,allowOutsideClick:!1})}},function(){})},e.getBroadcastMessages=function(){var r=k[0];u.getBroadcastMessages(r.rest_rid).then(function(r){'1'===r.enabled&&e.globals.broadcastMessages.push(r)},function(){})},e.orders={},e.orders.indexing={},e.orders.all=[],e.orders.indexing.all=[],e.orders.new=[],e.orders.indexing.new=[],e.orders.preparing=[],e.orders.indexing.preparing=[],e.orders.ready=[],e.orders.indexing.ready=[],e.orders.delivered=[],e.orders.indexing.delivered=[],e.orders.pending=[],e.orders.indexing.pending=[],e.orders.cancelled=[],e.orders.indexing.cancelled=[],e.choosenOrder={},e.choosenOrder.new={},e.choosenOrder.preparing={},e.choosenOrder.ready={},e.choosenOrder.more={},e.choosenOrder.switches={},e.choosenOrder.switches.new={},e.choosenOrder.switches.preparing={},e.choosenOrder.switches.ready={},e.choosenOrder.switches.more={},e.choosenOrder.switches.new.deTracking=!1,e.choosenOrder.switches.preparing.deTracking=!1,e.choosenOrder.switches.ready.deTracking=!1,e.choosenOrder.switches.more.deTracking=!1,e.choosenOrder.timers={},e.choosenOrder.timers.new={},e.choosenOrder.timers.preparing={},e.choosenOrder.timers.ready={},e.choosenOrder.timers.more={},e.choosenOrder.timers.new.deTracking=0,e.choosenOrder.timers.preparing.deTracking=0,e.choosenOrder.timers.ready.deTracking=0,e.choosenOrder.timers.more.deTracking=0,e.choosenOrdersTab='new',e.recentOrder={},e.recentOrder.confirmed={},e.recentOrder.markedReady={},e.recentOrder.markedPending={},e.recentOrder.timer={},e.defaultThirtymfPrepTime=15,e.thirtMinsRestPrepTimeMapping=[],e.setChoosenOrdersTab=function(r){s(function(){e.choosenOrdersTab=r,'new'===r?(e.startTrackingDeTime(e.orders.new),e.selectTopOrder('new'),e.ordersAppTrack('order_new_tab_click',null,null,null,null,'click')):'preparing'===r?(e.startTrackingDeTime(e.orders.preparing),e.selectTopOrder('preparing'),e.ordersAppTrack('order_preparing_tab_click',null,null,null,null,'click')):'ready'===r?(e.startTrackingDeTime(e.orders.ready),e.selectTopOrder('ready'),e.ordersAppTrack('order_ready_tab_click',null,null,null,null,'click')):'more'===r?(e.startTrackingDeTime(e.orders.pending),e.selectTopOrder('more'),e.ordersAppTrack('order_more_tab_click',null,null,null,null,'click')):console.warn('unexpected tab in choosenOrdersTab : ',r)},0)},e.navigateToPastOrders=function(r){if(r&&r.length){var t=r.map(function(e){return e.order_id});e.ordersAppTrack('cancel_order_button_click',t.join(','),null,null,null,null,'click')}s(function(){window.location.href='/orders/past'},0)},e.navigatetoTab=function(e){'new'===e?s(function(){angular.element('a[href="#new"]').click()},0):'preparing'===e?s(function(){angular.element('#preparing').find('.order-previews').mCustomScrollbar('scrollTo','-999999px'),angular.element('a[href="#preparing"]').click()},0):'ready'===e?s(function(){angular.element('#ready').find('.order-previews').mCustomScrollbar('scrollTo','-999999px'),angular.element('a[href="#ready"]').click()},0):'more'===e?s(function(){angular.element('a[href="#more"]').click()},0):console.warn('unexpected tab in navigateToTab : ',e)},e.segregateOrders=function(r){var o=Math.round,i=function(r){var t=e.indexing.openOutlets.indexOf(r);return-1<t?e.globals.openOutlets[t]:null},n=function(r){var t=e.indexing.outlets.indexOf(r);return e.globals.outlets[t]},d=function(r){e.$apply(function(){var t=e.indexing.openOutlets.indexOf(r.rest_rid);-1<t&&(e.globals.openOutlets.splice(t,1),e.indexing.openOutlets.splice(t,1)),r.isOpen=!1,e.store.outlets.set(e.globals.outlets)})},a=function(r){e.$apply(function(){e.globals.openOutlets.push(r),e.indexing.openOutlets.push(r.rest_rid),r.isOpen=!0,e.store.outlets.set(e.globals.outlets)})},l=function(e){if(('ready'===e.tag||'delivered'===e.tag)&&e.prepTime&&e.prepTime.timeTookSinceOrderedInSecs){var r=e.prepTime.timeTookSinceOrderedInSecs,t=e.status.food_prep_time;e.is_assured&&(t=e.assured_prep_time),e.isFoodPreparedByPrepTime=!(r>60*t)}},p=function(e){e.coupon_discount=0>=e.discount?0:o(10*e.discount)/10,e.discount=0>=e.restaurant_trade_discount?0:o(10*e.restaurant_trade_discount)/10,e.bill-=e.discount,e.bill=0>=e.bill?0:o(10*e.bill)/10,e.gst=0>=e.gst?0:o(10*e.gst)/10},c=function(e){if(e.status.food_prep_time&&(e.prepTime={total:e.status.food_prep_time}),'preparing'===e.tag&&e.prepTime){var r=moment.duration(moment.utc(e.current_time).valueOf(),'milliseconds').asMinutes(),t=moment.duration(moment.utc(e.status.placed_time).valueOf(),'milliseconds').asMinutes(),s=e.prepTime.total-(r-t);e.prepTime.timeLeft=0<s?parseInt(s):0}},u=function(e){var r=moment.duration(moment.utc(e.status.ordered_time).valueOf(),'milliseconds').asMinutes();if('ready'===e.tag||'delivered'===e.tag){var t=moment.duration(moment.utc(e.status.placed_time).valueOf(),'milliseconds').asMinutes();return e.confirm_time=parseInt(t-r),void(0===e.confirm_time&&(e.confirm_time=1))}if('cancelled'===e.tag&&e.status.placed_time){var t=moment.duration(moment.utc(e.status.placed_time).valueOf(),'milliseconds').asMinutes();e.confirm_time=parseInt(t-r),0===e.confirm_time&&(e.confirm_time=1),e.status.food_prep_time&&(e.prepTime={},e.prepTime.total=e.status.food_prep_time)}},g=function(e){if(('ready'===e.tag||'delivered'===e.tag)&&e.vendorData&&e.vendorData.foodPreparedTime){var r=moment.duration(moment.utc(e.status.placed_time).valueOf(),'milliseconds').asMinutes(),t=moment.duration(moment.utc(e.vendorData.foodPreparedTime).valueOf(),'milliseconds').asMinutes(),s=moment.duration(moment.utc(e.status.ordered_time).valueOf(),'milliseconds').asMinutes(),o=moment.duration(moment.utc(e.vendorData.foodPreparedTime).valueOf(),'milliseconds').asSeconds(),i=moment.duration(moment.utc(e.status.ordered_time).valueOf(),'milliseconds').asSeconds();e.prepTime={},e.prepTime.timeTook=parseInt(t-r),e.prepTime.timeTookSinceOrdered=parseInt(t-s),e.prepTime.timeTookSinceOrderedInSecs=parseInt(o-i),0===e.prepTime.timeTook&&(e.prepTime.timeTook=1),(0===e.prepTime.timeTookSinceOrdered||0===e.prepTime.timeTookSinceOrderedInSecs)&&(e.prepTime.timeTookSinceOrdered=1,e.prepTime.timeTookSinceOrderedInSecs=60)}},m=function(r){if('cancelled'===r.tag){var t=e.globals.history;if(-1===t.orders.cancelled.indexOf(r.order_id))return t.orders.cancelled.push(r.order_id),e.store.history.set(t),!0}return!1},h=function(r){var t=e.globals.history;return-1===t.orders.deArrived.indexOf(r.order_id)&&(t.orders.deArrived.push(r.order_id),e.store.history.set(t),!0)},f=function(r){if('new'===r.tag){var t=e.globals.history;if(-1===t.orders.relayed.indexOf(r.order_id))return t.orders.relayed.push(r.order_id),e.store.history.set(t),!0}return!1},_=function(r){if('new'!==r.tag){var t=e.globals.history,s=t.orders.relayed.indexOf(r.order_id);if(-1<s)return t.orders.relayed.splice(s,1),e.store.history.set(t),!0}return!1},T=function(r){var t=r.status.delivery_status.toLowerCase();-1<['confirmed','arrived','pickedup','reached','delivered'].indexOf(t)?'confirmed'===t?'assigned'!==r.delivery_boy.status&&(r.delivery_boy.status='assigned',O.onDeliveryConfirmed(r)):'arrived'===t?'arrived'!==r.delivery_boy.status&&(r.delivery_boy.status='arrived',r.delivery_boy.timeLeft=0,!0===r.is_assured&&!0===h(r)&&e.globals.assuredDeArrivedSound&&e.globals.assuredDeArrivedSound.play(),O.onDeliveryArrived(r)):'pickedup'===t||'reached'===t||'delivered'===t?'picked up'!==r.delivery_boy.status&&(r.delivery_boy.status='picked up',r.delivery_boy.timeLeft=0,O.onDeliveryPickedupAndLater(r)):console.warn('unexpected status in checkDeStatus: ',t):(r.delivery_boy.name=null,r.delivery_boy.mobile=null,r.delivery_boy.status=null),O.updateDeliveryVisibilityFlags(r)},b=function(r,t){var o=r.tag;switch(o){case'new':case'preparing':case'ready':case'pending':case'delivered':case'cancelled':var i=e.orders.indexing[o].indexOf(r.order_id);-1<i&&(e.orders.indexing[o].splice(i,1),e.orders[o].splice(i,1)),'new'===o||'preparing'===o||'ready'===o?(e.choosenOrder[o].order_id===r.order_id&&(e.choosenOrder[o]={},('new'===o||'preparing'===o)&&e.$emit('close-item-alternatives-popup'),e.choosenOrder.switches[o].deTracking=!1,e.choosenOrder.timers[o].deTracking&&s.cancel(e.choosenOrder.timers[o].deTracking)),t()):'pending'===o||'delivered'===o||'cancelled'===o?(e.choosenOrder.more.order_id===r.order_id&&(e.choosenOrder.more={},e.choosenOrder.switches.more.deTracking=!1,'pending'===o&&e.choosenOrder.timers.more.deTracking&&s.cancel(e.choosenOrder.timers.more.deTracking)),t()):void 0;break;default:console.warn('unexpected tag in removeFromOrders: ',o);}},y=function(r){'cancelled'===r.tag&&!0===m(r)&&(e.ordersAppTrack('cancel_order_button_shown',r.order_id,null,null,null,null,'impression'),e.globals.cancelOrderSound&&e.globals.cancelOrderSound.play())},k=function(r,t,s){e.newOrdersInTheCurrentPoll=[],e.$apply(function(){var i=e.orders.indexing.all.indexOf(s.order_id);if(p(s),c(s),u(s),g(s),_(s),T(s),l(s),-1===i?(e.orders.indexing.all.push(s.order_id),e.orders.all.push(s),!0===f(s)&&(e.globals.newOrders+=1,!0===s.is_assured&&(e.globals.newAssuredOrders+=1),e.newOrdersInTheCurrentPoll.push(s))):s.tag!==e.orders.all[i].tag&&(!0===f(s)&&(e.globals.newOrders+=1,!0===s.is_assured&&(e.globals.newAssuredOrders+=1),e.newOrdersInTheCurrentPoll.push(s)),b(e.orders.all[i],function(){e.orders.all[i]=s})),i=t.indexOf(s.order_id),-1===i){var n=s.order_id.toString(),d=n.length;4<d?(s.number_last=n.substring(d-4,d),s.number_first=n):(s.number_first='',s.number_last=n),s.unavailable_item={},s.unavailable_items=[],s.changed_items=[],s.indexing={},s.indexing.unavailable_items=[],s.indexing.changed_items=[],s.orderDetailsSidebar=!1,s.time=moment.utc(s.status.ordered_time).format('DD MMM YYYY hh:mm A'),s.ordered_time=moment.utc(s.status.ordered_time).format('hh:mm A'),s.status.placed_time&&(s.placed_time=moment.utc(s.status.placed_time).format('hh:mm A')),s.status.delivered_time&&(s.delivered_time=moment(s.status.delivered_time),s.delivered_time=moment(s.delivered_time).format('hh:mm A')),s.status.pickedup_time&&(s.with_de_time=moment(s.status.pickedup_time),s.with_de_time=moment(s.with_de_time).format('hh:mm A')),s.status.cancelled_time&&(s.cancelled_time=moment(s.status.cancelled_time).add(5,'hours').add(30,'minutes'),s.cancelled_time=moment(s.cancelled_time).format('hh:mm A'));for(var a,m=0,h=0;h<s.cart.items.length;h++)a=s.cart.items[h],a.alternatives=[],a.indexing={},a.indexing.alternatives=[],a.user_marked_oos=!1,a.is_veg=parseInt(a.is_veg),a.id||(a.id=s.order_id.toString()+'_'+h),a.is_oos?(a.is_oos=!0,s.indexing.unavailable_items.unshift(a.item_id),s.unavailable_items.unshift(a)):a.is_oos=!1,m+=a.sub_total;s.sub_total=0>=m?0:o(10*m)/10,'new'===s.tag||'preparing'===s.tag||'ready'===s.tag?(r.push(s),t.push(s.order_id)):(r.unshift(s),t.unshift(s.order_id)),y(s)}else{for(var O in s)if(!0===s.hasOwnProperty(O))switch(O){case'cart':break;case'delivery_boy':r[i][O].name&&s[O].name?(r[i][O].name=s[O].name,r[i][O].mobile=s[O].mobile):r[i][O]=s[O];break;default:r[i][O]=s[O];}'delivered'===r[i].status.delivery_status.toLowerCase()&&!r[i].delivered_time&&r[i].status.delivered_time&&(r[i].delivered_time=moment(r[i].status.delivered_time).add(5,'hours').add(30,'minutes'),r[i].delivered_time=moment(r[i].delivered_time).format('hh:mm A'))}})};if(0===r.statusCode){e.globals.newOrders=0,e.globals.newAssuredOrders=0,e.globals.numPolls++;var w=r.restaurantData,v=[],S=[];e.$apply(function(){for(var r,t=0;0<(t<e.orders.all.length);t++)r=e.orders.all[t],c(r),u(r),g(r),T(r),l(r),r.current_time=r.outlet.last_updated_time,r.timeago=moment.utc(r.status.ordered_time).from(moment.utc(r.current_time))});for(var x=0;x<w.length;x++){var P=w[x],C=i(P.restaurantId),I=-1<e.mfrEnabledRestaurants.indexOf(P.restaurantId);if(!1===P.isOpen)C?d(C):C=n(P.restaurantId);else if(!C){var M=n(P.restaurantId);a(M),C=M}e.globals.lastPollTime=moment(),e.currentTimeFromOrdersPoll=new Date(P.serverTime),globals.currentTimeFromOrdersPoll=new Date(P.serverTime),e.clockDrift=Date.now()-e.fetchLatency/2-e.currentTimeFromOrdersPoll,e.clockDrift=e.clockDrift||0,C.last_updated_time=P.serverTime;var A=P.orders;0<A.length&&e.ordersAppTrack('orders_recieved_in_poll',P.restaurantId,A.length,null,null,null,'impression');for(var D,R=0;R<A.length;R++){if(D=A[R],D.isMfrEnabled=I,D.outlet=C,D.current_time=P.serverTime,D.timeago=moment.utc(D.status.ordered_time).from(moment.utc(D.current_time)),D.is_assured){var L=e.getAssuredPrepTimeForOrder(D);D.assured_prep_time=L,D.assured_deadline=moment(D.status.ordered_time).add(L,'minutes')}D.foodHandoverTimeSec=parseInt(D.foodHandoverTimeSec)||180;var j=function(r){if('pickedup'===r.status.delivery_status.toLowerCase()||'reached'===r.status.delivery_status.toLowerCase())return r.tag='delivered',void k(e.orders.delivered,e.orders.indexing.delivered,r);if(r.vendorData&&r.vendorData.foodPreparedTime){var t=moment.duration(moment.utc(r.status.placed_time).valueOf(),'milliseconds').asMinutes(),s=moment.duration(moment.utc(r.vendorData.foodPreparedTime).valueOf(),'milliseconds').asMinutes();if(s>=t)return r.tag='ready',void k(e.orders.ready,e.orders.indexing.ready,r)}r.tag='preparing',k(e.orders.preparing,e.orders.indexing.preparing,r)};switch(D.status.order_status){case'ordered':switch(D.status.placed_status){case'placed':if('edited'===D.status.edited_status){var B=moment.duration(moment.utc(D.status.placed_time).valueOf(),'milliseconds').asMinutes(),E=moment.duration(moment.utc(D.status.edited_time).valueOf(),'milliseconds').asMinutes();E>B?(D.tag='new',k(e.orders.new,e.orders.indexing.new,D)):j(D)}else j(D);break;case'with_de':case'call_partner':if(!D.status.placed_time)D.tag='new',k(e.orders.new,e.orders.indexing.new,D);else if('edited'===D.status.edited_status){var B=moment.duration(moment.utc(D.status.placed_time).valueOf(),'milliseconds').asMinutes(),E=moment.duration(moment.utc(D.status.edited_time).valueOf(),'milliseconds').asMinutes();E>B?(D.tag='new',k(e.orders.new,e.orders.indexing.new,D)):j(D)}else j(D);break;case'out_of_stock':if('unedited'===D.status.edited_status)D.tag='pending',k(e.orders.pending,e.orders.indexing.pending,D);else{for(var $,F=!1,W=0;W<D.cart.items.length;W++)if($=D.cart.items[W],$.is_oos){F=!0;break}!0==F?(D.tag='pending',k(e.orders.pending,e.orders.indexing.pending,D)):(D.tag='new',k(e.orders.new,e.orders.indexing.new,D))}break;default:D.tag='new',k(e.orders.new,e.orders.indexing.new,D);}break;case'delivered':D.tag='delivered',k(e.orders.delivered,e.orders.indexing.delivered,D);break;case'cancelled':D.tag='cancelled',k(e.orders.cancelled,e.orders.indexing.cancelled,D);break;default:console.warn('Unexpected order status: ',D.status&&D.status.order_status);}}v=v.concat(P.batches),S=S.concat(P.popOrders)}if((v.length||S.length)&&e.$broadcast('POP_ORDERS_CHANGE_EMIT',{batches:v,popOrders:S}),e.browserSupport.notification&&0<e.globals.newOrders){var N=1<e.globals.newOrders?e.globals.newOrders.toString()+' orders are':e.globals.newOrders.toString()+' order is';e.showDesktopNotification('Action required',N+' waiting for you to take action')}if(0<e.globals.newOrders){var q=e.newOrdersInTheCurrentPoll.map(function(e){return e.order_id});e.ordersAppTrack('order_notification_view',q.join(','),null,null,null,null,'impression');var K=localStorage.getItem('last_poll_time_'+e.store.user.get());s(function(){K&&(K=new Date(K));var r=e.globals.pollingOutlets.map(function(e){return e.rest_rid});e.ordersAppTrack('order_last_poll_time',r,null,K,null,null,'impression')},0),0<e.globals.newAssuredOrders?e.globals.thirtymfSound.play():e.globals.orderSound.play()}s(function(){var r;switch(e.choosenOrdersTab){case'new':r='new';break;case'preparing':r='preparing';break;case'ready':r='ready';break;case'more':r='pending';break;default:console.warn('unexpected $rootScope.choosenOrdersTab in selecting tab: ',e.choosenOrdersTab);}e.selectTopOrder(e.choosenOrdersTab),e.updateTrackingDeTime(e.orders[r])},0),localStorage.setItem('last_poll_time_'+e.store.user.get(),P.serverTime)}else-3===r.statusCode?(console.warn('poll error -3: ',r.statusMessage),t.location.href='/login'):-1===r.statusCode||-2===r.statusCode?(console.warn('poll error -1/-2: ',r.statusMessage),e.ordersAppTrack('order_polling_input_error',e.store.user.get(),null,null,null,null)):(console.warn('poll error: ',r.statusMessage),e.ordersAppTrack('order_polling_error',e.store.user.get(),null,null,null,null))},e.updateDeTime=function(r){if(0===r.statusCode){var r=r.data;r instanceof Array&&0<r.length&&e.$apply(function(){for(var t=0;t<r.length;t++){var s=r[t].orderId,o=r[t].timeToReachRestaurant;if(-1<=parseInt(o)){var i=e.orders.indexing.all.indexOf(s);0===parseInt(o)&&(o=1),-1<i&&0<parseInt(o)&&(e.orders.all[i].delivery_boy.timeLeft=parseInt(o),O.updateDeliveryVisibilityFlags(e.orders.all[i]))}}})}},e.getAssuredPrepTimeForOrder=function(r){var t=r.outlet,s=e.defaultThirtymfPrepTime;try{t&&t.rest_rid&&e.thirtMinsRestPrepTimeMapping.forEach(function(e){e.restaurantId===t.rest_rid&&e.thirtyMinsPrepTimeObj&&e.thirtyMinsPrepTimeObj.prepTime&&(s=e.thirtyMinsPrepTimeObj.prepTime)})}catch(r){console.error(r),s=e.defaultThirtymfPrepTime}return s},e.orderRequestCallback=function(r){var t=function(e){i.requestCallback(e).then(function(){n.showToast('success','Success','Callback has been requested.')},function(){n.showToast('error','Oops, something went wrong','Could not request for callback. Please try again.')})};e.callPartnerNewFlow?e.$broadcast('REQUEST_CALLBACK_CLICKED',{order:r}):n.showConfirmation('<h4>Are you sure?</h4>','<p>You are about to request for callback</p>').then(function(){t(r)},function(){})},e.dismissComplianceBlocker=function(){e.openComplianceBlocker(!1);var r=e.getAllRestIds(),t=e.getUserType();e.complianceBlockerTrack('dismiss','COMPLIANCE',t,r.join(','),null,null,'click'),e.openComplianceBlocker(!1)},e.dismissOutletSwitcherPopup=function(){e.showOutletSwitcherPopup=!1},e.getUserType=function(){var e='partner',r=localStorage.getItem('Swiggy_perms');return r&&r.length&&0<=r.indexOf(3)&&(e='owner'),e},e.getAllRestIds=function(){var r=[],t=e.globals.outlets;return t&&t.length&&(r=t.map(function(e){return e.rest_rid})),r},e.complianceBannerClicked=function(){var r=e.getAllRestIds(),t=e.getUserType();e.openComplianceBlocker(),e.complianceBannerTrack('click-banner','COMPLIANCE',t,r.join(','),null,null,'click')},e.openComplianceBlocker=function(r){var t=e.getAllRestIds(),s=null,o=e.getUserType();return'boolean'==typeof r?(!0===r&&e.complianceBlockerTrack('view-compliance-alert','COMPLIANCE',o,t.join(','),null,s,'impression'),void(e.showComplianceBlocker=!!r)):void(e.showComplianceBlocker=!e.showComplianceBlocker,e.showComplianceBlocker&&(e.complianceBannerTrack('view-compliance-banner','COMPLIANCE',o,t.join(','),null,s,'impression'),e.complianceBlockerTrack('view-compliance-alert','COMPLIANCE',o,t.join(','),null,s,'impression')))},e.browserSupport={},t.navigator&&t.navigator.serviceWorker?e.browserSupport.serviceWorker=!0:e.ordersAppTrack('service_worker_not_supported',e.store.user.get(),null,null,null,null),t.Worker?(e.browserSupport.webWorker=!0,e.globals.webWorker=new t.Worker('/order.ww.js'),e.startWebWorker=function(){var r=e.globals.pollingOutlets;if(0===r.length)return void e.stopWebWorker();for(var t,s={restaurantTimeMap:[]},o=0;o<r.length;o++)t=r[o].last_updated_time?r[o].last_updated_time:null,s.restaurantTimeMap.push({rest_rid:r[o].rest_rid,lastUpdatedTime:0===e.globals.numPolls?null:t});e.globals.webWorker.postMessage({task:'startOrderPolling',params:{outletsData:s}})},e.updateWebWorker=function(){var r=e.globals.pollingOutlets;if(0===r.length)return void e.stopWebWorker();for(var t,s={restaurantTimeMap:[]},o=0;o<r.length;o++)t=r[o].last_updated_time?r[o].last_updated_time:null,s.restaurantTimeMap.push({rest_rid:r[o].rest_rid,lastUpdatedTime:0===e.globals.numPolls?null:t});e.globals.webWorker.postMessage({task:'reloadOrderPolling',params:{outletsData:s}})},e.stopWebWorker=function(){e.globals.webWorker.postMessage({task:'stopOrderPolling'})},e.globals.webWorker.onmessage=function(r){try{var t=JSON.parse(r.data);t.restaurantData&&e.segregateOrders(t),t.data&&e.updateDeTime(t),t.error&&e.ordersAppTrack(t.error,e.store.user.get(),null,null,null,null)}catch(r){console.error('webWorker onmessage: ',r)}},e.globals.webWorker.onerror=function(){e.ordersAppTrack('web_worker_error',e.store.user.get(),null,null,null,null)}):e.ordersAppTrack('web_worker_not_supported',e.store.user.get(),null,null,null,null),e.startOrderPolling=function(){var t=e.globals.pollingOutlets;if(0===t.length)return void e.stopOrderPolling();var o={};o.restaurantTimeMap=[],e.firebase.eventId?(o.sourceMessageIdMap={messageId:e.firebase.eventId,source:'FCM'},e.firebase={}):o.sourceMessageIdMap={source:'POLLING_SERVICE'};for(var i,n=0;n<t.length;n++)i=t[n].last_updated_time?t[n].last_updated_time:null,o.restaurantTimeMap.push({rest_rid:t[n].rest_rid,lastUpdatedTime:0===e.globals.numPolls?null:i});e.fetchStartTime=Date.now(),r({url:'/orders/v1/fetch',method:'POST',data:o,config:{silent:!0}}).then(function(r){r.data?(e.fetchEndTime=Date.now(),e.fetchLatency=e.fetchEndTime-e.fetchStartTime||250,s(function(){e.segregateOrders(r.data)},0)):e.ordersAppTrack('order_polling_error',e.store.user.get(),null,null,null,null)},function(){e.ordersAppTrack('order_polling_error',e.store.user.get(),null,null,null,null)}),e.globals.orderTimer||e.startOrderTimer()},e.startOrderTimer=function(){e.globals.orderTimer=t.setInterval(function(){e.startOrderPolling()},3e4)},e.restartOrderTimer=function(){e.globals.config.orders.polling&&(e.globals.orderTimer&&(t.clearInterval(e.globals.orderTimer),e.globals.orderTimer=null),s(function(){e.startOrderPolling()},0))},e.stopOrderPolling=function(){e.globals.orderTimer&&t.clearInterval(e.globals.orderTimer)},t.Notification&&(e.browserSupport.notification=!0,'granted'!==t.Notification.permission&&t.Notification.requestPermission(),e.showDesktopNotification=function(r,o){var i=new t.Notification(r,{icon:'/public/img/logos/swiggy.svg',body:o,requireInteraction:!0});i.onclick=function(){t.focus();var r=e.newOrdersInTheCurrentPoll&&e.newOrdersInTheCurrentPoll.map(function(e){return e.order_id});r&&e.ordersAppTrack('order_notification_click',r.join(','),null,null),s(function(){i.close(),t.location.href='/orders'},1e3)}}),e.$on('apiUpdatedAssuredPrepTimes',function(){e.updatedAssuredTimes()}),e.updatedAssuredTimes=function(){for(var r=0;r<e.orders.all.length;r++)e.updateOrderAssuredTime(e.orders.all[r]);e.updateOrderAssuredTime(e.choosenOrder.new),e.updateOrderAssuredTime(e.choosenOrder.more),e.updateOrderAssuredTime(e.choosenOrder.preparing),e.updateOrderAssuredTime(e.choosenOrder.ready)},e.updateOrderAssuredTime=function(r){if(r&&r.is_assured)try{var t=e.getAssuredPrepTimeForOrder(r);r.assured_prep_time=t,r.assured_deadline=moment(r.status.ordered_time).add(t,'minutes')}catch(r){console.error('error updating assured preptime = ',r)}},e.selectOrder=function(r,t,i){switch(i=i||!1,r.tag){case'new':var n=r.outlet.rest_rid;if(r.prepTime)return void(e.choosenOrder.new=r);var d=function(e){var r=l.defer(),t={};return t.global={},t.slots={},t.global[e]={},t.slots[e]=[],t.thirtymf={},t.thirtymf[e]={},o.get(e).then(function(s){for(var o,i=0;i<s.length;i++)if(o=s[i],o.days=o.days.map(function(e){return e.toLowerCase()}),'THIRTYMF'===o.type&&(t.thirtymf[e]=o),'GLOBAL'===o.type&&(t.global[e]=o),o.startTime){var n=moment(o.startTime,'HH:mm'),d=moment(o.endTime,'HH:mm');o.startHour=n.format('h'),o.startMinute=n.format('mm'),o.startPeriod=n.format('A'),o.endHour=d.format('h'),o.endMinute=d.format('mm'),o.endPeriod=d.format('A'),t.slots[e].push(o)}r.resolve(t)},function(){r.resolve(t)}),r.promise};d(n).then(function(t){if(0<t.slots[n].length){var s=t.slots[n],o=moment.utc(r.status.ordered_time).format('HH:mm').toString(),i=moment.utc(r.status.ordered_time).format('dddd').toString().toLowerCase();o=moment(o,'HH:mm');for(var d=0;d<s.length;d++){var a=moment(s[d].startTime,'HH:mm'),l=moment(s[d].endTime,'HH:mm'),p=s[d].days;if(o.isSameOrAfter(a)&&o.isSameOrBefore(l)&&-1<p.indexOf(i)){r.prepTime={total:s[d].prepTime,timeLeft:s[d].prepTime};break}}}if(!r.prepTime&&t.global[n].prepTime&&(r.prepTime={total:t.global[n].prepTime,timeLeft:t.global[n].prepTime}),r.is_assured)try{r.prepTime&&(t.thirtymf[n].prepTime?r.prepTime.thirtymf=t.thirtymf[n].prepTime:r.prepTime.thirtymf=e.defaultThirtymfPrepTime)}catch(r){console.warn(r)}e.choosenOrder.new=r},function(){});break;case'preparing':e.choosenOrder.preparing=r;break;case'ready':e.choosenOrder.ready=r;break;case'delivered':case'pending':case'cancelled':e.choosenOrder.more=r;break;default:console.warn('unexpected order.tag in selectOrder: ',r.tag);}t&&e.ordersAppTrack('order_click_expand',r.order_id,r.tag,null,null,e.orders.indexing[r.tag].indexOf(r.order_id)+1),s(function(){i&&angular.element('#'+r.tag).find('.order-previews').mCustomScrollbar('scrollTo',angular.element('#'+r.order_id+'-side-order-view'))},100)},e.selectTopOrder=function(r){'new'===r?!e.choosenOrder.new.order_id&&0<e.orders.new.length&&e.selectOrder(e.orders.new[0]):'preparing'===r?!e.choosenOrder.preparing.order_id&&0<e.orders.preparing.length&&e.selectOrder(e.orders.preparing[0]):'ready'===r?!e.choosenOrder.ready.order_id&&0<e.orders.ready.length&&e.selectOrder(e.orders.ready[0]):'more'===r?!e.choosenOrder.more.order_id&&(0<e.orders.pending.length||0<e.orders.cancelled.length||0<e.orders.delivered.length)&&e.selectOrder(e.orders.pending[0]||e.orders.cancelled[0]||e.orders.delivered[0]):console.warn('unexpected tab in selectTopOrder: ',r)},e.confirmOrder=function(r){r.confirmOrderProgress=!0,function(r){r.prepTime&&r.prepTime.total&&(r.prep_time=r.prepTime.total),i.confirm(r).then(function(){var t=e.orders.indexing.new.indexOf(r.order_id);e.ordersAppTrack('order_confirm_click_new',r.order_id,r.prep_time,null,null,e.orders.indexing[r.tag].indexOf(r.order_id)+1),-1<t&&(e.orders.new.splice(t,1),e.orders.indexing.new.splice(t,1)),r.tag='preparing',0>e.orders.indexing.preparing.indexOf(r.order_id)&&(e.orders.preparing.push(r),e.orders.indexing.preparing.push(r.order_id)),e.choosenOrder.new={};var o={};e.orders.indexing.new[t]?o=e.orders.new[t]:0<e.orders.new.length&&(o=e.orders.new[0]);var i=m.get('Swiggy_Session-user'),n=m.get(i+'_confirm_popup');n=n?parseInt(n)+1:1,e.recentOrder.timer&&s.cancel(e.recentOrder.timer),1>=n&&(m.put(i+'_confirm_popup',n,{path:'/'}),e.clearRecentOrders(function(){e.recentOrder.confirmed=r,e.recentOrder.timer=s(function(){e.clearRecentOrders()},3e3)})),o.order_id&&s(function(){e.selectOrder(o)},500),r.confirmOrderProgress=!1},function(){n.showToast('error','Oops, something went wrong','Could not confirm the order. Please try again.'),r.confirmOrderProgress=!1})}(r)},e.$on('barcodeScanned',function(r,t){if(console.log('bar code scanned was order-id =  ',t),-1<e.orders.indexing.all.indexOf(t)){var s=-1<e.orders.indexing.new.indexOf(t),o=-1<e.orders.indexing.preparing.indexOf(t);if(o){var i=e.orders.indexing.preparing.indexOf(t);e.orderMarkReady(e.orders.preparing[i])}else s?(e.globals.mfrFailSound&&e.globals.mfrFailSound.play(),console.warn('order present but in invalid state - ',t),n.showToast('error','Invalid Mark Food Ready','Could not mark the order ready. Please confirm the order first.')):console.warn('order in ready or delivered, no need of MFR.')}else console.warn('invalid data from scan: ',t);try{e.ordersAppTrack('barcode_scanned',t,null,null,null,null)}catch(e){console.warn('error while trying to instrument barcode scan')}}),e.orderMarkReady=function(r){r.orderMarkReadyProgress=!0;(function(r){i.markReady(r).then(function(t){t.foodPreparedTime&&(r.vendorData={},r.vendorData.foodPreparedTime=t.foodPreparedTime);var o=e.orders.indexing.preparing.indexOf(r.order_id);e.ordersAppTrack('mark_ready_click_new',r.order_id,null,null,null,e.orders.indexing[r.tag].indexOf(r.order_id)+1),-1<o&&(e.orders.preparing.splice(o,1),e.orders.indexing.preparing.splice(o,1)),r.tag='ready',0>e.orders.indexing.ready.indexOf(r.order_id)&&(e.orders.ready.push(r),e.orders.indexing.ready.push(r.order_id)),e.choosenOrder.preparing={};var i={};if(e.orders.indexing.preparing[o]?i=e.orders.preparing[o]:0<e.orders.preparing.length&&(i=e.orders.preparing[0]),r.vendorData&&r.vendorData.foodPreparedTime){var n=moment.duration(moment.utc(r.status.placed_time).valueOf(),'milliseconds').asMinutes(),d=moment.duration(moment.utc(r.vendorData.foodPreparedTime).valueOf(),'milliseconds').asMinutes(),a=moment.duration(moment.utc(r.status.ordered_time).valueOf(),'milliseconds').asMinutes(),l=moment.duration(moment.utc(r.vendorData.foodPreparedTime).valueOf(),'milliseconds').asSeconds(),p=moment.duration(moment.utc(r.status.ordered_time).valueOf(),'milliseconds').asSeconds();r.prepTime={},r.prepTime.timeTook=parseInt(d-n),r.prepTime.timeTookSinceOrdered=parseInt(d-a),r.prepTime.timeTookSinceOrderedInSecs=parseInt(l-p),0===r.prepTime.timeTook&&(r.prepTime.timeTook=1),(0===r.prepTime.timeTookSinceOrdered||0===r.prepTime.timeTookSinceOrderedInSecs)&&(r.prepTime.timeTookSinceOrdered=1,r.prepTime.timeTookSinceOrderedInSecs=60)}if(r.prepTime&&r.prepTime.timeTookSinceOrderedInSecs){var c=r.prepTime.timeTookSinceOrderedInSecs,u=r.status.food_prep_time;r.is_assured&&(u=r.assured_prep_time),r.isFoodPreparedByPrepTime=!(c>60*u)}if(r.isMfrEnabled)try{if(r.vendorData&&r.vendorData.foodPreparedTime){var g=r.status.delivery_status||'';r.status.arrived_time&&'arrived'===g.toLowerCase()&&('true'===r.status.trueArrived||!0===r.status.trueArrived)&&(r.shouldShowHandoverTimer=!0,r.handoverTimerStart=r.status.arrived_time>r.vendorData.foodPreparedTime?r.status.arrived_time:r.vendorData.foodPreparedTime,r.handoverTimerStartMoment=moment(r.handoverTimerStart),r.handoverTimerEndMoment=r.handoverTimerStartMoment.add(r.foodHandoverTimeSec,'seconds'))}}catch(e){console.error(e)}var h=m.get('Swiggy_Session-user'),f=m.get(h+'_mark_ready_popup');f=f?parseInt(f)+1:1,e.recentOrder.timer&&s.cancel(e.recentOrder.timer),1>=f&&(m.put(h+'_mark_ready_popup',f,{path:'/'}),e.clearRecentOrders(function(){e.recentOrder.markedReady=r,e.recentOrder.timer=s(function(){e.clearRecentOrders()},3e3)})),i.order_id&&s(function(){e.selectOrder(i)},500),r.orderMarkReadyProgress=!1,e.globals.mfrSuccessSound&&e.globals.mfrSuccessSound.play()},function(){e.globals.mfrFailSound&&e.globals.mfrFailSound.play(),n.showToast('error','Oops, something went wrong','Could not mark the order ready. Please try again.'),r.orderMarkReadyProgress=!1})})(r)},e.orderPrintReceipt=function(r){var t='#order-barcode-'.concat(r.order_id.toString()),o=r.order_id.toString();window.JsBarcode(t,o,{lineColor:'#000',width:2,height:40,displayValue:!0}),s(function(){i.printReceipt(r)},200);try{e.ordersAppTrack('order_click_print',r.order_id,null,null,null,e.orders.indexing[r.tag].indexOf(r.order_id)+1)}catch(e){console.warn('error on instrumentation of print KOT')}},e.increaseOrderPrepTime=function(r){if(r.prepTime.total&&r.prepTime.total<e.globals.config.orders.maxPrepTime){var t=parseInt(r.prepTime.total);r.prepTime.total=t+1,e.ordersAppTrack('order-prep-time-change','inc',r.prepTime.total,r.order_id),r.prepTime.timeLeft=t+1}},e.decreaseOrderPrepTime=function(r){if(r.prepTime.total&&r.prepTime.total>e.globals.config.orders.minPrepTime){var t=parseInt(r.prepTime.total);r.prepTime.total=t-1,e.ordersAppTrack('order-prep-time-change','dec',r.prepTime.total,r.order_id),r.prepTime.timeLeft=t-1}},e.toggleOrderSwitch=function(r,t){var o=!1;if(o='cafe'===r.type.toLowerCase()&&r.cafe_data&&'takeaway'===r.cafe_data.restaurant_type.toLowerCase(),'chooseItemAlternatives'===t&&'cafe'===r.type.toLowerCase()&&!o){var d=function(r){i.cancelOrder(r).then(function(){var t=r.tag;e.ordersAppTrack('cafe_order_cancelled',r.order_id,null,null,null,null);var o=e.orders.indexing[t].indexOf(r.order_id);-1<o&&(e.orders[t].splice(o,1),e.orders.indexing[t].splice(o,1)),r.tag='cancelled',e.orders.cancelled.unshift(r),e.orders.indexing.cancelled.unshift(r.order_id),e.choosenOrder[t]={};var i={};e.orders.indexing[t][o]?i=e.orders[t][o]:0<e.orders[t].length&&(i=e.orders[t][0]),i.order_id&&s(function(){e.selectOrder(i)},500)},function(){n.showToast('error','Oops, something went wrong','Could not cancel the order. Please try again.')})};return void n.showConfirmation('<h4>Are you sure?</h4>','<p>Cafe orders are not editable, would you like to cancel the order instead?</p>',{confirmButtonText:'Yes, Cancel order'}).then(function(){d(r)},function(){})}if('chooseItemAlternatives'===t)e.ordersAppTrack('mark_out_stock_click',null,r.order_id,r.order_status,null,null,'click'),e.$emit('open-item-alternatives-popup',{order:r});else{var a=r.tag;'pending'===a&&(a='more'),e.choosenOrder.switches[a][t]=!e.choosenOrder.switches[a][t]}},e.toggleOutlet=function(t){var s=function(r){if(0===r.data.statusCode){if(t.isOpen===r.data.isOpen)return;if(!0===t.isOpen){var s=e.indexing.openOutlets.indexOf(t.rest_rid);-1<s&&(e.globals.openOutlets.splice(s,1),e.indexing.openOutlets.splice(s,1)),t.isOpen=!1}else e.globals.openOutlets.push(t),e.indexing.openOutlets.push(t.rest_rid),t.isOpen=!0;e.store.outlets.set(e.globals.outlets)}},o=function(){return r({url:'/restaurant/slots/v1/toggleStatus/',method:'POST',data:{restaurantId:t.rest_rid,isRequestedToOpen:!0!==t.isOpen,source:'VMS'}})};if(!0===t.isOpen){e.showCloseKitchenPopup=!0,e.showCloseKitchenPopupFor=t;var i=new Date;i.setDate(i.getDate()+1),e.closeKitchenDate=null}else e.ordersAppTrack('restaurant_on_off_click','on',t.rest_rid,null),n.showConfirmation('<h4>Start taking orders?</h4>',d('<open-outlet-info />')(e),{customClass:'toggle-outlets__confirm-popup'}).then(function(){o().then(function(r){e.ordersAppTrack('restaurant_on_off_confirm_click','on',t.rest_rid,null),s(r)})},function(){})},e.closeKitchen=function(){function t(e){function r(e){var r;try{r=new Date(e.serverTime)}catch(t){r=new Date,console.error('Error closing kitchen isPopRunning: ',t)}var t=new Date(e.date);t.setHours(e.close_time.toString().substring(0,2),e.close_time.toString().substring(2));var s=new Date(e.date);return s.setHours(e.open_time.toString().substring(0,2),e.open_time.toString().substring(2)),r<=t&&r>s}if(0===e.data.statusCode){var t=e.data.data;if(t)return r(t)}return!1}var s=e.showCloseKitchenPopupFor,o=function(r){if(0===r.data.statusCode){if(s.isOpen===r.data.isOpen)return;if(!0===s.isOpen){var t=e.indexing.openOutlets.indexOf(s.rest_rid);-1<t&&(e.globals.openOutlets.splice(t,1),e.indexing.openOutlets.splice(t,1)),s.isOpen=!1}else e.globals.openOutlets.push(s),e.indexing.openOutlets.push(s.rest_rid),s.isOpen=!0;e.store.outlets.set(e.globals.outlets)}};e.ordersAppTrack('restaurant_on_off_click','off',s.rest_rid,null);var i=[];i.push(function(){return r({url:'/restaurant/slots/v1/toggleStatus/',method:'POST',data:{restaurantId:s.rest_rid,isRequestedToOpen:!0!==s.isOpen,endDate:e.closeKitchenTill,source:'VMS'}})}()),e.swiggyPopFeature&&i.push(g.fetchPOPMenuForRestaurant(s.rest_rid)),l.all(i).then(function(r){e.ordersAppTrack('restaurant_on_off_confirm_click','off',s.rest_rid,null),o(r[0]),e.cancelCloseKitchen(),e.swiggyPopFeature&&(e.isPopLive=t(r[1]),e.isPopLive&&n.showConfirmation('<h4>But, your restaurant is ON for POP.</h4>',d('<pop-info-on-rest-close />')(e),{customClass:'toggle-outlets__confirm-popup'}).then(function(){},function(){}))}).catch(function(r){console.error('error doing closeKitchen $q.all ',r),e.cancelCloseKitchen()})},e.cancelCloseKitchen=function(){e.closeKitchenTill=null;var r=new Date;r.setDate(r.getDate()+1),e.closeKitchenDate=null,e.$broadcast('resetCloseKitchenDate'),e.showCloseKitchenPopup=!1,e.showCloseKitchenPopupFor=null},e.startTrackingDeTime=function(r){if(e.browserSupport.webWorker)if(0<r.length){for(var t=[],s=[],o=['arrived','pickedup','reached','delivered','cancelled'],i=0;i<r.length;i++){var n=r[i],d=n.status.delivery_status&&n.status.delivery_status.toLowerCase(),a='cafe'===n.type.toLowerCase(),l=d&&1<o.indexOf(d);!a&&!l&&(t.push(n.outlet.rest_rid),s.push(n.order_id))}if(0<s.length){e.globals.webWorker.postMessage({task:'startTrackingDe',params:{orderData:{restaurantIds:t,orderIds:s}}})}else e.globals.webWorker.postMessage({task:'stopTrackingDe'})}else e.globals.webWorker.postMessage({task:'stopTrackingDe'})},e.updateTrackingDeTime=function(r){if(e.browserSupport.webWorker)if(0<r.length){for(var t=[],s=[],o=['arrived','pickedup','reached','delivered','cancelled'],i=0;i<r.length;i++){var n=r[i],d=n.status.delivery_status&&n.status.delivery_status.toLowerCase(),a='cafe'===n.type.toLowerCase(),l=d&&1<o.indexOf(d);!a&&!l&&(t.push(n.outlet.rest_rid),s.push(n.order_id))}if(0<s.length){e.globals.webWorker.postMessage({task:'reloadTrackingDe',params:{orderData:{restaurantIds:t,orderIds:s}}})}else e.globals.webWorker.postMessage({task:'stopTrackingDe'})}else e.globals.webWorker.postMessage({task:'stopTrackingDe'})},e.toggleOrderPolling=function(){var r=e.globals.config;r.orders.polling?(r.orders.polling=!1,e.startTrackingDeTime([]),e.browserSupport.webWorker?e.stopOrderPolling():e.stopOrderPolling()):(r.orders.polling=!0,e.browserSupport.webWorker?e.startOrderPolling():e.startOrderPolling()),e.globals.config=r,e.store.config.set(r),localStorage.setItem('stopOrderNotification',!r.orders.polling),e.ordersAppTrack('setting-show-order-toggle',r.orders.polling?'show-order':'hide-order',null,e.globals.choosenOutlet.rest_rid,'setting-page')},e.trackDeLocation=function(r){var t=r.tag;'pending'===t&&(t='more'),c.trackLocation(r).then(function(s){if(s&&s.lat&&s.lng){var o={lat:+s.lat,lng:+s.lng},i=0;r.delivery_boy.lat&&r.delivery_boy.lng&&(i=google.maps.geometry.spherical.computeHeading(new google.maps.LatLng(r.delivery_boy.lat,r.delivery_boy.lng),new google.maps.LatLng(s.lat,s.lng))),r.delivery_boy.lat=s.lat,r.delivery_boy.lng=s.lng,e.deMarker&&e.deMarker.setMap(null),e.deMarker=new google.maps.Marker({position:o,map:e.googleMaps,icon:{url:'https://s3-ap-southeast-1.amazonaws.com/vendor-portal-static-assets/images/icons/de-marker.png',scaledSize:new google.maps.Size(64,75),rotation:i}})}e.choosenOrder.timers[t].deTracking||(e.choosenOrder.timers[t].deTracking=p(function(){e.trackDeLocation(r)},15000))},function(){e.choosenOrder.timers[t].deTracking||(e.choosenOrder.timers[t].deTracking=p(function(){e.trackDeLocation(r)},15000))})},e.startDeTracking=function(r){var t=r.tag;if('pending'===t&&(t='more'),e.ordersAppTrack('track_de_btn_click',r.order_id,e.orders.indexing[r.tag].indexOf(r.order_id)+1,r.tag,null),!!r.restaurant_details){var o={lat:+r.restaurant_details.restaurant_lat,lng:+r.restaurant_details.restaurant_lng};s(function(){var s=function(e){this.setValues(e),this.span=document.createElement('span'),this.span.className='map-marker-label'};s.prototype=angular.extend(new google.maps.OverlayView,{onAdd:function(){this.getPanes().overlayImage.appendChild(this.span);var e=this;this.listeners=[google.maps.event.addListener(this,'position_changed',function(){e.draw()})]},draw:function(){var e=this.get('text')+'',r=this.getProjection().fromLatLngToDivPixel(this.get('position'));this.span.innerHTML=e,this.span.style.left=r.x-80+'px',this.span.style.top=r.y+'px'}}),google.maps.Marker.prototype.setLabel=function(e){this.label=new s({map:this.map,marker:this,text:e}),this.label.bindTo('position',this,'position')},e.googleMaps=new google.maps.Map(document.getElementById('de-tracking-map-'+t),{center:o,zoom:12}),e.restaurantMarker=new google.maps.Marker({position:o,map:e.googleMaps,icon:'https://s3-ap-southeast-1.amazonaws.com/vendor-portal-static-assets/images/icons/restaurant-marker.svg',label:r.outlet.rest_name}),e.trackDeLocation(r)},0)}},e.stopDeTracking=function(r){var t=r.tag;'pending'===t&&(t='more'),e.choosenOrder.timers[t].deTracking&&p.cancel(e.choosenOrder.timers[t].deTracking)},e.clearRecentOrders=function(r){e.recentOrder={},e.recentOrder.confirmed={},e.recentOrder.markedReady={},e.recentOrder.markedPending={},r&&r()},e.toggleOrderDetailsSidebar=function(e){'undefined'==typeof e.orderDetailsSidebar&&(e.orderDetailsSidebar=!1),e.orderDetailsSidebar=!1===e.orderDetailsSidebar},e.redirectToCom=function(){var r=m.get('is_dot_in');if(r&&1===parseInt(r)&&-1<t.location.href.toString().indexOf('partner.swiggy.in')){var o=m.get('Swiggy_Session-alpha'),i=m.get('Swiggy_Session-user'),n=m.get('Swiggy_user_role'),d=m.get('Swiggy_Session-perms'),a=e.globals.config.orders.polling;e.redirectToComParams=h({session:o,user:i,role:n,perms:d.toString(),referrer:'partner.swiggy.in',polling:a}),angular.element('body').append('<img class="hidden" src="https://partner.swiggy.com/set-cookies?'+e.redirectToComParams+'" />'),s(function(){window.location.href='https://partner.swiggy.com'},0)}},e.toggleRedirectionPopup=function(){e.showRedirectionPopup=!e.showRedirectionPopup},e.redirectedFromIn=function(){var e=m.get('referrer');e&&-1<e.toString().indexOf('partner.swiggy.in')&&m.remove('referrer',{path:'/'})},e.closeKitchenDateBeforeRender=function(e,r){r.filter(function(r){if('day'===e){var t=moment().unix();return r.utcDateValue/1e3<=t}if('year'===e){var s=moment().format('YYYY'),o=moment(r.utcDateValue).format('YYYY');return o<s}}).forEach(function(e){e.selectable=!1})},e.closeKitchenOnDateSet=function(r){s(function(){e.$apply(function(){e.closeKitchenTill=moment(r).format('YYYY-MM-DD')})},0)},angular.element(document).ready(function(){'currentOrders'===globals.menu&&s(function(){e.getPrepTimes()},0),e.globals.config.orders.polling&&(e.browserSupport.webWorker?s(function(){e.startOrderPolling()},0):s(function(){e.startOrderPolling()},0)),s(function(){e.getBroadcastMessages()},1e3);var r=m.get('is_dot_in');r&&1===parseInt(r)&&e.redirectToCom(),e.redirectedFromIn(),angular.element(document).bind('click keypress mouseenter mouseleave touchstart',function(){e.resetUserIdleTimer()}),e.startUserIdleTimer()}),t.addEventListener('load',function(){if(e.browserSupport.serviceWorker&&firebase){var r=firebase.messaging();r.usePublicVapidKey('BKXZx_5xfvjXWSiDXZXDEJUxGo0KVJqTiRsQm_9CK_aMQQ1Vgm1iz9iRSSqjfvTUBshkFhdyX7wIrr__F_rqSho'),r.getToken().then(function(r){var t=e.store.fcm.get();t&&JSON.parse(t).toString()===r.toString()||f.subscribe(e.globals.choosenOutlet.rest_rid,r).then(function(){e.store.fcm.set(r)},function(){e.ordersAppTrack('fcm_subscription_failed',e.store.user.get(),null,null,null,null)})}),r.onTokenRefresh(function(){r.getToken().then(function(r){var t=e.store.fcm.get();t&&JSON.parse(t).toString()===r.toString()||f.subscribe(e.globals.choosenOutlet.rest_rid,r).then(function(){e.store.fcm.set(r)},function(){e.ordersAppTrack('fcm_subscription_failed',e.store.user.get(),null,null,null,null)})})}),r.onMessage(function(r){r.data&&r.data.eventId&&(e.firebase.eventId=r.data.eventId);var t=e.globals.lastPollTime,s=moment();if(t){var o=moment.duration(s.valueOf(),'milliseconds').asSeconds(),i=t.add(30,'seconds'),n=moment.duration(i.valueOf(),'milliseconds').asSeconds(),d=parseInt(n-o);3<d&&e.restartOrderTimer()}})}s(function(){e.browserSupport.notification&&'granted'!==t.Notification.permission&&s(function(){e.ordersAppTrack('notification_blocked',e.store.user.get(),null,null,null,null)},0),-1<t.location.href.toString().indexOf('partner.swiggy.in')&&s(function(){e.ordersAppTrack('using_old_domain',e.store.user.get(),null,null,null,null)},0),-1<t.location.href.toString().indexOf('http://partner.swiggy.com')&&s(function(){e.ordersAppTrack('using_without_https',e.store.user.get(),null,null,null,null)},0)},3e3)})}]);
angular.module('ordersApp').factory('notificationService',['$q','$http','$httpParamSerializer',function(a,b,c){return{getBroadcastMessages:function(d){var e=a.defer(),f=c({restaurantId:d});return b({url:'/broadcast/v1/data/?'+f,method:'GET',config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?e.resolve(b.data):e.reject()},function(){e.reject()}),e.promise}}}]);
angular.module('ordersApp').directive('toast',function(){return{scope:{type:'=type',title:'=title',desc:'=desc'},template:'<div class="toast bottom-right" ng-class="{\'toast--{{type}}\' : type}"><h6 ng-if="title.length > 0">{{title}}</h6><p>{{desc}}</p></div>'}});
angular.module('ordersApp').factory('popupService',['$q','$compile','$rootScope','$timeout',function(a,b,c,d){var e={showCancelButton:!0,confirmButtonClass:'btn btn-lg btn-warning',cancelButtonClass:'btn btn-lg btn-default',confirmButtonText:'Yes',allowOutsideClick:!1,buttonsStyling:!1,reverseButtons:!0,padding:20,width:410},f={confirmButtonClass:'btn btn-lg btn-warning',confirmButtonText:'Ok',allowOutsideClick:!0,buttonsStyling:!1,padding:20,width:410};return{showAlert:function(b,c,d){var e=a.defer(),g={};return g.title=b,g.html=c,Object.assign(g,f),d&&Object.assign(g,d),swal(g).catch(function(){}),e.resolve(),e.promise},showConfirmation:function(b,c,d){var f=a.defer(),g={};return g.title=b,g.html=c,Object.assign(g,e),d&&Object.assign(g,d),swal(g).then(function(){f.resolve()},function(){f.reject()}),f.promise},showToast:function(a,e,f){c.toast={},c.toast.type=a,c.toast.title=e,c.toast.desc=f;var g=b('<toast type="toast.type" title="toast.title" desc="toast.desc" />')(c);d(function(){c.$apply(function(){angular.element('.toast-wrap').html(g[0].innerHTML)}),d(function(){c.$apply(function(){angular.element('.toast-wrap').html('')})},5e3)},0)}}}]);
angular.module('ordersApp').factory('utilsService',function(){return{isIntegrer:function(a){var b=Number.isInteger;return a=parseInt(a),b?b(a):'number'==typeof a&&isFinite(a)&&Math.floor(a)===a}}});
angular.module('ordersApp').factory('orderUtils',function(){return{uniqueVal:32,updateDeliveryVisibilityFlags:function(a){var b=a.delivery_boy.status&&a.delivery_boy.status.toLowerCase(),c=a.delivery_boy.timeLeft,d=-1<['arrived','picked up'].indexOf(b);return a.shouldShowDeliveryEta=!1,a.shouldShowDeliveryStatus=!1,a.shouldShowDeliveryDefaultState=!1,b?d?(a.shouldShowDeliveryStatus=!0,a.shouldShowDeliveryDefaultState=!1,void(a.shouldShowDeliveryEta=!1)):c?(a.shouldShowDeliveryEta=!0,a.shouldShowDeliveryDefaultState=!1,void(a.shouldShowDeliveryStatus=!1)):(a.shouldShowDeliveryStatus=!0,a.shouldShowDeliveryDefaultState=!1,void(a.shouldShowDeliveryEta=!1)):c?(a.shouldShowDeliveryEta=!0,a.shouldShowDeliveryDefaultState=!1,void(a.shouldShowDeliveryStatus=!1)):(a.shouldShowDeliveryDefaultState=!0,a.shouldShowDeliveryEta=!1,void(a.shouldShowDeliveryStatus=!1))},onDeliveryConfirmed:function(){},onDeliveryArrived:function(a){try{if(a.isMfrEnabled&&a.vendorData&&a.vendorData.foodPreparedTime){var b=a.status.delivery_status||'';a.status.arrived_time&&'arrived'===b.toLowerCase()&&('true'===a.status.trueArrived||!0===a.status.trueArrived)&&(a.shouldShowHandoverTimer=!0,a.handoverTimerStart=a.status.arrived_time>a.vendorData.foodPreparedTime?a.status.arrived_time:a.vendorData.foodPreparedTime,a.handoverTimerStartMoment=moment(a.handoverTimerStart),a.handoverTimerEndMoment=a.handoverTimerStartMoment.add(a.foodHandoverTimeSec,'seconds'))}}catch(a){console.error(a)}},onDeliveryPickedupAndLater:function(a){a.shouldShowHandoverTimer=!1}}});
angular.module('ordersApp').directive('dropdownHover',function(){return{link:function(a,b){b.dropdownHover(),b.dropdown()}}}),angular.module('ordersApp').directive('orderPrintReceipt',function(){return{scope:{orderInfo:'=order'},template:'<span><strong>Swiggy Order ID:</strong> {{orderInfo.order_id}}</span><br /><br/><span>{{orderInfo.time}}</span><br /><br /><span ng-repeat="item in orderInfo.cart.items"><span>{{item.quantity}} x {{item.name}}</span><br /><span ng-repeat="addon in item.addons" ng-if="item.addons.length > 0"><span>--- {{addon.name}}</span><br /></span></span><br /><span ng-if="orderInfo.type.toLowerCase() === \'cafe\' && orderInfo.cafe_data.restaurant_type.toLowerCase() === \'takeaway\'">Takeaway Order: Pickup by {{orderInfo.customer.customer_name}}</span><br/><span ng-if="orderInfo.customer_comment">Customer Comment: {{orderInfo.customer_comment}}</span>'}}),angular.module('ordersApp').directive('ngMax',['utilsService',function(a){return{restrict:'A',require:'ngModel',link:function(b,c,d,e){b.$watch(d.ngModel,function(){var b=e.$viewValue,c=d.ngMax;!0===a.isIntegrer(b)&&+b>c?e.$setValidity('max',!1):e.$setValidity('max',!0)})}}}]),angular.module('ordersApp').directive('ngMin',['utilsService',function(a){return{restrict:'A',require:'ngModel',link:function(b,c,d,e){b.$watch(d.ngModel,function(){var b=e.$viewValue,c=d.ngMin;!0===a.isIntegrer(b)&&+b<c?e.$setValidity('min',!1):e.$setValidity('min',!0)})}}}]),angular.module('ordersApp').directive('closeOutletInfo',function(){return{template:'<ul class="list text-left small"><li><strong>Note:</strong></li><li><p class="margin-bottom-none">We will automatically switch it on again tomorrow morning.</p></li><li><p class="margin-bottom-none">It takes 5 minutes for this change to reflect on the swiggy system. You may receive orders during this time.</p></li></ul>'}}),angular.module('ordersApp').directive('openOutletInfo',function(){return{template:'<ul class="list text-left small"><li><strong>Note:</strong></li><li><p class="margin-bottom-none">Are you sure you want to start accepting orders?</p></li></ul>'}}),angular.module('ordersApp').directive('popInfoOnRestClose',function(){return{template:'<ul class="list text-left small"><li><strong>Note:</strong></li><li>You\u2019ll continue to receive new POP orders.</li><li>Regular ordering has been switched off till tomorrow morning.</li><li>To switch off POP, please contact your Swiggy POC.</li></ul>'}}),angular.module('ordersApp').directive('confirmOrderInfo',function(){return{template:'<ul class="list text-left small"><li><strong>Note:</strong></li><li>Proceed if the items are available and ready to process.</li></ul>'}}),angular.module('ordersApp').directive('orderMarkReadyInfo',function(){return{template:'<ul class="list text-left small"><li><strong>Note:</strong></li><li>Proceed if the order is ready to pick up.</li></ul>'}}),angular.module('ordersApp').directive('prepTimeBlockerPopupInfo',function(){return{template:'<div class="container-fluid"><div class="row"><div class="col-xs-8"><h2 class="prep-time-blocker-popup__title">Food Preparation Time</h2><h3 class="prep-time-blocker-popup__desc">Tell us the time you usually take to prepare an order. This will ensure faster pick-ups and enhance the experience for the customers.</h3><p class="text-left"><a class="btn btn-warning btn-x-lg" href="/restaurant-info">Set Preparation Time</a></p></div><div class="col-xs-4"><img class="img-responsive" ng-src="/public/img/icons/prep-time-blocker-popup.png" /></div></div></div>'}}),angular.module('ordersApp').directive('assuredOrderPopup',function(){return{scope:{order:'=order'},template:'<div class="container-fluid"><div class="row"><div class="col-xs-12 text-center"><img class="assured-icon" ng-src="/public/img/icons/30_mins_card_logo.png" height="120" /><h2>This is "Assured Order". Prepare in {{order.status.food_prep_time}} mins or less</h2><p>Prepare in {{order.status.food_prep_time}} mins</p><ul class="list-inline"><li><button class="btn btn-success decrease-order-preptime-button" type="button" disabled><i class="fa fa-minus"></i></button></li><li><span class="tag tag--green">{{order.status.food_prep_time}} mins</span></li><li><button class="btn btn-success increase-order-preptime-button" type="button" disabled><i class="fa fa-plus"></i></button></li></ul></div></div></div>'}});
angular.module('ordersApp').factory('orderService',['$q','$http','$rootScope','$compile','$window','$timeout',function(a,b,c,d,e,f){return{getCustomerInfo:function(c){var d=a.defer();return b({url:'/api/order/'+c.order_id+'/customer-info',method:'GET',config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?d.resolve(b.customer_info):d.reject()},function(){d.reject()}),d.promise},requestCallback:function(c){var d=a.defer(),e={orderId:c.order_id,restaurantId:c.outlet.rest_rid};return b({url:'/orders/v1/callRequest/',method:'POST',data:e,config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?d.resolve():d.reject()},function(){d.reject()}),d.promise},confirm:function(c){var d=a.defer(),e={orderId:c.order_id,restaurantId:c.outlet.rest_rid};return c.prepTime&&(e.prep_time=c.prepTime.total),b({url:'/orders/v1/confirmOrder/',method:'POST',data:e,config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?d.resolve():d.reject()},function(){d.reject()}),d.promise},markReady:function(c){var d=a.defer();return b({url:'/api/order/'+c.order_id+'/mark-ready',method:'POST',data:{restaurantId:c.outlet.rest_rid},config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?d.resolve(b.data):d.reject()},function(){d.reject()}),d.promise},cancelOrder:function(c,d){var e=a.defer();return b({url:'/api/cafe/order/'+c.order_id+'/cancel',method:'POST',data:{restaurantId:c.outlet.rest_rid,itemId:d},config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?e.resolve(b.data):e.reject()},function(){e.reject()}),e.promise},printReceipt:function(a){c.choosenOrder.toPrint=a;var b=d('<order-print-receipt order="choosenOrder.toPrint" />')(c);f(function(){var c=document.getElementById('print-iframe').contentWindow;if(c){var d=function(){document.activeElement.blur(),document.body.focus()};c.onafterprint=d;var e=c.document||c.contentDocument;e.body.innerHTML=b[0].innerHTML;var f=document.getElementById('order-barcode-'+a.order_id),g=f.cloneNode(!0);e.body.appendChild(g),c.print()}},0)}}}]);
angular.module('ordersApp').factory('fcmService',['$q','$http',function(a,b){return{subscribe:function(c,d){var e=a.defer(),f={};return f.subscriptionId=d,b({url:'/api/restaurant/'+c+'/fcm/subscribe',method:'PUT',data:f,config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?e.resolve(b.data):e.reject()},function(){e.reject()}),e.promise}}}]);
angular.module('ordersApp').factory('prepTimeService',['$q','$http',function(a,b){return{get:function(c){var d=a.defer();return b({url:'/api/restaurant/'+c+'/prep-time',method:'GET'}).then(function(a){var b=a.data;0===b.statusCode?d.resolve(b.data):d.reject()},function(){d.reject()}),d.promise},save:function(c,d){var e=a.defer();return d.restaurantIds=[c],b({url:'/api/restaurant/'+c+'/prep-time',method:'POST',data:d}).then(function(a){var b=a.data;0===b.statusCode?e.resolve(b.data):e.reject()},function(){e.reject()}),e.promise},update:function(c,d,e){var f=a.defer();return e.restaurantIds=[c],b({url:'/api/restaurant/'+c+'/prep-time/'+d,method:'PUT',data:e}).then(function(a){var b=a.data;0===b.statusCode?f.resolve(b.data):f.reject()},function(){f.reject()}),f.promise},delete:function(c,d){var e=a.defer();return b({url:'/api/restaurant/'+c+'/prep-time/'+d,method:'POST',data:{restaurantIds:[c]}}).then(function(a){var b=a.data;0===b.statusCode?e.resolve(b.data):e.reject()},function(){e.reject()}),e.promise},getAll:function(c){var d=a.defer();return b({url:'/api/prep-time/fetch/restaurants',method:'POST',data:{restaurantIds:c},config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?d.resolve(b.data):d.reject()},function(){d.reject()}),d.promise},getAllPrepTimes:function(c){var d=a.defer();return b({url:'/api/get-all-prep-times/fetch/restaurants',method:'POST',data:{restaurantIds:c}}).then(function(a){d.resolve(a.data)},function(a){d.reject(a)}),d.promise}}}]);
angular.module('ordersApp').factory('thirtyMinsService',['$q','$http',function(a,b){return{toggleStatus:function(c,d){var e=a.defer();return b({url:'/api/restaurant/thirtymf',method:'POST',data:{restaurantId:c,isRequestedToOpen:d}}).then(function(){e.resolve('successfully toggled status')},function(){e.reject('something went wrong')}),e.promise},getStatus:function(c){var d=a.defer();return b({url:'/restaurant/slots/v1/thirtymf/multi',method:'POST',data:{restaurantIds:c}}).then(function(a){d.resolve(a.data)},function(a){d.reject(a)}),d.promise}}}]);
angular.module('ordersApp').directive('prepTimeTab',function(){return{templateUrl:'/app/restaurant-info/templates/v1/prep-time.tpl.html'}}),angular.module('ordersApp').controller('prepTimeController',['HomeFactory','$scope','$rootScope','prepTimeService','popupService','utilsService','$timeout','$q',function(a,c,b,d,e,f,g,h){c.clone={},c.prep={},c.prep.global={},c.isThirtymfSupported=!1,c.prep.thirtymf={},c.thirtymfMaxPrepTime=20,c.thirtymfMinPrepTime=5,c.thirtymfInputStep=5,c.prep.slots={},c.slotTime={},c.globalPrepTimeFormSubmitted=!1,c.thirtymfPrepTimeFormSubmitted=!1,c.days=['monday','tuesday','wednesday','thursday','friday','saturday','sunday'],c.intro={},c.trackForPrepTime=function(a,c,d,e,f){b.appTrack({event:a,data:{eventType:'click',"object-name":a,"screen-name":'profile-page',"object-value":c,field1:f,context:e,"object-position":d}})},c.$watch('slotTime',function(a){var b=a;if(!b||!b.startHour||!b.startMinute||!b.startPeriod||!b.endHour||!b.endMinute||!b.endPeriod)return void(b.isValid=!1);var c=b.startHour.toString()+':'+b.startMinute.toString()+' '+b.startPeriod.toString(),d=b.endHour.toString()+':'+b.endMinute.toString()+' '+b.endPeriod.toString();c=moment(c,'h:mm A'),d=moment(d,'h:mm A'),b.isValid=!c.isSameOrAfter(d)},!0),c.isThirtymfSupportedForRest=function(a){for(var b=globals.userInfoDataParam.outlets||[],c=!1,d=0;d<b.length;d++)if(b[d].rest_rid===a&&b[d].assured){c=!0;break}return c},c.getPrepTimeDetails=function(a){c.prep.global[a]={},c.prep.thirtymf[a]={},c.prep.slots[a]=[],c.prep.global[a].prepTime='0',c.prep.thirtymf[a].prepTime=15,c.clone.prep=angular.copy(c.prep),c.isThirtymfSupported=c.isThirtymfSupportedForRest(a),c.isThirtyMfFeatureFlagOn=globals.userInfoDataParam.isThirtyMfEnabled,d.get(a).then(function(b){c.intro.step=1;for(var d,e=0;e<b.length;e++)if(d=b[e],d.days=d.days.map(function(a){return a.toLowerCase()}),'GLOBAL'===d.type?(c.prep.global[a]=d,c.intro.step=0):'THIRTYMF'===d.type&&(c.prep.thirtymf[a]=d),d.startTime&&'GLOBAL'!==d.type){var f=moment(d.startTime,'HH:mm'),g=moment(d.endTime,'HH:mm');d.startHour=f.format('h'),d.startMinute=f.format('mm'),d.startPeriod=f.format('A'),d.endHour=g.format('h'),d.endMinute=g.format('mm'),d.endPeriod=g.format('A'),d.prepTimeChanged=!1,c.prep.slots[a].push(d)}c.clone.prep=angular.copy(c.prep),c.prep.global[a].id&&0===c.prep.slots[a].length&&(c.prep.slots[a].push({prepTime:0,startTime:'12:40',endTime:'01:40',startHour:'12',startMinute:'40',startPeriod:'PM',endHour:'01',endMinute:'40',endPeriod:'PM',days:['monday','tuesday','wednesday','thursday','friday','saturday','sunday'],prepTimeChanged:!1,title:'Lunch Rush Hours'}),c.prep.slots[a].push({prepTime:0,startTime:'08:00',endTime:'09:00',startHour:'08',startMinute:'00',startPeriod:'PM',endHour:'09',endMinute:'00',endPeriod:'PM',days:['monday','tuesday','wednesday','thursday','friday','saturday','sunday'],prepTimeChanged:!1,title:'Dinner Rush Hours'}))},function(){c.intro.step=1})},c.changeGlobalPrepTime=function(a,g){var h=function(a,b){var f,g=c.prep,h={startTime:null,endTime:null,prepTime:b,prepTimeType:'GLOBAL',days:['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY']};f=g.global[a].id?d.update(a,g.global[a].id,h):d.save(a,h),f.then(function(b){b.days||(b.days=h.days),b.days=b.days.map(function(a){return a.toLowerCase()}),g.global[a]=b,c.clone.prep=angular.copy(g),c.prep.global[a].id&&0===c.prep.slots[a].length&&(c.prep.slots[a].push({prepTime:0,startTime:'12:40',endTime:'01:40',startHour:'12',startMinute:'40',startPeriod:'PM',endHour:'01',endMinute:'40',endPeriod:'PM',days:['monday','tuesday','wednesday','thursday','friday','saturday','sunday'],prepTimeChanged:!1,title:'Lunch Rush Hours'}),c.prep.slots[a].push({prepTime:0,startTime:'08:00',endTime:'09:00',startHour:'08',startMinute:'00',startPeriod:'PM',endHour:'09',endMinute:'00',endPeriod:'PM',days:['monday','tuesday','wednesday','thursday','friday','saturday','sunday'],prepTimeChanged:!1,title:'Dinner Rush Hours'}))},function(){e.showToast('error','Oops, something went wrong','Could not save the global preparation time. Please try again.')})};return c.globalPrepTimeFormSubmitted=!0,!1===f.isIntegrer(g)||g>b.globals.config.orders.maxPrepTime||g<b.globals.config.orders.minPrepTime?void 0:c.clone.prep?void(c.clone.prep.global[a].prepTime===g||h(a,g)):void h(a,g)},c.changeThirtymfPrepTime=function(a,g){var h=function(a,b){var f,g=c.prep,h={startTime:null,endTime:null,prepTime:b,prepTimeType:'THIRTYMF',days:['MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY','SUNDAY']};f=g.thirtymf[a].id?d.update(a,g.thirtymf[a].id,h):d.save(a,h),f.then(function(d){d.days||(d.days=h.days),d.days=d.days.map(function(a){return a.toLowerCase()}),g.thirtymf[a]=d,c.clone.prep=angular.copy(g),c.trackForPrepTime('update_assured_prep_time_request',b,null,a,!0)},function(){c.trackForPrepTime('update_assured_prep_time_request',b,null,a,!1),e.showToast('error','Oops, something went wrong','Could not save the global preparation time. Please try again.')})};return c.globalPrepTimeFormSubmitted=!0,!1===f.isIntegrer(g)||g>c.thirtymfMaxPrepTime||g<b.globals.config.orders.minPrepTime?void 0:c.clone.prep?void h(a,g):void h(a,g)},c.increaseGloablPrepTime=function(a,d){var e=c.prep,f=e.global[a].prepTime;f&&f<b.globals.config.orders.maxPrepTime&&(parseInt(f)<b.globals.config.orders.minPrepTime&&(f=b.globals.config.orders.minPrepTime-1),f=parseInt(f)+1,e.global[a].prepTime=f,e.timer&&g.cancel(e.timer),!d&&(e.timer=g(function(){c.changeGlobalPrepTime(a,f)},1e3))),c.trackForPrepTime('average-prep-time-save',f,null,a,'inc')},c.increaseThirtymfPrepTime=function(a,b){var d=c.prep,e=d.thirtymf[a].prepTime,f=parseInt(e)+c.thirtymfInputStep;e=f>c.thirtymfMaxPrepTime?c.thirtymfMaxPrepTime:f,d.thirtymf[a].prepTime=e,d.timer&&g.cancel(d.timer),b||(d.timer=g(function(){c.changeThirtymfPrepTime(a,e)},1e3)),c.trackForPrepTime('assured-prep-time-save',e,null,a,'inc')},c.decreaseGlobalPrepTime=function(a,d){var e=c.prep,f=e.global[a].prepTime;f&&f>b.globals.config.orders.minPrepTime&&(f=parseInt(f)-1,e.global[a].prepTime=f,e.timer&&g.cancel(e.timer),!d&&(e.timer=g(function(){c.changeGlobalPrepTime(a,f)},1e3))),c.trackForPrepTime('average-prep-time-save',f,null,a,'dec')},c.decreaseThirtymfPrepTime=function(a,b){var d=c.prep,e=d.thirtymf[a].prepTime,f=parseInt(e)-c.thirtymfInputStep;e=f<c.thirtymfMinPrepTime?c.thirtymfMinPrepTime:f,d.thirtymf[a].prepTime=e,d.timer&&g.cancel(d.timer),b||(d.timer=g(function(){c.changeThirtymfPrepTime(a,e)},1e3)),c.trackForPrepTime('assured-prep-time-save',e,null,a,'dec')},c.addPrepTimeSlot=function(a){c.trackForPrepTime('add-slot-time-click',null,null,a,null);var b=c.prep,d=b.slots[a];d.push({prepTime:0,startTime:'08:00',endTime:'11:00',startHour:'08',startMinute:'00',startPeriod:'AM',endHour:'11',endMinute:'00',endPeriod:'AM',days:['monday','tuesday','wednesday','thursday','friday','saturday','sunday'],prepTimeChanged:!1})},c.slotChanged=function(a,b){if(b.id)for(var d=c.clone.prep.slots[a],e=0;e<d.length;e++)if(b.id===d[e].id){if(JSON.stringify(b.days)!==JSON.stringify(d[e].days))return b.prepTimeChanged=!0,void(b.tobeDeleted=!0);var f=b.startHour.toString()+':'+b.startMinute.toString()+' '+b.startPeriod.toString(),g=b.endHour.toString()+':'+b.endMinute.toString()+' '+b.endPeriod.toString();if(f=moment(f,'h:mm A'),g=moment(g,'h:mm A'),!f.isSame(moment(d[e].startTime,'HH:mm'))||!g.isSame(moment(d[e].endTime,'HH:mm')))return void(b.prepTimeChanged=!0);if(b.prepTime!==d[e].prepTime)return void(b.prepTimeChanged=!0);b.prepTimeChanged=!1;break}},c.sortPrepSlotDays=function(a){return a.sort(function(d,a){return c.days.indexOf(d)>c.days.indexOf(a)}),a},c.selectPrepSlotDay=function(a,b,d){var e=angular.copy(b.days),f=e.indexOf(d);-1===f?e.unshift(d):e.splice(f,1),b.days=c.sortPrepSlotDays(e),c.slotChanged(a,b)},c.selectPrepSlotDays=function(a,b,d){b.days=!0===d?[]:['monday','tuesday','wednesday','thursday','friday','saturday','sunday'],c.slotChanged(a,b)},c.copyPrepSlotTime=function(a){c.slotTime.startTime=angular.copy(a.startTime),c.slotTime.startHour=angular.copy(a.startHour),c.slotTime.startMinute=angular.copy(a.startMinute),c.slotTime.startPeriod=angular.copy(a.startPeriod),c.slotTime.endTime=angular.copy(a.endTime),c.slotTime.endHour=angular.copy(a.endHour),c.slotTime.endMinute=angular.copy(a.endMinute),c.slotTime.endPeriod=angular.copy(a.endPeriod)},c.savePrepSlotTime=function(a,b,d){d.startTime=angular.copy(c.slotTime.startTime),d.startHour=angular.copy(c.slotTime.startHour),d.startMinute=angular.copy(c.slotTime.startMinute),d.startPeriod=angular.copy(c.slotTime.startPeriod),d.endTime=angular.copy(c.slotTime.endTime),d.endHour=angular.copy(c.slotTime.endHour),d.endMinute=angular.copy(c.slotTime.endMinute),d.endPeriod=angular.copy(c.slotTime.endPeriod),c.slotChanged(b,d),angular.element('.dropdown.open').removeClass('open')},c.togglePrepTimeSlotPeriod=function(a,b){!0===b?a.startPeriod='AM'===a.startPeriod?'PM':'AM':a.endPeriod='AM'===a.endPeriod?'PM':'AM'},c.increaseSlotPrepTime=function(a,d,e){e.prepTime<b.globals.config.orders.maxPrepTime&&(parseInt(e.prepTime)<b.globals.config.orders.minPrepTime&&(e.prepTime=b.globals.config.orders.minPrepTime-1),e.prepTime=parseInt(e.prepTime)+1,c.slotChanged(d,e))},c.decreaseSlotPrepTime=function(a,d,e){e.prepTime>b.globals.config.orders.minPrepTime&&(e.prepTime=parseInt(e.prepTime)-1,c.slotChanged(d,e))},c.changeSlotPrepTime=function(a,b,d){c.slotChanged(b,d)},c.savePrepTimeSlot=function(a,f,g,i){!0===a&&function(a,f){var g=c.prep.slots[a],j=f.startHour.toString()+':'+f.startMinute.toString()+' '+f.startPeriod.toString(),k=f.endHour.toString()+':'+f.endMinute.toString()+' '+f.endPeriod.toString();j=moment(j,'h:mm A'),k=moment(k,'h:mm A');for(var l=0;l<g.length;l++)if(g[l].id){if(f.id&&g[l].id.toString()===f.id.toString())continue;var m=f.days.some(function(a){return 0<=g[l].days.indexOf(a.toLowerCase())});if(!0===m){var n=moment(g[l].startTime,'HH:mm'),o=moment(g[l].endTime,'HH:mm');if(j.isSame(o)||k.isSame(n)||j.isSameOrAfter(n)&&j.isSameOrBefore(o)||k.isSameOrAfter(n)&&k.isSameOrBefore(o)||j.isSameOrBefore(n)&&k.isSameOrAfter(o))return void e.showToast('error','Error','Current slot is overlapping with another slot')}}f.prepTimeType='SLOTWISE',f.startTime=j.format('HH:mm'),f.endTime=k.format('HH:mm'),f.days=f.days.map(function(a){return a.toUpperCase()});var p={};!0===f.tobeDeleted?(c.trackForPrepTime('delete-prep-time-click',f.prepTime,null,b.globals.choosenOutlet.rest_rid,f.id),p=d.delete(a,f.id).then(function(){return delete f.tobeDeleted,delete f.id,d.save(a,f)},function(){return e.showToast('error','Oops, something went wrong','Could not save the slot. Please try again.'),h.when(null)})):f.id?p=d.update(a,f.id,f):p=d.save(a,f),p.then(function(a){if(a){a.days||(a.days=angular.copy(f.days)),a.days=a.days.map(function(a){return a.toLowerCase()}),f.title&&(a.title=f.title),!0===f.tobeDeleted?c.trackForPrepTime('delete-prep-time-click',f.prepTime,null,b.globals.choosenOutlet.rest_rid,f.id):c.trackForPrepTime('save-prep-time-click',a.prepTime,null,b.globals.choosenOutlet.rest_rid,a.id);var d=moment(a.startTime,'HH:mm'),e=moment(a.endTime,'HH:mm');a.startHour=d.format('h'),a.startMinute=d.format('mm'),a.startPeriod=d.format('A'),a.endHour=e.format('h'),a.endMinute=e.format('mm'),a.endPeriod=e.format('A'),a.prepTimeChanged=!1,g[i]=a,c.clone.prep=angular.copy(c.prep)}},function(){e.showToast('error','Oops, something went wrong','Could not save the slot. Please try again.')})}(f,g)},c.cancelPrepTimeSlot=function(a,d,e){var f=c.clone.prep.slots[a];c.trackForPrepTime('cancel-prep-time-click',d[e].prepTime,null,b.globals.choosenOutlet.rest_rid,d[e].id),d[e].id?g(function(){for(var a=0;a<f.length;a++)if(d[e].id===f[a].id){c.$apply(function(a){d[e]=angular.copy(f[a])}(a));break}},0):d.splice(e,1)},c.deletePrepTimeSlot=function(a,f,g){var h=function(a,f){var g=c.prep.slots[a];c.trackForPrepTime('delete-prep-time-click',f.prepTime,null,b.globals.choosenOutlet.rest_rid,f.id),d.delete(a,f.id).then(function(){for(var a=0;a<g.length;a++)if(g[a].id&&g[a].id.toString()===f.id.toString()){g.splice(a,1);break}c.clone.prep=angular.copy(c.prep)},function(){e.showToast('error','Oops, something went wrong','Could not delete the slot. Please try again.')})},i=f[g];e.showConfirmation('<h4>Are you sure?</h4>','<p>You are about to delete the prep time slot</p>').then(function(){h(a,i)},function(){})},c.increaseHour=function(a,b){var c=!0===b?a.startHour:a.endHour;!0===f.isIntegrer(c)&&(c=parseInt(c),12>=c+1&&++c),!0===b?a.startHour=c:a.endHour=c},c.decreaseHour=function(a,b){var c=!0===b?a.startHour:a.endHour;!0===f.isIntegrer(c)&&(c=parseInt(c),1<=c-1&&--c),!0===b?a.startHour=c:a.endHour=c},c.increaseMinute=function(a,b){var c=!0===b?a.startMinute:a.endMinute;!0===f.isIntegrer(c)&&(c=parseInt(c),59>=c+1&&++c),!0===b?a.startMinute=c:a.endMinute=c},c.decreaseMinute=function(a,b){var c=!0===b?a.startMinute:a.endMinute;!0===f.isIntegrer(c)&&(c=parseInt(c),0<=c-1&&--c),!0===b?a.startMinute=c:a.endMinute=c}}]);
angular.module('ordersApp').factory('partnerCbService',['$q','$http','$rootScope','$compile','$window','$timeout','$httpParamSerializer',function(a,b,c,d,e,f,g){return{getCBInfoList:function(c,d){function e(a){var b={new:[],preparing:[],ready:[]},c=a.data.dispositions;return c.sort(function(c,a){return c.order-a.order}),c.forEach(function(a){Object.keys(b).forEach(function(c){var d=JSON.parse(JSON.stringify(a));-1!==d.show.indexOf(c)&&(d.showConfirmationDialog=-1!==d.showConfirmationDialog.indexOf(c),b[c].push(d))})}),{desposition:b,dialogText:a.data.dialogText,timeConfig:a.data.timeConfig,oosTitleText:a.data.oosTitleText}}var f=a.defer(),h={cities:c.join(','),restaurantIds:d.join(',')};return b({url:'/api/order/v1/dispositions?'+g(h),method:'GET',config:{timeout:3e3}}).then(function(a){var b=a.data;0===b.statusCode?f.resolve(e(b)):f.reject()},function(){f.reject()}),f.promise},submitDesposition:function(c){var d=a.defer();return b({url:'/orders/v1/callRequest/',method:'POST',data:c}).then(function(a){var b=a.data;0===b.statusCode?d.resolve():d.reject(b)},function(a){d.reject(a.data)}),d.promise}}}]);
angular.module('ordersApp').directive('partnerCbView',function(){return{templateUrl:'/app/restaurant-info/templates/v1/partner-cb-view.html'}}),angular.module('ordersApp').controller('partnerCbController',['$scope','$rootScope','prepTimeService','popupService','utilsService','$timeout','$q','partnerCbService','$window','$document',function(a,b,c,d,e,f,g,h,i,j){function k(){try{a.hopElement&&a.hopElement.remove(),a.hopElement=null}catch(b){a.hopElement=null}try{f.cancel(a.animatedOosId)}catch(b){a.animatedOosId=null}}a.showModal=!1,a.modalInfo={showExpandedIssueList:!1,showPreConfirmErrorList:!1,showOosAnimation:!1,showDeTrackInfo:!1,currentOrder:null},a.radioOption={currentDesposition:null},a.confirmation=null,a.despositions=[],a.oosDespositionId=1,a.deTrackingId=2,a.pcbTrack=function(a,c,d,e,f){b.appTrack({event:a,data:{eventType:'click',"object-name":a,"screen-name":'order-page',"object-value":c,field1:f,context:e,"object-position":d}})},a.scrollTo=function(a,b){var c=function(){};switch(b=b||c,$('body').removeClass('stop-scroll'),a){case'top':$('html, body').stop().animate({scrollTop:0},10,'swing',b);break;case'bottom':$('html, body').stop().animate({scrollTop:j[0].body.scrollHeight},10,'swing',b);break;default:}$('body').addClass('stop-scroll')},h.getCBInfoList(Object.keys(b.globals.cities),globals.userInfoDataParam.restaurantList).then(function(b){a.despositions=b.desposition,a.timeConfig=b.timeConfig,a.dialogText=b.dialogText||'Order will be delayed by 10-15 mins',a.oosTitleText=b.oosTitleText||'Text for OOS'}).catch(function(a){console.log('Error',a)}),a.setConfirmationModalContent=function(){var b=document.getElementsByClassName('order-action-btn--'+a.order.tag)[0],c=b.getBoundingClientRect();a.confirmation={title:'Alright',subTitle:'Please confirm the order',description:'We will inform customer about this.',actionText:'OK',secondaryText:'Request for callback',callOnActionClick:!1,style:{position:'fixed',top:c.top,left:c.left,transform:'translate(100%, -100%)'}}},a.showOOSHelperModal=function(){var b=document.getElementsByClassName('out-of-stock-btn--'+a.order.tag)[0],c=b.getBoundingClientRect(),d=c.top,e=c.left,f='translate('+(c.width+10)+'px, 0)';a.confirmation={title:'Click here to mark item(s) out of stock and suggest alternates',subTitle:'',description:'',actionText:'ALRIGHT, GOT IT',secondaryText:'Request for callback',callOnActionClick:!0,primaryAction:'closeCbPopup',secondayAction:'requestCallBack',style:{position:'fixed',bottom:'60px',left:'490px'},arrowStyle:{}}},a.getCurrentOrderCity=function(){return a.order.outlet.rest_city_id||1},a.outsideModalClick=function(){(a.modalInfo.showPreConfirmErrorList||a.modalInfo.showExpandedIssueList)&&a.closeCbPopup(null,!0)},a.isUserOnSmallerResolution=function(){var a=i.matchMedia('(max-width: 1359px)');return a.matches},a.showDeTrackingModal=function(){var b=document.getElementsByClassName('order-details__delivery-boy--'+a.order.tag)[0],c=b&&b.getBoundingClientRect(),d='Assigning shortly';a.order.delivery_boy.mobile&&(d='On his way to your restaurant');var e=!1,f=new Date,g=a.getCurrentOrderCity();f.getTime()-new Date(a.order.status.ordered_time).getTime()>a.timeConfig[g]&&(e=!0),a.scrollTo('top'),a.confirmation={title:'Delivery Executive',subTitle:'',description:d,actionText:'ALRIGHT, GOT IT',secondaryText:'Request for callback',callOnActionClick:e,style:{position:'fixed',top:c.top+c.height+40,left:c.left,transform:'translate(-'+c.width/2+'px)'},arrowStyle:{top:'-8px',right:0}}},a.animateOos=function(b){try{a.hopElement&&a.hopElement.move&&(a.hopElement.move(b+'%',0,!0),a.animatedOosId=f(function(){a.animateOos(-1*b)},750))}catch(a){}},a.showOosHelpInfo=function(){a.modalInfo.showPreConfirmErrorList=!1,a.modalInfo.showExpandedIssueList=!1,a.makeModalTransparent=!0,a.closeCbPopup(),f(function(){angular.element('.out-of-stock-btn--new').trigger('click')},100)},a.showDeHelpInfo=function(){function b(){var b=document.getElementsByClassName('order-details__delivery-boy--'+a.order.tag)[0],c=b.getBoundingClientRect();a.showDeTrackingModal();var d='default';'confirmed'!==a.order.status.delivery_status||0===a.order.delivery_boy.timeLeft||(d='pointer'),a.highlightedElement={},a.highlightedElement.style={top:c.top-20,width:c.width,height:c.height+40,left:c.left,"box-shadow":'0 0 0 10000px rgba(0,0,0,.52)',cursor:d}}a.modalInfo.showPreConfirmErrorList=!1,a.modalInfo.showExpandedIssueList=!1,a.makeModalTransparent=!0,a.isUserOnSmallerResolution()?(a.toggleSideBarForSmallerScreen(!1),f(function(){b()},0)):b()},a.closeCbPopup=function(b){a.fadeInDespositionList=!1,function(){a.showModal=!1,a.highlightedElement=null,a.confirmation=null,a.cbAcknowledged=!1,a.makeModalTransparent=!1,a.radioOption={currentDesposition:null},a.animatedOosId=null,k(),$('body').removeClass('stop-scroll')}();b&&('desposition_list_close'===b?a.pcbTrack('desposition_list_close_click',a.order.order_id,null,a.order.tag,null):'blocker-cancel'===b?a.pcbTrack('cancel_on_blocker_for_cb_click',a.radioOption.currentDesposition,null,a.order.order_id,a.order.tag):'alright_cb_click'===b?a.pcbTrack('alright_cb_click',a.radioOption.currentDesposition,null,a.order.order_id,a.order.tag):void 0);a.isUserOnSmallerResolution()&&a.toggleSideBarForSmallerScreen(!1)},a.openExpandedMenu=function(){a.modalInfo.showPreConfirmErrorList=!1,a.modalInfo.showExpandedIssueList=!0,a.pcbTrack('desposition_more_option_click',a.order.order_id,null,a.order.tag,null)},a.onDespositionClick=function(b){b=parseInt(b,10),a.radioOption.currentDesposition=b,b===a.oosDespositionId?a.showOosHelpInfo():b===a.deTrackingId?'ready'===a.order.tag?a.requestCallBack():a.showDeHelpInfo():a.requestCallBack(),a.pcbTrack('desposition_item_click',a.radioOption.currentDesposition,null,a.order.order_id,a.order.tag)},a.actionBtnClick=function(){if(!a.confirmation.callOnActionClick){a.closeCbPopup(),a.confirmation=null;try{a.hopElement&&a.hopElement.remove()}catch(a){console.log('Error',a)}}else a.requestCallBack()},a.requestCallBack=function(){var b=a.despositions[a.order.tag].filter(function(b){return a.radioOption.currentDesposition==b.id});if(b)b=b[0];else return void alert('Didnt find desopsition');b.showConfirmationDialog?a.renderConfirmationDialog(b):a.requestCallBackApiCall()},a.renderConfirmationDialog=function(b){function c(){f(function(){var c={bottom:'0',left:'-12px',"border-color":'transparent transparent #e3e3e3'},d={position:'fixed',right:'100px',bottom:'100px',top:'90%',transform:'translateY(calc(-100% - 260px))'},e=document.getElementsByClassName('order-action-btn--'+a.order.tag)[0],f=e&&e.getBoundingClientRect();f&&'ready'!==a.order.tag&&(d={position:'fixed',left:f.right+'px',top:f.top+'px',transform:'translateY(-100%)'},a.isUserOnSmallerResolution()&&(d={position:'fixed',left:f.left+'px',top:f.top+'px',transform:'translate(calc(-100% - 15px), -100%)'},c={bottom:'0',right:'-9px',"border-color":'transparent transparent #e3e3e3',transform:'rotate(90deg)'}));var g='CONFIRM THE ORDER PLEASE';if('preparing'===a.order.tag&&(g='<div>MARK THE ORDER</div><div>READY FOR PICK UP</div>'),a.order.unavailable_item.id&&(g='<div>Please send the </div><div>alternate suggestions first</div>'),'ready'!==a.order.tag&&f||(g='',c={display:'none'}),a.radioOption.currentDesposition==a.oosDespositionId){g=a.oosTitleText,k(),a.showOosHelpInfo(!0);var h=document.getElementsByClassName('mark-out-of-stock--'+a.order.tag)[0],i=h&&h.getBoundingClientRect();i&&(d={position:'fixed',left:i.right+15+'px',top:i.top-35+'px'},c={top:'40px',left:'-12px',"border-color":'transparent transparent #fff'},a.isUserOnSmallerResolution()&&(d={position:'fixed',left:i.left+'px',top:i.top-35+'px',transform:'translate(calc(-100% - 15px), 0)'},c={top:'40px',right:'-10px',"border-color":'transparent transparent #fff',transform:'rotate(180deg)'}))}a.radioOption.currentDesposition==a.deTrackingId&&a.isUserOnSmallerResolution()&&a.toggleSideBarForSmallerScreen(!0),a.confirmation={title:'We heard you!',subTitle:g,description:b.confirmationDescription,actionText:'PLEASE CALLBACK',secondaryText:'Cancel',primaryAction:'requestCallBackApiCall',secondayAction:'closeCbPopup',callOnActionClick:!0,isCbBlocker:!0,disclaimer:a.dialogText,style:d,arrowStyle:c}},0)}a.setDefault(),a.radioOption.currentDesposition==a.oosDespositionId?c():a.scrollTo('bottom',c),a.pcbTrack('partner_shown_blocker_for_cb',a.radioOption.currentDesposition,null,a.order.order_id,a.order.tag)},a.setDefault=function(){k(),a.highlightedElement=null,a.confirmation=null,a.cbAcknowledged=!1,a.makeModalTransparent=!1,a.modalInfo.showPreConfirmErrorList=!1,a.modalInfo.showExpandedIssueList=!1},a.requestCallBackApiCall=function(){a.order.outlet=a.order.outlet||{};var b=a.despositions[a.order.tag].filter(function(b){return a.radioOption.currentDesposition==b.id});if(b)b=b[0];else return void alert('Didnt find desopsition');var c={orderId:a.order.order_id,restaurantId:a.order.outlet.rest_rid,dispositionId:b.id,cityId:a.getCurrentOrderCity()};h.submitDesposition(c).then(function(){a.setDefault(),a.showCBSucessMessage(),a.pcbTrack('partner_callback_api_click',a.radioOption.currentDesposition,null,a.order.order_id,a.order.tag)}).catch(function(b){a.closeCbPopup(),d.showToast('error','Error',b.statusMessage||'Unable to request for callback. Please try again.')})},a.showCBSucessMessage=function(){function b(){f(function(){if(a.radioOption.currentDesposition!=a.oosDespositionId){var b=document.getElementsByClassName('order-action-btn--'+a.order.tag)[0],e=b&&b.getBoundingClientRect();'ready'!==a.order.tag&&e||(c={display:'none'},d={position:'fixed',right:'100px',bottom:'100px',top:'90%',transform:'translateY(-100%)',"border-radius":'5px'}),e&&'ready'!==a.order.tag&&(d={left:e.right+3+'px',top:e.top+'px',transform:'translateY(-100%)'})}a.makeModalTransparent=!1,a.highlightedElement=null,a.confirmation=null,a.cbAcknowledged={style:d,arrowStyle:c}})}k();var c={},d={};if(a.radioOption.currentDesposition==a.oosDespositionId){var e=document.getElementsByClassName('mark-out-of-stock--'+a.order.tag)[0],g=e&&e.getBoundingClientRect();g&&(d={position:'fixed',left:g.right+15+'px',top:g.top+'px',"border-radius":'5px'},c={top:'5px',left:'-12px',"border-color":'transparent transparent #fff'}),b()}else a.scrollTo('bottom',b)},a.onHighlightedClick=function(){'confirmed'!==a.order.status.delivery_status||0===a.order.delivery_boy.timeLeft||(a.closeCbPopup(),b.toggleOrderSwitch(a.order,'deTracking'),b.startDeTracking(a.order))},a.toggleSideBarForSmallerScreen=function(c){b.choosenOrder[a.order.tag].orderDetailsSidebar=c,b.toggleOrderDetailsSidebar(b.choosenOrder[a.order.tag])},b.$on('REQUEST_CALLBACK_CLICKED',function(c,d){a.scrollTo('top'),a.showModal=!0,a.order=d.order,$('body').addClass('stop-scroll'),a.pcbTrack('partner_callback_i_need_help_click',a.order.order_id,b.orders.indexing[a.order.tag].indexOf(a.order.order_id)+1,a.order.tag,null),'new'===a.order.tag?(a.modalInfo.showPreConfirmErrorList=!0,a.modalInfo.showExpandedIssueList=!1):(a.modalInfo.showPreConfirmErrorList=!1,a.modalInfo.showExpandedIssueList=!0),a.isUserOnSmallerResolution()&&a.toggleSideBarForSmallerScreen(!0)})}]);
angular.module('ordersApp').directive('debugAppView',function(){return{templateUrl:'/app/restaurant-info/templates/v1/debug-app-view.html'}}),angular.module('ordersApp').controller('debugAppController',['$scope','$rootScope','$timeout','$q','$window','$document',function(a,b,c,d,e){a.debugTests={check_for_internet:function(){},check_url:function(){return new Promise(function(a){var b=window.location.href;a({status:-1!==b.indexOf('partner.swiggy.com')})})},check_notification:function(){return new Promise(function(a){e.Notification||a({status:!1,message:'Browser doesnt support notifications'}),'granted'!==e.Notification.permission&&(e.Notification.requestPermission(),a({status:!1,message:'Notification permission not given'})),b.showDesktopNotification('Test for notification','Test Notification'),a({status:!0,message:'Please Verify if you saw a notification'})})},check_for_sound:function(){return new Promise(function(a){try{var b=document.getElementById('order-sound');b.volume=1,b.play().then(function(){a({status:!0})}).catch(function(a){throw a})}catch(b){a({status:!1,message:'Error while playing sound'})}})}},a.testsToPerform=[{id:2,name:'Are you on www.partner.swiggy.com?',functionsToPerfrom:a.debugTests.check_url},{id:4,name:'Notifications are allowed?',functionsToPerfrom:a.debugTests.check_notification},{id:5,name:'Sound is enabled?',functionsToPerfrom:a.debugTests.check_for_sound,message:'Are your able to listen to the sound notification?'}],a.startAppDebug=function(){a.showTestingLoader=!0,a.showApiResponse=!1;var d=1e3;a.testsDone=0,a.testsToPerform.forEach(function(e){e.status='progress',e.functionsToPerfrom().then(function(f){var g=d;c(function(){b.$apply(function(){e.status=f.status?'success':'fail',e.message=f.message,++a.testsDone})},g),d+=1e3})})},a.submitAction=function(c){var d=[];try{var e=a.testsToPerform.filter(function(a){return'success'!=a.status});d=e.map(function(a){return a.name})}catch(a){d=[]}var f={event:'app_debug_submission',data:{"object-name":'app_debug_submission',"object-value":c,context:d.join(','),field1:null,"screen-name":'settings-page',"object-position":0,eventType:'click'}};b.appTrack(f),a.testsDone=0,a.showTestingLoader=!1,a.showApiResponse=!0}}]);
angular.module('ordersApp').factory('menuService',['$q','$http','$httpParamSerializer',function(a,b,c){return{getSuggestions:function(d){var e=a.defer(),f={restaurant_id:d.outlet.rest_rid,order_type:d.type};return b({url:'/api/order/'+d.order_id+'/smart-suggestions?'+c(f),method:'GET',config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?b.data?e.resolve(b.data.smartSuggestionData):e.reject():e.reject()},function(){e.reject()}),e.promise},getAlternatives:function(d){var e=a.defer(),f={restaurantId:d.outlet.rest_rid};return b({url:'/restaurant/v2/fetchAlternatives?'+c(f),method:'GET',config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?e.resolve(b.data.categories):e.reject()},function(){e.reject()}),e.promise},sendAlternatives:function(c){var d=a.defer();return b({url:'/api/order/'+c.orderId+'/send-suggestions',method:'POST',data:c,config:{silent:!1}}).then(function(a){var b=a.data;0===b.statusCode?d.resolve(b.data):d.reject()},function(){d.reject()}),d.promise}}}]);
angular.module('ordersApp').filter('menuSearch',function(){return function(a,b,c,d){if(!b||!a)return a;var e=[];c.results=0,d&&(d.results=0);for(var f,g=0;g<a.length;g++)f=a[g],-1<f.name.toString().toLowerCase().indexOf(b.toLowerCase())&&(-1<c.indexing.items.indexOf(f.id)&&(d?d.results++:c.results++),e.push(f));if(d)for(var g=0;g<c.subCategories.length;g++)c.results+=c.subCategories[g].results;return e}});
angular.module('ordersApp').controller('itemAlternativesController',['$scope','$rootScope','menuService','popupService','$q','$timeout',function(a,b,c,d,e,f){a.order={},a.chooseItemAlternatives=!1,a.showSmartSuggestions=!1,a.smartSuggestionsLoading=!1,a.smartSuggestions={},a.oosItems=[],a.indexing={},a.indexing.oosItems=[],a.indexing.touched=[],a.oosItem={},a.oosItemIndex=-1,a.showSummary=!1,a.allItems=[],a.itemModel={},a.suggestionsSent=!1,a.alternatives={},a.indexing.alternatives={},a.showToast=!1,a.toastTimer=null,a.toastText='',a.itemAlternativesTrack=function(){var a=arguments[4]||'item-oos',c=arguments[6]||'click',d={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":a,"object-position":arguments[5],eventType:c}};b.appTrack(d)},a.prepareMenuItems=function(b){for(var c,d=Math.round,e=0;e<b.length;e++){if(c=b[e],c.available=!1,c.indexing={},c.indexing.items=[],c.numItems=0,c.subCategories){var f=c.subCategories;for(scindex=0;scindex<f.length;scindex++){var g=f[scindex];if(g.available=!1,g.menu){for(var h,i=g.menu,j=0,k=0;k<i.length;k++)h=i[k],h.price=0>=h.price?0:d(10*h.price)/10,h.is_oos||h.id===a.oosItem.item_id?(h.is_oos=!0,j++):(c.numItems++,h.category=c.name,h.subCategory=g.name,a.allItems.push(h),-1===c.indexing.items.indexOf(h.id)&&c.indexing.items.push(h.id));j<i.length&&(g.available=!0,!1===c.available&&(c.available=!0))}}}if(c.menu){for(var h,i=c.menu,j=0,k=0;k<i.length;k++)h=i[k],h.price=0>=h.price?0:d(10*h.price)/10,h.is_oos||h.id===a.oosItem.item_id?(h.is_oos=!0,j++):(c.numItems++,h.category=c.name,h.subCategory='',a.allItems.push(h),-1===c.indexing.items.indexOf(h.id)&&c.indexing.items.push(h.id));j<i.length&&!1===c.available&&(c.available=!0)}}},a.fetchMenu=function(){var b=e.defer();return a.smartSuggestionsLoading=!0,c.getAlternatives(a.order).then(function(c){a.smartSuggestionsLoading=!1,b.resolve(c)},function(){d.showToast('error','Oops, something went wrong','Could not load menu. Please try again.'),a.smartSuggestionsLoading=!1,b.reject()}),b.promise},b.$on('open-item-alternatives-popup',function(b,d){a.chooseItemAlternatives=!0,a.order=d.order,a.smartSuggestionsLoading=!0,a.smartSuggestionsAlternatesLimit=4,c.getSuggestions(d.order).then(function(b){if(b&&b instanceof Array){for(var c,d=!0,e=0;e<b.length;e++)if(c=b[e],c.alternates&&c.alternates instanceof Array&&0<c.alternates.length)a.smartSuggestions[c.itemId]=c.alternates.slice(0,a.smartSuggestionsAlternatesLimit);else{d=!1;break}if(!0==d)for(var c,e=0;e<a.order.cart.items.length;e++)if(c=a.order.cart.items[e],'undefined'==typeof a.smartSuggestions[c.item_id]){d=!1;break}a.showSmartSuggestions=d}else a.showSmartSuggestions=!1;a.smartSuggestionsLoading=!1},function(){a.showSmartSuggestions=!1,a.smartSuggestionsLoading=!1})}),a.closeItemAlternativesPopup=function(){for(var b=0;b<a.oosItems.length;b++)a.oosItems[b].alternatives=[],a.oosItems[b].indexing.alternatives=[],a.oosItems[b].searchResults={},a.oosItems[b].searchTerm='';a.oosItems=[],a.indexing.oosItems=[],a.indexing.touched=[],a.oosItem={},a.oosItemIndex=-1,a.smartSuggestions={},a.smartSuggestionsLoading=!1,a.showSmartSuggestions=!1,a.chooseItemAlternatives=!1,a.showSummary=!1,a.suggestionsSent=!1,a.itemModel.search=''},b.$on('close-item-alternatives-popup',function(){a.closeItemAlternativesPopup()}),a.selectItem=function(b){var c=a.indexing.oosItems.indexOf(b.id),d=a.order.order_id;if(a.itemAlternativesTrack('oos_item_click',b.item_id,d,null,null,null,'click'),-1<c)return a.oosItems[c].alternatives=[],a.oosItems[c].indexing={},a.oosItems[c].indexing.alternatives=[],a.oosItems.splice(c,1),a.indexing.oosItems.splice(c,1),c=a.indexing.touched.indexOf(b.id),void(-1<c&&a.indexing.touched.splice(c,1));if(b.alternatives=[],b.indexing={},b.indexing.alternatives=[],!0===a.showSmartSuggestions){var e=a.smartSuggestions[b.item_id];b.alternatives=b.alternatives.concat(e),b.indexing.alternatives=b.indexing.alternatives.concat(e.map(function(a){return a.id})),b.changedAlternatives=!1,a.indexing.touched.push(b.id),a.itemAlternativesTrack('view_item_oos_screen','-',d,null,null,null,'impression')}a.oosItems.push(b),a.indexing.oosItems.push(b.id)},a.selectAlternative=function(b,c,d,e){var g=d.indexing.alternatives.indexOf(c.id),h=a.order.order_id,i=-1<d.indexing.alternatives.indexOf(c.id);return e?a.itemAlternativesTrack('suggested_item_click',d.item_id,h,c.id,null,!i,'click'):a.itemAlternativesTrack('menu-item-alternative-click',d.item_id,h,c.id,null,!i,'click'),-1<g?(d.alternatives.splice(g,1),d.indexing.alternatives.splice(g,1),void(0===d.alternatives.length&&(a.itemAlternativesTrack('menu-item-limit',d.item_id,h,0,null,null,'impression'),g=a.indexing.touched.indexOf(d.id),-1<g&&a.indexing.touched.splice(g,1),a.toastTimer&&f.cancel(a.toastTimer),a.toastText='You should select at least on alternative.',a.showToast=!0,a.toastTimer=f(function(){a.showToast=!1},5e3)))):4===d.alternatives.length?(b.preventDefault(),a.itemAlternativesTrack('menu-item-limit',d.item_id,h,4,null,null,'impression'),a.toastTimer&&f.cancel(a.toastTimer),a.toastText='You can only select a maximum of 4 alternatives.',a.showToast=!0,void(a.toastTimer=f(function(){a.showToast=!1},5e3))):void(d.alternatives.push(c),d.indexing.alternatives.push(c.id),g=a.indexing.touched.indexOf(d.id),-1===g&&a.indexing.touched.push(d.id))},a.gotoNextStep=function(){var b;b=a.categories?e.when(a.categories):a.fetchMenu(),b.then(function(b){return a.prepareMenuItems(b),a.categories=b,a.oosItemIndex++,a.oosItems.length===a.oosItemIndex?void(a.showSummary=!0):void(a.oosItem=a.oosItems[a.oosItemIndex],a.itemModel.search=a.oosItem.searchTerm,!a.oosItem.searchResults&&(a.oosItem.searchResults={}),a.showSummary=!1,angular.element(document).find('.choose-alternatives-content').mCustomScrollbar('scrollTo',0))},function(){})},a.gotoPrevStep=function(){if(a.showSummary=!1,0<=a.oosItemIndex){if(a.oosItemIndex--,0<=a.oosItemIndex)return a.oosItem=a.oosItems[a.oosItemIndex],a.itemModel.search=a.oosItem.searchTerm,a.oosItem.searchResults||(a.oosItem.searchResults={}),void angular.element(document).find('.choose-alternatives-content').mCustomScrollbar('scrollTo',0);a.oosItem={}}},a.changeAlternatives=function(b){var c;c=a.categories?e.when(a.categories):a.fetchMenu(),c.then(function(c){var d=a.order.order_id;a.itemAlternativesTrack('menu_click',b.item_id,d,null,null,null,'click'),a.prepareMenuItems(c),a.categories=c,a.oosItemIndex=a.indexing.oosItems.indexOf(b.id),a.oosItem=a.oosItems[a.oosItemIndex],a.oosItem.previousAlternatives=angular.copy(a.oosItem.alternatives)},function(){})},a.doneChangeAlternatives=function(){delete a.oosItem.previousAlternatives,a.oosItem.changedAlternatives=!0,a.alternatives[a.oosItem.id]=angular.copy(a.oosItem.alternatives),a.oosItem={},a.oosItemIndex=-1},a.cancelChangeAlternatives=function(){var b=a.oosItem.previousAlternatives;if(0===b.length&&a.alternatives[a.oosItem.id]&&(b=angular.copy(a.alternatives[a.oosItem.id])),0<b.length){a.oosItem.alternatives=b,a.oosItem.indexing.alternatives=b.map(function(a){return a.id});var c=a.indexing.touched.indexOf(a.oosItem.id);-1===c&&a.indexing.touched.push(a.oosItem.id)}else{a.oosItem.alternatives=[],a.oosItem.indexing.alternatives=[];var c=a.indexing.touched.indexOf(a.oosItem.id);-1<c&&a.indexing.touched.splice(c,1)}delete a.oosItem.previousAlternatives,a.oosItem={},a.oosItemIndex=-1},a.searchAlternative=function(){var b=a.oosItem,c=a.itemModel.search,d=a.allItems,e={},f=a.order.order_id;if(a.itemAlternativesTrack('menu-search-click',b.item_id,f,c,null,null,'click'),!c||0===c.toString().length)return b.searchTerm='',void(b.searchResults={});for(var g,h=0;h<d.length;h++)g=d[h],-1<g.category.toString().toLowerCase().indexOf(c.toLowerCase())?e[g.id]=g:-1<g.subCategory.toString().toLowerCase().indexOf(c.toLowerCase())?e[g.id]=g:-1<g.name.toString().toLowerCase().indexOf(c.toLowerCase())&&(e[g.id]=g);b.searchTerm=c,b.searchResults=e},a.cancelAlternativesSelection=function(){for(var b=!1,c=a.order.order_id,e=0;e<a.oosItems.length;e++)if(0<a.oosItems[e].alternatives.length){b=!0;break}return!0==b?void d.showConfirmation('<h3 class="text-left">Cancel alternatives?</h3>','<p>You have suggeted alternatives for item(s). Are you sure you want to discard them?</p>',{confirmButtonText:'CANCEL THIS EDIT',cancelButtonText:'RETURN TO EDIT',confirmButtonClass:'btn btn-lg btn-default',cancelButtonClass:'btn btn-lg btn-warning',reverseButtons:!0,customClass:'leave-page-popup'}).then(function(){a.itemAlternativesTrack('cancel_edit','-',c,null,null,null,'click'),a.closeItemAlternativesPopup()},function(){a.itemAlternativesTrack('return_edit','-',c,null,null,null,'click')}):void(a.itemAlternativesTrack('cancel_edit','-',c,null,null,null,'click'),a.closeItemAlternativesPopup())},a.clearAlternativesSearch=function(){var b=a.oosItem;b.searchTerm='',b.searchResults={},a.itemModel.search=''},a.sendAlternatives=function(){a.sendAlternativesProgress=!0;var e=a.order,g=e.order_id,h=e.outlet.rest_rid,i=a.oosItems,j=[],k=[],l=[];i.forEach(function(a){l.push(a.item_id),a.alternatives.forEach(function(a){k.push(a.id)})}),a.itemAlternativesTrack('mos_send_suggestion_click',l.join(','),g,k.join(','),null,null,'click');for(var m,n=0;n<i.length;n++)m=i[n],j.push({item:m,alternates:m.alternatives});c.sendAlternatives({orderId:g,restaurantId:h,oosData:j}).then(function(){a.suggestionsSent=!0;var c=e.tag,d=b.orders.indexing[c].indexOf(e.order_id);b.orders[c].splice(d,1),b.orders.indexing[c].splice(d,1),e.tag='pending',b.orders.pending.unshift(e),b.orders.indexing.pending.unshift(e.order_id),b.choosenOrder[c]={};var g={};b.orders.indexing[c][d]?g=b.orders[c][d]:0<b.orders[c].length&&(g=b.orders[c][0]),g.order_id&&f(function(){b.selectOrder(g)},500),a.sendAlternativesProgress=!1,f(function(){a.closeItemAlternativesPopup()},3e3)},function(){d.showToast('error','Error','Unable to suggest alternatives. Please try again.'),a.sendAlternativesProgress=!1})},a.sizeOf=function(a){return a&&'object'==typeof a?Object.keys(a).length:0},angular.element('.choose-alternatives-content').mCustomScrollbar({autoHideScrollbar:!0,live:!0})}]);
angular.module('ordersApp').factory('deService',['$q','$http',function(a,b){return{trackLocation:function(c){var d=a.defer(),e=c.order_id,f=c.outlet.rest_rid;return b({url:'/api/restaurant/'+f+'/order/'+e+'/de/track/location',method:'GET',config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?d.resolve(b.data):d.reject()},function(){d.reject()}),d.promise}}}]);
angular.module('ordersApp').directive('countdownTimer',function(){return{restrict:'E',transclude:!0,scope:{endtime:'=',interval:'=?',clockdrift:'=',shouldblink:'@?',rendertimer:'@?'},controller:['$scope','$element','$attrs','$timeout','$interval','$filter',function(a,b,c,d,e,f){a.shownTime='00:00',a.durationLeftSecs=0,a.shouldblink=a.shouldblink||!1,a.tick=function(){var c=moment();if(a.endtime+(a.clockdrift||0)>c){'hidden'===b.css('visibility')&&b.css('visibility','visible');var d=a.endtime.diff(c,'seconds')+(a.clockdrift/1e3||0);a.durationLeftSecs=d,a.durationLeftSecs=d;var g=f('duration'),h=g(1e3*d,'mm:ss');a.shownTime=h}else a.shownTime='00:00',a.durationLeftSecs=0,a.shouldblink?a.blink():(b.css('visibility','visible'),e.cancel([a.intervalId]))},a.blink=function(){'hidden'===b.css('visibility')?b.css('visibility','inherit'):b.css('visibility','hidden')},a.endtime&&(a.tick(),a.intervalId=e(a.tick,1e3),a.$on('$destroy',function(){console.log('timer destroyed'),e.cancel([a.intervalId])}))}],template:function(a,b){return'false'===b.rendertimer?'<div ng-transclude></div>':'<div>{{shownTime}}</div>'}}});
var app=angular.module('homeAppV2',['ngRaven','ngCookies','ngAnimate','ui.bootstrap','selector','duScroll','ui.bootstrap.datetimepicker','ngFileUpload','angucomplete-alt','ngSanitize','ui.bootstrap.pagination','isteven-multi-select','ordersApp']);app.config(['$interpolateProvider',function(e){e.startSymbol('{[{'),e.endSymbol('}]}')}]),app.controller('HomeCtrlV2',HomeCtrlV2).config(['$provide',function(e){e.decorator('$browser',['$delegate',function(e){return e.onUrlChange=function(){},e.url=function(){return''},e}])}]).directive('toggleModel',function(){return{restrict:'E',templateUrl:'/app/shared/templates/home/v1/toggle-model.html'}}).directive('sellerTierOverview',function(){return{restrict:'E',templateUrl:'/app/seller-tier/templates/overview-component.html',controller:'SellerTierController'}}).directive('sellerTierDesc',function(){return{restrict:'E',templateUrl:'/app/seller-tier/templates/description-component.html'}}).directive('statusComponentDesktop',function(){return{restrict:'E',templateUrl:'/app/seller-tier/templates/status-component-desktop.html'}}).directive('performanceTd',function(){return{restrict:'E',templateUrl:'/app/seller-tier/templates/performace-component.html'}}).directive('benchmarkComponent',function(){return{restrict:'E',templateUrl:'/app/seller-tier/templates/benchmark-component.html'}}).directive('passwordPolicyConfigView',function(){return{restrict:'E',templateUrl:'/app/shared/templates/password-policy-config-view.html'}}).controller('PasswordPolicyPopUp',PasswordPolicyPopUp).controller('ToggleOrderController',ToggleOrderController).controller('RestOnOffController',RestOnOffController).controller('RestNotificationCtroller',RestNotificationCtroller),HomeCtrlV2.$inject=['$scope','$timeout','$cookies','$interval','$window','HomeFactory','$uibModal','$log','$rootScope','$sce','swiggyPOPFactory','$controller'],PasswordPolicyPopUp.$inject=['$scope','$http','$uibModalInstance','$rootScope'],ToggleOrderController.$inject=['$scope','HomeFactory','$uibModal','swiggyPOPFactory','$q','$rootScope'],RestOnOffController.$inject=['$scope','HomeFactory'],RestNotificationCtroller.$inject=['$scope','HomeFactory','$rootScope'],app.run(['$http','$rootScope','HomeFactory','$cookies',function(e,t,s,r){t.fetchUserRestDetails=function(e,a){var i=r.get('Swiggy_internal_user');if(i&&1===+i){var o={restaurantIds:[e.restaurant_id]};s.fetchUserRestaurants(o).success(function(e){0===e.statusCode?(localStorage.setItem('Swiggy_outlets',JSON.stringify([e.data])),t.chainOutletObject=[e.data],a(!0)):a(!1)}).error(function(){a(!1)})}else a(!1)}}]),app.filter('secondsToDate',[function(){return function(e){return new Date(1970,0,1).setSeconds(e)}}]),app.filter('singleDecimal',function(){return function(e){return isNaN(e)?e:Math.round(10*e)/10}}),app.filter('reverse',function(){return function(e){return e=e||[],e.slice().reverse()}});function HomeCtrlV2(t,e,s,r,a,i,o,n,l,c){l.appTrack||(l.appTrack=function(e){try{window._vmsTracker_queue=window._vmsTracker_queue||[],window._vmsTracker_queue.push(e)}catch(t){console.warn('error in master - apptrack')}}),l.trackSideNavClick=function(t){try{var e=angular.element(t.target).attr('title');e=e.toLowerCase(),e=e.replace(' ','-');var s={eventType:'click',"object-name":'side-nav-option-click',"screen-name":'app',"object-value":e,field1:l.globals.choosenOutlet.rest_rid,context:null,"object-position":null};l.appTrack({event:'side-nav-option-click',data:s})}catch(t){console.warn('error in trackSideNavClick: ',t)}},l.ordersPageTrack=function(){var e=arguments[4];'settings'===e||'profileSettings'===e||'ordersSettings'===e?e='settings-page':'changePassword'===e?e='change-password':void 0;var t={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":e,"object-position":null,eventType:'click'}};l.appTrack(t)},l.faqsButtonClicked=function(){l.ordersPageTrack('faqs-button-click','1',null,null,'orders-page',null)},l.setupBarCodeListener=function(){function e(e){l.$broadcast('barcodeScanned',e)}function t(e){if(!e)return!1;var t=+e;return'number'==typeof t&&!Number.isNaN(t)}var s=performance.now(),r=performance.now(),a='',i=!1,o=null;l.barCodeListener||(l.barCodeListener=document.body.addEventListener('keydown',function(n){o&&clearTimeout(o);var l=String.fromCharCode(n.which);r=performance.now(),i,s=performance.now(),13!==n.which&&(a+=l),o=setTimeout(function(){return 3>=a.length?(i,void(a='')):void(console.log('string read = ',a),t(a)&&e(a),a='')},20)}))},t.trackEventStickRestMenu=function(e,t,s,r){l.restMenuTrack(e,t,s,r,globals.menu)},t.tradeDiscountFeature=!0,t.sellerTierFeature=!0,t.sellerTierFeatureGate=!0,t.getUserInfoFeature=!0,t.showPasswordConfigData=!1,t.passwordPolicyData='',t.passwordPolicyRegex='',t.passwordPolicyErrorText='',t.showPasswordConfigData=!1,t.disableSettingInputs=!0,t.platinum=0,t.gold=0,t.untiered=0,t.bronze=0,t.silver=0,t.dataOutlets='',t.checkSellerTierExistForRest=function(){t.getUpdatedRestInfoLocalStorage(),1===t.dataOutlets.length?!t.dataOutlets[0].tier&&(t.sellerTierFeature=!1):(t.sellerTierFeature=!1,t.sellerTierFeature=function(){for(var s in t.dataOutlets)if(t.dataOutlets[s].hasOwnProperty('tier'))return!0}())},t.getUpdatedRestInfoLocalStorage=function(){t.dataOutlets=JSON.parse(localStorage.getItem('Swiggy_outlets'))},t.getDataOutelts=function(){var e=[];t.getUpdatedRestInfoLocalStorage();for(var s=0;s<t.dataOutlets.length;s++)e.push(t.dataOutlets[s].rest_rid);return e},t.initUserProfile=function(){var e=globals.userInfoDataParam;localStorage.setItem('Swiggy_outlets',JSON.stringify(e.outlets)),localStorage.setItem('Swiggy_user',e.user_id),localStorage.setItem('Swiggy_perms',JSON.stringify(e.permissions)),localStorage.setItem('Swiggy_role',e.role_id),t.checkSellerTierExistForRest()},t.initApp=function(){l.setupBarCodeListener(),t.changePasswordForcefully=!1,t.passwordChange=function(){s.get('Swiggy_change_password')&&!0==JSON.parse(s.get('Swiggy_change_password'))&&(t.changePasswordForcefully=!0)},t.passwordChange(),t.config={autoHideScrollbar:!1,theme:'light',advanced:{updateOnContentResize:!0},scrollbarPosition:'inside',axis:'x',scrollTo:'#test'},t.currentBackbutton=function(e,s,r){var a,i=this;i.initiater='cancel-edit-add-current-clicked',t.addCancelModaldData=function(){return{initiater:function(){return i.initiater}}},a=o.open({animation:i.animationsEnabled,templateUrl:'/app/menu/templates/v1/food-item-select-option.html',controller:'CancelEditAddController',size:'md',backdrop:'static',animation:!1,keyboard:!1,resolve:t.addCancelModaldData()}),a.result.then(function(){t.editMenuActive.showEditmenu=!1,t.currentClickedSideBar(e,s,r)})},t.showOptions=function(){return t.showoption=!t.showoption,void(t.showOptionActive=!0)},t.hideOptions=function(){t.showoption&&(t.showoption=!t.showoption)},t.$on('$destroy',function(){}),t.changepasswordStatus=function(){return t.changestatus},t.showPasswordConfig=function(){t.showPasswordConfigData=!0},t.hidePasswordConfig=function(){t.showPasswordConfigData=!1},t.changepassword=function(){t.changestatus=!1,t.showPasswordConfigData=!1;var e=document.getElementById('oldpassword').value,r=document.getElementById('newpassword').value,a=document.getElementById('reenternewpassword').value;if(!e)return t.changestatus=!0,void(t.showChangePassRes='Old Password is missing');if(!r)return t.changestatus=!0,void(t.showChangePassRes='New Password is missing');if(!a)return t.changestatus=!0,void(t.showChangePassRes='Confirm Password is missing');if(e.length&&r.length&&a.length){if(t.changestatus=!1,30<r.length||30<a.length)return 30<r.length&&(t.passwordError=!0),30<a.length&&(t.confirmPasswordError=!0),t.changestatus=!0,void(t.showChangePassRes='Please restrict the password below or equal to 30');if(r!=a)return t.changestatus=!0,void(t.showChangePassRes='New password and confirm password does not match. Please retry.');var o=new RegExp(t.passwordPolicyRegex);if(!o.test(r))return t.changestatus=!0,t.showPasswordConfigData=!0,void(t.showChangePassRes='Password does not match with the required policy');var n={};n.oldPass=e,n.newPass=r,n.userCookie=t.userSession,n.username=s.get('Swiggy_Session-user'),i.changePassword(n).success(function(e){t.changestatus=!0,t.showChangePassRes='';var r=e.statusCode;if(0==r){s.remove('Swiggy_change_password',{path:'/'});var a=e.data.logout_user;t.pageName=a?'Login Page':'Home Page',t.showChangePassRes='Successfully changed the password. You will be redirected to '+t.pageName+' in 5 seconds.',t.changepassstep=3,t.changePasswordForcefully=!1,a?setTimeout(function(){window.location.href='/home'},5e3):setTimeout(function(){window.location.href='/'},5e3)}else t.changestatus=!0,t.showChangePassRes=e.statusMessage}).error(function(){t.changestatus=!0,t.showChangePassRes=data.statusMessage?data.statusMessage:'Could not change the password'})}},t.playNotificationSound=function(){var e=document.getElementById('audio');e.volume=1,e.play()},t.initializeAllDataStructure=function(){t.newOrders={},t.newOrders.orders=[],t.confirmedOrders={},t.confirmedOrders.orders=[],t.currentNewOrders={},t.currentConfirmedOrders={}},t.taketoUserDetailsPage=function(){var e=window.open('/vms/migration/details/','_blank');e.focus()},t.init=function(){var a=JSON.parse(localStorage.getItem('Swiggy_outlets'));t.editMenuActive={showEditmenu:!1};var e=s.get('Swiggy_Session-perms');e&&localStorage.setItem('Swiggy_perms',e);var i=s.get('Swiggy_Session-user');if(i){localStorage.setItem('Swiggy_user',i);try{Raven.setUserContext({userId:i,id:i})}catch(t){console.warn('error doing raven init userContext')}}var o=s.get('Swiggy_user_role');o&&localStorage.setItem('Swiggy_role',o);var n=s.get('Swiggy_internal_user');1==n&&localStorage.setItem('Swiggy_internal_user',1),t.checkTierStatus=function(){var s=a;for(var r in s)s[r].tier&&('Gold'==s[r].tier?t.gold+=1:'Untiered'==s[r].tier?t.untiered+=1:'Platinum'==s[r].tier?t.platinum+=1:'Bronze'==s[r].tier?t.bronze+=1:'Silver'==s[r].tier&&(t.silver+=1))},t.checkTierStatus(),r()};var r=function(){if(localStorage.Swiggy_outlets)t.userCookieOutlets=localStorage.Swiggy_outlets;else return s.remove('Swiggy_Session-alpha',{path:'/'}),void(window.location.href='/login/');t.userPermissionLevel=localStorage.Swiggy_perms?JSON.parse(localStorage.Swiggy_perms):JSON.parse(s.get('Swiggy_Session-perms')),t.isInternalUser=0,1==s.get('Swiggy_internal_user')&&(t.isInternalUser=1,t.restLocation=JSON.parse(t.userCookieOutlets),t.restLocation=t.restLocation[0].rest_city+'-'+t.restLocation[0].rest_area+'-'+t.restLocation[0].rest_locality),t.userPermissionLevel.length||alert('Your permissions are empty, Please contact swiggy customer support'),t.userSession=localStorage.Swiggy_user?localStorage.Swiggy_user:s.get('Swiggy_Session-user'),t.showProfileErrorPage=!1,t.ordersPermission=!1,t.menuListPermission=!1,t.userManagementPermission=!1,t.insightsPermission=!1,t.tradeDiscountPermission=!1,t.loadCatalogueTemplateLoaderLogOut=!0,t.disableNotificatoionToggle=!1,t.getRestList=JSON.parse(localStorage.getItem('Swiggy_outlets')),t.revisionData=[],t.menuRevisionPermission=!1,t.showBannerMessage=!1,t.headerText='',t.bodyHtml='',t.sellerTierInfo=!1,t.showSpecialHeader=!1,t.currentRestTier='',t.currentRestTierClass='';for(var r=0;r<t.userPermissionLevel.length;r++)1===t.userPermissionLevel[r]&&(t.ordersPermission=!0),2===t.userPermissionLevel[r]&&(t.menuListPermission=!0),3===t.userPermissionLevel[r]&&(t.userManagementPermission=!0),4===t.userPermissionLevel[r]&&(t.insightsPermission=!0),5===t.userPermissionLevel[r]&&(t.tradeDiscountPermission=!0);t.showoption=!1,t.userRestProfileData='',t.restProfile={},t.sellerDescPage=!1,t.notWebView=!0,t.isMultiRestaurentHeader=!1,t.chooseMultiRestView=!1,t.activateProfile=!1,t.restaurantName='',t.stopOrderNotification=!1,t.userRole=localStorage.Swiggy_role?parseInt(localStorage.Swiggy_role):parseInt(s.get('Swiggy_user_role')),t.initateOrderNotificationPrefence(),t.sideBarClose=!1,t.selectModalHide=!0,t.initMenuTicketLoader=!1,t.initSingleMenuTicketLoader=!1,t.deactivateSiblingTabs=!1,t.loadCatalogueTemplateLoader=!0,t.loadDiscountTemplateLoader=!0,t.pastOrders=!1,t.settingsPageView=!1,t.termsConditionPageView=!1,t.settingsPageProfile=!0,t.hideViewMoreBtn=!1,t.catalogTab=!1,t.sidebarModel=!0,t.hideRevisionTemp=!1,t.ordersTab=!1,t.dataNull=!1,t.currentOrders=!1,t.profile=!1,t.currentPage='',t.isInitialized=!0,t.showBtnErr=!1,t.contactCategory,t.toggleLoc=!0,t.profileActive=!1,t.profileTiming=!1,t.profileFinance=!1,t.toasterRestError=!1,t.toasterCatError=!1,t.profileUsers=!1,t.restInformation=[],t.createTradeDiscountView=!1,t.tradeDiscountCommonPageView=!1,t.editFutureTradeDiscountView=!1,t.tradeDiscountPageView=!1,t.currentSelectedRest='',t.tdDataGlobal=[],t.selectedRest_cityName_profile='',t.selectedRest_restDetails_profile={},t.emptyImages=!0,t.initMenuCatalogueLoader=!1,t.backToRevison=!1,t.currentHistoryPage=0,t.pendingTickcetsConfirm=!1,t.newTicketSize=0,t.newTicketids=[],t.featureGates={notifySwiggy:!1},t.sideMenuList=[],t.selectToggleModalHide=!0,t.toggleObj={isRequestedToOpen:null,source:'VMS'},t.submittingTgle=!1,t.checkToggleStatus=function(e){!0===e?(t.restrntOrderToggleBtn=!1,t.stopOrder=!1,t.submittingTgle=!1,t.toggleObj={isRequestedToOpen:!0,source:'VMS',restaurantId:t.initalIds[0]}):!1===e&&(t.restrntOrderToggleBtn=!0,t.stopOrder=!0,t.submittingTgle=!1,t.toggleObj={isRequestedToOpen:!1,source:'VMS',restaurantId:t.initalIds[0]})},t.toggleModalSelect=function(){t.sidebarToggleModel=!0,t.restrntOrderToggleBtn=!t.restrntOrderToggleBtn,t.selectToggleModalHide=!1},t.zeroCase=!0,t.toasterData=-100,t.reqFromWebView=!1,t.toasterFlag=!1,t.orderPlacedSuccess=!1,t.callBackReqSuccess=!1,t.failureCase=!1,t.toasterContent='',t.latestNewOrderId=1,t.hasEnteredNewOrderBlock=!1,t.modalHide=!0,t.modalHideOrderConfirm=!0,t.modalHideCallBack=!0,t.isLogoutClicked=!1,t.toggleHide=!1,'granted'!==Notification.permission&&Notification.requestPermission(),t.initializeAllDataStructure(),t.pastOrders=!1,t.currentOrders=!1,t.restAreaLocalityMap={},t.changepassstep=2,t.pendingNotificationCounter=0;var e=t.userCookieOutlets;t.isSingleUser=!1,1===t.chainOutletObject.length&&(t.isSingleUser=!0,t.restLocation=JSON.parse(t.userCookieOutlets),t.restLocation=t.restLocation[0].rest_city+'-'+t.restLocation[0].rest_area+'-'+t.restLocation[0].rest_locality,t.storeRestId=t.chainOutletObject[0].rest_rid,t.checktierColor(t.chainOutletObject[0].tier),t.swiggyAssured=t.chainOutletObject[0].assured,t.currentRestTier=t.chainOutletObject[0].tier,t.selectedRest_restDetails_profile=t.chainOutletObject[0]),t.restIdStore=t.chainOutletObject[0].rest_rid,t.reInitiateRestInfo=function(){t.restInformation=[];for(var s=0;s<t.chainOutletObject.length;s++)t.restInformation.push({rest_rid:t.chainOutletObject[s].rest_rid,lastUpdatedTime:null})},t.reInitiateRestInfo(),!t.isInternalUser||t.isInternalUser&&1===t.chainOutletObject.length?t.restaurantName=t.chainOutletObject[0].rest_name:t.isInternalUser&&(t.restaurantName=''),t.valChild=e;var o=JSON.parse(e.trim(' '));t.contactObj=o,l.$emit('restaurantInfoParsed',[]);var n=u(o);t.map=n,a(),t.modifyModalSelectedAreaLocalityRid=function(){var s={};_.each(t.modalSelectedAreaLocalityRid,function(t,r){var a=[],i=[],o=[],n=[],l=[],c=[];for(var g in t)t[g].tier?'Platinum'==t[g].tier?a.push(t[g]):'Silver'==t[g].tier?o.push(t[g]):'Bronze'==t[g].tier?n.push(t[g]):'Gold'==t[g].tier?i.push(t[g]):'Untiered'==t[g].tier&&c.push(t[g]):l.push(t[g]);s[r]=a.concat(i,o,n,c,l)}),t.modalSelectedAreaLocalityRid={},t.modalSelectedAreaLocalityRid=s},t.modifyModalSelectedAreaLocalityRid(),setTimeout('',1e3),1<t.finalIds.length&&(t.toggleHide=!0);var g={restaurantIds:t.finalIds};t.setFeatures=function(){},t.setFeatures(g),t.broadCastMessage=function(e){i.broadCastMessage(e).success(function(e){0==e.statusCode&&0!=parseInt(e.data.enabled)&&(t.showBannerMessage=!0,t.headerText=e.data.subject,t.bodyHtml=c.trustAsHtml(e.data.message))}).error(function(){t.showBannerMessage=!1})},t.globalRestIds=[],t.globalCityIds=[],t.cityNameMap=[],t.cityEnabledList=[],t.initCheckTdPermission=!1,t.getCityRestList=function(){for(var e in t.localStrageRestInfo=JSON.parse(localStorage.Swiggy_outlets),t.localStrageRestInfo){var s=t.localStrageRestInfo[e].rest_city_id,r=t.localStrageRestInfo[e].rest_rid;0>t.globalCityIds.indexOf(s)&&t.globalCityIds.push(s),0>t.globalRestIds.indexOf(r)&&t.globalRestIds.push(r)}},t.isTdpermitted=function(){var e={restaurantIds:t.globalRestIds};i.istradeDiscountEnabled(e).success(function(s){if(0!=s.statusCode)return void(t.initCheckTdPermission=!1);for(var r in t.cityEnabledList=s.data.cityIds,t.cityNameMap=s.data.cityMap,t.globalCityIds){for(var e in t.cityEnabledList)if(parseInt(t.globalCityIds[r])==parseInt(t.cityEnabledList[e])){t.initCheckTdPermission=!0;break}if(t.initCheckTdPermission)break}}).error(function(){t.initCheckTdPermission=!1})},t.getCityRestList(),t.isTdpermitted()},a=function(){for(var e,s=0;s<t.citys.length;s++)e=t.citys[s],t.addRemoveRestaurant(e);t.profileRestrntObject=_.deepClone(t.modalSelectedAreaLocalityRid)};setTimeout(function(){angular.element(document.querySelector('#search2')).focus()},1e3),t.toasterFlagProfileV2=!1,t.$on('tradeDiscountSuccessToster',function(s,r){t.toasterFlagProfileV2=!1,t.toasterRestError=!1,t.toasterCatError=!1,t.toasterContentCat='',t.toasterContentRest='',r[0].restMessage||r[0].catMessage?(t.toasterContentRest=r[0].restMessage,r[0].catMessage&&(0==r[0].catMessage.statusCode?t.toasterContentCat='Succesfully Created Category level TD '+r[0].catMessage.restaurantIds:(t.toasterCatError=!0,t.toasterContentCat='Creating Category level TD for following restaurent failed.'+r[0].catMessage.restaurantIds)),r[0].restMessage&&(0==r[0].restMessage.statusCode?t.toasterContentRest='Succesfully Created Restaurant level TD '+r[0].restMessage.restaurantIds:(t.toasterRestError=!0,t.toasterContentRest='Creating Restaurant level TD for following restaurent failed.'+r[0].restMessage.restaurantIds)),t.toasterContent='',t.toasterFlagProfileV2=!0):(t.toasterContent=r[0],t.toasterFlagProfileV2=!0,e(function(){t.removeToaster()},8e3))}),t.removeToaster=function(){(t.toasterFlag||t.toasterFlagProfileV2)&&(t.toasterFlag=!1,t.toasterFlagProfileV2=!1,t.toasterContent='',t.orderPlacedSuccess=!1,t.callBackReqSuccess=!1,t.failureCase=!1)},t.callRequested=function(e,s){t.modalHide=!1,t.modalHideCallBack=!1,t.tempCallReqNewOrderId=e,t.tempCallReqNewRestId=s},t.notify=function(e,t,s){i.notifySwiggy({orderId:e,restaurantId:t,status:s}).success(function(e){0==e.statusCode?alert('Swiggy has been notified.'):alert('Something went wrong. Please try again!')}).error(function(){alert('Unable to notify Swiggy. Please try again!')})};var n=function(e,s){if(e)if(s){var r=t.map.get(e);if(r){for(var a of r.keys())for(var o=r.get(a),n=0;n<o.length;n++){var i=o[n],l=i.locality,c=i.rid,g=t.modalSelectedAreaLocalityRid[e],d={locality:l,rid:c,area:a,cityId:i.city_id,tier:i.tier};g?g.push(d):(g=[],g.push(d),t.modalSelectedAreaLocalityRid[e]=g)}for(var i,u=t.modalSelectedAreaLocalityRid[e],p=0;p<u.length;p++)i=u[p],t.addRemoveDetailsObject(i)}}else delete t.modalSelectedAreaLocalityRid[e]},g=function(e,t){if(!e||0==e.length)return-1;for(var s=0;s<e.length;s++){var r=e[s],a=r.locality,i=r.rid,o=r.area;if(a===t.locality&&i===t.rid&&o===t.area)return s}return-1};t.addRemoveDetailsObject=function(e){if(e){t.flagareaLocalityArr&&(t.flagareaLocalityArr=!1,t.areaLocalityArr=[],t.initalIds=[]);var s=g(t.areaClickedObjectArr,e);-1==s?(t.areaClickedObjectArr.push(e),t.areaLocalityArr.push(e.area+'_'+e.locality),t.initalIds.push(e.rid)):(t.areaClickedObjectArr.splice(s,1),t.areaLocalityArr.splice(s,1),t.initalIds.splice(s,1)),0<t.initalIds.length&&!t.zeroCase&&(t.zeroCase=!0)}};var d=function(e){if(0<t.areaClickedObjectArr.length)for(var s=t.modalSelectedAreaLocalityRid[e],r=0;r<s.length;r++){var a=s[r],i=g(t.areaClickedObjectArr,a);0<=i&&(t.areaClickedObjectArr.splice(i,1),t.areaLocalityArr.splice(i,1),t.initalIds.splice(i,1))}};t.addRemoveRestaurant=function(e){if(e){var s=$.inArray(e,t.modalSelectedCities);-1==s?(n(e,!0),t.modalSelectedCities.push(e.trim())):(!t.flagareaLocalityArr&&d(e),n(e,!1),t.modalSelectedCities.splice(s,1))}};var u=function(e){var s=new Map,r=new Map;t.areaClickedObjectArr=[],t.areaClickedObjectArrPersistent=[],t.finalAreaLocalityArr=[],t.flagareaLocalityArr=!0,t.idMap=new Map,t.finalIds=[],t.initalIds=[],t.areaLocalityArr=[],t.modalSelectedCities=[],t.modalSelectedAreaLocalityRid={},t.citys=[];for(var a=0;a<e.length;a++){var i=e[a],o=i.rest_city.trim(),n=i.rest_rid,l=$.inArray(o,t.citys);-1==l&&t.citys.push(o);var c=i.rest_area.trim()+'_'+i.rest_locality.trim(),g=i.rest_area.trim()+' '+i.rest_locality.trim(),d=i.rest_area.trim()+' '+i.rest_locality.trim();t.restAreaLocalityMap[n]=g,l=$.inArray(c,t.areaLocalityArr),-1==l&&t.areaLocalityArr.push(c),t.initalIds.push(n);var u=s.get(o);u||(s.set(o,new Map),u=s.get(o));var p=u.get(i.rest_area.trim());p||(u.set(i.rest_area.trim(),[]),p=u.get(i.rest_area.trim())),p.push({locality:i.rest_locality.trim(),rid:i.rest_rid,city_id:i.rest_city_id,tier:i.tier});var h={city:o.trim(),area:i.rest_area.trim(),locality:i.rest_locality.trim(),city_id:i.rest_city_id,tier:i.tier};t.idMap.set(n,h)}return t.finalIds=t.initalIds,t.finalAreaLocalityArr=t.areaLocalityArr,s};t.storeRestId='',t.storeGlobalData='',t.initTradeDiscountApi=function(s,r){t.toasterFlagProfileV2=!1,t.loadDiscountTemplateLoader=!1;var a={restaurantIds:[r.rid],filters:{status:'Expired'}};t.currentSelectedRest=[r.rid],i.callTradeDiscountInitApi(a).success(function(a){if(t.loadDiscountTemplateLoader=!0,t.currentRestTier=t.checkSellerTierValue(t.currentSelectedRest),t.tdDataGlobal=[],0!==a.statusCode)return t.toasterContent='Something went wrong, Please try again',t.toasterFlag=!0,void e(function(){t.removeToaster()},5e3);t.tdDataGlobal=a.data,t.chooseMultiRestView=!1,t.currentPage='Discounts',t.tradeDiscountCommonPageView=!0,t.restLocation=s+'-'+r.area+'-'+r.locality,l.$broadcast('initTradeDiscountView',a.data);var i=r.rid,o='/discounts/restaurant/'+i;window.history.replaceState({url:o},'Discount',o)}).error(function(s){if(t.tdDataGlobal=[],t.loadDiscountTemplateLoader=!0,0!=s.statusCode)return t.toasterContent='Something went wrong, Please try again',t.toasterFlag=!0,void e(function(){t.removeToaster()},5e3)})},t.getRestMenuList=function(e,s,r,a){1==t.chainOutletObject.length&&(t.selectedRest_restDetails_profile.rest_rid===void 0&&(t.selectedRest_restDetails_profile.rest_rid=t.selectedRest_restDetails_profile.rid),e=t.selectedRest_restDetails_profile.rest_rid),e||(e=t.storeRestId),t.loadCatalogueTemplateLoader=!1;var o=JSON.parse(localStorage.getItem('self_serve_menu_enabled_restaurants'));t.menuRevisionPermission=o&&o.length&&-1<o.indexOf(+e);var n={restaurantId:e,notWebView:!0,menuRevisionPermission:t.menuRevisionPermission};return t.storeGlobalData&&r?(a&&a(),void(t.loadCatalogueTemplateLoader=!0)):void i.getRestMenuApi(n).success(function(e){if(0!==e.statusCode)l.$emit('initialApiCallForMenuList',[]);else{try{'Approve New Items'==e.data.categories[e.data.categories.length-1].name&&e.data.categories.pop()}catch(t){console.error('menu getRestMenuApi: err = ',t)}(s&&'delete'===s||'cancel'===s||'submit'===s||'re-submit'===s||'pending-tickets-confirm'===s)&&t.currentClickedSideBar('restaurant-menu'),l.$emit('initialApiCallForMenuList',e),t.deactivateSiblingTabs=!1,t.storeGlobalData=e}t.loadCatalogueTemplateLoader=!0,a&&a()}).error(function(){t.loadCatalogueTemplateLoader=!0,l.$emit('initialApiCallForMenuList',[]),a&&a()})},t.openRestMenu=function(e,s,r,a){t.storeRestId=e,t.chooseOutlet=!1,t.restMenu=!0,t.currentPage='Restaurant Menu',t.restLocation=s+'-'+r+'-'+a,t.currentRestId=e,t.currentRestTier=t.checkSellerTierValue(e),t.getRestMenuList(e),t.editMenuActive.showEditmenu=!1},t.openPastOrders=function(e,s,r,a){t.chooseOutletPastOrder=!1,t.restLocation=s+'-'+r+'-'+a,t.currentRestId=e,t.orderRestId=t.currentRestId,t.pastOrders=!0,t.currentPage='Past Orders',t.currentRestTier=t.checkSellerTierValue(e),l.$emit('initiatePastOderFn',[]),l.$emit('resetData',[]),t.editMenuActive.showEditmenu=!1;var i=JSON.parse(globals.params),o=i.restaurant_id,n='/orders/past/restaurant/'+o;window.history.replaceState({url:n},'Past Orders',n)},t.trackEventNavMenu=function(){},t.getRestDetails=function(e){if(1<t.chainOutletObject.length){if(t.restMenu=!1,t.currentPage='Choose Outlet',t.chooseOutlet=!0,t.chooseOutletMenu=!0,!1===t.pageRefreshed){var s='/menu';window.history.replaceState({url:s},'Menu',s)}else t.pageRefreshed=!1;'catalog-tab'===e&&(t.deactivateSiblingTabs=!0)}else if(1===t.chainOutletObject.length&&(t.restMenu=!0,t.chooseOutlet=!1,t.chooseOutletMenu=!1,t.getRestMenuList(),'catalog-tab'===e)){var r=angular.element('.app'),a=angular.element(r).scope(),i=a.chainOutletObject[0].rest_rid,s='/menu/details/restaurant/'+i;window.history.replaceState({url:s},'Menu',s)}},t.sideBarToggle=function(){var e=angular.element('.sidebar-toggle-wrap .fa');e.hasClass('fa-angle-left')?(e.removeClass('fa-angle-left'),e.addClass('fa-angle-right')):(e.removeClass('fa-angle-right'),e.addClass('fa-angle-left')),t.sideBarClose=!t.sideBarClose},t.getCatgoryObj={},t.getCatgoryDetails=function(){i.categoryDetails().success(function(e){if(t.loadCatalogueTemplateLoader=!0,0==e.statusCode){t.getCatgoryObj=e;var s=document.getElementById('contactCategory');s.innerHTML='<option value="">Select Category</option>';for(var r=0;r<t.getCatgoryObj.data.length;r++)s.innerHTML+='<option ng-attr-id="'+t.getCatgoryObj.data[r].key+'" value ="'+t.getCatgoryObj.data[r].value+'">'+t.getCatgoryObj.data[r].key+'</option>'}}).error(function(){t.loadCatalogueTemplateLoader=!0})},t.subCatMenu=!1,t.restIdSet=[],t.getRestList=function(){if(t.dataOutlets){var e={};for(var s in t.dataOutlets)e.rest_name=t.dataOutlets[s].rest_name,e.rest_rid=t.dataOutlets[s].rest_rid,e.selected=!1;t.restIdSet.push(e),t.dataOutlets[0].selected=!0}},t.getRestList(),t.isMenuItemSelected=function(e){for(var s in t.subCatMenu=!1,t.getCatgoryObj.data)if(t.getCatgoryObj.data[s].value==e&&'Menu Edit'==t.getCatgoryObj.data[s].key){t.subCatMenu=!0;break}},t.itemTicketApi=function(s,r){t.ticketDetailsData='';var a={ticketId:s,restaurantId:t.storeRestId};t.initMenuTicketLoader=!0,i.itemTicketCallApi(a).success(function(a){if(t.initMenuTicketLoader=!1,0!==a.statusCode)return t.toasterContent='Sorry, Something went wrong, Please try again.',t.toasterFlag=!0,void e(function(){t.removeToaster()},8e3);l.$emit('initTicketViewSetting',a.data,r),t.currentClickedSideBar('view-ticket'),'menu-list'==r;var i='/menu/revision-history/ticket/'+s;window.history.replaceState({url:i},'Revision History',i),t.menuRevisionMenuActive=!0}).error(function(){return t.initMenuTicketLoader=!1,t.toasterContent='Sorry, Something went wrong, Please try again.',t.toasterFlag=!0,void e(function(){t.removeToaster()},8e3)})},t.initRevisionHistoryApi=function(s){i.revisionHistoyApi(s).success(function(r){if(t.initMenuTicketLoader=!1,0!=r.statusCode)return console.warn('non-zero statuscode on revisionHistoryApi: ',r.statusMessage),t.toasterContent='Sorry, Something went wrong, Please try again.',t.toasterFlag=!0,l.$emit('revisionDataFailed'),void e(function(){t.removeToaster()},8e3);t.revisionData=r.data,t.currentHistoryPage=r.data.pageable.page,l.$emit('initRevisionData'),t.currentPage='Menu Revision';var a='/menu/revision-history/restaurant/'+s.restaurantId;window.history.replaceState({url:a},'Revision History',a)}).error(function(){return t.initMenuTicketLoader=!1,t.toasterContent='Sorry, Something went wrong, Please try again.',t.toasterFlag=!0,l.$emit('revisionDataFailed'),void e(function(){t.removeToaster()},8e3)})},t.menuCatalogueApi=function(){t.initMenuCatalogueLoader=!0,t.emptyImages=!0;var s={restaurantId:t.storeRestId};i.getCatalogueImages(s).success(function(s){return t.initMenuCatalogueLoader=!1,0===s.statusCode?void(s.data.length&&(t.emptyImages=!1),l.$emit('initRevisionImage',s.data)):(console.warn('non-zero statuscode on getCatalogueImages: ',s.statusMessage),t.toasterContent='Sorry, Something went wrong while getting Images, Please try again.',t.toasterFlag=!0,void e(function(){t.removeToaster()},8e3))}).error(function(){return t.initMenuCatalogueLoader=!1,t.initMenuTicketLoader=!1,t.toasterContent='Sorry, Something went wrong, Please try again.',t.toasterFlag=!0,void e(function(){t.removeToaster()},8e3)})},t.showRevision=function(){t.hideRevisionTemp=!1,t.itemTicketPage=!1;var e={restaurantId:t.storeRestId,page:t.currentHistoryPage,rowCount:10,count:1,sortAsc:!1};l.$emit('resetRevisionData'),t.initRevision(e)},t.initRevision=function(e){t.initMenuTicketLoader=!0,t.initRevisionHistoryApi(e),t.menuRevisionPageActive=!0,t.menuRevisionMenuActive=!0,t.catalogTab=!0},t.checktierColor=function(e){e?'Gold'==e?t.currentRestTierClass='gold-color':'Platinum'==e?t.currentRestTierClass='platinum-color':'Silver'==e?t.currentRestTierClass='silver-color':'Bronze'==e&&(t.currentRestTierClass='bronze-color'):t.currentRestTierClass=''},t.checkSellerTierValue=function(s){for(var r in t.getRestList)if(t.getRestList[r].rest_rid==s)return(t.getRestList[r].assured&&(t.swiggyAssured=t.getRestList[r].assured),t.getRestList[r].tier)?(t.checktierColor(t.getRestList[r].tier),t.getRestList[r].tier):(t.checktierColor(''),'')},t.initSellerTierCall=function(e,s,r){var a=e.rid,i=e.cityId,o={restId:a,cityId:i,directData:r,theObjParam:e,cityName:s};o.restId||(o.restId=t.storeRestId);var n=t.checkSellerTierValue(e.rid);if((''===n||' '===n)&&(n=null),t.sellerTierFeature&&'Untiered'!==n&&null!==n)t.sellerTierInfoMetrics(o);else{t.loadCatalogueTemplateLoader=!0;var o={acceptanceRate:0,cancellationRate:0,editRate:0,totalRevenue:0,startDate:'',endDate:'',restaurantId:e.rid,goLiveDate:'',refreshDate:'',rating:0,tier:n,assured:!1,cityCode:1,restName:'',salesCutoff:''};l.$broadcast('initSellerTierView',o),t.currentClickedSideBar('seller-desc-direct-menu')}},t.getRestInsights=function(){var e=angular.element('.app'),s=angular.element(e).scope();if(1===s.chainOutletObject.length)t.storeRestId=s.chainOutletObject[0].rest_rid;else{var r=JSON.parse(globals.params);t.storeRestId=r.restaurant_id}},t.currentClickedSideBar=function(e){if(t.removeToaster(),t.swiggyAssured=!1,t.chooseMultiRestView=!1,t.compliance=!1,t.activateProfile=!1,t.profileActive=!1,t.currentCityId='',t.createTradeDiscountView=!1,t.editFutureTradeDiscountView=!1,t.contactSwiggy=!1,t.sellerDescSidebar=!1,t.currentRestTier='',t.currentRestTierClass='',t.sellerDescPageChooseOutlet=!1,t.sellerDescPage=!1,t.chooseOutlet=!1,t.tradeDiscountCommonPageView=!1,t.showSpecialHeader=!1,t.tradeDiscountPageView=!1,t.loadCatalogueTemplateLoader=!0,t.settingsPageNotification=!1,t.chooseOutletPastOrder=!1,t.termsConditionPageView=!1,t.toasterFlagProfileV2=!1,t.loadCatalogueTemplateLoader=!0,t.settingsPageNotification=!1,t.chooseOutletPastOrder=!1,t.termsConditionPageView=!1,t.toasterFlagProfileV2=!1,t.profile=!1,t.catalogTab=!1,t.restMenu=!1,t.iteoos=!1,t.ordersTab=!1,t.currentOrders=!1,t.pastOrders=!1,t.settingsPageView=!1,t.restOnOffHeaderMenu=!1,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.insightsRatings=!1,t.editMenuActive.showEditmenu)return void t.currentBackbutton(e);if((!s.get('Swiggy_internal_user')||1!==+s.get('Swiggy_internal_user'))&&s.get('Swiggy_change_password')&&!0===JSON.parse(s.get('Swiggy_change_password'))&&'contact-swiggy'!==e&&t.showpasswordPolicyPopup(),t.loadCatalogueTemplateLoader=!0,t.menuRevisionPageActive=!1,t.menuRevisionMenuActive=!1,t.settingsPageNotification=!1,t.chooseOutletPastOrder=!1,t.editMenuActive.showEditmenu=!1,t.menuPageActive=!1,t.itemTicketPage=!1,t.termsConditionPageView=!1,t.compliance=!1,1==t.chainOutletObject.length&&t.storeRestId&&(t.currentRestTier=t.checkSellerTierValue(t.storeRestId)),1<t.chainOutletObject.length&&!t.currentRestId&&globals.params){var r=JSON.parse(globals.params);t.currentRestId=r.restaurant_id}if(e)if(t.pastOrderMenu=!1,'orders-tab'==e||'current-orders'===e||'past-orders'===e){if(t.ordersTab=!0,t.catalogTab=!1,t.profile=!1,t.currentOrders=!0,t.pastOrders=!1,t.contactSwiggy=!1,t.currentPage='Current Orders',t.restOnOffHeaderMenu=!1,t.catalogTab=!1,t.iteoos=!1,t.restMenu=!1,t.chooseOutletMenu=!1,t.chooseOutlet=!1,t.settingsPageView=!1,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.insightsRatings=!1,t.compliance=!1,t.swiggyPop=!1,'current-orders'==e){t.contactSwiggy=!1,t.pastOrders=!1,t.currentOrders=!0,t.currentPage='Current Orders',t.changepassstep=2;var a='/orders';window.history.replaceState({url:a},'Current Orders',a)}else if('past-orders'==e){if(1<t.chainOutletObject.length){t.pastOrderMenu=!0,t.chooseOutletPastOrder=!0,t.isMultiRestaurentHeader=!0,t.pastOrders=!1,t.currentPage='Choose Outlet';var a='/orders/past';window.history.replaceState({url:a},'Past Orders',a)}else{t.pastOrderMenu=!1,t.orderRestId=t.selectedRest_restDetails_profile.rest_rid,t.currentPage='Past Orders',t.pastOrders=!0,l.$emit('initiatePastOderFn',[]),l.$emit('initiateDefaultMenuAlter',[]),l.$emit('resetData',[]);var i=t.chainOutletObject[0].rest_rid,a='/orders/past/restaurant/'+i;window.history.replaceState({url:a},'Past Orders',a)}t.contactSwiggy=!1,t.currentOrders=!1,t.changepassstep=2}}else if('catalog-tab'===e||'restaurant-menu'===e||'item-outstock'===e||'chooseOutletMenu'===e||'addons-varnts'===e||'menu-images'===e||'menu-revision'===e||'view-ticket'===e){if(t.currentRestId&&(t.currentRestTier=t.checkSellerTierValue(t.currentRestId)),t.compliance=!1,t.profile=!1,t.iteoos=!1,t.ordersTab=!1,t.currentOrders=!1,t.pastOrders=!1,t.contactSwiggy=!1,t.addVar=!1,t.restOnOffHeaderMenu=!1,t.settingsPageView=!1,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.menuPageActive=!1,t.menuRevisionPageActive=!1,t.menuRevisionMenuActive=!1,t.insightsRatings=!1,t.currentPage='Restaurant Menu',t.catalogTab=!0,t.compliance=!1,t.swiggyPop=!1,t.getRestDetails(e),'restaurant-menu'===e){var o=angular.element('.app'),n=angular.element(o).scope();if(1===n.chainOutletObject.length)t.storeRestId=n.chainOutletObject[0].rest_rid;else{var r=JSON.parse(globals.params);t.storeRestId=r.restaurant_id}t.restMenu=!0,t.iteoos=!1,t.chooseOutlet=!1,t.menuRevisionPageActive=!1,t.menuRevisionMenuActive=!1,t.addonsVarnts=!1,t.swiggyPop=!1,t.currentPage='Restaurant Menu',t.changepassstep=2,t.getRestMenuList();var i,o=angular.element('.app'),n=angular.element(o).scope();if(1<n.chainOutletObject.length){var r=JSON.parse(globals.params);i=r.restaurant_id}else i=n.chainOutletObject[0].rest_rid;var a='/menu/details/restaurant/'+i;window.history.replaceState({url:a},'Menu',a)}else if('item-outstock'===e){var i,o=angular.element('.app'),n=angular.element(o).scope();if(1<n.chainOutletObject.length){var r=JSON.parse(globals.params);i=r.restaurant_id}else i=n.chainOutletObject[0].rest_rid;t.storeRestId=i,t.getRestMenuList(null,null,!0,function(){t.iteoos=!0,t.restMenu=!1,t.menuRevisionPageActive=!1,t.menuRevisionMenuActive=!1,t.chooseOutlet=!1,t.addonsVarnts=!1,t.currentPage='Item Out Of Stock',t.setApiCall='itemOutOfStockApi',t.swiggyPop=!1,l.$emit('initiateClearSearch');var e='/menu/out-of-stock/restaurant/'+i;window.history.replaceState({url:e},'Out of Stock',e)})}else if('addons-varnts'===e)t.catalogTab=!0,t.addonsVarnts=!0,t.restMenu=!1,t.menuRevisionPageActive=!1,t.menuRevisionMenuActive=!1,t.addonsVarnts=!0,t.chooseOutlet=!1,t.multipleOutlets=!1,t.iteoos=!1,t.currentPage='Addons And Variants',t.setApiCall='addonsVarApi',t.swiggyPop=!1,l.$emit('initiateClearSearch');else if('menu-images'===e){var i,o=angular.element('.app'),n=angular.element(o).scope();if(1<n.chainOutletObject.length){var r=JSON.parse(globals.params);i=r.restaurant_id}else i=n.chainOutletObject[0].rest_rid;t.storeRestId=i,t.menuRevisionPermission=!1;var c=localStorage.getItem('self_serve_menu_enabled_restaurants');c&&(c=JSON.parse(c),'number'!=typeof t.storeRestId&&(t.storeRestId=+t.storeRestId),0<c.length&&-1<c.indexOf(t.storeRestId)&&(t.menuRevisionPermission=!0)),t.menuPageActive=!0,t.restMenu=!1,t.catalogTab=!0,t.menuCatalogueApi(),t.menuRevisionPageActive=!1,t.menuRevisionMenuActive=!1,t.chooseOutlet=!1,t.addonsVarnts=!1,t.swiggyPop=!1,t.currentPage='Menu images';var a='/menu/upload/restaurant/'+i;window.history.replaceState({url:a},'Upload',a)}else if('menu-revision'===e){var i,o=angular.element('.app'),n=angular.element(o).scope();if(1<n.chainOutletObject.length){var r=JSON.parse(globals.params);i=r.restaurant_id}else i=n.chainOutletObject[0].rest_rid;t.storeRestId=i,t.menuRevisionPermission=!1;var c=localStorage.getItem('self_serve_menu_enabled_restaurants');c&&(c=JSON.parse(c),'number'!=typeof t.storeRestId&&(t.storeRestId=+t.storeRestId),0<c.length&&-1<c.indexOf(t.storeRestId)&&(t.menuRevisionPermission=!0));var g={restaurantId:t.storeRestId,page:0,rowCount:10,count:1,sortAsc:!1};t.initRevision(g),t.menuRevisionPageActive=!0,t.menuRevisionMenuActive=!0,t.catalogTab=!0,t.menuPageActive=!1,t.restMenu=!1,t.chooseOutlet=!1,t.hideRevisionTemp=!1,t.multipleOutlets=!1,t.iteoos=!1,t.swiggyPop=!1,t.currentPage='Menu Revision',l.$emit('resetRevisionData');var a='/menu/revision-history/restaurant/'+i;window.history.replaceState({url:a},'Revision History',a)}else if('view-ticket'===e){var i,o=angular.element('.app'),n=angular.element(o).scope();if(1<n.chainOutletObject.length){var r=JSON.parse(globals.params);i=r.restaurant_id}else i=n.chainOutletObject[0].rest_rid;t.storeRestId=i,t.itemTicketPage=!0,t.catalogTab=!0,t.menuRevisionPageActive=!1,t.menuRevisionMenuActive=!0,t.hideRevisionTemp=!0,t.menuPageActive=!1,t.restMenu=!1,t.addonsVarnts=!0,t.chooseOutlet=!1,t.multipleOutlets=!1,t.iteoos=!1,t.swiggyPop=!1,t.currentPage='Item Ticket Status'}else'chooseOutletMenu'===e&&(t.chooseOutlet=!0,t.chooseOutletMenu=!0,t.swiggyPop=!1,t.currentPage='Choose Outlet',t.addonsVarnts=!1,t.catalogTab=!0,t.restMenu=!1,t.iteoos=!1,l.$emit('initiateClearSearch'));}else if('seller-desc'==e){if(t.sellerDescSidebar=!0,t.swiggyPop=!1,1<t.chainOutletObject.length)t.currentPage='Choose Outlet',t.sellerDescPageChooseOutlet=!0;else{t.currentPage='Restaurant Tiering';var d={rid:t.chainOutletObject[0].rest_rid,cityId:t.chainOutletObject[0].rest_city_id};t.initSellerTierCall(d,t.chainOutletObject[0].rest_name,!1)}}else if('seller-desc-direct-menu'==e)t.currentRestTier||(t.currentRestTier=t.checkSellerTierValue(t.currentRestId)),t.currentPage='Restaurant Tiering',t.sellerDescPage=!0,t.sellerDescSidebar=!0,t.sellerDescSidebar=!0,t.swiggyPop=!1;else if('insights-ratings'==e)t.currentRestId&&(t.currentRestTier=t.checkSellerTierValue(t.currentRestId));else if('rest-info'===e){if(t.currentRestId&&(t.currentRestTier=t.checkSellerTierValue(t.currentRestId)),t.compliance=!1,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.insightsRatings=!1,t.profile=!0,t.activateProfile=!1,t.swiggyPop=!1,!(1<t.chainOutletObject.length)){t.profileActive=!0,t.currentPage='Restaurant Info';var u=globals.menu;if('restaurantInfo'===u){var p=t.chainOutletObject[0];t.showProfilePage(p.rest_city,{locality:p.rest_locality,rid:p.rest_rid,area:p.rest_area},null,function(e){if(e){var t=angular.element('.restaurant-info-profile'),s=angular.element(t).scope();s.showProfileTabs('prepTimeTab')}})}}else if(t.chooseMultiRestView=!0,t.isMultiRestaurentHeader=!0,t.currentPage='Choose Outlet',!1===t.pageRefreshed){var a='/restaurant-info';window.history.replaceState({url:a},'Restaurant Info',a)}else t.pageRefreshed=!1;t.chooseOutlet=!1,t.catalogTab=!1,t.iteoos=!1,t.restMenu=!1,t.ordersTab=!1,t.currentOrders=!1,t.pastOrders=!1,t.contactSwiggy=!1,t.restOnOffHeaderMenu=!1,t.changestatus=!1,t.settingsPageView=!1}else if('compliance'===e){if(t.compliance=!0,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.insightsRatings=!1,t.profile=!1,t.activateProfile=!1,!(1<t.chainOutletObject.length)){for(var h in t.profileActive=!1,t.currentPage='Compliance',t.modalSelectedAreaLocalityRid)t.selectedRest_cityName_profile=h,t.selectedRest_restDetails_profile=t.modalSelectedAreaLocalityRid[h][0];var u=globals.menu;'compliance'===u&&t.showProfilePage(t.selectedRest_cityName_profile,t.selectedRest_restDetails_profile,'fssai')}else if(t.chooseMultiRestView=!0,t.isMultiRestaurentHeader=!0,t.currentPage='Choose Outlet',!1===t.pageRefreshed){var a='/compliance';window.history.replaceState({url:a},'Compliance',a)}else t.pageRefreshed=!1;t.chooseOutlet=!1,t.catalogTab=!1,t.iteoos=!1,t.restMenu=!1,t.ordersTab=!1,t.currentOrders=!1,t.pastOrders=!1,t.contactSwiggy=!1,t.restOnOffHeaderMenu=!1,t.changestatus=!1,t.settingsPageView=!1,t.swiggyPop=!1}else if('contact-swiggy'===e){if(t.contactSwiggy=!0,t.compliance=!1,t.profile=!1,t.catalogTab=!1,t.chooseOutlet=!1,t.restMenu=!1,t.iteoos=!1,t.ordersTab=!1,t.currentOrders=!1,t.pastOrders=!1,t.settingsPageView=!1,t.restOnOffHeaderMenu=!1,t.currentPage='Contact Swiggy',t.loadCatalogueTemplateLoader=!1,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.insightsRatings=!1,t.swiggyPop=!1,t.getCatgoryDetails(),t.chainOutletObject&&t.chainOutletObject.length){if(1<t.chainOutletObject.length){var r,i;try{r=JSON.parse(globals.params),i=r.restaurant_id}catch(e){return void console.warn(e)}}else 1===t.chainOutletObject.length&&(i=t.chainOutletObject[0].rest_rid);var a='/contact/restaurant/'+i;window.history.replaceState({url:a},'Contact',a)}}else if('setting-page'===e){t.settingsPageView=!0,t.settingsPageProfile=!0,t.compliance=!1,t.changepassstep=0,t.catalogTab=!1,t.chooseOutlet=!1,t.restMenu=!1,t.iteoos=!1,t.contactSwiggy=!1,t.profile=!1,t.ordersTab=!1,t.currentOrders=!1,t.pastOrders=!1,t.restOnOffHeaderMenu=!1,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.insightsRatings=!1,t.swiggyPop=!1,t.currentPage='Settings';var a='/settings';window.history.replaceState({url:a},'Settings',a)}else if('rest-onOff-menu'===e)t.compliance=!1,t.profile=!1,t.chooseOutlet=!1,t.catalogTab=!1,t.ordersTab=!1,t.currentOrders=!1,t.pastOrders=!1,t.contactSwiggy=!1,t.restOnOffHeaderMenu=!0,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.insightsRatings=!1,t.swiggyPop=!1,t.currentPage='Restaurant On/Off ';else if('terms-condition'===e)t.termsConditionPageView=!0,t.compliance=!1,t.settingsPageView=!1,t.settingsPageProfile=!1,t.changepassstep=0,t.catalogTab=!1,t.chooseOutlet=!1,t.restMenu=!1,t.iteoos=!1,t.contactSwiggy=!1,t.profile=!1,t.ordersTab=!1,t.currentOrders=!1,t.pastOrders=!1,t.restOnOffHeaderMenu=!1,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.insightsRatings=!1,t.swiggyPop=!1,t.currentPage='Terms & Conditions';else if('trade-discount'!==e)'swiggy-pop'===e&&(t.settingsPageView=!1,t.settingsPageProfile=!0,t.compliance=!1,t.changepassstep=0,t.catalogTab=!1,t.chooseOutlet=!1,t.restMenu=!1,t.iteoos=!1,t.contactSwiggy=!1,t.profile=!1,t.ordersTab=!1,t.currentOrders=!1,t.pastOrders=!1,t.restOnOffHeaderMenu=!1,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.insightsRatings=!1,t.currentPage='Swiggy POP',t.swiggyPop=!0);else if(t.currentRestId&&(t.currentRestTier=t.checkSellerTierValue(t.currentRestId)),t.tradeDiscountPageView=!0,t.tradeDiscountCommonPageView=!1,t.createTradeDiscountView=!1,t.editFutureTradeDiscountView=!1,t.compliance=!1,t.settingsPageView=!1,t.settingsPageProfile=!1,t.changepassstep=0,t.catalogTab=!1,t.chooseOutlet=!1,t.restMenu=!1,t.iteoos=!1,t.contactSwiggy=!1,t.profile=!1,t.ordersTab=!1,t.currentOrders=!1,t.pastOrders=!1,t.restOnOffHeaderMenu=!1,t.insightsTab=!1,t.chooseOutletInsights=!1,t.chooseDetailsInsights=!1,t.insightsOverview=!1,t.insightsRevenue=!1,t.insightsOperations=!1,t.insightsRatings=!1,t.swiggyPop=!1,!(1<t.chainOutletObject.length)){t.tradeDiscountCommonPageView=!0,t.currentPage='Discounts';var p=t.chainOutletObject[0];t.initTradeDiscountApi(p.rest_city,{locality:p.rest_locality,rid:p.rest_rid,area:p.rest_area})}else if(t.chooseMultiRestView=!0,t.isMultiRestaurentHeader=!0,t.currentPage='Choose Outlet',!1===t.pageRefreshed){var a='/discounts';window.history.replaceState({url:a},'Discounts',a)}else t.pageRefreshed=!1},t.settingsTrack=function(e){var t='';'settings-page'===e?t='setting-click':'logout'===e&&(t='logout-click'),l.ordersPageTrack(t,null,null,l.globals.choosenOutlet.rest_rid,'settings')},t.dataBenefits={},t.getSellerTierBeneifitsData=function(s){s.restId||(s.restId=t.storeRestId);var r={restaurantId:s.restId,cityId:s.cityId};t.loadCatalogueTemplateLoader=!1,i.getSellerTiers(r).success(function(r){return t.loadCatalogueTemplateLoader=!0,0==r.statusCode?void(s.directData?(l.$broadcast('initSellerTierPermformance',r.data),t.currentClickedSideBar('seller-desc-direct-menu')):(t.currentClickedSideBar('seller-desc-direct-menu'),1<t.chainOutletObject.length&&(t.restLocation=s.cityName+'-'+s.theObjParam.area+'-'+s.theObjParam.locality),l.$broadcast('initSellerCombinedData',[s.metricsData,r.data])),t.currentRestTier=t.checkSellerTierValue(s.restId)):(console.warn('non-zero statuscode on getSellerTiers: ',r.statusMessage),t.toasterContent='Something went wrong, Please try again',t.toasterFlag=!0,t.failureCase=!0,void e(function(){t.removeToaster()},5e3))}).error(function(){return t.toasterContent='Something went wrong, Please try again',t.toasterFlag=!0,t.failureCase=!0,void e(function(){t.removeToaster()},5e3)})},t.termsConditions=function(){},t.sellerTierInfoMetrics=function(s){var r={restaurantId:s.restId};t.loadCatalogueTemplateLoader=!1,i.getSellerTierMetrics(r).success(function(r){return t.loadCatalogueTemplateLoader=!0,0==r.statusCode?void(s.directData?(t.currentRestTier=t.checkSellerTierValue(s.restId),l.$broadcast('initSellerTierView',r.data)):(s.metricsData=r.data,t.getSellerTierBeneifitsData(s))):(console.warn('non-zero statuscode for getSellerTierMetrics: ',r.statusMessage),t.toasterContent='Something went wrong, Please try again',t.toasterFlag=!0,t.failureCase=!0,void e(function(){t.removeToaster()},5e3))}).error(function(){return t.loadCatalogueTemplateLoader=!0,t.toasterContent='Something went wrong, Please try again',t.toasterFlag=!0,t.failureCase=!0,void e(function(){t.removeToaster()},5e3)})},t.getInsightsRevenue=function(){t.loadCatalogueTemplateLoader=!1;({restaurant_id:t.storeRestId});t.deactivateSiblingTabs=!1,t.loadCatalogueTemplateLoader=!0},t.trackEventNavInsights=function(){},t.settingsMainMenu=function(e){if(!(s.get('Swiggy_change_password')&&!0==JSON.parse(s.get('Swiggy_change_password'))))switch(t.settingsPageProfile=!1,t.settingsPageNotification=!1,t.showDebugSettings=!1,e){case'profile':t.settingsPageProfile=!0,t.changepassstep=0;var r='/settings/profile';window.history.replaceState({url:r},'Profile',r);break;case'notification':l.ordersPageTrack('setting-show-order-click',null,null,l.globals.choosenOutlet.rest_rid,'settings'),t.settingsPageNotification=!0;var r='/settings/orders';window.history.replaceState({url:r},'Show Orders',r);break;case'debugSettings':l.ordersPageTrack('setting-debug-app',null,null,l.globals.choosenOutlet.rest_rid,'settings'),t.showDebugSettings=!0;var r='/settings/debug';window.history.replaceState({url:r},'Debug App',r);break;default:}},t.initateOrderNotificationPrefence=function(){var e=t.userSession.toString().length;localStorage.getItem('stopOrderNotification')?(t.stopOrderNotification=localStorage.getItem('stopOrderNotification'),t.stopOrderNotification=!('true'!=t.stopOrderNotification)):(3===t.userRole?t.stopOrderNotification=!1:10===e&&(t.stopOrderNotification=!0),localStorage.setItem('stopOrderNotification',t.stopOrderNotification))},t.toggleOrderNotification=function(){t.stopOrderNotification=!t.stopOrderNotification,localStorage.setItem('stopOrderNotification',t.stopOrderNotification),t.stopOrderNotification?(t.newOrders.orders=[],t.confirmedOrders.orders=[]):t.reInitiateRestInfo()},t.checkStatus=function(){return t.status},t.showProfilePage=function(s,r,a=null,o){var n={rest_id:r.rid};t.selectedRest_restDetails_profile=r,t.loadCatalogueTemplateLoader=!1,t.toasterFlag=!1,i.fetchProfileResource(n).success(function(i){return t.loadCatalogueTemplateLoader=!0,0==i.statusCode?void(t.activateProfile=!0,t.currentRestTier=t.checkSellerTierValue(n.rest_id),t.setProfileDefaultView=function(){l.$emit('setProfileView',a)},t.setProfileDefaultView(),t.userRestProfileData=i.restaurantDetails,t.chooseMultiRestView=!1,t.profileActive=!0,t.activateProfile=!0,t.currentPage='Restaurant Info',t.restProfile.restLoc=s,t.restProfile.details=r,!0===t.compliance&&(t.currentPage='Compliance'),o&&o(!0)):(console.warn('master error with fetchProfileResource: ',i.statusMessage),t.toasterContent='Something went wrong, Please try again',t.toasterFlag=!0,t.failureCase=!0,t.activateProfile=!1,o&&o(!1),void e(function(){t.removeToaster()},5e3))}).error(function(){return t.loadCatalogueTemplateLoader=!0,t.toasterFlag=!0,t.toasterContent='Something went wrong, Please try again',t.failureCase=!0,t.activateProfile=!1,o&&o(!1),void e(function(){t.removeToaster()},5e3)})},t.init(),t.logout=function(){},t.profileforchangepassword=function(){l.ordersPageTrack('change-password-tab-click',null,null,l.globals.choosenOutlet.rest_rid,'changePassword'),l.getUserInfo(),t.changepassstep=1;var e='/change-password';window.history.replaceState({url:e},'Change Password',e)}},t.setFeaturesGates=function(){var e=JSON.parse(globals.featureGatePermission);if(e.hasOwnProperty('rest_callback_with_disposition')&&0==parseInt(e.rest_callback_with_disposition)&&(l.isNewParnerCallBackFlowOn=!0),l.mfrEnabledRestaurants=e.hasOwnProperty('mfrEnabledRestaurants')?e.mfrEnabledRestaurants||[]:[],l.predictedPrepTimeEnabledRestaurants=e.hasOwnProperty('predictedPrepTimeEnabledRestaurants')?e.predictedPrepTimeEnabledRestaurants||[]:[],!e.self_serve_menu_enabled_restaurants.length)null!==localStorage.getItem('self_serve_menu_enabled_restaurants')&&localStorage.removeItem('self_serve_menu_enabled_restaurants');else{var s=JSON.stringify(e.self_serve_menu_enabled_restaurants);localStorage.setItem('self_serve_menu_enabled_restaurants',s)}e.hasOwnProperty('trade_discount')&&0==parseInt(e.trade_discount)&&(t.tradeDiscountFeature=!1),e.hasOwnProperty('seller_tier')&&0==parseInt(e.seller_tier)&&(t.sellerTierFeatureGate=!1),e.hasOwnProperty('user_info')&&0==parseInt(e.user_info)&&(t.getUserInfoFeature=!1),t.sellerTierFeatureGate||'restaurantSellerTier'!=globals.menu&&'sellerTier'!=globals.menu||(window.location.href='/home/'),t.tradeDiscountFeature||'tradeDiscount'!=globals.menu||(window.location.href='/home/')},l.getUserInfo=function(){var e={username:+s.get('Swiggy_Session-user')};t.changestatus=!0,t.showChangePassRes='Please wait until we fetch the Password policy',t.disableSettingInputs=!0,i.reqPasswordConfig(e).success(function(e){t.disableSettingInputs=!1,t.changestatus=!1,t.showChangePassRes='',0==e.statusCode&&(t.passwordPolicyData=e.data.text,t.passwordPolicyRegex=e.data.regex,t.passwordPolicyErrorText=e.data.text),t.disableSettingInputs=!1,document.getElementById('oldpassword').focus()}).error(function(){t.showLoad=!1,t.disableSettingInputs=!1,t.changestatus=!0,t.showChangePassRes='Something went wrong while fetching the Passord policy, Please refresh the page and try again'})},t.showpasswordPolicyPopup=function(){o.open({animation:!0,backdrop:'static',templateUrl:'/app/shared/templates/common-modal.html',controller:'PasswordPolicyPopUp',size:'sm',windowClass:'toggelmodel text-center-all'})},t.checkPermissions=function(){var e=JSON.parse(globals.tabPermissions);t.swiggyPopFeature=-1!=e.indexOf('swiggy-pop'),l.swiggyPopFeature=-1!=e.indexOf('swiggy-pop'),l.callPartnerNewFlow=-1!=e.indexOf('new-partner-cb-flow')},s.get('Swiggy_internal_user')&&1===+s.get('Swiggy_internal_user')||(t.initUserProfile(),t.setFeaturesGates(),t.checkPermissions()),t.initApp()}function ToggleOrderController(e,t,s,r,a,i){function o(e){function t(e){var t;try{t=new Date(e.serverTime)}catch(s){t=new Date}var s=new Date(e.date);s.setHours(e.close_time.toString().substring(0,2),e.close_time.toString().substring(2));var r=new Date(e.date);return r.setHours(e.open_time.toString().substring(0,2),e.open_time.toString().substring(2)),t<=s&&t>r}if(0==e.data.statusCode){var s=e.data.data;if(s)return t(s)}return!1}if(e.swiggyPopFeature){i.popMenuFetchApiForOnOffStatus=!0;try{r.fetchPOPMenuForRestaurant(e.chainOutletObject[0].rest_rid).then(function(e){i.isPopLive=o(e),i.popMenuFetchApiForOnOffStatus=!1}).catch(function(t){throw t})}catch(t){i.isPopLive=!1,i.popMenuFetchApiForOnOffStatus=!1}}e.updateToggleStatus=function(s){e.$parent.submittingTgle=!0,e.$parent.toggleObj.isRequestedToOpen=!s,e.selectedRest_restDetails_profile.rest_rid===void 0&&(e.selectedRest_restDetails_profile.rest_rid=e.selectedRest_restDetails_profile.rid),e.$parent.toggleObj.restaurantId=e.selectedRest_restDetails_profile.rest_rid;var n=[];n.push(t.toggleOrderStatus(e.$parent.toggleObj)),e.swiggyPopFeature&&s&&n.push(r.fetchPOPMenuForRestaurant(e.chainOutletObject[0].rest_rid));try{a.all(n).then(function(t){var r=t[0],a=!1;e.swiggyPopFeature&&s&&(a=o(t[1]),i.isPopRunningGlobalFlag=a),0==r.data.statusCode?e.swiggyPopFeature&&s&&a?e.$parent.showPopInfo=!0:(e.$parent.selectToggleModalHide=!0,e.$parent.stopOrder=!e.$parent.stopOrder,e.$parent.submittingTgle=!1,e.$parent.submittingErr=!1):(e.$parent.selectToggleModalHide=!1,e.$parent.submittingErr=!0,e.$parent.submittingTgle=!1)}).catch(function(){e.$parent.selectToggleModalHide=!1,e.$parent.submittingErr=!0,e.$parent.submittingTgle=!1})}catch(t){e.$parent.selectToggleModalHide=!1,e.$parent.submittingErr=!0,e.$parent.submittingTgle=!1}},e.removeToggleModal=function(t){!0==t?(e.$parent.restrntOrderToggleBtn=!0,e.updateToggleStatus(!0)):'cancel'==t?(e.$parent.restrntOrderToggleBtn=!e.$parent.restrntOrderToggleBtn,e.$parent.selectToggleModalHide=!0,e.$parent.submittingErr=!1):!1==t?(e.$parent.restrntOrderToggleBtn=!1,e.updateToggleStatus(!1)):'swiggyPop'===t&&(e.$parent.selectToggleModalHide=!0,!e.$parent.stopOrder&&(e.$parent.stopOrder=!e.$parent.stopOrder),e.$parent.submittingTgle=!1,e.$parent.submittingErr=!1,e.$parent.showPopInfo=!1)}}function RestOnOffController(){}function RestNotificationCtroller(e,t,s){function r(){try{var e={hasUserClickedThePopUp:!0,clickDate:moment().format()};localStorage.setItem('sw_fssai_pop_up_click_flag',JSON.stringify(e))}catch(t){console.warn(t)}}e.fssai_status_enum=['none','expired','expiring','pending','ackUploaded','ok'],e.fssaiAlerting=!1,e.gstAlerting=!1,globals.userInfoDataParam&&(e.fssaiAlerting=globals.userInfoDataParam.isFssaiAlert,e.gstAlerting=globals.userInfoDataParam.isGstAlert),e.getCopyForFssaiStatus=function(e){return'none'===e?'FSSAI/Acknowledgement Missing':'expired'===e?'FSSAI Expired':'expiring'===e?'FSSAI Expiring':'pending'===e?'FSSAI Pending':'ackUploaded'===e?'Present':'ok'===e?'Present':'No Status'},e.fssaiStatusComparator=function(t){return t&&t.status?e.fssai_status_enum.indexOf(t.status):0};var a=s.getAllRestIds();e.stored_outlets=[];try{e.stored_outlets=JSON.parse(localStorage.getItem('Swiggy_outlets'))}catch(t){console.warn('error getting outlets'),e.stored_outlets=[]}t.getComplianceNotification(a).then(function(t){if(0===t.data.statusCode){var r=t.data.data;e.fssaiAlerting&&r.fssaiAlert&&(e.fssai_blocker_applyonline=r.fssaiAlert.applyOnline,e.fssai_blocker_description=r.fssaiAlert.description,s.fssai_blocker_description=r.fssaiAlert.description,e.fssai_blocker_helpline=r.fssaiAlert.helpLine,e.fssai_blocker_noCertCount=r.fssaiAlert.noCertCount,s.fssai_blocker_noCertCount=r.fssaiAlert.noCertCount,e.fssai_blocker_totalOutlets=r.fssaiAlert.totalOutlets,e.fssai_outlets_info=angular.copy(r.fssaiAlert.info),s.fssai_aggregate_status=r.fssaiAlert.status,s.fssai_warning_date=r.fssaiAlert.warningDate,s.fssai_warning_text=r.fssaiAlert.warningText),e.gstAlerting&&r.gstAlert&&(e.gst_blocker_noInfoCount=r.gstAlert.gst_not_avail_rests.length,s.gst_blocker_noInfoCount=r.gstAlert.gst_not_avail_rests.length,e.gst_blocker_not_avail_rests=r.gstAlert.gst_not_avail_rests,e.gst_lastDate=r.gstAlert.lastDate,s.gst_lastDate=r.gstAlert.lastDate),e.stored_outlets.forEach(function(t){e.gstAlerting&&r.gstAlert&&(0<=e.gst_blocker_not_avail_rests.indexOf(t.rest_rid)?t.gst_status='GST PENDING':t.gst_status='GST DONE'),e.fssaiAlerting&&r.fssaiAlert&&e.fssai_outlets_info.forEach(function(e){t.rest_rid===+e.restaurantId&&(t.fssai_status=e.status)})}),e.shouldShowFssaiBlocker=function(){return!!e.fssaiAlerting&&('expired'===e.fssai_aggregate_status||'none'===e.fssai_aggregate_status)},e.shouldShowGstBlocker=function(){return!!e.gstAlerting&&0<e.gst_blocker_noInfoCount},s.fssaiBlockerEligible=e.shouldShowFssaiBlocker(),s.gstBlockerEligible=e.shouldShowGstBlocker(),s.complianceBlockerEligible=s.fssaiBlockerEligible||s.gstBlockerEligible;var a=0<=location.href.indexOf('fssai')||0<=location.href.indexOf('gst');s.complianceBlockerEligible&&!a&&s.openComplianceBlocker(!0)}}),e.toggleExpansion=function(){e.expanded=!e.expanded},s.$on('fssai-blocker-reaction',function(){e.reactToFssaiBlocker()}),e.reactToFssaiBlocker=function(){r(),e.hideNotificationOnUserAction=!0}}function PasswordPolicyPopUp(e,t,s){e.ok=function(){s.dismiss('cancel')},e.cancel=function(){s.dismiss('cancel')}}_.deepClone=function e(t,s){var r,a;if(s=s||1,'object'!=typeof t||null===t)return t;if(_.isString(t))return t.splice();if(_.isDate(t))return new Date(t.getTime());if(_.isFunction(t.clone))return t.clone();if(r=_.isArray(t)?t.slice():_.extend({},t),void 0!==s&&0<s)for(a in r)r[a]=e(r[a],s-1);return r},'function'!=typeof Object.assign&&Object.defineProperty(Object,'assign',{value:function(e){'use strict';if(null==e)throw new TypeError('Cannot convert undefined or null to object');for(var t,s=Object(e),r=1;r<arguments.length;r++)if(t=arguments[r],null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=t[a]);return s},writable:!0,configurable:!0});function LodashFactory(e){return!e._,e._}LodashFactory.$inject=['$window'],app.factory('_',LodashFactory);
app.controller('ContactFormController',['$scope','HomeFactory','$rootScope','Upload',function(a,b,c){a.trackForContactForm=function(a,b,d,e,f,g){var h={event:event,data:{eventType:g||'click',"object-name":a,"screen-name":'help-page',"object-value":b,field1:f,context:e,"object-position":d}};c.appTrack(h)};var d={IN:'+91'};a.formatPhoneNumber=function(a,b){if(a){var a=a.toString(),c=''+(a[0]||'')+(a[1]||'')+(a[2]||''),e=''+(a[3]||'')+(a[4]||'')+(a[5]||''),f=''+(a[6]||'')+(a[7]||''),g=''+(a[8]||'')+(a[9]||'');return d[b]+' '+c+' '+e+'-'+f+'-'+g}},a.getSpocDetails=function(){var d={restaurantId:c.globals.choosenOutlet&&c.globals.choosenOutlet.rest_rid};d.restaurantId&&b.getSpocDetails(d).success(function(b){0===b.statusCode?(a.spocDetails=b.data,a.spocDetails&&a.spocDetails.sm_mobile&&a.spocDetails.sm_email&&a.trackForContactForm('spoc-detail',d.restaurantId,0,null,null,'impression')):console.log('error fetching spoc details, ',b)}).error(function(a){console.log(a)})},a.getSpocDetails(),a.fileNames='',a.menuImageFiles='',a.showError=!1,a.dropDownHeight='200px';var e='contactFormData';a.changethis=function(){a.showError=!1},a.contactRestDetails={},a.availableContactRestDetails=[],a.getCatgoryList={},a.fillContactRestDetails=function(){a.contactObj&&1===a.contactObj.length&&(a.availableContactRestDetails=[]);for(var b,c=0;c<a.contactObj.length;c++)b={name:a.contactObj[c].rest_name+', '+a.contactObj[c].rest_area+' '+a.contactObj[c].rest_locality+', '+a.contactObj[c].rest_city,id:a.contactObj[c].rest_rid,mobile:a.contactObj[c].rest_mobile,city:a.contactObj[c].rest_city,selected:!1},a.availableContactRestDetails.push(b)},a.fillContactRestDetails(),a.availableContactRestDetails[0].selected=!0,0<a.availableContactRestDetails.length&&(a.dropDownHeight='auto'),a.localLang={selectAll:'Select all',selectNone:'Select none',reset:'Undo all',search:'Type here to search...',nothingSelected:'Please choose restaurant details'},a.dropDownClose=function(){a.checkRestId()};var f=c.$on('restaurantInfoParsed',function(){a.fillContactRestDetails()});a.$on('$destroy',function(){f()}),a.contactSubmitBtnClkd=!1,a.contactSwiggyFailed=null,a.contactSwiggySuccs=!1,a.restDetailNoneSelected=!1,a.imageNoneSelected=!1,a.checkRestId=function(){return 0==+a.contactRestDetails.restaurantId.length?(a.restDetailNoneSelected=!0,!0):(a.restDetailNoneSelected=!1,!1)},a.submitContactForm=function(){if(!0!==a.checkRestId()){a.contactSubmitBtnClkd=!0,a.contactSwiggyFailed=!1,a.restDetailNoneSelected=!1,a.imageNoneSelected=!1,angular.forEach(a.contactRestDetails.restaurantId,function(){}),a.dataToSend={city:a.availableContactRestDetails[0].city,subject:a.contactRestDetails.subject,message:a.contactRestDetails.message,category:a.contactRestDetails.category},a.subCatMenu?(a.dataToSend.file=a.menuImageFiles,a.dataToSend.noOfItemsChanging=a.contactRestDetails.noOfItemsChanging,a.dataToSend.typeOfEdit=a.contactRestDetails.typeOfEdit,e='contactFormDataImage'):e='contactFormData';var c=a.contactRestDetails.restaurantId,d=[];for(var f in c)c[f]&&d.push(c[f].id);a.dataToSend.restaurantIds=d,b[e](a.dataToSend).success(function(b){for(var c in a.contactSubmitBtnClkd=!1,0===b.statusCode?(a.contactSwiggySuccs=!0,a.contactSwiggyFailed=!1,a.trackForContactForm('help-submit-click',d.join(','),0,a.dataToSend.category,a.dataToSend.noOfItemsChanging)):(a.contactSwiggyFalse=!0,a.contactSwiggyFailed=!0,a.contactSwiggySuccs=!1,a.showError=!0,Raven.captureMessage('raiseTicketError with 200:',{extra:a.dataToSend})),a.availableContactRestDetails)a.availableContactRestDetails[c].selected=!1}).error(function(){a.contactSubmitBtnClkd=!1,a.contactSwiggyFalse=!0,a.contactSwiggyFailed=!0,a.contactSwiggySuccs=!1,a.showError=!0})}},a.resetContactForm=function(){a.reset=function(){for(var b in 1<a.contactObj.length&&(a.contactRestDetails.restaurantId=[]),a.contactRestDetails.category='',a.contactRestDetails.subject='',a.contactRestDetails.comment='',a.contactRestDetails.message='',a.contactRestDetails.city='',a.contactRestDetails={},a.menuImageFiles='',a.fileNames='',a.availableContactRestDetails)a.availableContactRestDetails[b].selected=!1;a.availableContactRestDetails[0].selected=!0,a.isMenuItemSelected('Set Default')},a.reset(),this.contactForm.$setPristine(),a.contactSwiggySuccs=!1},a.imageMaxSize=!1,a.imageValidate=function(b){return a.imageMaxSize=!1,'maxSize'in a.contactForm.$error&&(a.imageMaxSize=!0),b?void(a.menuImageFiles=b,a.fileNames=b.name):(a.menuImageFiles='',void(a.fileNames=''))}}]);
app.controller('BusinessMetricsControler',BusinessMetricsControler),BusinessMetricsControler.$inject=['$scope','$timeout','$cookies','$interval','$window','HomeFactory','$uibModal','$log','$rootScope','$sce','swiggyPOPFactory','$controller'];function BusinessMetricsControler(a,b,c,d,e,f,g,h,i){function j(b,c){a.reportRangeStart=b,a.reportRangeEnd=c,a.insightsDuration=a.reportRangeStart.format('dddd, DD MMM')+' To '+a.reportRangeEnd.format('dddd, DD MMM'),$('#reportrange_revenue span').html(b.format('MMM D, YYYY')+' - '+c.format('MMM D, YYYY')),a.insightsRevenue&&(a.revenueCurrentPage=0,a.revenueLossCurrentPage=0,google.charts.setOnLoadCallback(a.drawRevenueCharts))}function k(b,c){a.reportRangeRatingsStart=b,a.reportRangeRatingsEnd=c,a.insightsRatingsDuration=a.reportRangeStart.format('dddd, DD MMM')+' To '+a.reportRangeEnd.format('dddd, DD MMM'),$('#reportrange_ratings span').html(b.format('MMM D, YYYY')+' - '+c.format('MMM D, YYYY')),a.insightsRatings&&(a.ratingsCurrentPage=0,google.charts.setOnLoadCallback(a.drawRatingsCharts))}function l(b,c){a.reportRangeStart=b,a.reportRangeEnd=c,a.insightsDuration=a.reportRangeStart.format('dddd, DD MMM')+' To '+a.reportRangeEnd.format('dddd, DD MMM'),$('#reportrange_ops span').html(b.format('MMM D, YYYY')+' - '+c.format('MMM D, YYYY')),a.insightsOperations&&(a.opsORCurrentPage=0,a.opsERCurrentPage=0,a.opsCRCurrentPage=0,a.opsARCurrentPage=0,google.charts.setOnLoadCallback(drawOperationsCharts))}var m=Math.round,n=Math.floor;switch(a.initializeOverviewData=function(){a.overviewData={cancelled_orders_current_week:0,cancelled_orders_growth:0,total_cancelled_orders_last_week:0,cancelled_orders_today:0,cancelled_orders_yest:0,delivered_orders_current_week:0,delivered_orders_growth:0,total_delivered_orders_last_week:0,delivered_orders_today:0,delivered_orders_yest:0,revenue_loss_current_week:0,revenue_loss_growth:0,total_revenue_loss_last_week:0,revenue_loss_today:0,revenue_loss_yest:0,revenue_current_week:0,revenue_growth:0,total_revenue_last_week:0,revenue_today:0,revenue_yest:0}},a.initializeRevenueData=function(){a.revenueOverview={total_revenue:0,delivered_orders:0,avg_order_value:0,revenue_loss:0,cancelled_orders:0,avg_order_value_loss:0}},a.initializeOperationsData=function(){a.operationsOverview={orders_delivered:0,orders_cancelled:0,orders_edited:0}},initalizeDayMap=function(){a.dayMap={Mon:'Monday',Tue:'Tuesday',Wed:'Wednesday',Thu:'Thursday',Fri:'Friday',Sat:'Saturday',Sun:'Sunday'}},initializeInsights=function(){google.charts.load('current',{packages:['corechart']}),a.initializeOverviewData(),a.initializeRevenueData(),a.initializeOperationsData(),a.reportRangeStart=moment().subtract(6,'days'),a.reportRangeEnd=moment(),a.reportRangeRatingsStart=moment().subtract(27,'days'),a.reportRangeRatingsEnd=moment();var b=moment().subtract(3,'months').startOf('month'),c='2016-08-25';a.minDate=0<b.diff(c)?b:moment(c),a.maxDate=moment(),a.insightsDuration=a.reportRangeStart.format('dddd, DD MMM')+' To '+a.reportRangeEnd.format('dddd, DD MMM'),a.insightsRatingsDuration=a.reportRangeRatingsStart.format('dddd, DD MMM')+' To '+a.reportRangeRatingsEnd.format('dddd, DD MMM'),a.revenueViewType='day',a.revenueAnalysis='Daily Revenue',a.revenueLossAnalysis='Daily Revenue Loss',a.revenueDef='Total bill value of all orders on daily basis',a.revenueLossDef='Total bill value of all cancelled orders on daily basis',a.revenueCurrentPage=0,a.revenueLossCurrentPage=0,a.operationsViewType='day',a.gapInTableEntries=8,a.opsORCurrentPage=0,a.opsERCurrentPage=0,a.opsCRCurrentPage=0,a.opsARCurrentPage=0,a.orderAnalysis='Daily Orders',a.editRateAnalysis='Daily Order Stock Out Rate',a.cancelRateAnalysis='Daily Order Cancellation Rate',a.acceptRateAnalysis='Daily Order Confirmation Rate',a.orderDef='Total orders generated by Swiggy on daily basis',a.editRateDef='% orders marked out of stock(SO) among all orders received from Swiggy',a.cancelRateDef='% orders cancelled by restaurant due to stockout, closure or restaurant unresponsiveness',a.acceptRateDef='% orders accepted within 3 minutes from Swiggy app without any manual intervention',a.ratingsAnalysis='Weekly Average Customer Ratings',a.ratingsDef='Average rating is calculated basis orders for which customer ratings are received and not for all orders delivered.',a.ratingsViewType='week',a.ratingsCurrentPage=0,a.ratingDuration='As of Today',a.lastWeekString=moment().day(-6).format('dddd, DD MMM')+' - '+moment().day(0).format('dddd, DD MMM'),a.currentWeekString=moment().day(1).format('dddd, DD MMM')+' - '+moment().day(7).format('dddd, DD MMM'),initalizeDayMap()},a.checkTier=function(a){return'Gold'==a?'gold':'Platinum'==a?'platinum':'Untiered'==a?'untiered':'Silver'==a?'silver':'Bronze'==a?'bronze':void 0},a.populateGraphs=function(b){a.ovRevenueData=[['Day','Revenue',{type:'string',role:'tooltip'},'Revenue',{type:'string',role:'tooltip'}]],a.ovOrdersData=[['Day','Orders',{type:'string',role:'tooltip'},'Orders',{type:'string',role:'tooltip'}]],a.ovRevenueLossData=[['Day','Revenue Loss',{type:'string',role:'tooltip'},'Revenue Loss',{type:'string',role:'tooltip'}]],a.ovOrdersCancelledData=[['Day','Orders Cancelled',{type:'string',role:'tooltip'},'Orders Cancelled',{type:'string',role:'tooltip'}]];for(var c=1;7>=c;c++)a.ovRevenueData.push([b[c].day,b[c].total_revenue,'Last '+a.dayMap[b[c].day]+'\nRevenue: '+b[c].total_revenue,b[c+7].total_revenue,'This '+a.dayMap[b[c].day]+'\nRevenue: '+b[c+7].total_revenue]),a.ovOrdersData.push([b[c].day,b[c].delivered_orders,'Last '+a.dayMap[b[c].day]+'\nOrders: '+b[c].delivered_orders,b[c+7].delivered_orders,'This '+a.dayMap[b[c].day]+'\nOrders: '+b[c+7].delivered_orders]),a.ovRevenueLossData.push([b[c].day,b[c].revenue_loss,'Last '+a.dayMap[b[c].day]+'\nRevenue Loss: '+b[c].revenue_loss,b[c+7].revenue_loss,'This '+a.dayMap[b[c].day]+'\nRevenue Loss: '+b[c+7].revenue_loss]),a.ovOrdersCancelledData.push([b[c].day,b[c].cancelled_orders,'Last '+a.dayMap[b[c].day]+'\nOrders Cancelled: '+b[c].cancelled_orders,b[c+7].cancelled_orders,'This '+a.dayMap[b[c].day]+'\nOrders Cancelled: '+b[c+7].cancelled_orders]);a.drawOvRevenueChart(),a.drawOvOrdersChart(),a.drawOvRevenueLossChart(),a.drawOvOrdersCancelledChart()},a.drawOvRevenueChart=function(){var b=google.visualization.arrayToDataTable(a.ovRevenueData),c=new google.visualization.ColumnChart(document.getElementById('ov_revenue_chart'));c.draw(b,{legend:{position:'none'},width:423,height:160,hAxis:{textStyle:{color:'#616161',fontName:'Proxima Nova'}},colors:['#c8e6c9','#4CAF50'],chartArea:{width:'100%',height:'70%'}})},a.drawOvOrdersChart=function(){var b=google.visualization.arrayToDataTable(a.ovOrdersData),c=new google.visualization.LineChart(document.getElementById('ov_orders_chart'));c.draw(b,{legend:{position:'none'},width:423,height:160,hAxis:{textStyle:{color:'#616161',fontName:'Proxima Nova'}},pointSize:5,colors:['#c8e6c9','#4CAF50'],chartArea:{width:'100%',height:'70%'}})},a.drawOvRevenueLossChart=function(){var b=google.visualization.arrayToDataTable(a.ovRevenueLossData),c=new google.visualization.ColumnChart(document.getElementById('ov_revenue_loss_chart'));c.draw(b,{legend:{position:'none'},width:423,height:160,hAxis:{textStyle:{color:'#616161',fontName:'Proxima Nova'}},colors:['#ffcdd2','#f44336'],chartArea:{width:'100%',height:'70%'}})},a.drawOvOrdersCancelledChart=function(){var b=google.visualization.arrayToDataTable(a.ovOrdersCancelledData),c=new google.visualization.LineChart(document.getElementById('ov_orders_cancelled_chart'));c.draw(b,{legend:{position:'none'},width:423,height:160,hAxis:{textStyle:{color:'#616161',fontName:'Proxima Nova'}},pointSize:5,colors:['#ffcdd2','#f44336'],chartArea:{width:'100%',height:'70%'}})},initializeRevenueDRPicker=function(){$('#reportrange_revenue').daterangepicker({startDate:a.reportRangeStart,endDate:a.reportRangeEnd,minDate:a.minDate,maxDate:a.maxDate,locale:{format:'DD-MM-YYYY'},ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,'days'),moment().subtract(1,'days')],"Last 7 Days":[moment().subtract(6,'days'),moment()],"Last 30 Days":[moment().subtract(29,'days'),moment()],"This Month":[moment().startOf('month'),moment().endOf('month')],"Last Month":[moment().subtract(1,'month').startOf('month'),moment().subtract(1,'month').endOf('month')]}},j),j(a.reportRangeStart,a.reportRangeEnd)},initializeRatingsDRPicker=function(){$('#reportrange_ratings').daterangepicker({startDate:a.reportRangeRatingsStart,endDate:a.reportRangeRatingsEnd,minDate:a.minDate,maxDate:a.maxDate,locale:{format:'DD-MM-YYYY'},ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,'days'),moment().subtract(1,'days')],"Last 7 Days":[moment().subtract(6,'days'),moment()],"Last 30 Days":[moment().subtract(29,'days'),moment()],"This Month":[moment().startOf('month'),moment().endOf('month')],"Last Month":[moment().subtract(1,'month').startOf('month'),moment().subtract(1,'month').endOf('month')]}},k),k(a.reportRangeRatingsStart,a.reportRangeRatingsEnd)},a.toggleRevenueViewType=function(b){a.revenueViewType=b,a.revenueCurrentPage=0,a.revenueLossCurrentPage=0,'day'===b?(a.revenueAnalysis='Daily Revenue',a.revenueLossAnalysis='Daily Revenue Loss',a.revenueDef='Total bill value of all orders on daily basis',a.revenueLossDef='Total bill value of all cancelled orders on daily basis'):'week'===b?(a.revenueAnalysis='Weekly Revenue',a.revenueLossAnalysis='Weekly Revenue Loss',a.revenueDef='Total bill value of all orders on weekly basis',a.revenueLossDef='Total bill value of all cancelled orders on weekly basis'):'month'===b&&(a.revenueAnalysis='Monthly Revenue',a.revenueLossAnalysis='Monthly Revenue Loss',a.revenueDef='Total bill value of all orders on monthly basis',a.revenueLossDef='Total bill value of all cancelled orders on monthly basis'),google.charts.setOnLoadCallback(a.drawRevenueCharts)},a.toggleRatingsViewType=function(b){a.ratingsViewType=b,a.ratingsCurrentPage=0,'day'===b?a.ratingsAnalysis='Daily Average Customer Ratings':'week'===b?a.ratingsAnalysis='Weekly Average Customer Ratings':'month'===b&&(a.ratingsAnalysis='Monthly Average Customer Ratings'),google.charts.setOnLoadCallback(a.drawRatingsCharts)},a.toggleRevenueGraphViewType=function(b){a.revenueViewGraph=b},a.toggleRevenueLossGraphViewType=function(b){a.revenueLossViewGraph=b},a.toggleRatingsGraphViewType=function(b){a.ratingsViewGraph=b},a.drawRevenueCharts=function(){a.loadCatalogueTemplateLoader=!1;var b=a.reportRangeStart.format('YYYY-MM-DD'),c=a.reportRangeEnd.format('YYYY-MM-DD');data={restaurantId:i.globals.choosenOutlet.rest_rid,startDate:b,endDate:c,groupBy:a.revenueViewType},f.revenueInsights(data).success(function(b){0==b.statusCode&&(a.populateRevenueData(b.data.data.overview,b.data.data.data),a.populateRevenueGraphs(b.data.data.data)),a.loadCatalogueTemplateLoader=!0}).error(function(){a.loadCatalogueTemplateLoader=!0})},a.drawRatingsCharts=function(){a.loadCatalogueTemplateLoader=!1;var b=a.reportRangeRatingsStart.format('YYYY-MM-DD'),c=a.reportRangeRatingsEnd.format('YYYY-MM-DD');data={restaurantId:i.globals.choosenOutlet.rest_rid,startDate:b,endDate:c,groupBy:a.ratingsViewType},f.ratingsInsights(data).success(function(b){0==b.statusCode&&a.populateRatingsData(b),a.loadCatalogueTemplateLoader=!0}).error(function(){a.loadCatalogueTemplateLoader=!0})},a.populateRevenueData=function(b,c){a.revenueOverview=b,a.revenueData=c,a.populatePagedRevenueData()},a.populateRatingsData=function(b){a.ratingsData=b.data,a.populateRatingsGraphs(a.ratingsData.rating_trend),a.populatePagedRatingsData()},a.populatePagedRevenueData=function(){a.pagedRevenueData=[];for(var b=0;b<a.revenueData.length;b++){if(0==b%a.gapInTableEntries)var c=[];c.push(a.revenueData[b]),a.pagedRevenueData[n(b/a.gapInTableEntries)]=c}},a.populatePagedRatingsData=function(){a.pagedRatingsData=[];for(var b=0;b<a.ratingsData.rating_trend.length;b++){if(0==b%a.gapInTableEntries)var c=[];c.push(a.ratingsData.rating_trend[b]),a.pagedRatingsData[n(b/a.gapInTableEntries)]=c}},a.populateRevenueGraphs=function(b){a.revenueGraphData=[[a.revenueViewType,'Revenue',{role:'style'}]],a.revenueLossGraphData=[[a.revenueViewType,'Revenue Loss',{role:'style'}]];for(var c=0;c<b.length;c++)a.revenueGraphData.push([b[c].date_range,b[c].total_revenue,'#4CAF50']),a.revenueLossGraphData.push([b[c].date_range,b[c].revenue_loss,'#f44336']);a.drawRevenueChart(),a.drawRevenueLossChart()},a.populateRatingsGraphs=function(b){var c=0,d=moment().day(-6),e=moment().day(-13);a.reportRangeRatingsEnd>=e&&a.reportRangeRatingsEnd<d?c=1:a.reportRangeRatingsEnd>=d&&(c=2),a.ratingsGraphData=[[a.ratingsViewType,'Average Rating',{type:'string',role:'tooltip'},{role:'style'}]];for(var f=0;f<b.length;f++)'week'===a.ratingsViewType&&(f==b.length-2&&2==c||f==b.length-1&&(1==c||2==c))?a.ratingsGraphData.push([b[f].date_range,m(10*b[f].avg_rating)/10,b[f].date_range+'\nAverage Rating: '+m(10*b[f].avg_rating)/10+'\nTotal Rated Orders: '+b[f].rated_orders,'#BDBDBD']):a.ratingsGraphData.push([b[f].date_range,m(10*b[f].avg_rating)/10,b[f].date_range+'\nAverage Rating: '+m(10*b[f].avg_rating)/10+'\nTotal Rated Orders: '+b[f].rated_orders,'#1a1a1a']);a.drawRatingsChart()},a.drawRevenueChart=function(){var b=google.visualization.arrayToDataTable(a.revenueGraphData),c=new google.visualization.ColumnChart(document.getElementById('revenue_chart'));c.draw(b,{legend:{position:'none'},width:870,height:320,hAxis:{textStyle:{color:'#616161'}},chartArea:{right:10,width:'92%',height:'80%'}})},a.drawRevenueLossChart=function(){var b=google.visualization.arrayToDataTable(a.revenueLossGraphData),c=new google.visualization.ColumnChart(document.getElementById('revenue_loss_chart'));c.draw(b,{legend:{position:'none'},width:870,height:320,hAxis:{textStyle:{color:'#616161'}},chartArea:{right:10,width:'92%',height:'80%'}})},a.drawRatingsChart=function(){var b=google.visualization.arrayToDataTable(a.ratingsGraphData),c=new google.visualization.LineChart(document.getElementById('ratings_chart'));c.draw(b,{legend:{position:'none'},width:870,height:320,pointSize:6,hAxis:{textStyle:{color:'#616161'}},vAxis:{format:'0',maxValue:5,gridlines:{count:6},viewWindow:{min:0,max:5}},chartArea:{right:10,width:'95%',height:'80%'}})},a.prevRevenuePage=function(){0<a.revenueCurrentPage&&a.revenueCurrentPage--},a.nextRevenuePage=function(){a.revenueCurrentPage<a.pagedRevenueData.length-1&&a.revenueCurrentPage++},a.prevRevenueLossPage=function(){0<a.revenueLossCurrentPage&&a.revenueLossCurrentPage--},a.nextRevenueLossPage=function(){a.revenueLossCurrentPage<a.pagedRevenueData.length-1&&a.revenueLossCurrentPage++},a.prevRatingsPage=function(){0<a.ratingsCurrentPage&&a.ratingsCurrentPage--},a.nextRatingsPage=function(){a.ratingsCurrentPage<a.pagedRatingsData.length-1&&a.ratingsCurrentPage++},a.exportRevenueData=function(){var b=a.revenueData;if(b){var c='data:text/csv;charset=utf-8,',d='# '+a.revenueViewType+' Wise Revenue Details\n# restaurantId '+i.globals.choosenOutlet.rest_rid+'\n'+a.revenueViewType+',delivered_orders,total_revenue,cancelled_orders,revenue_loss,total_orders\n';b.forEach(function(a,e){d+=a.date_range+','+a.delivered_orders+','+a.total_revenue+','+a.cancelled_orders+','+a.revenue_loss+','+a.total_orders,c+=e<b.length?d+'\n':d,d=''});var e=encodeURI(c),f=document.createElement('a');f.setAttribute('href',e);var g=i.globals.choosenOutlet.rest_rid+'_revenue_'+a.revenueViewType+'wise_'+a.reportRangeStart.format('DD/MM/YYYY')+'-'+a.reportRangeEnd.format('DD/MM/YYYY')+'.csv';f.setAttribute('download',g),document.body.appendChild(f),f.click()}var h=a.reportRangeEnd.diff(a.reportRangeStart,'days')+1;i.metricsSettingsTrack('export-csv-revenue-click',h,i.globals.choosenOutlet.rest_rid,null,globals.menu)},a.exportRatingsData=function(){var b=a.ratingsData.rating_trend;if(b){var c='data:text/csv;charset=utf-8,',d='# '+a.ratingsViewType+' Wise Ratings Details\n# restaurantId '+i.globals.choosenOutlet.rest_rid+'\n'+a.ratingsViewType+',avg_rating,rated_orders,unrated_orders,total_orders\n';b.forEach(function(a,e){d+=a.date_range+','+m(10*a.avg_rating)/10+','+a.rated_orders+','+a.unrated_orders+','+a.total_orders,c+=e<b.length?d+'\n':d,d=''});var e=encodeURI(c),f=document.createElement('a');f.setAttribute('href',e);var g=i.globals.choosenOutlet.rest_rid+'_ratings_'+a.ratingsViewType+'wise_'+a.reportRangeStart.format('DD/MM/YYYY')+'-'+a.reportRangeEnd.format('DD/MM/YYYY')+'.csv';f.setAttribute('download',g),document.body.appendChild(f),f.click()}},a.exportOperationsData=function(){var b=a.operationsData;if(b){var c='data:text/csv;charset=utf-8,',d='# '+a.operationsViewType+' Wise Operations Details\n# restaurantId '+i.globals.choosenOutlet.rest_rid+'\n'+a.operationsViewType+',Total Orders,Orders Delivered,Orders Cancelled,Orders Confirmed Within 3 mins,Cancellation Due To Item Not Available,Cancellation Due To Restaurant Closed,Cancellation Due To Restaurant Not Accepting Orders\n';b.forEach(function(a,e){d+=a.date_range+','+a.total_orders+','+a.orders_delivered+','+a.orders_cancelled+','+a.orders_accepted_wo_delay+','+a.cancel_item_na+','+a.cancel_rest_closed+','+a.cancel_rest_not_accepting,c+=e<b.length?d+'\n':d,d=''});var e=encodeURI(c),f=document.createElement('a');f.setAttribute('href',e);var g=i.globals.choosenOutlet.rest_rid+'_operation_'+a.operationsViewType+'wise_'+a.reportRangeStart.format('DD/MM/YYYY')+'-'+a.reportRangeEnd.format('DD/MM/YYYY')+'.csv';f.setAttribute('download',g),document.body.appendChild(f),f.click()}var h=a.reportRangeEnd.diff(a.reportRangeStart,'days')+1;i.metricsSettingsTrack('export-csv-operations-click',h,i.globals.choosenOutlet.rest_rid,null,globals.menu)},initializeOpsDRPicker=function(){$('#reportrange_ops').daterangepicker({startDate:a.reportRangeStart,endDate:a.reportRangeEnd,minDate:a.minDate,maxDate:a.maxDate,locale:{format:'DD-MM-YYYY'},ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,'days'),moment().subtract(1,'days')],"Last 7 Days":[moment().subtract(6,'days'),moment()],"Last 30 Days":[moment().subtract(29,'days'),moment()],"This Month":[moment().startOf('month'),moment().endOf('month')],"Last Month":[moment().subtract(1,'month').startOf('month'),moment().subtract(1,'month').endOf('month')]}},l),l(a.reportRangeStart,a.reportRangeEnd)},a.toggleOperationsViewType=function(b){a.operationsViewType=b,a.opsORCurrentPage=0,a.opsERCurrentPage=0,a.opsCRCurrentPage=0,a.opsARCurrentPage=0,'day'===b?(a.orderAnalysis='Daily Orders',a.editRateAnalysis='Daily Order Stock Out Rate',a.cancelRateAnalysis='Daily Order Cancellation Rate',a.acceptRateAnalysis='Daily Order Confirmation Rate',a.orderDef='Total orders generated by Swiggy on daily basis'):'week'===b?(a.orderAnalysis='Weekly Orders',a.editRateAnalysis='Weekly Order Stock Out Rate',a.cancelRateAnalysis='Weekly Order Cancellation Rate',a.acceptRateAnalysis='Weekly Order Confirmation Rate',a.orderDef='Total orders generated by Swiggy on weekly basis'):'month'===b&&(a.orderAnalysis='Monthly Orders',a.editRateAnalysis='Monthly Order Stock Out Rate',a.cancelRateAnalysis='Monthly Order Cancellation Rate',a.acceptRateAnalysis='Monthly Order Confirmation Rate',a.orderDef='Total orders generated by Swiggy on monthly basis'),google.charts.setOnLoadCallback(drawOperationsCharts)},a.toggleOpsORView=function(b){a.opsORView=b},a.toggleOpsERView=function(b){a.opsERView=b},a.toggleOpsCRView=function(b){a.opsCRView=b},a.toggleOpsARView=function(b){a.opsARView=b},drawOperationsCharts=function(){a.loadCatalogueTemplateLoader=!1;var b=a.reportRangeStart.format('YYYY-MM-DD'),c=a.reportRangeEnd.format('YYYY-MM-DD');data={restaurantId:i.globals.choosenOutlet.rest_rid,startDate:b,endDate:c,groupBy:a.operationsViewType},f.operationsInsights(data).success(function(b){0==b.statusCode&&(populateOperationsData(b.data.data.overview,b.data.data.data),populateOperationsGraphs(b.data.data.data)),a.loadCatalogueTemplateLoader=!0}).error(function(){a.loadCatalogueTemplateLoader=!0})},populateOperationsData=function(b,c){a.operationsOverview=b,a.operationsData=c,a.populatePagedOpsData()},applyNewData=function(){a.$apply()},a.populatePagedOpsData=function(){a.pagedOpsData=[];for(var b=0;b<a.operationsData.length;b++){if(0==b%a.gapInTableEntries)var c=[];c.push(a.operationsData[b]),a.pagedOpsData[n(b/a.gapInTableEntries)]=c}},a.prevORPage=function(){0<a.opsORCurrentPage&&a.opsORCurrentPage--},a.nextORPage=function(){a.opsORCurrentPage<a.pagedOpsData.length-1&&a.opsORCurrentPage++},a.prevERPage=function(){0<a.opsERCurrentPage&&a.opsERCurrentPage--},a.nextERPage=function(){a.opsERCurrentPage<a.pagedOpsData.length-1&&a.opsERCurrentPage++},a.prevCRPage=function(){0<a.opsCRCurrentPage&&a.opsCRCurrentPage--},a.nextCRPage=function(){a.opsCRCurrentPage<a.pagedOpsData.length-1&&a.opsCRCurrentPage++},a.prevARPage=function(){0<a.opsARCurrentPage&&a.opsARCurrentPage--},a.nextARPage=function(){a.opsARCurrentPage<a.pagedOpsData.length-1&&a.opsARCurrentPage++},populateOperationsGraphs=function(b){a.opsORData=[[a.opsORView,'Orders',{role:'style'}]],a.opsERData=[[a.opsERView,'Orders Delivered With SO Rate (%)','Orders Cancelled With SO Rate (%)','Total Orders With SO Rate (%)']],a.opsCRData=[[a.opsCRView,'Orders Cancellation Rate (%)',{role:'style'}]],a.opsARData=[[a.opsARView,'Orders Confirmation Rate (%)',{role:'style'}]];for(var c=0;c<b.length;c++)a.opsORData.push([b[c].date_range,b[c].total_orders,'#4CAF50']),a.opsERData.push([b[c].date_range,m(10*b[c].edited_orders_rate)/10,m(10*b[c].cancel_item_na_rate)/10,m(10*(b[c].edited_orders_rate+b[c].cancel_item_na_rate))/10]),a.opsCRData.push([b[c].date_range,m(10*b[c].orders_cancellation_rate)/10,'#f44336']),a.opsARData.push([b[c].date_range,m(10*b[c].order_acceptance_rate)/10,'#4CAF50']);drawORChart(),drawERChart(),drawCRChart(),drawARChart()},drawORChart=function(){var b=google.visualization.arrayToDataTable(a.opsORData),c=new google.visualization.ColumnChart(document.getElementById('orders_chart'));c.draw(b,{legend:{position:'none'},width:870,height:320,hAxis:{textStyle:{color:'#616161'}},chartArea:{right:10,width:'92%',height:'80%'}})},drawERChart=function(){var b=google.visualization.arrayToDataTable(a.opsERData),c=new google.visualization.LineChart(document.getElementById('orders_edit_rate_chart'));c.draw(b,{legend:{position:'none'},width:870,height:320,pointSize:6,lineWidth:3,hAxis:{textStyle:{color:'#616161'}},vAxis:{minValue:0,format:'#\'%\''},colors:['#FFCDD2','#B71C1C','#EF5350'],chartArea:{right:10,width:'92%',height:'80%'}})},drawCRChart=function(){var b=google.visualization.arrayToDataTable(a.opsCRData),c=new google.visualization.LineChart(document.getElementById('orders_cancel_rate_chart'));c.draw(b,{legend:{position:'none'},width:870,height:320,pointSize:6,lineWidth:3,hAxis:{textStyle:{color:'#616161'}},vAxis:{minValue:0,format:'#\'%\''},chartArea:{right:10,width:'92%',height:'80%'}})},drawARChart=function(){var b=google.visualization.arrayToDataTable(a.opsARData),c=new google.visualization.LineChart(document.getElementById('orders_accept_rate_chart'));c.draw(b,{legend:{position:'none'},width:870,height:320,pointSize:6,lineWidth:3,hAxis:{textStyle:{color:'#616161'}},vAxis:{minValue:0,format:'#\'%\''},chartArea:{right:10,width:'92%',height:'80%'}})},a.openInsightsOverview=function(b,c,d,e){a.storeRestId=i.globals.choosenOutlet.rest_rid,a.chooseOutletInsights=!1,a.insightsOverview=!0,a.currentPage='Overview',a.restLocation=c+'-'+d+'-'+e,a.currentRestId=b,a.currentCityId=cityId,a.getInsightsOverview(b)},a.getInsightsOverview=function(b){a.deactivateSiblingTabs=!1,a.insightsOverview=!0,a.insightsRevenue=!1,a.currentRestTier=a.checkSellerTierValue(b),google.charts.setOnLoadCallback(a.drawOverviewCharts)},a.populateOverviewData=function(b){a.overviewData=b},a.insightsRevenueClicked=function(b){a.revenueViewGraph='graph',a.revenueLossViewGraph='graph',b&&i.metricsSettingsTrack('more-details-click',b,i.globals.choosenOutlet.rest_rid,null,globals.menu),initializeRevenueDRPicker(),b&&'revenue'===b||b&&'revenue-loss'===b},a.drawOverviewCharts=function(){a.loadCatalogueTemplateLoader=!1,data={restaurantId:i.globals.choosenOutlet.rest_rid},f.overviewInsights(data).success(function(b){0==b.statusCode&&(a.populateOverviewData(b.data.data.overview),a.populateGraphs(b.data.data.data)),a.currentCityId=i.globals.choosenOutlet.rest_city_id,a.sellerTierFeature&&'Untiered'!==a.currentRestTier&&null!==a.currentRestTier?a.sellerTierInfoMetrics({restId:i.globals.choosenOutlet.rest_rid,cityId:a.currentCityId,directData:!0}):a.loadCatalogueTemplateLoader=!0}).error(function(){a.loadCatalogueTemplateLoader=!0})},a.insightsOverviewClicked=function(){google.charts.setOnLoadCallback(a.drawOverviewCharts)},a.insightsRatingsClicked=function(){a.ratingsViewGraph='graph',initializeRatingsDRPicker()},a.insightsOperationsClicked=function(b){a.opsORView='graph',a.opsERView='graph',a.opsCRView='graph',a.opsARView='graph',initializeOpsDRPicker();var c='';'orders'===b?c='orders_delivered':'cancelled-orders'===b?c='orders_cancelled':void 0,i.metricsSettingsTrack('more-details-click',c,i.globals.choosenOutlet.rest_rid,null,globals.menu),b&&'orders'===b||b&&'cancelled-orders'===b},a.knowMoreTrack=function(){i.metricsSettingsTrack('metric-know-more-click',i.globals.choosenOutlet.rest_rid,i.globals.choosenOutlet.rest_rid,null,globals.menu)},i.metricsSettingsTrack=function(){var a=arguments[4];'businessMetrics'===a||'restaurantBusinessMetrics'===a?a='restaurant-metric-overview':'restaurantRevenue'===a?a='restaurant-metric-revenue':'operations'===a?a='restaurant-metric-operations':void 0;var b={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":a,"object-position":null,eventType:'click'}};i.appTrack(b)},i.metricsSettingsTrack=function(){var a=arguments[4];'businessMetrics'===a||'restaurantBusinessMetrics'===a?a='restaurant-metric-overview':'restaurantRevenue'===a?a='restaurant-metric-revenue':'operations'===a?a='restaurant-metric-operations':'settings'===a||'profileSettings'===a||'ordersSettings'===a?a='settings-page':'changePassword'===a?a='change-password':void 0;var b={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":a,"object-position":null,eventType:'click'}};i.appTrack(b)},a.insightsRevenue=!1,a.insightsOperations=!1,a.insightsRatings=!1,initializeInsights(),globals.menu){case'restaurantRevenue':a.insightsRevenue=!0,a.insightsRevenueClicked();break;case'operations':a.insightsOperations=!0,a.insightsOperationsClicked();break;case'customerRatings':a.insightsRatings=!0,a.insightsRatingsClicked();break;case'businessMetrics':default:a.insightsOverviewClicked();}console.log(i.globals)}
app.controller('DailyReportingController',DailyReportingController),DailyReportingController.$inject=['$scope','$timeout','$cookies','$interval','$window','HomeFactory','$uibModal','$log','$rootScope','$sce','swiggyPOPFactory','$controller','_'];function DailyReportingController(a,b,c,d,e,f,g,h,i,j,k,l,m){a.selectedDateString='',a.dateArr=[],a.currentDateMoment='',a.init=function(){a.currentDateMoment=moment(),a.dateArr=[],a.foodReadyMetrics={},a.user_id=localStorage.getItem('Swiggy_user'),a.opsMetrics={},a.salesMetrics={},a.ratedOrdersWithComments=[],a.dateArr.push({dateString:a.currentDateMoment.format('YYYY-MM-DD'),dateName:'Today'}),a.currentDateMoment.subtract(1,'days'),a.dateArr.push({dateString:a.currentDateMoment.format('YYYY-MM-DD'),dateName:'Yesterday'});for(var b=0;5>b;b++)a.currentDateMoment.subtract(1,'days'),a.dateArr.push({dateString:a.currentDateMoment.format('YYYY-MM-DD'),dateName:a.currentDateMoment.format('dddd')});a.initCharts(),a.selectDefaults()},a.moveToNextRatingReview=function(){$('#outer-carousel').animate({scrollLeft:'+=396'},250)},a.moveToPrevRatingReview=function(){$('#outer-carousel').animate({scrollLeft:'-=396'},250)},a.selectDefaults=function(){a.updateSelectedDateString(a.dateArr[0].dateString)},a.initCharts=function(){google.charts.load('current',{packages:['corechart']})},a.drawMFRChart=function(){var b=google.visualization.arrayToDataTable([['Food Ready Metric','Count'],['Food Ready Not Pressed',a.foodReadyMetrics.mfr_not_pressed],['Food Ready Correct',a.foodReadyMetrics.mfr_pressed_correctly],['Food Ready Pressed Early',a.foodReadyMetrics.mfr_pressed_early]]),c=new google.visualization.PieChart(document.getElementById('myPieChart'));c.draw(b,{pieHole:0.8,pieSliceText:'none',legend:'none',colors:['#fa4a5b','#9078d6','#fbc02d'],enableInteractivity:!0,height:134,width:134,chartArea:{left:12,top:12,width:110,height:110},backgroundColor:{fill:'transparent'}})},a.drawZeroPieChart=function(){var a=google.visualization.arrayToDataTable([['Food Ready Metric','Count'],['Food Ready Not Pressed',100]]),b=new google.visualization.PieChart(document.getElementById('myPieChart'));b.draw(a,{pieHole:0.8,pieSliceText:'none',colors:['#ccc'],chartArea:{left:12,top:12,width:110,height:110},height:134,width:134,enableInteractivity:!1,backgroundColor:{fill:'transparent'},legend:'none'})},a.updateSelectedDateString=function(c){a.selectedDateString=c,a.v1RatingsInsightsApiFailed=!1,a.foodReadyMetricsApiFailed=!1,a.v2OpsMetricsApiFailed=!1,a.v2RevenueDetailsApiFailed=!1,a.v2RatingsInsightsApiFailed=!1,a.v2RatingsWithCommentsApiFailed=!1;var d=a.selectedDateString,e=a.selectedDateString,g={restaurantId:i.globals.choosenOutlet.rest_rid,startDate:moment(d).startOf('day').format('YYYY-MM-DD HH:mm:ss'),endDate:moment(d).endOf('day').format('YYYY-MM-DD HH:mm:ss')};f.mfrInsights(g).success(function(c){0===c.statusCode?(a.foodReadyMetrics=c.data,a.foodReadyMetrics&&(a.foodReadyMetrics.total_orders=a.foodReadyMetrics.mfr_not_pressed+a.foodReadyMetrics.mfr_pressed_correctly+a.foodReadyMetrics.mfr_pressed_early,0<a.foodReadyMetrics.total_orders?(a.goodFoodReadyPercentage=100*a.foodReadyMetrics.mfr_pressed_correctly/a.foodReadyMetrics.total_orders,b(function(){$('#food-ready-progressbar').css('width',a.goodFoodReadyPercentage+'%')},200),google.charts.setOnLoadCallback(a.drawMFRChart)):(a.goodFoodReadyPercentage=0,b(function(){$('#food-ready-progressbar').css('width','0%')},200),google.charts.setOnLoadCallback(a.drawZeroPieChart)))):a.foodReadyMetricsApiFailed=!0}).error(function(b){a.foodReadyMetricsApiFailed=!0,console.error('error in mfr insights api: ',b)});var h={rest_id:[i.globals.choosenOutlet.rest_rid.toString()],start_date:moment(d).startOf('day').format('YYYY-MM-DD HH:mm:ss'),end_date:moment(d).endOf('day').format('YYYY-MM-DD HH:mm:ss'),group_by:'daily'};f.postV2OpsMetrics(h).success(function(b){0===b.statusCode?(a.opsMetrics.accept_rate=b.data[0].accept_rate,a.opsMetrics.edit_rate=b.data[0].edit_rate,a.opsMetrics.cancel_rate=b.data[0].cancel_rate):a.v2OpsMetricsApiFailed=!0}).error(function(b){a.v2OpsMetricsApiFailed=!0,console.error('getV2OpsMetrics err: ',b)}),f.postV2RevenueDetails(h).success(function(b){if(0===b.statusCode&&b.data.length){var c=new Intl.NumberFormat('en-IN',{maximumSignificantDigits:3});a.salesMetrics.total_orders=c.format(b.data[0].no_of_orders),a.salesMetrics.revenue=c.format(b.data[0].revenue),a.salesMetrics.losses=c.format(b.data[0].losses)}else a.v2RevenueDetailsApiFailed=!0}).error(function(b){a.v2RevenueDetailsApiFailed=!0,console.error('getV2RevenueDetails err: ',b)}),f.ratingsV2Insights(h).success(function(b){0===b.statusCode?(a.model_based_rating=b.data.model_based_rating,a.num_rated_orders=b.data.rated_orders):a.v2RatingsInsightsApiFailed=!0}).error(function(b){a.v2RatingsInsightsApiFailed=!0,console.error('ratingsV2: ',b)});var j={rest_id:i.globals.choosenOutlet.rest_rid.toString(),in_ratings:'1,2,3,4,5',user_id:a.user_id,has_comment:!0,tag:'default',start_date:d,end_date:e};f.ratingsV2WithComments(j).success(function(b){0===b.statusCode&&b.data.length?(a.ratedOrdersWithComments=b.data,a.sortedRatedOrdersWithComments=m.sortBy(a.ratedOrdersWithComments,'order_date').reverse(),a.sortedRatedOrdersWithComments.forEach(function(a){a.negative_issues=a.issues.filter(function(a){return a.includes('negative')}).map(function(a){return a.split('negative_')[1].split('_').join(' ').toUpperCase()}),a.positive_issues=a.issues.filter(function(a){return a.includes('positive')}).map(function(a){return a.split('positive_')[1].split('_').join(' ').toUpperCase()})})):0!==b.statusCode&&(a.v2RatingsWithCommentsApiFailed=!0)}).error(function(b){a.v2RatingsWithCommentsApiFailed=!0,console.error('getRatingsV2WithComments: err: ',b)})},a.isSelectedDateString=function(b){return b===a.selectedDateString},a.init()}
'use strict';(function(){app.factory('swiggyPOPFactory',['$q','$http','$httpParamSerializer','$timeout','$cookies',function(a,b){return{fetchPOPMenuForRestaurant:function(a){return b({url:'/v1/menu-revision/restaurant/latest/pop?restaurant_id='+a,method:'GET',config:{silent:!0}})},fetchPOPMenuStatus(a,c){return b({url:'/api/v1/popItemFetch',method:'POST',data:{restaurantId:a,items:c},config:{silent:!0}})},confirmBatchPreparation(a,c,d,e){var f={restaurantId:c,requestData:{batch_id:a,action:e?'EXPIRY_ACK':'CONFIRM',metadata:{source:'vendor',updated_by:d}}};return b({url:'/v1/batch/',method:'PUT',data:f,config:{silent:!0}})},getPopSummary(a,c){return b({url:'/api/v1/getSummary',method:'POST',data:{restaurantId:a,items:c},config:{silent:!0}})}}}])})();
'use strict';app.controller('swiggyBatchConfirmation',['$scope','$rootScope','$cacheFactory','$q','$timeout','$cookies','$interval','$window',function(a,b){a.batchToShow=null,b.$on('BATCH_CHANGE',function(b,c){a.batchToShow=c.batchToShow,a.elementPostionStyle=c.elementPostionStyle,a.batchApiInProgress=c.batchApiInProgress}),a.submitBatchConfirmation=function(a){b.$emit('BATCH_CONFIRMATION_API',{submitExpiredConfirmation:a})},a.trimString=function(a,b){return a=a||'',a.length+5>b&&(a=a.slice(0,b)+'...'),a}}]);
'use strict';app.controller('swiggyPOPController',['$scope','$rootScope','swiggyPOPFactory','HomeFactory','$cacheFactory','$q','$timeout','$cookies','$interval','$window','$location',function(a,b,c,d,e,f,g,h,i,j){function k(a,b,c,d){switch(b){case'START':var e=a.substring(0,a.length-d);return e.substring(0,c);case'LAST':return a.slice(-1*d);case'MIDDLE':if(8>=a.length)return'';var e=a.substring(0,a.length-d),f=e.substring(c);return f||'';default:return'';}}function l(){if(a.batchToShow){var c='new';if('EXPIRED'==a.batchToShow.state&&(c='EXPIRED'),!a.localStorageManagement(a.batchToShow.batch_id+'_'+c,'pop_batches',0)){if(a.playNotificationSound(),b.showDesktopNotification){var d='New batch request! '+a.trimString(a.batchToShow.item_data.item_name,25)+' is proving popular to your customers. Click here to take action.';'EXPIRED'===a.batchToShow.state&&(d='Batch has expired! Click here to take action.'),b.showDesktopNotification('POP Update',d)}a.localStorageManagement(a.batchToShow.batch_id+'_'+c,'pop_batches',1)}}}function m(c){if(c&&(!c||c.length)){var d=!1,e=c.filter(n);e.forEach(function(b){a.localStorageManagement(b.order_id,'pop_orders',0)||(d=!0,a.localStorageManagement(b.order_id,'pop_orders',1))}),d&&(a.playNotificationSound(),b.showDesktopNotification&&b.showDesktopNotification('POP Update','You have a new POP Order. Click here to take action.'))}}function n(a){switch(a.status.order_status){case'ordered':return'pickedup'!==a.status.delivery_status&&'out_of_stock'!==a.status.placed_status;default:return!1;}}function o(a,b='c_scale,f_auto,fl_lossy,h_134,q_auto,w_269'){return`https://res.cloudinary.com/swiggy/image/upload${b?`/${b}`:''}${a?`/${a}`:''}`}function p(a){var b=[];return a&&a.items&&(!a.items||a.items.length)?(a.items.forEach(function(a){a.cloudinaryImageUrl=o(a.cloudinaryImageId),b.push(a)}),b):b}function q(a){var b=Math.floor,c=b(a/86400);a-=86400*c;var d=b(a/3600)%24;a-=3600*d;var e=b(a/60)%60;a-=60*e;var f=parseInt(a%60,10);return{hours:d,seconds:f,minutes:e}}function r(){j.location.reload()}function s(){var c=a.popSlotEndTime.getTime()-a.currentTime.getTime(),d=c/1e3;if(0>=d)return a.popRemainingTime=null,a.fetchSummary(),b.isPopRunningGlobalFlag=!1,a.isMenuApiFromCache=!0,u(),void g(function(){r()},a.popSummaryBufferTime.getTime()-a.currentTime.getTime());const e=q(d);a.popRemainingTime={hours:a.getDigitsInFormat(e.hours),minutes:a.getDigitsInFormat(e.minutes),seconds:a.getDigitsInFormat(e.seconds)},a.popTimer=g(function(){a.currentTime.setSeconds(a.currentTime.getSeconds()+1),s()},1e3)}function t(){var a=localStorage.getItem('pop_live_local');a||localStorage.setItem('pop_live_local','true')}function u(){localStorage.removeItem('pop_live_local');var a=localStorage.getItem('pop_end_local');a||localStorage.setItem('pop_end_local','true')}function v(){localStorage.removeItem('pop_end_local'),localStorage.removeItem('pop_live_local')}function w(c){if(!b.areTimersStarted){b.areTimersStarted=!0;try{a.currentTime=new Date(c.serverTime)}catch(b){a.currentTime=new Date}a.popSlotEndTime=new Date(c.date),a.popSlotEndTime.setHours(c.close_time.toString().substring(0,2),c.close_time.toString().substring(2)),a.popSlotStartTime=new Date(c.date),a.popSlotStartTime.setHours(c.open_time.toString().substring(0,2),c.open_time.toString().substring(2)),a.popDurationInMin=parseInt((a.popSlotEndTime-a.popSlotStartTime.getTime())/6e4,10),a.popSummaryBufferTime=new Date(a.popSlotEndTime.getTime());var d=parseInt(c.expiryBuffer,10);if(a.popSummaryBufferTime.setMinutes(a.popSummaryBufferTime.getMinutes()+parseInt(d/60,10)),a.currentTime<=a.popSlotEndTime&&a.currentTime>a.popSlotStartTime)a.isPopLive=!0,b.isPopRunningGlobalFlag=!0,t(),s();else if(a.currentTime>=a.popSlotEndTime&&a.currentTime<=a.popSummaryBufferTime)a.isPopLive=!0,a.fetchSummary(),b.isPopRunningGlobalFlag=!1,u(),g(function(){r()},a.popSummaryBufferTime.getTime()-a.currentTime.getTime());else if(a.currentTime<a.popSlotEndTime){a.isPopLive=!1,b.isPopRunningGlobalFlag=!1;var e=parseInt(c.timerBuffer,10);e=parseInt(e/60,10),a.setPopUpcomingTimer(e),v()}else a.isPopLive=!1,b.isPopRunningGlobalFlag=!1,v()}}function x(b){a.popSlotString=moment(b.open_time.toString(),'HHmm').format('hh:mma')+'-'+moment(b.close_time.toString(),'HHmm').format('hh:mma'),a.isMenuApiFromCache=b.cacheFlag}function y(a,b=!1){var c=['CREATED','UNCONFIRMED','PLACED'];return b&&c.push('EXPIRED'),a.find(function(a){return-1!=c.indexOf(a.state)&&('EXPIRED'==a.state&&a.expiry_ack?!1:!0)})}function z(b){c.fetchPOPMenuStatus(a.popRestaurantId,b).then(function(a){B(a,b)}).catch(function(){})}function A(b){var c=a.currentOrders.filter(function(a){return a.order_id!==b});a.currentOrders=c}function B(b,c){a.popMenuApiStatus=!1;var d=b.data.data;d||(d=b.data),c.forEach(function(b){a.itemLevelBatchInfo[b]={}});try{d.forEach(function(b){a.itemLevelBatchInfo[b.item_id]=b,a.itemLevelBatchInfo[b.item_id].batches=a.batches.filter(function(a){return b.item_id==a.item_data.item_id})})}catch(a){}}b.popUpStartTimer={},a.popSummary=null,a.batchApiSet={},a.randNumber=Math.random(),a.localStorageManagement=function(a,b,c){var d={pop_batches:'pop_batches',pop_order:'pop_order'};if(c){var e=localStorage.getItem(d[b]);try{e=JSON.parse(e)}catch(a){}if(!e||e&&!e.length){e=[];var f={};f.setTime=new Date().getTime(),f.id=a,e.push(f),localStorage.setItem(d[b],JSON.stringify(e))}else{var g=60000,h=e.filter(function(a){try{return!(180<(new Date().getTime-a.setTime)/g)}catch(a){return!1}}),f={};f.setTime=new Date().getTime(),f.id=a,h.push(f),localStorage.setItem(d[b],JSON.stringify(h))}}else{var e=localStorage.getItem(d[b]);try{e=JSON.parse(e)}catch(a){}if(!e||e&&!e.length)return!1;var g=60000,h=e.filter(function(a){try{return!(180<(new Date().getTime-a.setTime)/g)}catch(a){return!1}});localStorage.setItem(d[b],JSON.stringify(h));var i=h.filter(function(b){return b.id==a});return i&&i.length}},a.arrayReverse=function(a=[]){return a.reverse()},a.setPopUpcomingTimer=function(c){var d=a.popSlotStartTime.getTime()-a.currentTime.getTime(),e=d/1e3,f=!1;if(e/60>parseInt(c,10)&&(f=!0),0>=e)return b.popUpStartTimer=null,a.isPopLive=!0,b.isPopRunningGlobalFlag=!0,t(),void s();const h=q(e);b.popUpStartTimer={hours:a.getDigitsInFormat(h.hours),minutes:a.getDigitsInFormat(h.minutes),seconds:a.getDigitsInFormat(h.seconds),showNextMessage:f,date:moment(a.popSlotStartTime.toString()).format('MMM DD, hh:mm A')},g(function(){a.currentTime.setSeconds(a.currentTime.getSeconds()+1),a.setPopUpcomingTimer(c)},1e3)},a.fetchSummary=function(){var b=[];a.popMenu.forEach(function(a){b.push(a.id)}),a.summaryFetchApi=!0,c.getPopSummary(a.popRestaurantId,b).then(function(b){if(a.summaryFetchApi=!1,0==b.data.statusCode){var c=b.data.data;a.popSummary={batches:0,quantity:0,orders:0},c.forEach(function(b){b&&(a.popSummary.batches+=parseInt(b.batch_count,10),a.popSummary.quantity+=parseInt(b.prepared_count,10),a.popSummary.orders+=parseInt(b.sold_count,10))})}}).catch(function(){})},a.orderCancellationErrorList=['Item will be marked out of stock for the day.','You\'ll not receive any new orders for this item, even if there\'s high demand.','It may negatively affect your restaurant\'s ratings.'],a.segregateOrderId=function(a){return'<span>#'+k(a,'START',4,4)+' '+k(a,'MIDDLE',4,4)+' <span class="last-no">'+k(a,'LAST',4,4)+'</span></span>'},a.getDigitsInFormat=function(a){return 1==a.toString().length?`0${a}`:a},a.getMergedOrders=function(b){var c={},d=[];return a.currentOrders.forEach(function(a){c[a.order_id]=a}),b.forEach(function(a){c[a.order_id]=a}),Object.keys(c).forEach(function(a){d.push(c[a])}),d.filter(n)},a.getUnConfirmedBatchAndSetPos=function(b,c,d=!1){var e,f={CONSUMED:'SOLD OUT',EXPIRED:'EXPIRED',CONFIRMED:'PREPARING',CREATED:'NEW',PREPARED:'AVAILABLE',CANCELLED:'CANCELLED'};if(a.batches.forEach(function(a){a.batch_id==b&&(d?a.expiry_ack=!0:(a.state='CONFIRMED',a.placed_time_stamp=new Date().getTime())),a.stateText=f[a.state]}),c&&(e=a.batches.find(function(a){return a.batch_id==c}),e&&(e=JSON.parse(JSON.stringify(e))),(!e||'CREATED'!=e.state&&'PLACED'!=e.state&&'EXPIRED'!=e.state&&'UNCONFIRMED'!=e.state)&&(e=null)),!e||e&&'EXPIRED'==e.state){var g=y(a.batches);g?(e&&a.autoConfirmExpiredBatch(e),e=g):!e&&(e=y(a.batches,!0))}if(e){var h=$('#swiggy-pop-nav'),i=h.position(),j=h.width(),k=h.height();a.elementPostionStyle={top:`${i.top+k/2}px`,left:`${j+5}px`}}return e},a.isPopLive=!1,a.currentOrders=[],a.showBatchPop=!1,a.batches=[],a.itemLevelBatchInfo={},a.batchToShow=null,a.popTimer,a.autoConfirmExpiredBatch=function(a){var b=h.get('Swiggy_Session-user');c.confirmBatchPreparation(a.batch_id,a.restaurant_id,b,!0).then(function(){}).catch(function(){})},a.startPopMenuApiPolling=function(c){if(!b.startPopMenuStatus)if(b.startPopMenuStatus=!0,j.Worker){a.popMenuWebWorker=new j.Worker('/ww.js'),a.startWebWorker=function(){a.popMenuWebWorker.postMessage({task:'startPopMenuStatusPolling',params:{popMenuData:d}})};var d={restaurantId:a.popRestaurantId,items:c};a.popMenuWebWorker.onmessage=function(a){B(JSON.parse(a.data),c)},a.startWebWorker(d)}else z(c),a.popMenuStatusIntevalId=i(function(){z(c)},3e4)},a.playNotificationSound=function(){var a=document.getElementById('order-sound');a.volume=1,a.play()},b.$on('POP_ORDERS_CHANGE_EMIT',function(c,d){m(d.popOrders),a.currentOrders=a.getMergedOrders(d.popOrders),a.batches=d.batches,a.batchToShow=a.getUnConfirmedBatchAndSetPos(null,a.batchToShow&&a.batchToShow.id),a.batchToShow&&(a.batchToShow.item_data.item_image_url_cloudinary=o(a.batchToShow.item_data.item_image_url)),b.$emit('BATCH_CHANGE',{batchToShow:a.batchToShow,elementPostionStyle:a.elementPostionStyle,batchApiInProgress:a.batchApiInProgress}),l(),a.popMenu&&(!a.popMenu||a.popMenu.length)||a.getPopDetails()}),b.$on('BATCH_CONFIRMATION_API',function(b,c){a.submitBatchConfirmation(c.submitExpiredConfirmation)}),a.submitBatchConfirmation=function(d){if((j.assignedNumber||(j.assignedNumber=a.randNumber),a.randNumber==j.assignedNumber)&&!a.batchApiInProgress){var e=h.get('Swiggy_Session-user');a.batchApiInProgress=!0,b.$emit('BATCH_CHANGE',{batchToShow:a.batchToShow,elementPostionStyle:a.elementPostionStyle,batchApiInProgress:a.batchApiInProgress}),c.confirmBatchPreparation(a.batchToShow.batch_id,a.batchToShow.restaurant_id,e,d).then(function(c){0==c.data.statusCode&&(a.batchApiInProgress=!1,b.itemIdsForApiRootScope&&b.itemIdsForApiRootScope.length&&z(b.itemIdsForApiRootScope),'EXPIRED'===a.batchToShow.state,a.batchToShow=a.getUnConfirmedBatchAndSetPos(a.batchToShow.batch_id,null,'EXPIRED'===a.batchToShow.state),b.$emit('BATCH_CHANGE',{batchToShow:a.batchToShow,elementPostionStyle:a.elementPostionStyle,batchApiInProgress:a.batchApiInProgress}),l())}).catch(function(){})}},a.showCancelPopup=function(b,c){a.orderCancellationInProgress||(a.orderToCancel=c)},a.hideCancelPopOrderPopup=function(){a.orderToCancel=null},a.cancelPopOrder=function(){a.orderCancellationInProgress=!0;var b=a.currentOrders.filter(function(b){return b.order_id==a.orderToCancel}),c={itemId:b[0].cart.items[0].item_id,fromTime:'',orderId:a.orderToCancel,restaurantId:a.popRestaurantId,alternatives:null,isReactive:!0};d.ItemOutOfStock(c).then(function(b){if(0==b.data.statusCode){var c=a.orderToCancel;a.orderCancellationInProgress=!1,a.hideCancelPopOrderPopup(),swal({html:'<div class="gst-modal"><div><img class="gst-modal__img" src="/img/tick-mark.svg"></div><p class="gst-modal__title">ORDER HAS BEEN CANCELLED.</p></div>',confirmButtonClass:'btn btn-lg btn-warning gst-modal__btn',allowOutsideClick:!1,padding:20,width:500,buttonsStyling:!1,confirmButtonText:'OKAY'}).then(function(){a.getPopDetails(!0),A(c),a.$apply()})}else throw'err'}).catch(function(){a.orderCancellationInProgress=!1,alert('Error while cancelling. Please try again')})},a.trimString=function(a,b){return a=a||'',a.length+5>b&&(a=a.slice(0,b)+'...'),a},a.getBatchLevelDetails=function(){},a.getPopDetails=function(d){-1!==window.location.href.indexOf('pop')&&(j.assignedNumber||(j.assignedNumber=a.randNumber),a.randNumber!=j.assignedNumber||(a.popRestaurantId=a.chainOutletObject[0].rest_rid,!a.popMenuApiStatus&&(!d&&(a.popMenuApiStatus=!0),c.fetchPOPMenuForRestaurant(a.popRestaurantId).then(function(c){if(0==c.data.statusCode){if(!c.data.data)return a.popMenuApiStatus=!1,void(a.isPopLive=!1);a.popMenuApiStatus=!1,a.popMenu=p(c.data.data);var d=[];a.popMenu.forEach(function(a){d.push(a.id)}),a.itemIdsForApi=d,b.itemIdsForApiRootScope=d,a.popMenu&&a.popMenu.length?(a.startPopMenuApiPolling(d),w(c.data.data),x(c.data.data)):a.isPopLive=!1}else a.popMenuApiStatus=!1,a.isPopLive=!1}).catch(function(){}))))},a.showItemBatchDetails=function(b,c){a.batchDetailsForCurrentItem={},a.batchDetailsForCurrentItem.itemDetails=a.popMenu.find(function(a){return a.id==c}),a.batchDetailsForCurrentItem.batchDetails=a.itemLevelBatchInfo[c]},a.hideItemBatchDetailsPopup=function(){a.batchDetailsForCurrentItem=null}}]).directive('popOrderList',function(){return{restrict:'E',templateUrl:'/app/swiggy-pop/templates/pop-order-list.html'}}).directive('popMenu',function(){return{restrict:'E',templateUrl:'/app/swiggy-pop/templates/pop-menu.html'}}).directive('ngPrintPop',function(){function a(a){var c=document.createElement('div'),d=document.createTextNode('Swiggy Order Id -  #'+a);c.appendChild(d),c.appendChild(document.createElement('br')),c.appendChild(document.createElement('br'));var e=document.getElementById(a+'-time'),f=moment(e.textContent.trim()),g=f.format('ddd MMM DD YYYY hh:mm:ss A');c.appendChild(document.createTextNode(g)),c.appendChild(document.createElement('br')),c.appendChild(document.createElement('br'));var h=document.getElementById(a+'-quantity'),i=document.getElementById(a+'-name');c.appendChild(document.createTextNode(h.textContent+' '+i.textContent)),b.appendChild(c),window.print()}var b=document.getElementById('printSection');return b||(b=document.createElement('div'),b.id='printSection',document.body.appendChild(b)),{link:function(c,d,e){d.on('click',function(){b.innerHTML='';var c=e.printElementId;a(c)}),window.onafterprint=function(){b.innerHTML=''}},restrict:'A'}});
jQuery(document).ready(function(){jQuery('[data-toggle="tooltip"]').tooltip(),jQuery(window).trigger('resize'),jQuery('.view-cost-distribution').on('click',function(){jQuery('.cost-distribution').removeClass('hide'),jQuery(this).addClass('hide')})});
'use strict';(function(){function a(){return angular.element(angular.element('#app')).scope()}function b(a){if(window.globals.menu)switch(window.globals.menu){case'restaurantGst':try{var b,c={};window.globals.params&&(c=JSON.parse(window.globals.params),b=parseInt(c.restaurant_id,10)||0)}catch(a){console.log('error')}a.currentClickedSideBar('rest-info',null,null,{rest_id:b,name:'gst'});break;default:}}angular.element(document).ready(function(){b(a())})})();
app.factory('HomeFactory',['$http','Upload',function(b,a){return{orders:function(c){return b.post('/orders/v1/fetch/',c)},callReq:function(c){return b.post('/orders/v1/callRequest/',c)},confirmNewOrder:function(c){return b.post('/orders/v1/confirmOrder/',c)},orderHistory:function(c){return b.get('/orders/v0/history/',{params:c})},userRestaurants:function(c){return b.post('/authentication/v1/user/restaurants',c)},changePassword:function(c){return b.post('/authentication/v1/changepassword/',c)},logOutFirst:function(c){return b.post('/authentication/v1/logout/',c)},ratingsInsights:function(c){return b.get('/insights/v1/ratings/',{params:c})},ratingsV2Insights:function(c){return b.post('/insights/v2/ratings/',c)},ratingsV2WithComments:function(c){return b.get('/insights/v2/ratings/orders',{params:c})},mfrInsights:function(c){return b.get('/reporting/mfr/metrics',{params:c})},postV2OpsMetrics:function(c){return b.post('/insights/v2/restaurants/ops-metrics',c)},postV2RevenueDetails:function(c){return b.post('/insights/v2/restaurants/revenue-details',c)},notifySwiggy:function(c){return b.post('/vms/api2/orders/notify/',c)},restaurant_items:function(c){return b.get('/restaurant/v1/fetchAlternatives/',{params:c})},ItemOutOfStock:function(c){return b.post('/orders/v1/item/oos/',c)},toggleOrderStatus:function(c){return b.post('/restaurant/slots/v1/toggleStatus/',c)},contactFormData:function(c){return b.post('/contact/v1/raiseticket/',c)},getSpocDetails:function(c){return b.get('/contact/v1/getSpocDetails/',{params:c})},contactFormDataImage:function(b){return a.upload({url:'/contact/v1/raiseticketMenu/',data:{restaurantIds:b.restaurantIds,city:b.city,subject:b.subject,message:b.message,category:b.category,phone:b.phone,noOfItemsChanging:b.noOfItemsChanging,typeOfEdit:b.typeOfEdit,file:b.file}})},getRestMenuApi:function(c){return b.get('/restaurant/v1/fetchItems/',{params:c})},getVariantStatus:function(a){return b.post('/items/v1/variants/toggleStatus/',a)},holidaySlot:function(a){return b.post('/items/v1/toggleStatus/',a)},categoryDetails:function(){return b.get('/contact/reasons/')},fetchProfileResource:function(c){return b.get('/profile/v1/restaurantInfo/',{params:c})},getUserList:function(c){return b.get('/profile/v1/user/',{params:c})},subscribeForNotifs:function(c){return b.put('/notification/v1/subscribe/',c)},submitUserdata:function(c){return b.post('/profile/v1/user/',c)},submitEditedUserdata:function(c){return b.put('/profile/v1/user/',c)},enableDisableProfileApi:function(c){return b.put('/profile/v1/disable/',c)},overviewInsights:function(c){return b.get('/insights/v1/overview/',{params:c})},revenueInsights:function(c){return b.get('/insights/v1/revenue/',{params:c})},operationsInsights:function(c){return b.get('/insights/v1/operations/',{params:c})},getOrderHistoryCsvData:function(c){return b.get('/orders/v1/historyCsv/',{params:c})},broadCastMessage:function(c){return b.get('/broadcast/v1/data/',{params:c})},fetchUserInfo:function(){return b.get('/authentication/v1/userInfo/')},getFeatureGates:function(c){return b.post('/feature/v1/gates/',c)},itemTicketCallApi:function(c){return b.get('/items/v1/itemTicket/',{params:c})},addNewMenuItem:function(c){return b.post('/items/v1/itemEdition/',c)},editMenuItem:function(c){return b.put('/items/v1/itemEdition/',c)},calculateSericeTax:function(c){return b.get('/items/v1/itemEdition/caluclateservice/',{params:c})},deleteMenuItem:function(c){return b.post('/items/v1/deleteItem/',c)},addMenuItemImage:function(b){return a.upload({url:'/items/v1/itemImage/',data:{file:b.file,restId:b.restId,itemid:b.itemid,key:b.file.name}})},revisionHistoyApi:function(c){return b.get('/items/v1/revisionHistoy/',{params:c})},cancelTicket:function(c){return b.delete('/items/v1/cancelTicket/',{params:c})},getCatalogueImages:function(c){return b.get('/items/v1/getCatalogueImages/',{params:c})},uploadCatalogueImages:function(b){return a.upload({url:'/items/v1/uploadCatlogImages/',data:{file:b.files,restaurantId:b.restaurantId}})},deleteCatlgeImageApi:function(c){return b.delete('/items/v1/deleteCatlgeImage/',{params:c})},submitPendingTicketsApi:function(c){return b.post('/items/v1/submitPendingTickets/',c)},callTradeDiscountInitApi:function(c){return b.post('/trade-discount/api/v1/get-campaigns-by-rest-ids/',c)},getCategrories:function(c){return b.get('/trade-discount/api/v1/restaurants',{params:c})},createTradeDiscountCallApi:function(c){return b.post('/trade-discount/api/v1/create',c)},editTradeDiscountCallApi:function(c){return b.put('/trade-discount/api/v1/create',c)},getMetricsDataApi:function(c){return b.get('/trade-discount/api/v1/metrics/',{params:c})},getDiscountDetailsApi:function(c){return b.get('/trade-discount/api/v1/get',{params:c})},getTdMetaData:function(c){return b.get('/trade-discount/api/v1/serve/meta',{params:c})},getGstNotification:function(a){return b.get('/v1/gst-details/notification',{params:{restaurant_ids:JSON.stringify(a)},config:{silent:!0}})},getFssaiNotification:function(a){return b.get('/v1/fssai-details/notification',{params:{restaurant_ids:JSON.stringify(a)},config:{silent:!0}})},getComplianceNotification:function(a){return b.post('/v1/compliance/notification',JSON.stringify({restaurantIds:a}))},istradeDiscountEnabled:function(c){return b.post('/td/v1/cities',c,{config:{silent:!0}})},getSellerTierMetrics:function(c){return b.get('/sellerTier/v1/metric/',{params:c})},getSellerTiers:function(c){return b.get('/sellerTier/v1/tiers/',{params:c})},getRestInfo:function(c){return b.post('/restaurant/v1/getRestaurant/',c)},reqPasswordConfig:function(c){return b.get('/api/password/v1/passwordConfig/',{params:c})},fetchUserRestaurants:function(c){return b.post('/authentication/v1/user/restaurants/',c)}}}]);
app.controller('OrdersController',OrdersController),OrdersController.$inject=['$scope','$cookies','$timeout','$interval','$window','HomeFactory','$uibModal','$log','$rootScope'];function OrdersController(b,a,c,d,e,f,g,h,i){function j(){b.ordersOption=!1}function k(a,b){if(b=b.trim(),isNaN(b)){var c=a.details;if(c&&0<c.length)for(var d=0;d<c.length;d++){var e=c[d],f=b.split(' ');if(f&&0<f.length)for(var g,h=0;h<f.length;h++)if(g=f[h].trim(),e.order_details&&-1<e.order_details.toLowerCase().indexOf(g.toLowerCase())||e.order_cat&&-1<e.order_cat.toLowerCase().indexOf(g.toLowerCase())||e.order_fine_print&&-1<e.order_fine_print.toLowerCase().indexOf(g.toLowerCase()))return!0}}else{var i=a.orderId.toString();if(-1<i.indexOf(b.toString()))return!0}return!1}function l(a,c){a&&c?(b.storeReportOrderRangeStart=a,b.storeReportOrderRangeEnd=c):0==a.length&&(a=b.storeReportOrderRangeStart,c=b.storeReportOrderRangeEnd),b.checkValue=function(){b.viewMoreClick?b.offset+=20:b.offset=0},b.checkValue();var d=[],e={};e.viewMoreClick=b.viewMoreClick,b.isOrderFilterActivate&&(e.filterReq=b.orderFilterValue),$('#past_orders_range span').html(a.format('MMM D, YYYY')+' - '+c.format('MMM D, YYYY')),d.ordered_time__gte=a.format('YYYY-MM-D'),d.ordered_time__lte=c.format('YYYY-MM-D'),d.ordered_time__lte=moment(d.ordered_time__gte).isSame(moment(d.ordered_time__lte))?d.ordered_time__lte:moment(c).add(1,'days').format('YYYY-MM-D'),d.limit=b.limit,d.offset=b.offset,b.callOrdersHistoryApi(d,e),b.viewMoreClick||(b.$parent.selectedOrderHistoryData=0),b.viewMoreClick=!1}b.storeReportOrderRangeStart='',b.storeReportOrderRangeEnd='',b.initOrderFn=function(){b.limit=20,b.isOrderFilterActivate=!1,b.offset=0,b.viewMoreClick=!1,b.ordersOptionDefault='All Orders',b.orderFilterValue='all',b.ordersOption=!1,b.csvFailed=!1;moment();b.reportOrderRangeStart=moment(),b.minDate=moment().subtract(3,'months').startOf('month'),b.reportOrderRangeEnd=moment(),b.buttonLoader=!1,b.maxDate=b.reportOrderRangeEnd,b.searchNewFlag=!1,b.searchNewFlagPast=!1,b.searchNewFlagConfirmed=!1},b.initializeAllDataStructureForOrderHistory=function(){b.orderHistory={},b.orderHistory.orders=[],b.allHistoryOrders={},b.allHistoryOrders.orders=[],b.currentHistoryOrders={},b.searchData={},b.searchData.searchText='',b.searchData.searchTextNew='',b.searchData.searchTextConfirmed='',b.selectedOrderHistoryData=0,b.orderHistoryDataCopy={}},b.initOrderFn(),b.initializeAllDataStructureForOrderHistory(),i.$on('initiatePastOderFn',function(){b.orderFilterValue='all',b.initializePastOrderDateTime()}),i.$on('resetData',function(){b.ordersOptionDefault='All Orders',b.initOrderFn()}),angular.element(document).bind('click',function(a){a&&a.target&&('order-option'===a.target.className||a.target.className&&-1<a.target.className.indexOf('order-option-selected'))||j()}),b.openOrderOptions=function(){b.ordersOption=!b.ordersOption},b.alterOrdersSelected=function(a){b.ordersOptionDefault=a},b.chooseOrderOption=function(a){0===a?(b.ordersOptionDefault='All Orders',b.orderFilterValue='all'):1===a?(b.ordersOptionDefault='Picked Up',b.orderFilterValue='pickedup'):2===a?(b.ordersOptionDefault='Delivered',b.orderFilterValue='delivered'):3===a?(b.ordersOptionDefault='Cancelled',b.orderFilterValue='cancelled'):void 0;'all'!==b.orderFilterValue&&(b.isOrderFilterActivate=!0),l(b.storeReportOrderRangeStart,b.storeReportOrderRangeEnd),b.alterOrdersSelected(b.ordersOptionDefault),b.ordersOption=!1},b.isActiveConfirmedHistory=function(a){return!!a&&a==b.activeOrderHistoryId},b.intializeOrdersHistoryDataStructure=function(a){var c=a.data,d=!1;if(b.orderDataCsv=[],c&&c.length){b.allHistoryOrders={},b.allHistoryOrders.orders=[],b.orderHistory={},b.orderHistory.orders=[];for(var e=0;e<c.length;e++){var f=c[e],g=f.data.objects;if(b.orderDataCsv=g,g&&0<g.length){for(var h=0;h<g.length;h++)b.orderHistory.orders.push(b.populateAnHistoryOrderObject(g[h],f.restId));0<b.orderHistory.orders.length&&(d=!0)}}b.searchData.searchText='',b.allHistoryOrders.orders=b.orderHistory.orders,d?(b.activeOrderHistoryId=b.orderHistory.orders[0].orderId,b.initializeCurrentHistoryOrders(),b.activeOrderHistoryId&&b.changeNewActiveHistoryOrderConfirmed(b.activeOrderHistoryId)):b.currentHistoryOrders={}}else b.initializeAllDataStructureForOrderHistory()},b.populateAnHistoryOrderObject=function(c,d){var e={orderId:c.order_id,user_comments:c.customer_comment,total_amount:c.bill,total_amount_spending:c.spending,mou_type:c.mou_type,payout_status:c.payout_status,trade_discount_description:c.trade_discount_description,restaurant_trade_discount:c.restaurant_trade_discount,tax:c.tax,GST_details:c.GST_details,bill:c.bill,gst:c.gst,serviceCharge:c.serviceCharge,restaurant_taxation_type:c.restaurant_taxation_type,packing_charges:c.cart.charges.packing_charge,mfrAccuracy:c.mfrAccuracy},f=moment(c.status.ordered_time),g=f.format('ddd MMM DD YYYY hh:mm:ss A');e.orderedTime=g,e.is_food_prepared=c.status.is_food_prepared;for(var h=c.cart.items,i=0,j=0;j<h.length;j++)i+=h[j].sub_total;if(e.bill_sub_total=i,e.isCancelled=!1,e.isDelivered=!1,'delivered'==c.status.order_status&&(e.isDelivered=!0),'cancelled'==c.status.order_status&&(e.isCancelled=!0),'pickedup'==c.status.delivery_status&&(e.isPickedUp=!0),'POP'==c.order_type&&(e.isPopOrder=!0),c.appliedTradeCampaignHeaders){var a=c.appliedTradeCampaignHeaders;a=a[0],e.tradedescription=a.description;var l=a.header;e.header=l.slice(0,11),e.bill_sub_total=c.cart_subtotal_with_discount,e.cart_subtotal=c.cart_subtotal}var m=c.cart.items;if(e.details=[],m&&0<m.length)for(var n=0;n<m.length;n++){var k=m[n],o={};o.order_cat=k.category,o.order_details=k.name,o.order_quantity=k.quantity,o.order_fine_print=k.sub_category,o.addons=k.addons,o.is_free=k.reward_type&&'freebie'===k.reward_type.toString().toLowerCase(),e.details.push(o)}var p=b.restAreaLocalityMap;try{e.restarea=p[d]}catch(a){e.restarea=''}var q=c.order_id.toString(),r=q.length;return 4<r?(e.number_last=q.substring(r-4,r),e.number_first=q):(e.number_first='',e.number_last=q),e},b.search=function(a){if('past-orders'==a){if(b.orderHistory.orders=_.filter(b.allHistoryOrders.orders,function(a){return k(a,b.searchData.searchText)}),''==b.searchData.searchText&&(b.orderHistory.orders=b.allHistoryOrders.orders),!(0<b.orderHistory.orders.length))b.searchNewFlagPast=!0;else if(b.activeOrderHistoryId=b.orderHistory.orders[0].orderId,b.searchNewFlagPast){b.searchNewFlagPast=!1;var c=angular.element(document.querySelector('#pastSearch2'));c&&setTimeout(function(){c.focus()},10)}b.initializeCurrentHistoryOrders()}},b.initializeCurrentHistoryOrders=function(){b.currentHistoryOrders={};var a=null;if(b.orderHistory.orders&&0<b.orderHistory.orders.length&&(a=b.orderHistory.orders[0]),a){if(b.currentHistoryOrders.orderId=a.orderId,b.currentHistoryOrders.user_comments=a.user_comments,b.currentHistoryOrders.total_amount=a.total_amount,b.currentHistoryOrders.total_amount_spending=a.total_amount_spending,b.currentHistoryOrders.trade_discount_description=a.trade_discount_description,b.currentHistoryOrders.restaurant_trade_discount=a.restaurant_trade_discount,b.currentHistoryOrders.bill=a.bill,a.GST_details){for(var c in 0==Object.keys(a.GST_details).length&&(a.GST_details.cart_CGST=0,a.GST_details.cart_SGST=0,a.GST_details.cart_IGST=0),a.GST_details)a.GST_details[c]=parseFloat(a.GST_details[c]).toFixed(2);b.currentHistoryOrders.GST_details=a.GST_details,b.currentHistoryOrders.gst=parseFloat(a.gst).toFixed(2),b.currentHistoryOrders.serviceCharge=parseFloat(a.serviceCharge).toFixed(2)}a.restaurant_taxation_type&&(b.currentHistoryOrders.restaurant_taxation_type=a.restaurant_taxation_type),b.currentHistoryOrders.mou_type=a.mou_type,b.payout_status=a.payout_status,b.currentHistoryOrders.bill_sub_total=a.bill_sub_total,b.currentHistoryOrders.packing_charges=a.packing_charges,b.currentHistoryOrders.tax=parseFloat(a.tax).toFixed(2),b.currentHistoryOrders.is_food_prepared=a.is_food_prepared,b.currentHistoryOrders.mfrAccuracy=a.mfrAccuracy,b.currentHistoryOrders.orders=a.details,b.currentHistoryOrders.isCancelled=a.isCancelled,b.currentHistoryOrders.isDelivered=a.isDelivered,b.currentHistoryOrders.orderTime=a.orderedTime,a.tradedescription&&(b.currentHistoryOrders.tradedescription=a.tradedescription,b.currentHistoryOrders.header=a.header,b.currentHistoryOrders.cart_subtotal=a.cart_subtotal)}},b.callOrdersHistoryApi=function(a,d){if(b.removeToaster(),b.loadCatalogueTemplateLoader=!1,!d)var d={viewMoreClick:!1};a||(a=[],a.limit=20,a.offset=0,a.ordered_time__gte=moment().subtract(6,'days').format('YYYY-MM-D'),a.ordered_time__lte=moment().format('YYYY-MM-D'));var e=b.orderRestId;if(e){var g={restaurant_id:e,limit:a.limit,offset:a.offset,ordered_time__gte:a.ordered_time__gte,ordered_time__lte:a.ordered_time__lte};d.filterReq&&(g.filterReq=d.filterReq),f.orderHistory(g).success(function(a){if(b.loadCatalogueTemplateLoader=!0,0!=a.statusCode)return console.warn('non-zero statusCode in orderHistory: ',a.statusMessage),b.toasterContent='Sorry, Something went wrong, Please try again.',b.toasterFlag=!0,void c(function(){b.removeToaster()},8e3);if(b.hideViewMoreBtn=null==a.data[0].data.meta.next,d.viewMoreClick){if(a.data[0].data.objects.length)for(var e=0;e<a.data[0].data.objects.length;e++)b.orderHistoryDataCopy.data[0].data.objects.push(a.data[0].data.objects[e]);else return $('html,body').stop().animate({scrollTop:0},450,'swing'),b.toasterContent='Sorry, No more data left between '+g.ordered_time__gte+'-'+g.ordered_time__lte,b.toasterFlag=!0,void c(function(){b.removeToaster()},8e3);b.temporderHistorySubData=b.orderHistoryDataCopy.data[0],b.intializeOrdersHistoryDataStructure(b.orderHistoryDataCopy)}else{var f='';b.temporderHistorySubData=[],b.orderHistoryDataCopy=_.deepClone(a),b.temporderHistorySubData=a.data[0],0===a.data[0].data.meta.offset&&(f=_.deepClone(a.data[0]),a.data=[]),a.data.push(f),b.dataLength=a.data.length,b.intializeOrdersHistoryDataStructure(a)}}).error(function(){b.loadCatalogueTemplateLoader=!0})}},b.changeNewActiveHistoryOrderConfirmed=function(a){if(a){b.activeOrderHistoryId=a,b.selectedOrderHistoryData=a;var c=$.grep(b.orderHistory.orders,function(b){return b.orderId==a}),d=null;if(c&&(d=c[0]),d){if(b.currentHistoryOrders={},b.currentHistoryOrders.orderId=d.orderId,b.currentHistoryOrders.user_comments=d.user_comments,b.currentHistoryOrders.total_amount=d.total_amount,b.currentHistoryOrders.total_amount_spending=d.total_amount_spending,b.currentHistoryOrders.trade_discount_description=d.trade_discount_description,b.currentHistoryOrders.mou_type=d.mou_type,b.currentHistoryOrders.payout_status=d.payout_status,b.currentHistoryOrders.mfrAccuracy=d.mfrAccuracy,b.currentHistoryOrders.bill=d.bill,d.GST_details){for(var f in d.GST_details)d.GST_details[f]=parseFloat(d.GST_details[f]).toFixed(2);b.currentHistoryOrders.GST_details=d.GST_details,b.currentHistoryOrders.gst=parseFloat(d.gst).toFixed(2),b.currentHistoryOrders.serviceCharge=parseFloat(d.serviceCharge).toFixed(2)}d.restaurant_taxation_type&&(b.currentHistoryOrders.restaurant_taxation_type=d.restaurant_taxation_type),b.currentHistoryOrders.restaurant_trade_discount=d.restaurant_trade_discount,b.currentHistoryOrders.bill_sub_total=d.bill_sub_total,b.currentHistoryOrders.packing_charges=d.packing_charges,b.currentHistoryOrders.tax=d.tax,b.currentHistoryOrders.orders=d.details,b.currentHistoryOrders.isCancelled=d.isCancelled,b.currentHistoryOrders.isDelivered=d.isDelivered,b.currentHistoryOrders.orderTime=d.orderedTime,b.currentHistoryOrders.is_food_prepared=d.is_food_prepared,d.tradedescription&&(b.currentHistoryOrders.tradedescription=d.tradedescription,b.currentHistoryOrders.header=d.header,b.currentHistoryOrders.cart_subtotal=d.cart_subtotal)}}},b.initializePastOrderDateTime=function(a){b.csvFailed=!1,b.initDateTime=function(){$('#past_orders_range').daterangepicker({startDate:b.reportOrderRangeStart,endDate:b.reportOrderRangeEnd,minDate:b.minDate,maxDate:b.maxDate,locale:{format:'DD-MM-YYYY'},ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,'days'),moment().subtract(1,'days')],"Last 7 Days":[moment().subtract(6,'days'),moment()],"Last 30 Days":[moment().subtract(29,'days'),moment()],"This Month":[moment().startOf('month'),moment().endOf('month')],"Last Month":[moment().subtract(1,'month').startOf('month'),moment().subtract(1,'month').endOf('month')]}},l)},'view-more'==a?(b.viewMoreClick=!0,b.initMiniLoader=!0,l(b.storeReportOrderRangeStart,b.storeReportOrderRangeEnd)):(b.viewMoreClick=!1,b.initDateTime(),l(b.reportOrderRangeStart,b.reportOrderRangeEnd))},b.exportPastOrdersData=function(){b.csvFailed=!1,b.csvStartDate=b.storeReportOrderRangeStart.format('YYYY-MM-DDT00:01:00');var a=moment().format('YYYY-MM-DD');b.csvEndDate=a==b.storeReportOrderRangeEnd.format('YYYY-MM-DD')?moment().format('YYYY-MM-DDTHH:mm:ss'):b.storeReportOrderRangeEnd.format('YYYY-MM-DDT23:59:00'),b.csvRestId=b.orderRestId,b.csvRequestedTimeStamp=moment().format('YYYY-MM-DDTHH:mm:ss'),b.getCsv()},b.startCsvPoll=function(){b.csvPoll=d(function(){b.pollCsv()},1e4,48)},b.stopCsvPoll=function(){angular.isDefined(b.csvPoll)&&(d.cancel(b.csvPoll),b.csvPoll=void 0)},b.getCsv=function(){var a={orderedTimeGte:b.csvStartDate,orderedTimeLte:b.csvEndDate,restaurantId:b.csvRestId,requestedTimeStamp:b.csvRequestedTimeStamp};b.$parent.loadCatalogueTemplateLoader=!1,f.getOrderHistoryCsvData(a).success(function(a){if(!(0==a.statusCode))b.csvStatusPending=!1,b.csvFailed=!0,b.$parent.loadCatalogueTemplateLoader=!0;else if(a.data&&'done'===a.data.status){var c=document.createElement('a');c.href=a.data.reportUrl,c.target='_blank',document.body.appendChild(c),c.click(),b.$parent.loadCatalogueTemplateLoader=!0,b.csvStatusPending=!1}else(a.data&&'pending'===a.data.status||a.data&&0===a.data.statusCode&&null===a.data.data)&&(b.csvStatusPending=!0),b.startCsvPoll()}).error(function(){b.csvStatusPending=!1,b.csvFailed=!0,b.$parent.loadCatalogueTemplateLoader=!0})},b.pollCsv=function(){var a={orderedTimeGte:b.csvStartDate,orderedTimeLte:b.csvEndDate,restaurantId:b.csvRestId,requestedTimeStamp:b.csvRequestedTimeStamp};b.$parent.loadCatalogueTemplateLoader=!1,f.getOrderHistoryCsvData(a).success(function(a){if(!(0==a.statusCode))b.csvStatusPending=!1,b.stopCsvPoll(),b.csvFailed=!0,b.$parent.loadCatalogueTemplateLoader=!0;else if(a.data&&'done'===a.data.status){b.stopCsvPoll();var c=document.createElement('a');c.href=a.data.reportUrl,c.target='_blank',document.body.appendChild(c),c.click(),b.$parent.loadCatalogueTemplateLoader=!0,b.csvStatusPending=!1}else(a.data&&'pending'===a.data.status||a.data&&0===a.data.statusCode&&null===a.data.data)&&(b.csvStatusPending=!0)}).error(function(){b.csvStatusPending=!1,b.stopCsvPoll(),b.csvFailed=!0,b.$parent.loadCatalogueTemplateLoader=!0})}}
app.controller('RestMenuController',RestMenuController).controller('VariantMenuController',VariantMenuController).controller('MenuListController',MenuListController).controller('SelectOptionController',SelectOptionController).controller('FinalItemSubmission',FinalItemSubmission).controller('ItemDeleModal',ItemDeleModal).value('duScrollBottomSpy',!0).value('duScrollCancelOnEvents',!1).directive('foodItemTemplateDesktop',function(){return{restrict:'E',controller:'RestMenuController',controllerAs:'restAs',templateUrl:'/app/menu/templates/v1/food-item-template-desktop.hbs'}}).directive('foodItemDesktop',function(){return{restrict:'E',controller:'RestMenuController',controllerAs:'restAs',templateUrl:'/app/menu/templates/v1/food-item-desktop.html'}}).directive('toggleActiveClass',function(){return{link:function(a,b){b.bind('click',function(){b.parent().hasClass('active')?b&&b.parent().removeClass('active'):b&&b.parent().addClass('active')})}}}).directive('detectScrollPosition',['$window',function(a){return{scope:{scroll:'=scrollPosition'},link:function(b,c){var d=angular.element(a),f=window.innerHeight;d.on('scroll',b.$apply.bind(b,function(){window.scrollY>f?c&&c.addClass('showtop'):c&&c.removeClass('showtop')}))}}}]).directive('detectScrollPositionTopBar',['$window',function(a){return{scope:{scroll:'=scrollPosition'},link:function(b,c){var d=angular.element(a);d.on('scroll',b.$apply.bind(b,function(){99<=window.scrollY?c&&c.addClass('movetop'):c&&c.removeClass('movetop')}))}}}]);var userAgent=navigator.userAgent||navigator.vendor||window.opera;userAgent.match(/Android/i)?app.value('duScrollOffset',80):app.value('duScrollOffset',220),RestMenuController.$inject=['$scope','HomeFactory','$attrs','$document','$window','$uibModal','$rootScope','$timeout'],VariantMenuController.$inject=['$scope','HomeFactory','$attrs','$document','$window','$rootScope'],MenuListController.$inject=['$scope','HomeFactory','$uibModalInstance','itemName','itemStock','itemId','variantModelInfo','currentRestId','userCookieOutlets','$rootScope','otherDetails'],SelectOptionController.$inject=['$scope','HomeFactory','$uibModalInstance','menuListName'],FinalItemSubmission.$inject=['$scope','HomeFactory','$uibModalInstance','data','$compile','$document','$rootScope'],ItemDeleModal.$inject=['$scope','HomeFactory','$uibModalInstance','data','$compile','$document','$rootScope','$window'];function RestMenuController(a,b,c,d,f,g,h,j){a.noResult=!1,a.turnOffItemConfirmation=!1,a.searchActivate=!1,a.showToTop=!1,a.menuListOos='',a.numberOfItemOos,a.timeUntilItemInStock=0,a.globalMenuRestListData='',a.globalMenuRestListData=a.storeGlobalData,a.currentOpenItemId,angular.element(document).ready(function(){('restaurantMenu'===globals.menu||'menu'===globals.menu)&&angular.element('.page__sidebar .nav--features a.dropdown-toggle').addClass('no-follow')}),h.$on('MenuRevisionTicketsSubmitted',function(){a.newTicketSize=0}),a.oosClick=function(){a.trackEventStickRestMenu('select_oos_items_click',!a.iteoos,null,null),f.location.href=a.iteoos?'/menu/details/restaurant/'+h.globals.choosenOutlet.rest_rid:'/menu/out-of-stock/restaurant/'+h.globals.choosenOutlet.rest_rid},a.deleteItemClick=function(b){a.trackEventStickRestMenu('item_delete_click',b.id,null,null);g.open({animation:!1,templateUrl:'/app/menu/templates/v1/delete-btn-modal.html',controller:'ItemDeleModal',backdrop:'static',keyboard:!1,windowClass:'menu-delete-item',resolve:{data:function(){return{itemId:b.id,name:b.name,price:b.price,isVeg:b.isVeg}}}})},a.toggleItemEditDelete=function(b,c,d){b&&b.stopPropagation(),a.currentOpenItemId=d?null:c},d.click(function(){j(function(){a.toggleItemEditDelete(null,null,!0)},0)}),h.restMenuTrack=function(){var a=arguments[4];'restaurantMenu'===a?a='menu-details-page':'menu'===a?a='menu-details-page':'outofStockItems'===a?a='menu-oos-page':'restaurantOutofStockItems'===a?a='menu-oos-page':void 0;var b={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:h.globals.choosenOutlet.rest_rid,"screen-name":a,"object-position":null,eventType:'click'}};h.appTrack(b)},a.trackEventStickRestMenu=function(a,b,c,d){h.restMenuTrack(a,b,c,d,globals.menu)},a.editItem=function(b,c,d,f,g,j,l){b.category=a.filteredMenuList,b.mainMenuName=c,b.subCatName=d,b.contactphone=a.globalMenuRestListData.contactphone,b.isItemToBeDeleted=f,b.categoryDetails=g,b.subCategoryDetails=j,b.categoryList=l.data.categories,a.trackEventStickRestMenu('item_edit_click',b.id,null,null),h.$emit('menuEditDataFn',b),a.moveToTop(),a.editMenuActive.showEditmenu=!0,!a.iteoos},a.addItem=function(){var b={};a.moveToTop(),a.trackEventStickRestMenu('add_new_item_click',null,null,null,'restaurantMenu'),b.category=a.filteredMenuList,b.contactphone=a.globalMenuRestListData.contactphone,b.vat=a.globalMenuRestListData.vat,b.serviceCharges=a.globalMenuRestListData.serviceTax,b.serviceTax=a.globalMenuRestListData.serviceTax,b.packingCharges=a.globalMenuRestListData.packingCharges,a.$emit('menuAddDataFn',b),a.editMenuActive.showEditmenu=!0,!a.iteoos};var l=h.$on('initialApiCallForMenuList',function(b,c){if(a.noResult=!1,0!==c.statusCode){c={data:{categories:[]}},a.noResult=!0}else a.pendingTickcetsConfirm=c.data.pendingApproval,a.newTicketSize=c.data.newTicketSize,a.newTicketids=c.data.newTicketids;a.globalMenuRestListData=c,a.globalMenuRestListData.contactphone=c.data.phoneNumbers,a.globalMenuRestListData.serviceTax=c.data.serviceTax,a.globalMenuRestListData.serviceCharges=c.data.serviceCharges,a.globalMenuRestListData.vat=c.data.vat,a.globalMenuRestListData.packingCharges=c.data.packingCharges,a.populateMenuList(a.globalMenuRestListData,JSON.parse(JSON.stringify(a.globalMenuRestListData)))});a.$on('$destroy',function(){l()}),a.loadRestMenu=function(){a.turnVariantOnError=null,h.turnVariantOnErrorMapping={};a.scroll=0},a.userToasterMessage=function(b){a.toasterFlagProfile=!0,a.toasterContent=b,j(function(){a.removeToaster()},5e3)},a.loadRestMenu(),a.submitPendingTickets=function(){a.currentRestId||(a.currentRestId=a.storeRestId);var b={restaurantId:a.currentRestId,ticketIds:a.newTicketids,globalPhone:a.globalMenuRestListData.contactphone},c=g.open({animation:!1,templateUrl:'/app/menu/templates/v1/confirm-final-submission.html',controller:'FinalItemSubmission',backdrop:'static',keyboard:!1,size:'md',resolve:{data:function(){return b}}});c.result.then(function(){})},a.disableSelectOption=!1,a.webViewMenuListModel=function(b){0==b.length&&(a.disableSelectOption=!0);g.open({animation:!1,templateUrl:'/app/menu/templates/v1/select-option.html',controller:'SelectOptionController',size:'md',backdrop:'static',keyboard:!1,resolve:{menuListName:function(){return b}}})},a.searchMenuItems=function(){a.noResult=!1,a.populateMenuList(a.globalMenuRestListData),a.searchActivate=''!==a.searchQuery,a.moveToTop()},a.moveToTop=function(){$('html,body').stop().animate({scrollTop:0},450,'swing')},a.clearSearch=function(){a.searchActivate=!1,a.searchQuery='',a.populateMenuList(a.globalMenuRestListData),a.moveToTop()};var m=h.$on('initiateClearSearch',function(){a.clearSearch()});a.$on('$destroy',function(){m()}),a.populateMenuList=function(b,c){var d=_.deepClone(b.data.categories),f=function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')}(a.searchQuery||''),g=new RegExp('\\b'+f,'i');a.numberOfItemOos=0;var h=function(b){return _.filter(b,function(b){var c=!0;if(void 0!=b.variants_new&&b.variants_new.variant_groups&&b.variants_new.variant_groups.length)for(i in b.variants_new.variant_groups)for(k in a.numberOfItemOos=0,b.variants_new.variant_groups[i])if('variations'==k){var d=b.variants_new.variant_groups[i][k];for(varnt in d)0===d[varnt].inStock?(a.numberOfItemOos++,b.variants_new.variant_groups[i].variantOosNumber=a.numberOfItemOos):void 0==b.variants_new.variant_groups[i].variantOosNumber&&(b.variants_new.variant_groups[i].variantOosNumber=0)}if(b.name=b.name?b.name:'-',a.iteoos){if(0==b.inStock)return a.menuListOos=!0,!f.length||!!b.name.match(g);if(1===b.inStock)return a.menuListOos=!1,!1}else if(a.restMenu)return b.name=b.name?b.name:'-',f.length&&!a.addonsVarnts&&c&&(c=b.name.match(g)),c})};d=function(){return _.filter(d,function(b){if(b.name=b.name.toLowerCase(),b.subCategories){if(b.subCategories=_.filter(b.subCategories,function(b){return(b.name=b.name.toLowerCase(),b.menu=h(b.menu),a.restMenu)?!f.length||!!b.menu.length:a.iteoos?!!b.menu.length:void 0}),a.restMenu)return!f.length||!!b.subCategories.length;if(a.iteoos)return!!b.subCategories.length}else{if(b.menu=h(b.menu),a.restMenu)return!f.length||!!b.menu.length;if(a.iteoos)return!!b.menu.length}})}(),a.noResult=!d.length,c&&(a.menuDetails=c),a.filteredMenuList=d},a.changeInGlobalObject=function(b){var c=a.globalMenuRestListData.data.categories;if(!b.variantId)var d=b.itemId;else if(b.variantId){var f,g,h;f=b.itemId,g=b.variantId,h=b.variantInStock}var j=function(a){return _.filter(a,function(a){if(!f)a.id===d&&(a.inStock=a.inStock?0:1,a.nextAvailableAtMessage=b.itemStockDate?'Next available at '+moment(b.itemStockDate).format('DD-MM-YYYY hh:mm a'):'Out of stock');else if(f&&void 0!=a.variants_new&&a.variants_new.variant_groups&&a.variants_new.variant_groups.length)return _.filter(a.variants_new.variant_groups,function(a){return _.filter(a.variations,function(a){return g===a.id&&(0==a.inStock?a.inStock=1:1==a.inStock&&(a.inStock=0)),!0})});return!0})};_.filter(c,function(a){return a.subCategories?(a.subCategories=_.filter(a.subCategories,function(a){return a.menu=j(a.menu),!0}),!0):(a.menu=j(a.menu),!0)})},a.toggleMenuListbtnStatus='',a.openMenuListModal=function(b,c,d,f){var h=a.userCookieOutlets;if(f.storeId)var j=f.storeId;var l={itemId:d};if(f&&'variantFunction'===f[0]){variantModelInfo=!0,a.$parent.someVar='value',a.item.inStock=a.item.inStock?0:1,a.changeInGlobalObject(l),a.timeUntilItemInStock='',a.menuOosTimeOut='',a.item.nextAvailableAtMessage='Out of stock',a.noDate='';var m=g.open({animation:!1,templateUrl:'/app/menu/templates/v1/menu_list_model.html',controller:'MenuListController',size:'md',keyboard:!1,backdrop:'static',resolve:{itemName:function(){return b},itemStock:function(){return c},itemId:function(){return d},variantModelInfo:function(){return variantModelInfo},currentRestId:function(){return j},userCookieOutlets:function(){return h},otherDetails:function(){return f}}});return}variantModelInfo=!1;a.menuListOos=0!==c;var m=g.open({animation:!1,templateUrl:'/app/menu/templates/v1/menu_list_model.html',controller:'MenuListController',size:'md',backdrop:'static',keyboard:!1,resolve:{itemName:function(){return b},itemStock:function(){return c},itemId:function(){return d},variantModelInfo:function(){return variantModelInfo},currentRestId:function(){return j},userCookieOutlets:function(){return h},otherDetails:function(){return f}}});m.result.then(function(b){if('cancelled'===b.status)a.menuListOos=!a.menuListOos;else if('success'===b.status){if(a.$parent.someVar='value',a.item.inStock=a.item.inStock?0:1,l.itemStockDate=b.toDate,a.changeInGlobalObject(l),a.timeUntilItemInStock=b.toDate,a.menuOosTimeOut=b.timeSelected,'24'==b.toTime){var c=new Date;c.setDate(c.getDate()+1),c.setHours(8),c.setMinutes(0),c.setMilliseconds(0),a.item.nextAvailableAtMessage='Next available at '+moment(c).format('DD-MM-YYYY hh:mm a')}else a.item.nextAvailableAtMessage='2'==b.toTime||'6'==b.toTime?'Next available at '+moment().add(b.toTime,'hours').format('DD-MM-YYYY hh:mm a'):'Next available at '+moment(b.toDate).format('DD-MM-YYYY hh:mm a');}else if('ok'===b.status);})};a.variantStatus=!1,a.initiateToggleItemStatus=function(b,c,d,f,g){var j=d?'Instock':'OOS';if(h.restMenuTrack('item_toggle_click',j,f,null,h.globalsMenu),a.checkItemVariantStatus=function(){if(void 0!=a.item.variants_new&&a.item.variants_new.variant_groups&&a.item.variants_new.variant_groups.length){for(i in a.item.variants_new.variant_groups)for(k in a.item.variants_new.variant_groups[i])if('variations'==k){var b=a.item.variants_new.variant_groups[i][k];for(varnt in b)if(1===b[varnt].inStock)return!0}}else return!0},a.variantStatus=!!d||a.checkItemVariantStatus(),a.variantStatus){var l={};l.storeId=a.$parent.storeRestId,l.isItemVeg=g,a.openMenuListModal(c,d,f,l)}else a.turnVariantOnError=!0,h.turnVariantOnErrorMapping=h.turnVariantOnErrorMapping||{},h.turnVariantOnErrorMapping[f]=!0},a.oneAtATime=!0}function VariantMenuController(a,b,c,d,f,g){a.loadVariantInit=function(){a.processingRequest=!1,menuListOosV2=''},a.loadVariantInit(),a.onOffVariantMenu=function(c,d,f,h,j,l,m){var n=a.userCookieOutlets,o=this;a.processingRequest=!0,a.$parent.turnVariantOnError=!1,g.turnVariantOnErrorMapping[f]=!1,a.incrementVariantStockNumber=function(b){if(void 0!=a.item.variants_new&&a.item.variants_new.variant_groups&&a.item.variants_new.variant_groups.length)for(e in a.item.variants_new.variant_groups)if(a.item.variants_new.variant_groups[e].group_id===m){var c=a.item.variants_new.variant_groups[e].variantOosNumber;b?c--:c++,a.item.variants_new.variant_groups[e].variantOosNumber=c}};var p;p=j?0:1,a.incrementVariantStockNumber(p);var q=a.$parent.storeRestId,r='',s='',t='';if(a.getRestIdAccTken=function(){for(var b,c=document.cookie.split('; '),d={},f=0;f<c.length;f++)b=c[f].split('='),d[b[0]]=b[1];r=d.restaurantId,s=d.accessToken,q=d.restaurantId,a.webView=!0},q||null==document.getElementById('Swiggy-Str').innerHTML||(t=document.getElementById('Swiggy-Str').innerHTML,s='','mobileview'===t?a.getRestIdAccTken():(t=JSON.parse(n),q=t[0].rest_rid)),!a.webView)var u={markInStock:p,itemId:f,variantId:l,variantGroupId:m,restaurantId:q};else{''==s&&a.getRestIdAccTken();var u={markInStock:p,itemId:f,variantId:l,variantGroupId:m,restaurantId:q,accessToken:s}}a.showPermissionPopup=!1,b.getVariantStatus(u).success(function(b){if((a.processingRequest=!1,0===b.statusCode)&&('object'!=typeof b&&(b=JSON.parse(b)),0===b.statusCode)){var g=parseInt(0),h=parseInt(0);a.runVariantLoop=function(){if(void 0!=a.item.variants_new&&a.item.variants_new.variant_groups&&a.item.variants_new.variant_groups.length)for(i in a.item.variants_new.variant_groups)for(k in a.item.variants_new.variant_groups[i])if('variations'==k){var j=a.item.variants_new.variant_groups[i][k];for(varnt in g=parseInt(j.length),h=g,j)j[varnt].id===l&&(0===j[varnt].inStock?(o.menuListOosV2=!1,j[varnt].inStock=1):1===j[varnt].inStock&&(o.menuListOosV2=!0,j[varnt].inStock=0)),0===j[varnt].inStock&&a.item.variants_new.variant_groups[i].group_id===m&&(h--,0==h&&0!=a.item.inStock&&(a.turnItemOffPermission=function(){new Date().getTime();a.openMenuListModal(c,d,f,['variantFunction'])},b.data&&a.turnItemOffPermission()))}},a.turnItemOffPermission=function(){if(!h){var b=[];b.push('variantFunction'),a.openMenuListModal(c,d,f,b)}},a.runVariantLoop(),a.changeInGlobalObject(u)}}).error(function(){a.processingRequest=!1})}}function MenuListController(a,b,c,d,f,g,h,j,l,m,n){l==void 0&&(l=j),a.menuItemRadios=[{timeValue:24,timeText:'End of day'},{timeValue:6,timeText:'6 hours'},{timeValue:2,timeText:'2 hours'},{timeValue:'',caledTime:!0,timeText:'',placeHolderValue:'Custom time frame'}],a.throwError='',a.toggleSubmitProcessing=!1,a.webView=!1;var o=0;a.menuData=a.menuItemRadios[0].timeValue,a.timeSelected=a.menuData,a.changeSelectedTime=function(){0!==a.menuData&&$('#calderDiv').prop('checked',!1),24===a.menuData?a.timeSelected='8 AM tomorrow morning.':6===a.menuData?a.timeSelected='6 hours from now':2===a.menuData&&(a.timeSelected='2 hours from now')},a.$watch('menuData',function(b){a.sendData={},a.changeSelectedTime(b),a.sendData={status:null,toTime:b,timeText:'',fromTime:'',item_id:g}}),a.timeOverLay='Custom Time',a.startDate=moment().add(1,'hour'),a.beforeRender=function(a,b){var c=moment().add(1,'hour').startOf(a).valueOf(),d=moment().add(12,'days').startOf(a).valueOf();angular.forEach(b,function(a){var b=a.localDateValue();a.selectable=b>=c&&b<=d})},a.timeSelectedV2='',a.onTimeSet=function(b){var c=moment(b).format('DD-MM-YYYY hh:mm a');a.timeSelected=c,a.timeOverLay=moment(a.startDate).format('DD-MM-YYYY hh:mm a'),a.timeSelectedV2=moment(a.startDate).format('YYYY-MM-DD HH:mm:ss')},a.clearAndFillRadio=function(){a.menuItemRadios.forEach(function(b,c){3===c?(a.sendData={status:null,toTime:'',timeText:'',fromTime:'',item_id:''},$('#calderDiv').prop('checked',!0),a.timeSelected=moment(a.startDate).format('DD-MM-YYYY hh:mm a'),a.timeOverLay=moment(a.startDate).format('DD-MM-YYYY hh:mm a'),a.timeSelectedV2=moment(a.startDate).format('YYYY-MM-DD HH:mm:ss'),a.sendData.toTime=a.timeSelectedV2,a.sendData.item_id=g):a.menuData=0})},a.turnOffItemConfirmation=h,a.menuItemOutOfStockName=d,a.menuItemOutOfStockId=f,a.itemOtherDetails=n,a.removeMenuListModal=function(){m.restMenuTrack('item_oos_slot_cancel',g,null,null,'menu-details-page'),a.sendData={},a.sendData.status='cancelled',$throwError='',c.close(a.sendData)},a.menuItemOutOfStock=function(){a.toggleSubmitProcessing=!0,a.throwError='';var d;a.sendData?0===a.sendData.toTime?o=a.timeSelectedV2:o=a.sendData.toTime:(a.sendData={status:null,toTime:'',timeText:'',fromTime:'',item_id:''},o='',a.sendData.item_id=''),d=f?0:1;var g='',n='',p='';if(a.getRestIdAccTken=function(){for(var b,c=document.cookie.split('; '),d={},f=0;f<c.length;f++)b=c[f].split('='),d[b[0]]=b[1];g=d.restaurantId,n=d.accessToken,j=d.restaurantId,a.webView=!0},!j&&document.getElementById('Swiggy-Str')&&null!=document.getElementById('Swiggy-Str').innerHTML&&(p=document.getElementById('Swiggy-Str').innerHTML,n='','mobileview'===p?a.getRestIdAccTken():(p=JSON.parse(l),j=p[0].rest_rid)),!a.webView)var q={item_id:a.sendData.item_id,fromTime:'',hours:'',EOD:'',toTime:'',restaurantId:j,markInStock:d,isReactive:!1};else{''==n&&a.getRestIdAccTken();var q={item_id:a.sendData.item_id,fromTime:'',hours:'',EOD:'',toTime:'',restaurantId:j,isReactive:!1,markInStock:d,accessToken:n}}24===o?q.EOD=!0:6===o||2===o?q.hours=o:q.toTime=o,a.fromItemOOSTime='',a.toItemOOSTime='',h?a.toggleSubmitProcessing=!1:(m.restMenuTrack('item_oos_slot_confirm',o,a.sendData.item_id,null,'menu-details-page'),b.holidaySlot(q).success(function(b){if(a.toggleSubmitProcessing=!1,0!=b.statusCode)1==b.statusCode?a.throwError='Something went wrong. Please try again.':2==b.statusCode&&(a.throwError=b.statusMessage);else{if(0===b.data.statusCode)return void(a.throwError=b.data.statusMessage);if(!b.data.data.item_in_stock_status&&1==q.markInStock)return a.fromItemOOSTime=new Date(parseInt(b.data.data.item_holiday_slot_from_time)),a.fromItemOOSTime=moment(a.fromItemOOSTime).format('DD-MM-YYYY hh:mm a'),a.toItemOOSTime=new Date(parseInt(b.data.data.item_holiday_slot_to_time)),a.toItemOOSTime=moment(a.toItemOOSTime).format('DD-MM-YYYY hh:mm a'),void(a.throwError='Item is now marked in stock successfully. Currently a holiday slot is applied on the item. Item will be available for orders from '+a.toItemOOSTime+'. Contact Partner Support in case of any issues.');a.sendData.status='success',b.data&&(a.sendData.toDate=b.data.data&&b.data.data.to_time),c.close(a.sendData)}}).error(function(){a.toggleSubmitProcessing=!1,a.throwError='Something went wrong. Please try again.'}))},h&&a.menuItemOutOfStock()}function SelectOptionController(a,b,c,d){a.menuListName=d,a.cancel=function(){c.dismiss('cancel')}}function FinalItemSubmission(a,b,c,d,f,g,h){for(var j in a.editItemSuccess=!1,a.showMiniLoader=!1,a.globalPhone=d.globalPhone,a.newNumberCount=0,a.capturePhoneNumber={existingPhone:[]},a.pendingTicketDetails=d.ticketIds,a.globalPhone)a.capturePhoneNumber.existingPhone[a.globalPhone]=!0;a.addMoreNum=function(){a.addMore=!1},a.addPhoneNumber=function(){if(a.invalidNewPhoneNumber='',!a.contactPhoneForm.$valid||!a.capturePhoneNumber.newphone)return void(a.invalidNewPhoneNumber='Phone number invalid');var b=a.capturePhoneNumber.newphone;for(var c in a.capturePhoneNumber.existingPhone){if(c==b)return void(a.invalidNewPhoneNumber='Phone number exist');++a.newNumberCount}var d=f('<label class=\'checkbox-inline\'><input ng-checked="true" type=\'checkbox\' ng-model="capturePhoneNumber.existingPhone[\''+b+'\']" value=\''+b+'\'>'+b+'</label>')(a);a.capturePhoneNumber.existingPhone[b]=!0,angular.element(g.find('#labelBox')).append(d),a.addMore=!1,a.capturePhoneNumber.newphone=''},a.submitFinalApproval=function(){a.itemSubmitError=!1,a.ticketEmpty=!1;var c=0;for(var f in a.pendingTicketDetails)a.pendingTicketDetails[f].isChecked&&(c=1);if(0==c)return void(a.ticketEmpty=!0);for(var f in a.showMiniLoader=!0,a.globalPhone.contactphone=[],d.metadata={phone_numbers:''},a.capturePhoneNumber.existingPhone)!0==a.capturePhoneNumber.existingPhone[f]&&a.globalPhone.contactphone.push(f);d.metadata.phone_numbers=a.globalPhone.contactphone.join(),d.restaurantId||(d.restaurantId=a.storeRestId),b.submitPendingTicketsApi(d).success(function(b){return a.showMiniLoader=!1,0==b.statusCode?void(a.editItemSuccess=!0,!a.iteoos,h.$emit('MenuRevisionTicketsSubmitted')):void(a.itemSubmitError=!0)}).error(function(){a.showMiniLoader=!1,a.itemSubmitError=!0})},a.okay=function(){c.close('pending-tickets-confirm')},a.cancelModal=function(){c.dismiss('cancel')}}function ItemDeleModal(a,b,c,d,f,g,h,j){a.itemId=d.itemId,a.name=d.name,a.price=d.price,a.isVeg=d.isVeg,a.disableButton=!1,a.okay=function(){a.disableButton=!0,h.restMenuTrack('item_delete_confirm_click',a.itemId,null,null,'restaurantMenu'),b.deleteMenuItem({itemId:a.itemId,restId:h.globals.choosenOutlet.rest_rid,seller_tier:h.globals.choosenOutlet.tier&&h.globals.choosenOutlet.tier.toUpperCase()}).then(function(){a.disableButton=!1,j.location.reload()}).catch(function(){alert('Error while submitting, Please try again')})},a.cancelModal=function(){c.dismiss('cancel'),h.restMenuTrack('item_delete_close_click',a.itemId,null,null,'restaurantMenu')}}
app.directive('validateGst',['utilsService','$q','$timeout',function(a,b,c){return{require:'ngModel',link:function(a,d,e,f){f.$asyncValidators.gst=function(a,d){var g=b.defer();return c(function(){if(!1===f.$dirty||!0===f.$error.pattern)g.resolve();else if('undefined'==typeof d||0===d.toString().length)g.reject();else{var a=+d;if(0===a)g.resolve();else{var b=parseFloat(e.itemPrice),c=5*b/100,h=12*b/100,i=18*b/100;switch(e.gstType){case'cgst':case'sgst':a===c/2||a===h/2||a===i/2?g.resolve():g.reject();break;case'igst':a===c||a===h||a===i?g.resolve():g.reject();}}}},10),g.promise}}}}]),app.directive('validatePackagingCharge',['utilsService','$q','$timeout','$uibModal',function(a,b,c,d){return{require:'ngModel',link:function(a,e,f,g){a.$watch('menuEditFormData.itemPrice',function(b,c){a.latestItemPrice=b,b!==c&&g.$validate()}),g.$viewChangeListeners.push(function(){var b=a.menuItemForm.itemprice.$viewValue||a.menuItemForm.itemprice.$dirty||a.menuItemForm.packageprice.$viewValue||a.menuItemForm.packageprice.$dirty,c=a.menuItemForm.itemprice.$valid;if(b&&c&&g.$modelValue===void 0&&g.$error&&g.$error.packagingCharge){console.log('show a popup for error!');var e=d.open({templateUrl:'/app/menu/templates/v1/menu-edit-item-packageprice-warning.html',controller:['$scope','$uibModalInstance','allowablePackagingPrice',function(a,b,c){a.allowablePackagingPrice=c,a.closePopup=function(){b.close('backToMenu')}}],size:'md',backdrop:'static',openedClass:'sw-modal-align-middle',animation:!1,keyboard:!1,resolve:{allowablePackagingPrice:function(){return g.allowablePackagingPrice}}});e.result.then(function(){console.log('warning dialog was closed!!')})}}),g.$asyncValidators.packagingCharge=function(d){var e=b.defer(),f=[[0,50,5],[50,150,7],[150,300,10],[300,500,15],[500,100000,20]],h=parseFloat(a.latestItemPrice),i=function(a){for(var b,c=0;c<f.length;c++)if(b=f[c],a>=b[0]&&a<=b[1])return b[2]}(h);a.allowablePackagingPrice=i,g.allowablePackagingPrice=i;return c(function(){return i>=d?void e.resolve():void e.reject()},10),e.promise}}}}]),app.controller('RestMenuEditController',RestMenuEditController).controller('ItemMessageController',ItemMessageController).controller('CancelEditAddController',CancelEditAddController).directive('menuEditTemplate',function(){return{restrict:'E',controller:'RestMenuEditController',templateUrl:'/app/menu/templates/v1/menu-edit-template.hbs'}}),RestMenuEditController.$inject=['$scope','HomeFactory','$attrs','$document','$window','$uibModal','$rootScope','$compile','Upload','$timeout','popupService'],ItemMessageController.$inject=['$scope','HomeFactory','Upload','$rootScope','$timeout','$window'],CancelEditAddController.$inject=['$scope','$uibModalInstance','initiater','itemId','$rootScope'];function RestMenuEditController(a,b,c,d,e,f,g,h,i,j,k){g.originalEditFormData={},a.currentCategories=[],a.currentSubCategories=[],a.changeCategory=function(b){a.currentSubCategoryId='';for(var c,d=0;d<a.currentCategories.length;d++)if(c=a.currentCategories[d],c.id.toString()===b.toString()&&c.subCategories&&c.subCategories instanceof Array&&0<c.subCategories.length)return void(a.currentSubCategories=c.subCategories);a.currentSubCategories=[]},a.initMenuEditVars=function(){a.uploadImageSrc=[],a.oldPrice=null,a.imageError={imageResEr:!1,imageSizeEr:!1,invalidFormat:!1},a.samePrice=!1,a.menuEditFormData={},a.addNewItem=!1,a.variants='',a.errors=[],a.disableSubCat=!0,a.addonsVarShow=!1,a.toasterFlagProfile=!1,a.invalidNewPhoneNumber=!1,a.addMore=!0,a.copyItemData={},a.variantGps='',a.myInterval=5e3,a.noWrapSlides=!1,a.noBgImage=!1,a.active=0,a.itemSubmitError='',a.editItemSuccess=!1,a.invalidForm=!1,a.priceValid=!0,a.defaultImage=!0,a.imageNotValid=!1,a.totalPriceService='-',a.calculatingPrice=!1},a.filterCat=function(a){for(var b=[],c=[],d=0;d<a.length;d++)if('pending new items'!==a[d].name)if(b.push({catList:a[d].name,catId:a[d].id,subCatList:''}),a[d].subCategories){c=[];for(var e=0;e<a[d].subCategories.length;e++)c.push({name:a[d].subCategories[e].name,id:a[d].subCategories[e].id});b[d].subCatList=c}else if(a[d].menu){c=[];var f=a[d].menu[0].categoryID||'';c.push({name:'nota',id:f}),b[d].subCatList=c}return b},a.menuFormSetData=function(b,c){if(a.copyItemData={},a.menuEditFormData={},a.resetImageValidation(),'edit'==c){b.variants_new&&(a.variantGps=b.variants_new.variant_groups),b.addons&&(a.addonGps=b.addons);var d=0;1===b.isVeg?d=1:0===b.isVeg?d=0:2===b.isVeg&&(d=2),a.addNewItem=!1,a.menuEditFormData.menuItemName=b.name,a.menuEditFormData.menuItemType=d,a.menuEditFormData.itemPrice=b.price,a.menuEditFormData.itemCategory='',a.menuEditFormData.itemDesc=b.description,a.menuEditFormData.s3_image_url=b.s3_image_url,b.cloudinaryImageId&&(a.noBgImage=!0,a.menuEditFormData.s3_image_url='https://res.cloudinary.com/swiggy/image/upload/'+b.cloudinaryImageId),a.menuEditFormData.itemPriceComment=b.item_change_request,a.menuEditFormData.itemCategroyName=b.mainMenuName,a.menuEditFormData.itemSubCatName=b.subCatName,a.menuEditFormData.itemSubCatId=b.subCatId,a.menuEditFormData.contactphone=b.contactphone,a.menuEditFormData.markInStock=0,a.menuEditFormData.itemId=b.id,a.menuEditFormData.acceptedPhone=[],a.menuEditFormData.itemAddVarComment=b.addons_and_variant_change_request,a.menuEditFormData.serviceTax='-',a.menuEditFormData.serviceCharges='-',a.menuEditFormData.vat='-',a.menuEditFormData.requested_by=a.userSession,a.menuEditFormData.itemCategroy=a.filterCat(b.category);var e=b.categoryDetails,f=b.subCategoryDetails,h=b.categoryList.map(function(a){var b={id:a.id,name:a.name};return a.subCategories&&a.subCategories instanceof Array&&0<a.subCategories.length&&(b.subCategories=a.subCategories),b});a.currentCategoryId='',a.currentCategories=[],a.currentSubCategoryId='',a.currentSubCategories=[];var i={id:e.id,name:e.name};for(var j in e.subCategories&&e.subCategories instanceof Array&&0<e.subCategories.length&&(i.subCategories=e.subCategories,a.currentSubCategoryId=f.id,a.currentSubCategories=i.subCategories,a.menuEditFormData.subCategoryId=angular.copy(f.id)),a.currentCategoryId=i.id,a.currentCategories=h,a.menuEditFormData.categoryId=angular.copy(i.id),b.variants_new&&(a.variants=b.variants_new.variant_groups),a.menuEditFormData.itemPackagePrice='number'!=typeof b.packingCharges||Number.isNaN(b.packingCharges)?null:b.packingCharges,a.menuEditFormData)void 0==a.menuEditFormData[j]&&(a.menuEditFormData[j]='');for(var j in a.copyItemData=_.deepClone(a.menuEditFormData),a.copyItemData)void 0==a.copyItemData[j]&&(a.copyItemData[j]='');g.originalItemDataForEdit=a.copyItemData}else a.addNewItem=!0,a.menuEditFormData={menuItemName:'',menuItemType:'',itemPrice:'',itemPackagePrice:'',itemAddVarComment:'',itemCategroy:a.filterCat(b.category),categoryID:'',itemSubCatName:'',itemSubCatId:'',itemDesc:'',s3_url:'',itemPriceComment:'',contactphone:b.contactphone,markInStock:0,itemId:0,acceptedPhone:[],serviceTax:'-',serviceCharges:'-',vat:'-',requested_by:a.userSession},a.variants='',a.currentCategories=b.category,a.currentSubCategories=[]},a.selectedGstPercentage=null,a.currentGstType=null,a.calculateTotal=function(b){a.menuEditFormData.gstTotal=parseFloat(a.menuEditFormData.itemPrice)+parseFloat(a.menuEditFormData.itemPackagePrice)+parseFloat(b)},a.setCurrentGstType=function(b){if(a.currentGstType=b,a.selectedGstPercentage){var c=a.selectedGstPercentage,d=parseFloat(a.menuEditFormData.itemPrice),e=d*c/100;'cgst'===b||'sgst'===b?(a.menuEditFormData.cgst=e/2,a.menuEditFormData.sgst=e/2,a.menuEditFormData.igst=0,a.calculateTotal(e)):'igst'===b?(a.menuEditFormData.cgst=0,a.menuEditFormData.sgst=0,a.menuEditFormData.igst=e,a.calculateTotal(e)):void 0}},a.calculateGstbyPercentage=function(b){var c=parseFloat(a.menuEditFormData.itemPrice),d=c*b/100;j(function(){switch(a.currentGstType){case'cgst':case'sgst':a.menuEditFormData.cgst=d/2,a.menuEditFormData.sgst=d/2,a.menuEditFormData.igst=0,a.calculateTotal(d);break;case'igst':a.menuEditFormData.cgst=0,a.menuEditFormData.sgst=0,a.menuEditFormData.igst=d,a.calculateTotal(d);}},10),a.menuItemForm.$setDirty()},a.calculateGst=function(b){return a.currentGstType||(a.currentGstType='cgst'),angular.element('.select-gst').dropdown('toggle'),0===b?void k.showConfirmation('<h4>Are you sure?</h4>','<p>0% tax is only applicable for Composition tax traders as per government rules. Please make sure you are entering the correct value.</p>').then(function(){a.selectedGstPercentage=b,a.menuEditFormData.cgst=0,a.menuEditFormData.sgst=0,a.menuEditFormData.igst=0,a.calculateTotal(0),a.menuItemForm.$setDirty()},function(){}):void(a.selectedGstPercentage=b,a.calculateGstbyPercentage(b))},a.changeGst=function(b){a.selectedGstPercentage=null,'cgst'===b?!a.menuItemForm.cgst.$error.gst&&(a.menuEditFormData.sgst=a.menuEditFormData.cgst,a.menuEditFormData.igst=0,a.calculateTotal(parseFloat(a.menuEditFormData.cgst)+parseFloat(a.menuEditFormData.sgst))):'sgst'===b?!a.menuItemForm.sgst.$error.gst&&(a.menuEditFormData.cgst=a.menuEditFormData.sgst,a.menuEditFormData.igst=0,a.calculateTotal(parseFloat(a.menuEditFormData.cgst)+parseFloat(a.menuEditFormData.sgst))):'igst'===b&&!a.menuItemForm.igst.$error.gst&&(a.menuEditFormData.cgst=0,a.menuEditFormData.sgst=0,a.calculateTotal(a.menuEditFormData.igst))},angular.element('.page__sidebar .nav--features a, .page__header .nav--utils a:not(.dropdown-toggle), .menu__breadcrumb a').on('click',function(b){b.preventDefault();var c=angular.element(this),d={title:'<h3>Leave this page?<h3>'},e={confirm:'I WILL SUBMIT LATER',cancel:'STAY ON THIS PAGE'};if(!0===a.editMenuActive.showEditmenu)a.menuItemForm.$dirty&&(d.desc='<p>Your changes are not yet saved. Are you sure you want to leave this page?</p>',e.confirm='LEAVE THIS PAGE');else if(!1===a.editMenuActive.showEditmenu&&0<a.newTicketSize){if('/menu'===c.attr('href'))return void(window.location.href=c.attr('href'));d.desc='<p>Your menu changes are not yet submitted to Swiggy for approval. Are you sure you want to leave this page?</p>',d.desc+='<p>Please submit the changes from right panel on the screen</p>'}d.desc?k.showConfirmation(d.title,d.desc,{confirmButtonText:e.confirm,cancelButtonText:e.cancel,confirmButtonClass:'btn btn-lg btn-default',cancelButtonClass:'btn btn-lg btn-warning',reverseButtons:!0,customClass:'leave-page-popup'}).then(function(){window.location.href=c.attr('href')},function(){}):window.location.href=c.attr('href')?c.attr('href'):c.attr('data-href')}),angular.element('.menu-edit-options button.cancel').on('click',function(a){a.preventDefault();var b={title:'<h3>Discard changes?<h3>',desc:'<p>Your changes are not yet saved. Are you sure you want to dicard the changes?</p>'},c={confirm:'Okay',cancel:'Cancel'};k.showConfirmation(b.title,b.desc,{confirmButtonText:c.confirm,cancelButtonText:c.cancel,confirmButtonClass:'btn btn-lg btn-default',cancelButtonClass:'btn btn-lg btn-warning',reverseButtons:!0,customClass:'leave-page-popup'}).then(function(){window.location.href='/menu'},function(){})}),a.callServiceTaxApi=function(c,d,e){if(a.menuItemForm.itemprice.$error.min||a.menuItemForm.itemprice.$error.required||a.menuItemForm.itemprice.$error.pattern||a.menuItemForm.packageprice.$error.packagingCharge||a.menuItemForm.packageprice.$error.pattern)return void console.log('not going ahead with servicetax req because: $scope.menuItemForm.itemprice.$error: ',a.menuItemForm.itemprice.$error,' $scope.menuItemForm.packageprice.$error:',a.menuItemForm.packageprice.$error);if(null!==a.selectedGstPercentage)return a.calculateGstbyPercentage(a.selectedGstPercentage),void console.log('not going ahead with service tax req because: $scope.selectedGstPercentage:',a.selectedGstPercentage);a.menuItemForm.cgst.$setPristine(),a.menuItemForm.sgst.$setPristine(),a.menuItemForm.igst.$setPristine(),a.samePrice=c===a.oldPrice,a.oldPrice=c;var f={price:c,restaurantid:a.storeRestId,packagingCharges:d};e&&0!==a.menuEditFormData.itemId&&(f.itemId=e),a.calculatingPrice=!0,b.calculateSericeTax(f).success(function(b){return a.calculatingPrice=!1,a.selectedGstPercentage=null,0===b.statusCode?void(a.menuEditFormData.serviceTax=b.data.service_tax,a.menuEditFormData.serviceCharges=b.data.service_charges,a.menuEditFormData.vat=b.data.vat,a.menuEditFormData.itemPackagePrice=d?b.data.packaging_charges:0,a.totalPriceService=b.data.total,a.menuEditFormData.cgst=b.data.cgst,a.menuEditFormData.igst=b.data.igst,a.menuEditFormData.sgst=b.data.sgst,a.menuEditFormData.gstTotal=d?b.data.gst_total:b.data.gst_total-b.data.packaging_charges,a.menuEditFormData.isGstApplicableForTheItem=!!b.data.gst_inclusive,g.originalEditFormData=angular.copy(a.menuEditFormData),a.priceValid=!0):(a.editMenuActive.showEditmenu=!1,g.originalEditFormData={},void k.showToast('error','Oops, something went wrong','Please try again later.'))}).error(function(){a.selectedGstPercentage=null,a.calculatingPrice=!1,a.priceValid=!1})};var l=g.$on('menuEditDataFn',function(b,c){a.menuFormSetData(c,'edit'),j(function(){a.callServiceTaxApi(c.price,c.packingCharges,c.id,c.isItemToBeDeleted)},300)});a.$on('$destroy',function(){l()});var m=g.$on('menuAddDataFn',function(b,c){a.menuFormSetData(c,'add')});a.$on('$destroy',function(){m()}),a.initMenuEditVars(),a.subCatIdInject=function(b){b&&(a.menuEditFormData.itemSubCatId=b.id)},a.clearForm=function(){a.menuItemForm.$setPristine(),a.menuItemForm.$setUntouched(),a.editMenuActive.showEditmenu=!1,a.invalidForm=!1,a.invalidFileFormat=!1,a.imageNotValid=!1,a.calculatingPrice=!1,a.totalPriceService='-',a.menuEditFormData={},a.imageError={imageResEr:!1,imageSizeEr:!1,invalidFormat:!1}},a.validateDimension=function(b,c,d){a.noBgImage=!0,133>c||133>d?(a.imageError.imageResEr=!0,a.imageNotValid=!0,a.noBgImage=!1):a.imageError.imageResEr=!1},a.imageValidate=function(b){if(b){if(a.invalidFileFormat=!1,a.menuItemForm.file.$invalid)return void(a.imageError.invalidFormat=!0);if(a.imageError.imageResEr)return;a.imageError.invalidFormat=!1,a.imageNotValid=!1,a.noBgImage=!0}else return a.imageNotValid=!1,a.imageError.invalidFormat=!1,a.imageError={imageResEr:!1,imageSizeEr:!1},void(a.noBgImage=!1)},a.resetImageValidation=function(b){document.getElementById('imageSelected').removeAttribute('src'),a.menuItemForm&&a.menuItemForm.file&&a.menuItemForm.file.$setValidity('pattern',!0),b&&(b=void 0),a.file&&a.file.size&&(a.file=void 0),a.invalidFileFormat=!1,a.imageNotValid=!1,a.noBgImage=!1,a.imageError={imageResEr:!1,imageSizeEr:!1,invalidFormat:!1}},a.menuEditBackbutton=function(){a.menuEditFormData.itemId?g.restMenuTrack('item_edit_discard_changes_click',a.menuEditFormData.itemId,null,null,'restaurantMenu'):g.restMenuTrack('item_add_discard_changes_click',null,null,null,'restaurantMenu');var b,c=this;c.initiater='cancel-edit-add',a.addCancelModaldData=function(){return{initiater:function(){return c.initiater},itemId:function(){return a.menuEditFormData.itemId}}},b=f.open({templateUrl:'/app/menu/templates/v1/food-item-select-option.html',controller:'CancelEditAddController',size:'md',backdrop:'static',animation:!1,keyboard:!1,resolve:a.addCancelModaldData()}),b.result.then(function(){a.clearForm()})},a.openVarAddons=function(b){a.addonsVarShow=!b},a.showStatus=function(b){var c=this;if(b.menuEditFormData){if(a.currentCategoryId&&b.menuEditFormData.categoryId&&b.menuEditFormData.categoryId.toString()!==a.currentCategoryId.toString()&&(b.menuEditFormData.itemCategroyId=a.currentCategoryId),a.currentSubCategoryId&&b.menuEditFormData.subCategoryId&&b.menuEditFormData.subCategoryId.toString()!==a.currentSubCategoryId.toString())b.menuEditFormData.itemCategroyId=a.currentCategoryId,b.menuEditFormData.itemSubCatId=a.currentSubCategoryId;else if(!b.menuEditFormData.subCategoryId||!a.currentSubCategoryId){var d='',e=b.menuEditFormData.itemCategroy;if(e&&0<e.length){var f=e.find(function(b){return b.catId==a.currentCategoryId});f&&f.subCatList&&0<f.subCatList.length&&(d=f.subCatList[0].id)}b.menuEditFormData.itemCategroyId=a.currentCategoryId,b.menuEditFormData.itemSubCatId=d}c.menuEditFormData=b.menuEditFormData}else c.menuEditFormData=null;c.file=a.file,c.initiater=b.initiater,c.Upload=i,c.currentRestId=a.currentRestId?a.currentRestId:a.storeRestId,a.addModaldData=function(){return{menuEditFormData:function(){return c.menuEditFormData},initiater:function(){return c.initiater},file:function(){return c.file},Upload:function(){return c.Upload},currentRestId:function(){return c.currentRestId}}},g.$broadcast('MENU_ITEM_EDITED_OR_CREATED',{itemData:a.addModaldData()})},a.removeToaster=function(){a.toasterFlagProfile&&(a.toasterFlagProfile=!1,a.toasterContent='',a.failureCase=!1)},a.userToasterMessage=function(b){a.toasterFlagProfile=!0,a.toasterContent=b,j(function(){a.removeToaster()},5e3),$('html,body').stop().animate({scrollTop:0},450,'swing')},a.preventDoubleClick=function(a){return a&&a.preventDefault(),!1},a.submitItemMenu=function(b){if(a.menuEditFormData.itemId?g.restMenuTrack('item_edit_save_changes_click',a.menuEditFormData.itemId,null,null,'restaurantMenu'):g.restMenuTrack('item_add_save_changes_click',null,null,null,'restaurantMenu'),a.invalidForm=!1,a.menuEditFormData.acceptedPhone=[],a.menuEditFormData.restId=a.copyItemData.restId=a.$parent.storeRestId,a.menuItemForm.$invalid)return void(a.invalidForm=!0);if(a.menuEditFormData.seller_tier=g.globals.choosenOutlet.tier&&g.globals.choosenOutlet.tier.toUpperCase(),a.imageError.imageResEr||a.imageError.imageSizeEr)return void(a.imageNotValid=!0);var c={menuEditFormData:a.menuEditFormData,initiater:b};a.showStatus(c)},a.deleteItemMenu=function(b){var c={menuEditFormData:a.menuEditFormData,initiater:b};a.showStatus(c)}}function ItemMessageController(a,b,c,d,e,f){a.showMiniLoader=!1,a.editItemSuccess=!1,a.uploadingImage=!1,a.uploadingData=!1,a.menuEditFormData={},a.initiater='',a.file=null,a.currentRestId=null;var g={},h='',i=null,j=null;a.$on('MENU_ITEM_EDITED_OR_CREATED',function(b,c){var c=c.itemData;c.menuEditFormData&&(a.menuEditFormData=c.menuEditFormData(),g=c.menuEditFormData()),c.initiater&&(a.initiater=c.initiater(),h=c.initiater()),c.file&&(a.file=c.file(),i=c.file()),c.currentRestId&&(a.currentRestId=c.currentRestId(),j=c.currentRestId()),a.submitEditItemMenu()}),a.okay=function(){},a.removeToaster=function(){a.toasterFlagProfile&&(a.toasterFlagProfile=!1,a.toasterContent='',a.failureCase=!1)},a.userToasterMessage=function(b){a.toasterFlagProfile=!0,a.toasterContent=b,e(function(){a.removeToaster()},5e3),$('html,body').stop().animate({scrollTop:0},450,'swing')},a.uploadData=function(c,g){if(c?a.menuEditFormData.s3_image_url=c:delete a.menuEditFormData.s3_image_url,a.editItemSuccess=!1,'submit'===g)a.menuEditFormData.gst_details={},d.originalEditFormData.cgst!==a.menuEditFormData.cgst&&(0===a.menuEditFormData.cgst?(a.menuEditFormData.gst_details.cgst='[SUBTOTAL]*0.0',a.menuEditFormData.gst_details.sgst='[SUBTOTAL]*0.0',a.menuEditFormData.gst_details.igst='[SUBTOTAL]*0.0'):(a.menuEditFormData.gst_details.cgst='[SUBTOTAL]*'+a.selectedGstPercentage/100/2,a.menuEditFormData.gst_details.sgst='[SUBTOTAL]*'+a.selectedGstPercentage/100/2,a.menuEditFormData.gst_details.igst='[SUBTOTAL]*0.0')),a.menuEditFormData.main_category_id||(a.menuEditFormData.main_category_id=a.menuEditFormData.itemCategroyId),a.menuEditFormData.category_id||(a.menuEditFormData.category_id=a.menuEditFormData.itemSubCatId),0===Object.keys(a.menuEditFormData.gst_details).length&&delete a.menuEditFormData.gst_details,a.menuEditFormData.seller_tier=d.globals.choosenOutlet.tier&&d.globals.choosenOutlet.tier.toUpperCase(),b.addNewMenuItem(a.menuEditFormData).success(function(b){return a.showMiniLoader=!1,a.uploadingData=!1,0===b.statusCode?void(a.menuItemForm.$setPristine(),a.menuItemForm.$setUntouched(),e(function(){f.location.href='/menu'},1e3)):void(a.itemSubmitError=b.statusMessage)}).error(function(){a.uploadingData=!1,a.showMiniLoader=!1,a.itemSubmitError=data.statusMessage});else if('re-submit'===g){var h={menuItemName:'name',menuItemType:'is_veg',itemPrice:'price',itemPackagePrice:'packing_charges',itemSubCatId:'category_id',itemDesc:'description',itemAddVarComment:'addons_and_variant_change_request',restId:'restId',itemPriceComment:'item_change_request',itemId:'itemId',markInStock:'markInStock',s3_image_url:'s3_image_url',itemCategroyId:'main_category_id'},i={};if(Object.keys(a.menuEditFormData).forEach(function(b){a.menuEditFormData[b]!=d.originalItemDataForEdit[b]&&h[b]&&(i[h[b]]=a.menuEditFormData[b])}),0===Object.keys(i).length)return void a.userToasterMessage('No change detected!!');i.item_Id=a.menuEditFormData.itemId,i.restaurantId=a.menuEditFormData.restId,i.main_category_id&&!i.category_id&&(i.category_id=a.menuEditFormData.itemSubCatId),i.gst_details={},d.originalEditFormData.cgst!==a.menuEditFormData.cgst&&(0===a.menuEditFormData.cgst?(i.gst_details.cgst='[SUBTOTAL]*0.0',i.gst_details.sgst='[SUBTOTAL]*0.0',i.gst_details.igst='[SUBTOTAL]*0.0'):(i.gst_details.cgst='[SUBTOTAL]*'+a.selectedGstPercentage/100/2,i.gst_details.sgst='[SUBTOTAL]*'+a.selectedGstPercentage/100/2,i.gst_details.igst='[SUBTOTAL]*0.0')),0===Object.keys(i.gst_details).length&&delete i.gst_details,i.seller_tier=d.globals.choosenOutlet.tier&&d.globals.choosenOutlet.tier.toUpperCase(),b.editMenuItem(i).success(function(b){return a.showMiniLoader=!1,a.uploadingData=!1,0==b.statusCode?void(a.menuItemForm.$setPristine(),a.menuItemForm.$setUntouched(),e(function(){f.location.href='/menu'},1e3)):void(a.itemSubmitError=b.statusMessage)}).error(function(){a.itemSubmitError=data?data.statusMessage:'Something went wrong, Please try again.'})}},a.uploadImage=function(c){var d={restId:a.currentRestId,itemid:a.menuEditFormData.itemId,file:c};b.addMenuItemImage(d).then(function(b){if(b=b.data,a.uploadingImage=!1,0!=b.statusCode)return a.itemSubmitError='Something went wrong while uploading image, Please try again.',a.uploadingImage=!0,a.uploadingData=!1,void(a.showMiniLoader=!1);var c=JSON.parse(b.data.body);if(!c.data)return a.itemSubmitError='Something went wrong while uploading image, Please try again.',a.uploadingImage=!0,a.uploadingData=!1,void(a.showMiniLoader=!1);var d=c.data.s3_url;return d?void(a.uploadData(d,h),a.uploadingData=!0):(a.itemSubmitError='Something went wrong while uploading image, Please try again.',a.uploadingImage=!0,a.uploadingData=!1,void(a.showMiniLoader=!1))},function(){return a.itemSubmitError='Something went wrong while uploading image, Please try again.',a.uploadingImage=!0,a.uploadingData=!1,void(a.showMiniLoader=!1)})},a.submitEditItemMenu=function(){if(d.restMenuTrack('item_edit_save_changes_alright_click',a.menuEditFormData.itemId,null,null,'restaurantMenu'),a.deleteFailed=!1,a.showMiniLoader=!0,a.menuEditFormData.itemCategory='',a.menuEditFormData.categoryID&&(a.menuEditFormData.main_category_id=a.menuEditFormData.categoryID),a.menuEditFormData.itemSubCatId&&(a.menuEditFormData.category_id=a.menuEditFormData.itemSubCatId),a.file&&a.file.size)a.uploadImage(a.file),a.uploadingImage=!0,a.uploadingData=!1;else{a.uploadData('',h),a.uploadingImage=!1,a.uploadingData=!0}},a.confirmDelete=function(b){a.deleteItemCallApi(b)},a.deleteItemCallApi=function(c){a.showMiniLoader=!0,a.deleteFailed=!1;var d={restId:a.currentRestId,itemId:c};b.deleteMenuItem(d).success(function(b){return a.showMiniLoader=!1,0===b.statusCode?void(a.editItemSuccess=!0,a.deleteFailed=!1):void(a.deleteFailed=!0)}).error(function(){a.showMiniLoader=!1,a.deleteFailed=!0})},a.cancelModal=function(){a.menuEditFormData.itemId?d.restMenuTrack('item_edit_save_changes_cancel_click',a.menuEditFormData.itemId,null,null,'restaurantMenu'):d.restMenuTrack('item_add_save_changes_cancel_click',a.menuEditFormData.itemId,null,null,'restaurantMenu')}}function CancelEditAddController(a,b,c,d,e){a.initiater=c,a.itemId=d,a.cancelEditAdd=function(){b.close(),a.itemId?e.restMenuTrack('item_edit_discard_changes_yes_click',a.itemId,null,null,'restaurantMenu'):e.restMenuTrack('item_add_discard_changes_yes_click',null,null,null,'restaurantMenu')},a.cancelModal=function(){b.dismiss('cancel'),a.itemId?e.restMenuTrack('item_edit_discard_changes_no_click',a.itemId,null,null,'restaurantMenu'):e.restMenuTrack('item_add_discard_changes_no_click',null,null,null,'restaurantMenu')}}
app.controller('MenuRevisionController',MenuRevisionController).controller('TicketDetailsController',TicketDetailsController).controller('CancelTicketController',CancelTicketController),MenuRevisionController.$inject=['$scope','HomeFactory','$timeout','$rootScope'],TicketDetailsController.$inject=['$scope','HomeFactory','$timeout','$rootScope','$uibModal'],CancelTicketController.$inject=['$scope','HomeFactory','$uibModalInstance','initiater','dataToSend'];function MenuRevisionController(a,b,c,d){a.initData=function(){a.searchQuery={searchField:'',selectFilter:''},a.itemTickets=[],a.placeHolderValue='Search Ticket with Item ID',a.isSearchEnabled=!1,a.backToRevison=!1,a.noTickets=!1,a.selectedSearch=''},a.initData(),a.historyPaginatedApi=function(b){a.isSearchEnabled=!0;var c={restaurantId:a.storeRestId,page:b-1,rowCount:10,count:1,pageinatedCall:!0,action:a.searchQuery.selectFilter,sortAsc:!1};a.$parent.initRevisionHistoryApi(c)};var e=d.$on('resetRevisionData',function(){a.initData()});a.$on('$destroy',function(){e()});var f=d.$on('initRevisionData',function(){a.isSearchEnabled=!1,a.noTickets=!1,a.itemTickets=a.revisionData.search_data,a.noTickets=!(0!=a.itemTickets.length),a.totalItems=a.revisionData.pageable.size,a.maxSize=3,a.bigCurrentPage=a.revisionData.pageable.page+1});a.$on('$destroy',function(){f()});var g=d.$on('revisionDataFailed',function(){a.isSearchEnabled=!1,a.noTickets=!0});a.$on('$destroy',function(){g()});var f=d.$on('initRevisionData',function(){a.isSearchEnabled=!1,a.itemTickets=a.revisionData.search_data,a.totalItems=a.revisionData.pageable.size,a.maxSize=3,a.bigCurrentPage=a.revisionData.pageable.page+1,a.noTickets=!(0!=a.itemTickets.length)});a.$on('$destroy',function(){f()}),a.initSearchApi=function(b){a.isSearchEnabled=!0;var c;c=''==b?{restaurantId:a.storeRestId,page:0,rowCount:10,count:1,sortAsc:!1}:{restaurantId:a.storeRestId,searchQuery:'',ticket_id:a.ticket_id,page:a.page,rows_per_page:a.rows_per_page,count:a.count,sortAsc:!1},1==b?c.searchQuery='APPROVED':2==b?c.searchQuery='APPROVED_WITH_EDITS':3==b?c.searchQuery='PENDING_SUBMISSION':4==b?c.searchQuery='PENDING_APPROVAL':5==b?c.searchQuery='REJECTED':6==b&&(c.searchQuery='CANCELLED'),a.selectedSearch=''===b?'All':c.searchQuery,a.initRevisionHistoryApi(c)},a.toasterMessagePop=function(b){a.$parent.toasterContent=b,a.$parent.toasterFlag=!0,c(function(){a.removeToaster()},8e3)},a.searchItemRevision=function(){a.initSearchApi(a.searchQuery.selectFilter)}}function TicketDetailsController(a,b,c,d,e){a.ticketDetails='',a.backToRevison=!1,a.backToMenu=!1,a.initiater='',a.initCancelTicket=function(b,c){a.cancelTicket(b,c)},a.cancelTicket=function(b,c){var d={ticketId:b,restId:a.storeRestId};$ctrl=this,$ctrl.initiater=c,$ctrl.dataToSend=d,a.addModaldData=function(){return{initiater:function(){return $ctrl.initiater},dataToSend:function(){return $ctrl.dataToSend}}},modalInstance=e.open({animation:$ctrl.animationsEnabled,templateUrl:'/app/menu/templates/v1/food-item-select-option.html',controller:'CancelTicketController',size:'md',backdrop:'static',animation:!1,keyboard:!1,resolve:a.addModaldData()}),modalInstance.result.then(function(b){a.getRestMenuList(a.currentRestId,b)})};var f=d.$on('initTicketViewSetting',function(b,c,d){var e=angular.copy(c);if(e.field_updated)for(var f=0;f<e.field_updated.length;f++){var g=e.field_updated[f],h=g.key;-1<['cgst','sgst','igst'].indexOf(h.toString())&&(g.newValue=100*parseFloat(g.newValue.replace('[SUBTOTAL]*',''))+'%',g.oldValue&&'null'!==g.oldValue&&(g.oldValue=100*parseFloat(g.oldValue.replace('[SUBTOTAL]*',''))+'%'),e.field_updated[f]=g)}a.ticketDetails=e,a.otherDetails=JSON.parse(a.ticketDetails.data),a.initiater=d,'menu-list'===a.initiater?(a.backToMenu=!0,a.backToRevison=!1):(a.backToRevison=!0,a.backToMenu=!1)});a.$on('$destroy',function(){f()}),a.toasterMessagePop=function(b){a.toasterContent=b,a.toasterFlag=!0,c(function(){a.removeToaster()},8e3)}}function CancelTicketController(a,b,c,d,e){a.initiater=d,a.dataToSend=e,a.showMiniLoader=!1,a.editItemSuccess=!1,a.itemSubmitError=!1,a.deleteFailed=!1,a.okay=function(){c.close(d)},a.cancelModal=function(){c.dismiss('cancel')},a.cancelTicketInit=function(){a.deleteFailed=!1,a.showMiniLoader=!0,b.cancelTicket(e).success(function(b){return a.showMiniLoader=!1,0==b.statusCode?void(a.editItemSuccess=!0):void(a.deleteFailed=!0)}).error(function(){a.showMiniLoader=!1,a.deleteFailed=!0})}}
app.controller('CarouselController',CarouselController),CarouselController.$inject=['$scope','HomeFactory','Upload','$rootScope','$timeout'];function CarouselController(a,b,c,d,e){a.disableFileUploadBtn=!0,a.imageNotValid=!1,a.toasterFlag=!1,a.fileNames=[],a.created_at='',a.imageError={imageSizeEr:!1,imageNotValid:!1};a.initCarselVar=function(){a.imageCatlgueData=[]},a.toasterMessagePop=function(b){$('html,body').stop().animate({scrollTop:0},450,'swing'),a.toasterContent=b,a.toasterFlag=!0,e(function(){a.removeToaster()},8e3)},a.removeToaster=function(){a.toasterFlag&&(a.toasterFlag=!1,a.toasterContent='')},a.confirmatDelete=function(a){a.confirmDeleteImage=!0},a.deleteImageRes=function(a,b){a.confirmDeleteImage=!!b},a.initCarselVar();var f=d.$on('initRevisionImage',function(b,c){a.replaceImages(c)});a.$on('$destroy',function(){f()}),a.replaceImages=function(b){a.imageCatlgueData=[];for(var c=0;c<b.length;c++)a.imageCatlgueData.push({imageSrc:b[c].s3_url,imageid:b[c].id,created_at:b[c].created_at});if(b.length){var d=b.length;a.created_at=b[d-1].created_at}},a.deleteCatlgeImage=function(c){a.$parent.initMenuCatalogueLoader=!0,a.currentRestId||(a.currentRestId=a.storeRestId);var d={imageId:c,restId:a.currentRestId};b.deleteCatlgeImageApi(d).success(function(b){return a.$parent.initMenuCatalogueLoader=!1,0==b.statusCode?void a.menuCatalogueApi():void a.toasterMessagePop('Sorry, Something went wrong, Please try again.')}).error(function(){a.toasterMessagePop('Sorry, Something went wrong, Please try again.'),a.$parent.initMenuCatalogueLoader=!1})},a.clearImage=function(){a.catLogImage=void 0,catLogImage=void 0,a.fileNames=[],a.imageError={imageSizeEr:!1,imageNotValid:!1}},a.selectedFile=function(b){if(!(a.catlogImagesForm.$error.maxFiles&&a.catlogImagesForm.$error.maxFiles.length)&&(a.imageError.imageNotValid=!1,a.catlogImagesForm.$error.pattern&&a.catlogImagesForm.$error.pattern.length&&(a.imageError.imageNotValid=!0),a.fileNames=[],b&&b.length))for(var c=0;c<b.length;c++)a.fileNames.push(b[c].name)},a.submitCatImages=function(){if(a.disableFileUploadBtn=!0,a.uploadCatImages=function(c){a.$parent.initMenuCatalogueLoader=!0,a.currentRestId||(a.currentRestId=a.storeRestId);var d={files:c,restaurantId:a.currentRestId};c&&c.length?b.uploadCatalogueImages(d).then(function(b){var c=b.data;return a.$parent.initMenuCatalogueLoader=!1,0==c.statusCode?void(a.catLogImage='',a.clearImage(),a.menuCatalogueApi()):void a.toasterMessagePop(c.statusMessage)},function(){a.disableFileUploadBtn=!1,a.$parent.initMenuCatalogueLoader=!1,a.toasterMessagePop('Sorry, Something went wrong, Please try again.')}):(a.disableFileUploadBtn=!0,a.toasterMessagePop('Sorry, Something went wrong, Please try again.'))},a.catLogImage&&a.catLogImage.length){if(a.catlogImagesForm.$error.pattern&&a.catlogImagesForm.$error.pattern.length)return a.imageError.imageNotValid=!0,void a.clearImage();a.uploadCatImages(a.catLogImage)}else a.clearImage(),a.disableFileUploadBtn=!1}}
app.factory('menuRevisionService',['$q','$http','$httpParamSerializer','Upload','$rootScope',function(a,b,c,d,e){return{getTickets:function(d,e,f,g){var h=a.defer(),i={count:g?g:5,page:e,restaurantId:d,rowCount:g?g:5,sortAsc:!1,searchQuery:f},j='/items/v1/revisionHistoy/?'+c(i);return b({url:j,method:'GET',config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?h.resolve(b.data):h.reject()},function(){h.reject()}),h.promise},getDetailedTickets:function(d,e){var f=a.defer();return a.all(e.map(function(e){var f=a.defer();if(!e.isShown){e.isShown=!0;var g={restaurantId:d,ticketId:e.id},h='/items/v1/itemTicket/?'+c(g);b({url:h,method:'GET',config:{silent:!0}}).then(function(a){var b=a.data;if(e.fields=[],b&&0===b.statusCode){var c=b.data;try{var d=JSON.parse(c.data);e.is_veg=1===d.is_veg}catch(a){console.warn('error parsing itemDetailsData ',a)}if(c.field_updated){var g=[];c.field_updated.map(function(a){g.push(a.key)}),e.fields=g}e.fields=e.fields.join(','),f.resolve()}else f.resolve()},function(){f.resolve()})}else f.resolve();return f.promise})).then(function(){f.resolve()},function(){f.resolve()}),f.promise},uploadProofs:function(b,c){var f=a.defer();return d.upload({url:'/items/v1/uploadCatlogImages/',data:{file:c,restaurantId:b}}).then(function(a){var b=a.data;0===b.statusCode?f.resolve():f.reject()},function(){f.reject()},function(a){var b=parseInt(100*a.loaded/a.total);e.$broadcast('menuRevisionProofUploadProgress',b)}),f.promise},submitTickets:function(c,d,e,f,g){for(var h=a.defer(),f=f&&f.toUpperCase(),i=0;i<e.length;i++)e[i].isChecked=!0;var j={globalPhone:c,metadata:{phone_numbers:c.join(',')},restaurantId:d,ticketIds:e,restaurantTier:f,imageUrls:g};return b({url:'/items/v1/submitPendingTickets/',method:'POST',data:j,config:{silent:!0}}).then(function(a){var b=a.data;0===b.statusCode?h.resolve(b.data):h.reject()},function(){h.reject()}),h.promise},getPreSignedUrlToS3:function(c){var d=a.defer();return b({url:'/items/v1/getPreSignedUrlToS3/',method:'POST',data:{fileName:c},config:{silent:!0}}).then(function(a){d.resolve(a.data)},function(a){console.log(a),d.reject('something went wrong while generating s3 signed url')}),d.promise}}}]);
app.directive('menuRevisionDirective',['$rootScope','menuRevisionService','Upload','$timeout','$window','popupService','$cookies','HomeFactory',function(a,b,c,d,e,f,g,h){return{templateUrl:'/app/self-serve-menu/templates/menu-revision-stats.tpl.html',link:function(c){var e=Math.ceil;c.menuRevisionTicketsSubmitted=!1,angular.element(document).scroll(function(){a.selfServeMenu={},a.selfServeMenu.scrollTop=angular.element(document).scrollTop()}),a.$on('MenuRevisionTicketsSubmitted',function(){c.menuRevisionTicketsSubmitted=!0,c.revisions.pending.isOpen=!1,c.dismissAlert(),d(function(){angular.element('.revision-stats__pending__submitted').find('.checkmark').show()},1e3),c.revisions.submitted.tickets=[],c.revisions.submitted.numTickets=0,c.revisions.submitted.totalPages=1,c.revisions.submitted.currentPage=0,c.getTickets('submitted')}),angular.element('.revision-stats').mCustomScrollbar({axis:'y',autoHideScrollbar:!0,live:!0}),angular.element('.revision-stats__panel-inner').mCustomScrollbar({axis:'y',autoHideScrollbar:!0,live:!0}),angular.element('.menu-uploaded-images').mCustomScrollbar({axis:'y',autoHideScrollbar:!0,live:!0}),c.revisions={},c.revisions.pending={},c.revisions.pending.tickets=[],c.revisions.pending.numTickets=0,c.revisions.pending.totalPages=1,c.revisions.pending.currentPage=0,c.revisions.pending.current=[],c.revisions.pending.allTickets=[],c.revisions.pending.offset=0,c.revisions.pending.proofs=[],c.revisions.pending.proofUploadProgress=!1,c.revisions.pending.proofUploadPercentage=0,c.revisions.pending.canBeSubmitted=!1,c.revisions.pending.isOpen=!0,c.revisions.pending.alert=!1,c.revisions.pending.allDelete=!1,c.revisions.submitted={},c.revisions.submitted.tickets=[],c.revisions.submitted.numTickets=0,c.revisions.submitted.totalPages=1,c.revisions.submitted.currentPage=0,c.revisions.submitted.current=[],c.revisions.resolved={},c.revisions.resolved.tickets=[],c.revisions.resolved.numTickets=0,c.revisions.resolved.totalPages=1,c.revisions.resolved.currentPage=0,c.revisions.resolved.current=[],c.postInstrumentationData=function(b,c){a.appTrack({event:b,data:c})},c.guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+'-'+a()+'-'+a()+'-'+a()+'-'+a()+a()+a()};var j=a.globals.choosenOutlet,i=angular.element('#revision-stats__accordion');i.on('show.bs.collapse','#revision-stats__pending',function(){c.revisions.pending.isOpen=!0}),i.on('hide.bs.collapse','#revision-stats__pending',function(){c.revisions.pending.isOpen=!1}),i.on('show.bs.collapse','#revision-stats__submitted',function(){angular.element('#revision-stats__pending').collapse('hide')}),i.on('show.bs.collapse','#revision-stats__resolved',function(){angular.element('#revision-stats__pending').collapse('hide')}),c.dismissAlert=function(){c.revisions.pending.alert=!1,g.put('hide_pending_tickets_alert',!0,{path:'/'})},c.getTickets=function(a){if(!0!==c.revisions[a].fetchTicketsProgress){var d,f,h=5;switch(a){case'pending':if(0<c.revisions.pending.numTickets){var i=c.revisions.pending.offset+5,k=c.revisions.pending.allTickets.slice(i,i+5);return c.revisions.pending.tickets=c.revisions.pending.tickets.concat(k),c.revisions.pending.current=k,c.revisions.pending.offset=i,void c.getTicketDetails(c.revisions.pending.current,'pending')}d='PENDING_SUBMISSION',f=c.revisions.pending.currentPage,h=500;break;case'submitted':d='PENDING_APPROVAL',f=c.revisions.submitted.currentPage;break;case'resolved':d='APPROVED,REJECTED,APPROVED_WITH_EDITS',f=c.revisions.resolved.currentPage;}c.revisions[a].fetchTicketsProgress=!0,b.getTickets(j.rest_rid,f,d,h).then(function(b){switch(a){case'pending':c.revisions.pending.totalPages=e(b.pageable.size/5),c.revisions.pending.numTickets=b.pageable.size,c.revisions.pending.allTickets=b.search_data;var d=c.revisions.pending.allTickets.slice(0,5);c.revisions.pending.tickets=d,c.revisions.pending.current=d;for(var h,i=!0,j=0;j<c.revisions.pending.allTickets.length;j++){h=c.revisions.pending.allTickets[j];try{var k=JSON.parse(h.data);if(!0===k.active){i=!1;break}}catch(a){console.warn('error parsing ticket data: ',a),i=!1;break}}!0==i&&(c.revisions.pending.canBeSubmitted=!0,c.revisions.pending.allDelete=!0),0<c.revisions.pending.tickets.length&&!g.get('hide_pending_tickets_alert')&&(c.revisions.pending.alert=!0),c.getTicketDetails(c.revisions.pending.current,'pending');break;case'submitted':c.revisions.submitted.totalPages=e(b.pageable.size/5),c.revisions.submitted.numTickets=b.pageable.size,c.revisions.submitted.tickets=c.revisions.submitted.tickets.concat(b.search_data),c.revisions.submitted.current=b.search_data,0<f&&c.getTicketDetails(c.revisions.submitted.current,'submitted');break;case'resolved':c.revisions.resolved.totalPages=e(b.pageable.size/5),c.revisions.resolved.numTickets=b.pageable.size,c.revisions.resolved.tickets=c.revisions.resolved.tickets.concat(b.search_data),c.revisions.resolved.current=b.search_data,0<f&&c.getTicketDetails(c.revisions.resolved.current,'resolved');}c.revisions[a].fetchTicketsProgress=!1},function(){c.revisions[a].fetchTicketsProgress=!1})}},c.checkIsMenuImagesLoading=function(){c.isMenuImagesLoading=!1,c.revisions.pending.proofs.map(function(a){!0==a.isUploading&&(c.isMenuImagesLoading=!0)})},c.uploadFileToS3=function(g,h){c.isMenuImagesLoading=!0;var i=c.guid(),j=new Date().getTime();b.getPreSignedUrlToS3(i).then(function(b){var k=b.url,l=new XMLHttpRequest;l.open('PUT',k,!0),l.setRequestHeader('Content-Type','image/*'),l.upload.onprogress=function(a){var b=100*(a.loaded/a.total);timeout=d(function(){100==e(b)&&(c.revisions.pending.proofs[h].isUploading=!1,c.checkIsMenuImagesLoading()),c.revisions.pending.proofs[h].percentUploaded=e(b)},500)},l.onreadystatechange=function(){if(this.readyState==XMLHttpRequest.DONE&&200==this.status){console.warn('image successfully uploaded on amazon s3...',i),c.revisions.pending.proofs[h].url='https://s3-ap-southeast-1.amazonaws.com/vms-s3-prod-bucket/self-serve-menu-test/'+i;var b={restaurantId:a.globals.choosenOutlet.rest_rid,fileName:g.name,fileType:g.type,uuid:i,size:e(g.size/1024),unitSize:'KB',time:new Date().getTime()-j,unitTime:'milliseconds',uploadedAt:new Date+''};c.postInstrumentationData('self_serve_menu_upload_success',b)}else if(this.readyState==XMLHttpRequest.DONE&&200!=this.status){c.revisions.pending.proofs[h].isFailed=!0,c.revisions.pending.proofs[h].isUploading=!1,c.checkIsMenuImagesLoading(),f.showToast('error','Oops, something went wrong','Could not upload image. Please try again.');var b={restaurantId:a.globals.choosenOutlet.rest_rid,fileName:g.name,fileType:g.type,uuid:i,size:e(g.size/1024),unitSize:'KB',errorMsg:'failed to upload to s3 url',time:new Date().getTime()-j,unitTime:'milliseconds',uploadedAt:new Date+''};console.warn('non-200 status for PUT: ',b),c.postInstrumentationData('self_serve_menu_upload_error',b)}},l.send(g)}).catch(function(b){console.warn(b),c.revisions.pending.proofs[h].isFailed=!0,c.revisions.pending.proofs[h].isUploading=!1,c.checkIsMenuImagesLoading(),console.log(c.revisions.pending.proofs);var d={restaurantId:a.globals.choosenOutlet.rest_rid,fileName:g.name,fileType:g.type,uuid:i,size:e(g.size/1024),unitSize:'KB',errorMsg:'failed to generate s3 url',time:new Date().getTime()-j,unitTime:'milliseconds',uploadedAt:new Date+''};c.postInstrumentationData('self_serve_menu_upload_error',d)})},c.selectFile=function(b){if(a.restMenuTrack('upload_menu_click',null,null,null,'restaurantMenu'),b)if(!1===c.revisions.pending.canBeSubmitted&&(c.revisions.pending.canBeSubmitted=!0),c.revisions.pending.proofs&&10>c.revisions.pending.proofs.length){var d=c.revisions.pending.proofs.length;c.revisions.pending.proofs.push({index:d,file:b,isUploading:!0,percentUploaded:0,url:''}),c.uploadFileToS3(b,d),c.showFileErrorMsg=!1}else c.showFileErrorMsg=!0},c.removeFile=function(a){var b=a.index;c.showFileErrorMsg=!1;for(var d=-1,e=0;e<c.revisions.pending.proofs.length;e++)c.revisions.pending.proofs[e].index==b&&(d=e);-1<d&&c.revisions.pending.proofs.splice(d,1),0===c.revisions.pending.proofs.length&&(c.revisions.pending.canBeSubmitted=!1)},c.previewProof=function(a){c.preview=null;var b=new FileReader;b.onload=function(a){c.$apply(function(){if(-1===a.target.result.toString().indexOf('data:application/pdf')){c.preview=a.target.result;var b='<img class="img-responsive" src="'+c.preview+'" />';f.showAlert('',b,{customClass:'revision-stats__proof-preview',showConfirmButton:!1,showCancelButton:!1,showCloseButton:!0,allowOutsideClick:!1})}})},b.readAsDataURL(a.file)},c.$on('menuRevisionProofUploadProgress',function(a,b){c.revisions.pending.proofUploadPercentage=b}),c.submitTickets=function(){c.submitAllPendingTickets()},c.preventDoubleClick=function(a){return a&&a.preventDefault(),!1},c.trackTicketClick=function(b,c){a.restMenuTrack('ticket_view_click',b,c,null,'restaurantMenu')},c.getTicketDetails=function(d,e){var f='';'submitted'===e?f='pending':'pending'===e?f='awaiting-submission':'resolved'===e?f='resolved':void 0;a.restMenuTrack('menu_revision_tabs_click',f,null,null,'restaurantMenu');!0===c.revisions[e].fetchTicketDetailsProgress||0<d.length&&(c.revisions[e].fetchTicketDetailsProgress=!0,b.getDetailedTickets(j.rest_rid,d).then(function(){c.revisions[e].fetchTicketDetailsProgress=!1},function(){c.revisions[e].fetchTicketDetailsProgress=!1}))},c.viewMoreTickets=function(a){'pending'===a?(c.revisions.pending.currentPage++,c.getTickets('pending')):'submitted'===a?(c.revisions.submitted.currentPage++,c.getTickets('submitted')):'resolved'===a?(c.revisions.resolved.currentPage++,c.getTickets('resolved')):void 0},c.submitAllPendingTickets=function(){var d=c.revisions.pending.canBeSubmitted;c.revisions.pending.canBeSubmitted=!1,h.fetchUserInfo().then(function(e){var g=a.globals.choosenOutlet&&a.globals.choosenOutlet.rest_rid,h=e.data.outlets||[],k='';if(h.forEach(function(a){a.rest_rid==g&&(console.log('setting_seller_tier'),console.log(a),k=a.tier)}),k=k&&k.toUpperCase(),console.log('seller_tier:::: '+k),c.newTicketids instanceof Array){var l;try{l=c.newTicketids&&c.newTicketids.map(function(a){return a.id}),l=l.join(',')}catch(a){console.warn('error joining ticketIds: ',a),l=''}a.restMenuTrack('revision_submit_for_approval_click',l,null,null,'restaurantMenu');for(var m,n=[],o=0;o<c.revisions.pending.proofs.length;o++)m=c.revisions.pending.proofs[o].url,m&&n.push(m);b.submitTickets(c.globalMenuRestListData.contactphone,j.rest_rid,c.newTicketids,k,n).then(function(){a.$emit('MenuRevisionTicketsSubmitted')},function(){c.revisions.pending.canBeSubmitted=d,f.showToast('error','Oops, something went wrong','Could not submit tickets. Please try again.')})}},function(a){console.log(a),c.revisions.pending.canBeSubmitted=d})},c.getTickets('pending'),c.getTickets('submitted'),c.getTickets('resolved')}}}]);
var swiggyWebInterface;function fnCallFromWebViewProfile(){var a=angular.element($('#outer')).scope();a.$apply(function(){a.hideUserProfileMenu?document.getElementById('profileModel')?document.querySelectorAll('[modal-render]')[0].remove():(a.profileActive=!1,a.profileTiming=!1,a.profileFinance=!1,a.profileUsers=!1,a.hideUserProfileMenu=!1,swiggyWebInterface.onBackPress(!0),a.compliance?swiggyWebInterface.updateActionBarTitle('Compliance'):swiggyWebInterface.updateActionBarTitle('Restaurant Info'),swiggyWebInterface.isHomePage(!0)):(swiggyWebInterface.onBackPress(!1),swiggyWebInterface.isHomePage(!0))})}app.controller('ProfileController',ProfileController).controller('InviteUserCtrl',InviteUserCtrl).controller('EditUserCtrl',EditUserCtrl).directive('profilePageTable',function(){return{restrict:'E',templateUrl:'/app/restaurant-info/templates/v1/profile-page-table.html'}}).directive('userProfileMenu',function(){return{restrict:'E',templateUrl:'/app/restaurant-info/templates/v1/user-profile-menu.html'}}).directive('userFinanceTab',function(){return{restrict:'E',templateUrl:'/app/restaurant-info/templates/v1/user-finance-tab.html'}}).directive('userProfileTab',function(){return{restrict:'E',templateUrl:'/app/restaurant-info/templates/v1/user-profile-tab.html'}}).directive('userListTab',function(){return{restrict:'E',templateUrl:'/app/restaurant-info/templates/v1/user-list-tab.html'}}).directive('complianceMenu',function(){return{restrict:'E',templateUrl:'/app/compliance/templates/v1/compliance-menu.html'}}).directive('restaurantInfoFssaiTab',function(){return{restrict:'E',templateUrl:'/app/restaurant-info/templates/v1/restaurant-info-fssai.tpl.html'}}).directive('restaurantInfoGst',function(){return{restrict:'E',templateUrl:'/app/restaurant-info/templates/v1/restaurant-info-gst.html'}}).directive('profileModalAccordian',function(){return{link:function(a,b){b.bind('click',function(){b.parent().hasClass('profile-acc-active')?b.parent().removeClass('profile-acc-active'):b.parent().addClass('profile-acc-active')})}}}).factory('userContrlFactory',function(){return{initCommonVariables:function(){userModalContents=[{0:!0,success:!1,screenName:'user role'},{1:!1,success:!1,screenName:'choose rest'},{2:!1,success:!1,screenName:'summary'}]},isRestPermitted:function(a,b,c){for(var d=!1,e=0;e<c.length;e++)c[e].rest_rid==a&&(d=!0,c[e].city=b);return d},syncCheckboxValue:function(a,b,c,d){if(a)b.city_name=c,b.isChecked=!0,d.push(b);else{b.isChecked=!1;for(var e=0;e<d.length;e++)d[e].rest_id&&(d[e].rest_rid=d[e].rest_id),d[e].rest_rid==b.rest_rid&&d.splice(e,1)}},isFeatureOptionChecked:function(a){return isFeatureOptionChecked=!!a.find(findMatch),inviteUser.featureListChecked=!!isFeatureOptionChecked,inviteUser.featureListChecked},goToNextModalContent:function(a){for(var b=0;b<a.length;b++)if(a[b][b])if(a[b][b]=!1,a.length===b);else return a[b].success=!0,b++,void(a[b][b]=!0)},userModalNavigateToPreviuosContent:function(a){for(var b=a.length-1;0<=b;b--)if(a[b][b])if(a[b][b]=!1,0===b);else return b--,void(a[b][b]=!0)}}}),ProfileController.$inject=['$scope','HomeFactory','$cookies','$uibModal','$timeout','$cacheFactory','fssaiFactory','$rootScope','gstFactory'],InviteUserCtrl.$inject=['$scope','HomeFactory','$uibModalInstance','modalRestDetails','userContrlFactory','$cookies','notWebView'],EditUserCtrl.$inject=['$scope','HomeFactory','$cookies','$uibModalInstance','userDetails','modalRestDetails','userContrlFactory','existingUserList','isSingleUser','isLoggedInUser','notWebView'];function InviteUserCtrl(a,b,c,d,e,g,h){function i(a){if(!0===a.isChecked)return!0}a.inviteUser={},a.showWarning=!1,a.modalChooseOutlet=!1,a.showWrongEmail=!1,a.finalSubmitError='',a.notWebView=h,a.emailFormat=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,!a.notWebView&&swiggyWebInterface&&(swiggyWebInterface.updateActionBarTitle('Invite User'),swiggyWebInterface.isHomePage(!1)),a.userProfileInformation=_.deepClone(d),a.userModalContents=[{0:!0,success:!1,screenName:'User Information & Feature Permission'},{1:!1,success:!1,screenName:'Restaurant Outlet Permission'},{2:!1,success:!1,screenName:'Summary'}],a.featuresList=[{featureName:'Order Taking',isChecked:!1,id:'1',description:'Accept, Edit & Cancel Orders. See order history'},{featureName:'Catalogue Management',isChecked:!1,id:'2',description:'Make item out of stock, List Menu'},{featureName:'User Management',isChecked:!1,id:'3',description:'Create logins & permissions for staffs'},{featureName:'Business Metrics',isChecked:!1,id:'4',description:'Analyze reports & metrics of your business'},{featureName:'My Discounts',isChecked:!1,id:'5',description:'Help\'s to create trade discount'}],a.selectOptionChange=function(b){a.featuresList[0].isChecked=!1,a.featuresList[1].isChecked=!1,a.featuresList[2].isChecked=!1,a.featuresList[3].isChecked=!1,a.featuresList[4].isChecked=!1,'1'===b?(a.featuresList[0].isChecked=!0,a.featuresList[1].isChecked=!0,a.featuresList[2].isChecked=!0,a.featuresList[3].isChecked=!0,a.featuresList[4].isChecked=!0):('2'===b||'3'===b)&&(a.featuresList[0].isChecked=!0,a.featuresList[1].isChecked=!0)},a.chooseRole=[{role:'Owner',id:'1'},{role:'Restaurant Manager',id:'2'},{role:'Order Manager',id:'3'}],a.userRolePermittedRestData=[],a.inviteUser={role_id:'',mobile_no:'',email:'',name:null,permissions:a.featuresList,restaurants:a.userRolePermittedRestData,featureListChecked:!0,is_primary:!1,is_editable:!0,is_active:!0,registration_complete:!1,restPermittedCount:[],isEditModal:!1},a.syncCheckboxValue=function(b,c,d){e.syncCheckboxValue(b,c,d,a.userRolePermittedRestData),a.dataNotFound=!0,a.dataNotFound&&0==a.userRolePermittedRestData&&(a.inviteUser.restPermittedCount=[])};a.userModalNavigateToPreviuosContent=function(){a.finalSubmitError='',a.showWarningMessage=!1,a.showWrongEmail=!1,a.showMobileMessage=!1,e.userModalNavigateToPreviuosContent(a.userModalContents)},a.closeModal=function(){c.close('cancel')},a.userModalNavigateToNextContent=function(){a.goToNextModalContent=function(){e.goToNextModalContent(a.userModalContents)},a.initiateSlideProcess=function(){if(a.showWarningMessage=!1,a.showWrongEmail=!1,a.showMobileMessage=!1,!a.userModalContents[0][0])a.userModalContents[1][1]&&(0==a.userRolePermittedRestData.length?a.modalChooseOutlet=!0:(a.modalChooseOutlet=!1,a.goToNextModalContent()));else if(a.isFeatureOptionChecked=!!_.find(a.featuresList,i),a.inviteUserForm.$valid&&a.isFeatureOptionChecked)a.showWarningMessage=!1,a.showWrongEmail=!1,a.showMobileMessage=!1,a.goToNextModalContent(a.userModalContents);else{if(a.requiredValue=a.inviteUserForm.$error.required,a.invalidInput=a.inviteUserForm.$error.pattern,a.requiredValue)return void(a.showWarningMessage=!0);if(a.invalidInput){a.showWarningMessage=!1;for(var b=0;b<a.invalidInput.length;b++)if('mobile_no'===a.invalidInput[b].$name)return void(a.showMobileMessage=!0)}if(void 0==a.inviteUserForm.$error.email)return a.showWrongEmail=!0,void(a.showWarningMessage=!1);if(a.inviteUserForm.$error.email.length)return a.showWrongEmail=!0,void(a.showWarningMessage=!1)}},a.initiateSlideProcess()},a.addNewUser=function(){a.disableActions=!0;''==a.inviteUser.email&&(a.inviteUser.email=null),a.data=_.deepClone(a.inviteUser),a.data.permissions=function(a){return _.reject(a,function(a){if(!a.isChecked)return a})}(a.data.permissions),a.data.permissions=_.pluck(a.data.permissions,'id'),a.data.restaurants=_.pluck(a.data.restaurants,'rid'),!a.notWebView&&swiggyWebInterface&&(a.data.accessToken=g.get('accessToken')),b.submitUserdata(a.data).success(function(b){if(a.disableActions=!1,0!=b.statusCode)return void(a.finalSubmitError=b.statusMessage);a.inviteUser.userRoleStatus='pending';var d=[a.inviteUser,'success'];c.close(d),!a.notWebView&&swiggyWebInterface&&(swiggyWebInterface.userInviteUpdateMesssage('User '+a.data.mobile_no+' Invited Successfully'),swiggyWebInterface.isHomePage(!0))}).error(function(b){a.disableActions=!1,a.finalSubmitError=b.statusMessage})}}function EditUserCtrl(a,b,c,d,g,h,i,k,l,m,n){function o(a){if(!0===a.isChecked)return!0}a.userDetails_old=_.deepClone(g),a.isLoggedInUser=m,a.inviteUser={},a.showWarning=!1,a.modalChooseOutlet=!1,a.showWrongEmail=!1,a.notWebView=n,a.userProfileInformation=_.deepClone(h),a.finalSubmitError='',a.emailFormat=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,a.disablePhone=!0,a.isSingleUser=l,a.disableActions=!1,!a.notWebView&&swiggyWebInterface&&(swiggyWebInterface.updateActionBarTitle('Edit User'),swiggyWebInterface.isHomePage(!1)),a.userModalContents=[{0:!0,success:!0,screenName:'User Information & Feature Permission'},{1:!1,success:!0,screenName:'Restaurant Outlet Permission'},{2:!1,success:!0,screenName:'Summary'}],a.featuresList=[{featureName:'Order Taking',isChecked:!1,id:'1',description:'Accept, Edit & Cancel Orders. See order history'},{featureName:'Catalogue Management',isChecked:!1,id:'2',description:'Make item out of stock, List Menu'},{featureName:'User Management',isChecked:!1,id:'3',description:'Create logins & permissions for staffs'},{featureName:'Business Metrics',isChecked:!1,id:'4',description:'Analyze reports & metrics of your business'},{featureName:'My Discounts',isChecked:!1,id:'5',description:'Help\'s to create trade discount'}],a.selectOptionChange=function(b){a.featuresList[0].isChecked=!1,a.featuresList[1].isChecked=!1,a.featuresList[2].isChecked=!1,a.featuresList[3].isChecked=!1,a.featuresList[4].isChecked=!1,'1'===b?(a.featuresList[0].isChecked=!0,a.featuresList[1].isChecked=!0,a.featuresList[2].isChecked=!0,a.featuresList[3].isChecked=!0,a.featuresList[4].isChecked=!0):('2'===b||'3'===b)&&(a.featuresList[0].isChecked=!0,a.featuresList[1].isChecked=!0)};for(var p=0;p<g.permissions.length;p++)for(var q=0;q<a.featuresList.length;q++)g.permissions[p].hasOwnProperty('isChecked')?g.permissions[p].isChecked&&a.featuresList[q].id.toString()===g.permissions[p].id.toString()&&(a.featuresList[q].isChecked=!0):a.featuresList[q].id.toString()===g.permissions[p].id.toString()&&(a.featuresList[q].isChecked=!0);a.chooseRole=[{role:'Owner',id:'1'},{role:'Restaurant Manager',id:'2'},{role:'Order Manager',id:'3'}],'string'!=typeof g.role_id&&(g.role_id=g.role_id.toString());for(var e=0;e<g.restaurants;e++)g.restaurants[e]=g.restaurants[e].toString();for(var q in a.userProfileInformation)for(var j=0;j<a.userProfileInformation[q].length;j++)for(var r=0;r<g.restaurants.length;r++)g.restaurants[r].rest_id||(g.restaurants[r].rest_id=g.restaurants[r].rest_rid),a.userProfileInformation[q][j].rest_rid===g.restaurants[r].rest_id&&(a.userProfileInformation[q][j].isChecked=!0);a.inviteUser={role_id:g.role_id,mobile_no:g.mobile_no,email:g.email,name:g.name,permissions:a.featuresList,restaurants:g.restaurants,featureListChecked:!0,old_role_id:a.userDetails_old.role_id,old_email:a.userDetails_old.email,old_permissions:a.userDetails_old.permissions,old_restaurants:a.userDetails_old.restaurants,isEditModal:!0},a.syncCheckboxValue=function(a,b,c){i.syncCheckboxValue(a,b,c,g.restaurants)};a.userModalNavigateToPreviuosContent=function(){a.finalSubmitError='',a.showWarningMessage=!1,a.showWrongEmail=!1,a.showMobileMessage=!1,i.userModalNavigateToPreviuosContent(a.userModalContents)},a.closeModal=function(){d.close('cancel')},a.userModalNavigateToNextContent=function(){a.goToNextModalContent=function(){i.goToNextModalContent(a.userModalContents)},a.initiateSlideProcess=function(){if(!a.userModalContents[0][0])a.userModalContents[1][1]&&(0==g.restaurants.length?a.modalChooseOutlet=!0:(a.modalChooseOutlet=!1,a.goToNextModalContent(a.userModalContents)));else if(a.isFeatureOptionChecked=!!_.find(a.featuresList,o),a.inviteUserForm.$valid&&a.isFeatureOptionChecked)a.showWarningMessage=!1,a.showWrongEmail=!1,a.goToNextModalContent(a.userModalContents);else{if(void 0==a.inviteUserForm.$error.email)return a.showWrongEmail=!0,void(a.showWarningMessage=!1);if(a.inviteUserForm.$error.email.length)return a.showWrongEmail=!0,void(a.showWarningMessage=!1)}},a.initiateSlideProcess(),a.addNewUser=function(){''==a.inviteUser.email&&(a.inviteUser.email=null),a.data=_.deepClone(a.inviteUser),a.data.restaurants=[],a.data.old_restaurants=[],a.disableActions=!0;for(var e=0;e<a.inviteUser.restaurants.length;e++)a.inviteUser.restaurants[e].rest_rid?a.data.restaurants.push(a.inviteUser.restaurants[e].rest_rid):a.data.restaurants.push(a.inviteUser.restaurants[e].rest_id);for(var e=0;e<a.inviteUser.old_restaurants.length;e++)a.inviteUser.old_restaurants[e].rest_rid?a.data.old_restaurants.push(a.inviteUser.old_restaurants[e].rest_rid):a.data.old_restaurants.push(a.inviteUser.old_restaurants[e].rest_id);a.data.permissions=function(a){return _.reject(a,function(a){if(!a.isChecked)return a})}(a.data.permissions),a.data.permissions=_.pluck(a.data.permissions,'id'),a.data.old_permissions=_.pluck(a.data.old_permissions,'id'),!a.notWebView&&swiggyWebInterface&&(a.data.accessToken=c.get('accessToken')),b.submitEditedUserdata(a.data).success(function(b){if(a.disableActions=!1,0!=b.statusCode)return void(a.finalSubmitError=b.statusMessage);a.inviteUser.userRoleStatus='pending';var c=[a.inviteUser,'success'];d.close(c),!a.notWebView&&swiggyWebInterface&&(swiggyWebInterface.userInviteUpdateMesssage('User '+a.data.mobile_no+' Edited Successfully'),swiggyWebInterface.isHomePage(!0))}).error(function(b){a.disableActions=!1,a.finalSubmitError=b.statusMessage})}}}function ProfileController(a,b,c,d,e,g,h,i,j){if(a.profileTrack=function(a,b,c,d,e){i.appTrack({event:a,data:{eventType:'click',"object-name":a,"screen-name":'profile-page',"object-value":b,field1:e,context:d,"object-position":c}})},a.selectedRest_cityName_profile=c.get('cityName')?c.get('cityName'):'',c.get('selectedRest_restDetails_profile')&&(a.selectedRest_restDetails_profile=JSON.parse(c.get('selectedRest_restDetails_profile'))),a.initProfileVariables=function(){a.profileTabName='',a.RestObject='',a.cityName='',a.existingUsers=[],a.loadingUserList=!1,a.disableActions=!1,a.finalSubmitError='',a.disablePhone=!1,a.userListFailed=!1,a.disableEditBtn=!1,a.toasterFlagProfile=!1,a.disableEditUserStatus=!1,a.hideUserProfileMenu=!1,a.user_type='partner',!a.notWebView&&swiggyWebInterface&&(swiggyWebInterface.pageLoaded(),swiggyWebInterface.isHomePage(!0)),a.allowedUserMgmt=!1;var b=localStorage.getItem('Swiggy_perms');b&&b.length&&(a.allowedUserMgmt=0<=b.indexOf(3)),a.notWebView&&(a.user_type=i.getUserType())},a._fssai={},a.fssaiLoadProgress=!1,a.currentDate=moment(moment().format('YYYY-MM-DD')).unix(),a.expiryDate=moment().unix(),!a.notWebView){a.showFssaiTab=!1;var k=c.get('Swiggy_App-version');k&&(a.showFssaiTab=!0)}a.getCopyForFssaiStatus=function(a){return'none'===a?'FSSAI/Acknowledgement Missing':'expired'===a?'FSSAI Expired':'expiring'===a?'FSSAI Expiring':'pending'===a?'FSSAI Pending':'ackUploaded'===a?'Present':'ok'===a?'Present':'No Status'},a._getFssaiDetails=function(b){var c=a.selectedRest_restDetails_profile,d=c.rid;a.$on('fssai-details-added',function(){var b=g.get('restaurantInfo')||g('restaurantInfo'),c=b.get('fssai_'+d);e(function(){a.$apply(function(){a._fssai=JSON.parse(c),a.expiryDate=moment(a._fssai.fssai_licence_validity,'YYYY-MM-DD').unix()})},0)}),a.$on('acknowledge-details-added',function(){});var j=g.get('restaurantInfo')||g('restaurantInfo'),k='fssai_'+d,l=j.get(k);l?(a._fssai=JSON.parse(l),a.expiryDate=moment(a._fssai.fssai_licence_validity,'YYYY-MM-DD').unix(),a._getCities(b)):(i.fssaiLoadProgress=!0,h.get(d).then(function(b){return a._fssai=b.data.fssaiDetails,a.expiryDate=moment(a._fssai.fssai_licence_validity,'YYYY-MM-DD').unix(),h.getCity(a._fssai.official_city_id,d)}).then(function(c){var d=c.data.cityDetails;a._fssai.official_city_id=d.id,a._fssai.official_city=d.name,j.put(k,JSON.stringify(a._fssai)),i.fssaiLoadProgress=!1,a._getCities(b)},function(){a._fssai={},j.put(k,JSON.stringify({})),i.fssaiLoadProgress=!1,a._getCities(b)}))},a._gst={},a.gstLoadProgress=!1,a._getGstDetails=function(b){var c=a.selectedRest_restDetails_profile,d=c.rid,h=g.get('restaurantInfo')||g('restaurantInfo'),k='gst_'+d;a.$on('gst-details-added',function(){var b=h.get(k);e(function(){a.$apply(function(){a._gst=JSON.parse(b)})},0)}),i.gstLoadProgress=!0,j.getGstFormDetails([d]).then(function(b){if(b.data.statusCode)if(b.data.data){var c=b.data.data,d={business_name:c.business_name,restaurant_id:c.restaurant_id,registration_doc_url:c.registration_doc_url,gstin:c.gstin,gstin_for_check:c.gstin,vmsDetails:c.vmsDetails,isRevenueBelowLimit:c.isRevenueBelowLimit};a._gst=d,h.put(k,JSON.stringify(d))}else a.isFormFilled=!1;return j.fetchGstStaticInfo()}).then(function(c){i.gstLoadProgress=!1,h.put('gst_static_data',JSON.stringify(c.data.data)),b&&'gst'===b&&a.showProfileTabs(b)})},a._getCities=function(b){var c=g.get('restaurantInfo')||g('restaurantInfo'),d=a.selectedRest_restDetails_profile,e=d.rid;i.fssaiLoadProgress=!0,h.getCities(e).then(function(d){var e=d.data.cities;c.put('cities',JSON.stringify(e)),i.fssaiLoadProgress=!1,b&&'fssai'===b&&a.showProfileTabs(b)},function(){c.put('cities',JSON.stringify({})),i.fssaiLoadProgress=!1,b&&'fssai'===b&&a.showProfileTabs(b)})},a.enableDisableProfileUser=function(d){a.updateUserEnableStatus='',a.setUserActiveData=function(){a.disableEditUserStatus=!a.disableEditUserStatus,d.is_active=!d.is_active},a.setUserActiveData(),l||(d.accessToken=c.get('accessToken')),b.enableDisableProfileApi(d).success(function(b){return 0==b.statusCode?void(a.disableEditUserStatus=!1):(a.updateUserEnableStatus='Failed. Please try again',void a.setUserActiveData())}).error(function(){a.updateUserEnableStatus='Failed. Please try again',a.setUserActiveData(),a.disableEditUserStatus=!1})},i.$on('setProfileView',function(b,c){if(a.profileActive=!0,a.profileTabName='',a.profileTiming=!1,a.profileFinance=!1,a.profileUsers=!1,a.restaurantInfoFssai=!1,a.restaurantInfoGST=!1,a._getFssaiDetails(c),a._getGstDetails(c),a.notWebView&&!1===a.compliance){var d,e=angular.element('.app'),g=angular.element(e).scope();if(1<g.chainOutletObject.length){var h=JSON.parse(globals.params);d=h.restaurant_id}else d=g.chainOutletObject[0].rest_rid;var i='/restaurant-info/restaurant/'+d+'/account';window.history.replaceState({url:i},'Account',i)}}),a.initProfileVariables(),a.arrangeUserListData=function(b){a.userListUnArranged=_.deepClone(b),a.activeUserList=[],a.pendingUserList=[],a.inactiveUserList=[];for(var c=0;c<a.userListUnArranged.length;c++)null==a.userListUnArranged[c].mobile_no&&null==a.userListUnArranged[c].name&&(a.userListUnArranged[c].name='Default user'),a.userListUnArranged[c].registration_complete&&a.userListUnArranged[c].is_active?a.activeUserList.push(a.userListUnArranged[c]):!a.userListUnArranged[c].registration_complete&&a.userListUnArranged[c].is_active?a.pendingUserList.push(a.userListUnArranged[c]):!a.userListUnArranged[c].is_active&&a.inactiveUserList.push(a.userListUnArranged[c]);return a.userListUnArranged=[],a.userListUnArranged=a.userListUnArranged.concat(a.activeUserList,a.pendingUserList,a.inactiveUserList),a.userListUnArranged},a.getUserList=function(){if(a.notWebView)var d={rest_id:a.selectedRest_restDetails_profile.rid};else var d={rest_id:a.selectedRest_restDetails_profile.rid,accessToken:c.get('accessToken')};b.getUserList(d).success(function(b){if(a.userListFailed=!1,a.existingUsers=[],b.userDetails=a.arrangeUserListData(b.userDetails),a.loadingUserList=!1,0!==b.statusCode)return void(a.userListFailed=!0);for(var d in a.existingUsers=b.userDetails,!a.notWebView&&swiggyWebInterface?c.get('selectedRest_restDetails_profile')&&(a.userProfileInformation=JSON.parse(c.get('user_profile_information_localstorage'))):a.userProfileInformation=_.deepClone(a.profileRestrntObject),a.userProfileInformation)for(f=0;f<a.userProfileInformation[d].length;f++)a.userProfileInformation[d][f].rest_rid=a.userProfileInformation[d][f].rid,a.userProfileInformation[d][f].selectedLength=0,a.userProfileInformation[d][f].area_name=a.userProfileInformation[d][f].area,a.userProfileInformation[d][f].rest_locality=a.userProfileInformation[d][f].locality}).error(function(){a.loadingUserList=!1,a.existingUsers=[],a.userListFailed=!0})},a.showUserProfileMenu=function(){a.hideUserProfileMenu=!1,!a.notWebView&&swiggyWebInterface&&(swiggyWebInterface.updateActionBarTitle('Restaurant Info'),swiggyWebInterface.isHomePage(!0))},a.showProfileTabs=function(b){a.hideUserProfileMenu=!0;var c=a.selectedRest_restDetails_profile.rid;switch(b){case'prepTimeTab':{if(a.profileUsers=!1,a.profileTabName='Prep Time',a.profileTiming=!1,a.profileActive=!1,a.profileFinance=!1,a.restaurantInfoFssai=!1,a.restaurantInfoGST=!1,a.prepTimeTabActive=!0,a.notWebView){var c,d=angular.element('.app'),e=angular.element(d).scope();if(1<e.chainOutletObject.length){var g=JSON.parse(globals.params);c=g.restaurant_id}else c=e.chainOutletObject[0].rest_rid;var h='/restaurant-info/restaurant/'+c+'/prep-time';a.profileTrack('profile-tab-click','prep-time',null,c,null),window.history.replaceState({url:h},'Prep Time',h)}break}case'profile':{if(a.profileActive=!0,a.profileTabName='',a.profileTiming=!1,a.profileFinance=!1,a.profileUsers=!1,a.restaurantInfoFssai=!1,a.restaurantInfoGST=!1,a.prepTimeTabActive=!1,a.notWebView){var c,d=angular.element('.app'),e=angular.element(d).scope();if(1<e.chainOutletObject.length){var g=JSON.parse(globals.params);c=g.restaurant_id}else c=e.chainOutletObject[0].rest_rid;var h='/restaurant-info/restaurant/'+c+'/account';window.history.replaceState({url:h},'Account',h),a.profileTrack('profile-tab-click','account',null,c,null)}!a.notWebView&&swiggyWebInterface&&swiggyWebInterface.updateActionBarTitle('Basic Information');break}case'timing':{a.profileTiming=!0,a.profileTabName='timing',a.profileActive=!1,a.profileFinance=!1,a.profileUsers=!1,a.restaurantInfoFssai=!1,a.restaurantInfoGST=!1,a.prepTimeTabActive=!1;break}case'finance':{if(a.profileFinance=!0,a.profileTabName='finance',a.profileTiming=!0,a.profileActive=!1,a.profileUsers=!1,a.restaurantInfoFssai=!1,a.restaurantInfoGST=!1,a.prepTimeTabActive=!1,a.notWebView){var c,d=angular.element('.app'),e=angular.element(d).scope();if(1<e.chainOutletObject.length){var g=JSON.parse(globals.params);c=g.restaurant_id}else c=e.chainOutletObject[0].rest_rid;var h='/restaurant-info/restaurant/'+c+'/finance';a.profileTrack('profile-tab-click','finance',null,c,null),window.history.replaceState({url:h},'Finance',h)}!a.notWebView&&swiggyWebInterface&&swiggyWebInterface.updateActionBarTitle('Finance');break}case'users':{if(a.profileUsers||(a.getUserList(),a.loadingUserList=!0),a.profileUsers=!0,a.profileTabName='',a.profileTiming=!0,a.profileActive=!1,a.profileFinance=!1,a.restaurantInfoFssai=!1,a.restaurantInfoGST=!1,a.prepTimeTabActive=!1,a.notWebView){var c,d=angular.element('.app'),e=angular.element(d).scope();if(1<e.chainOutletObject.length){var g=JSON.parse(globals.params);c=g.restaurant_id}else c=e.chainOutletObject[0].rest_rid;var h='/restaurant-info/restaurant/'+c+'/users';a.profileTrack('profile-tab-click','users',null,c,null),window.history.replaceState({url:h},'Users',h)}!a.notWebView&&swiggyWebInterface&&swiggyWebInterface.updateActionBarTitle('Manage Users');break}case'fssai':{if(a.profileUsers=!1,a.profileTabName='FSSAI',a.profileTiming=!1,a.profileActive=!1,a.profileFinance=!1,a.restaurantInfoFssai=!0,a.restaurantInfoGST=!1,a.prepTimeTabActive=!1,a.notWebView){var c,d=angular.element('.app'),e=angular.element(d).scope();if(1<e.chainOutletObject.length){var g=JSON.parse(globals.params);c=g.restaurant_id}else c=e.chainOutletObject[0].rest_rid;var h='/restaurant-info/restaurant/'+c+'/fssai';a.profileTrack('profile-tab-click','fssai',null,c,null),window.history.replaceState({url:h},'FSSAI',h)}!a.notWebView&&swiggyWebInterface&&swiggyWebInterface.updateActionBarTitle('FSSAI');break}case'gst':{if(a.profileUsers=!1,a.profileTabName='GST',a.profileTiming=!1,a.profileActive=!1,a.profileFinance=!1,a.restaurantInfoFssai=!1,a.restaurantInfoGST=!0,a.prepTimeTabActive=!1,a.notWebView){var c,d=angular.element('.app'),e=angular.element(d).scope();if(1<e.chainOutletObject.length){var g=JSON.parse(globals.params);c=g.restaurant_id}else c=e.chainOutletObject[0].rest_rid;var h='/restaurant-info/restaurant/'+c+'/gst';a.profileTrack('profile-tab-click','gst',null,c,null),window.history.replaceState({url:h},'GST',h)}!a.notWebView&&swiggyWebInterface&&swiggyWebInterface.updateActionBarTitle('GST');break}default:}!a.notWebView&&swiggyWebInterface&&swiggyWebInterface.isHomePage(!1)};var l=a.notWebView;a.inviteUserModal=function(){var b,c=a.userProfileInformation;b=d.open({animation:a.animationsEnabled,templateUrl:'/app/restaurant-info/templates/v1/invite-user-content-modal.html',controller:'InviteUserCtrl',size:'user-profile',backdrop:'static',backdropClass:'user-role-modal',keyboard:!1,resolve:{modalRestDetails:function(){return c},notWebView:function(){return l}}}),b.result.then(function(b){if('success'===b[1]){a.permittedRestDetails=b[0].restaurants;for(var c=0;c<a.permittedRestDetails.length;c++)a.selectedRest_restDetails_profile.rid===a.permittedRestDetails[c].rid&&a.existingUsers.push(b[0]);a.existingUsers=a.arrangeUserListData(a.existingUsers);var d=b[0].mobile_no;a.userToasterMessage('User '+d+' Invited successfully')}})},a.removeToaster=function(){a.toasterFlagProfile&&(a.toasterFlagProfile=!1,a.toasterContent='')},a.moveToTop=function(){$('html,body').stop().animate({scrollTop:0},450,'swing')},a.userToasterMessage=function(b){a.toasterFlagProfile=!0,a.toasterContent=b,e(function(){a.removeToaster()},5e3)},a.editUserProfile=function(b,c){var e=!1;if(parseInt(b.mobile_no)===c)var e=!0;a.preUserData=_.deepClone(b),a.disableEditBtn=!0;var g,h=_.deepClone(a.userProfileInformation),i=a.existingUsers,j=a.isSingleUser;g=d.open({animation:a.animationsEnabled,templateUrl:'/app/restaurant-info/templates/v1/invite-user-content-modal.html',controller:'EditUserCtrl',size:'user-profile',backdrop:'static',backdropClass:'user-role-modal',keyboard:!1,resolve:{modalRestDetails:function(){return h},userDetails:function(){return b},existingUserList:function(){return i},isSingleUser:function(){return j},isLoggedInUser:function(){return e},notWebView:function(){return l}}}),g.result.then(function(b){a.disableEditBtn=!1;var c=function(b){for(var c=0;c<a.existingUsers.length;c++)a.existingUsers[c].mobile_no===b.mobile_no.toString()&&(a.existingUsers[c].email=b.email,a.existingUsers[c].name=b.name,a.existingUsers[c].role_id=b.role_id,a.existingUsers[c].permissions=b.permissions,a.existingUsers[c].restaurants=b.restaurants)};if('cancel'===b)c(a.preUserData);else if('success'===b[1]){a.userDeletedCurrentOutlet=!0;for(var d=0,e=0;e<b[0].restaurants.length;e++)d=void 0==b[0].restaurants[e].rest_rid?b[0].restaurants[e].rest_id:b[0].restaurants[e].rest_rid,a.selectedRest_restDetails_profile.rid===d&&(a.userDeletedCurrentOutlet=!1);a.userDeletedCurrentOutlet?a.existingUsers=_.without(a.existingUsers,_.findWhere(a.existingUsers,{mobile_no:b[0].mobile_no})):c(b[0]);var g=b[0].mobile_no;a.userToasterMessage('User '+g+' Edited successfully'),a.moveToTop()}})}}
(function(){app.factory('fssaiFactory',['$q','$http','$httpParamSerializer','Upload','$cookies',function(a,b,c,d){return{save:function(c){var d=a.defer(),e=c.id&&0<c.id.toString().length?'PUT':'POST';return b({url:'/restaurant-info/v1/fssai/',method:e,data:c}).then(function(a){a&&a.data&&a.data.fssaiDetails&&a.data.fssaiDetails.id?d.resolve(a):d.reject(a)},function(a){d.reject(a)}),d.promise},saveProof:function(e,f,g,h){var i=a.defer(),j=c({restaurant_id:f}),k='/restaurant-info/v1/fssai/upload-proof?'+j;if(!g)return d.upload({url:k,data:{file:e}});var l=new FormData;return l.append('file',e,h),b({url:k,method:'POST',data:l,headers:{"Content-Type":void 0}}).then(function(a){a&&a.data&&a.data.fileDetails&&a.data.fileDetails.s3_url?i.resolve(a):i.reject(a)},function(a){i.reject(a)}),i.promise},saveAcknowledge:function(c){var d=a.defer(),e=c.id&&0<c.id.toString().length?'PUT':'POST';return b({url:'/restaurant-info/v1/acknowledge/',method:e,data:c}).then(function(a){a&&a.data&&a.data.fssaiDetails&&a.data.fssaiDetails.id?d.resolve(a):d.reject(a)},function(a){d.reject(a)}),d.promise},saveAcknowledgeProof:function(e,f,g,h){var i=a.defer(),j=c({restaurant_id:f}),k='/restaurant-info/v1/acknowledge/upload-proof?'+j;if(!g)return d.upload({url:k,data:{file:e}});var l=new FormData;return l.append('file',e,h),b({url:k,method:'POST',data:l,headers:{"Content-Type":void 0}}).then(function(a){a&&a.data&&a.data.fileDetails&&a.data.fileDetails.s3_url?i.resolve(a):i.reject(a)},function(a){i.reject(a)}),i.promise},get:function(d){var e=a.defer(),f=c({restaurant_id:d});return b({url:'/restaurant-info/v1/fssai'+'?'+f,method:'GET'}).then(function(a){a&&a.data&&a.data.fssaiDetails&&a.data.fssaiDetails.id?e.resolve(a):e.reject(a)},function(a){e.reject(a)}),e.promise},getCity:function(d,e){var f=a.defer(),g=c({city_id:d,restaurant_id:e});return b({url:'/v1/cities'+'?'+g,method:'GET'}).then(function(a){a&&a.data&&a.data.cityDetails&&a.data.cityDetails.id?f.resolve(a):f.reject(a)},function(a){f.reject(a)}),f.promise},downloadFile:function(c){var d=a.defer();return b({url:'/v1/download-file',method:'POST',data:{url:c}}).then(function(a){a&&a.data&&a.data.localUrl?d.resolve(a):d.reject(a)},function(a){d.reject(a)}),d.promise},getCities:function(d){var e=a.defer(),f=c({restaurant_id:d});return b({url:'/v1/cities/all'+'?'+f,method:'GET'}).then(function(a){a&&a.data&&a.data.cities?e.resolve(a):e.reject(a)},function(a){e.reject(a)}),e.promise}}}])})();
var webviewGetFile=function(){var a=angular.element('.fssai-form-wrap').scope();a||(a=angular.element('.gst-form-wrap').scope()),a.webviewPrepareFile()},webviewFileSizeError=function(){var a=angular.element('.fssai-form-wrap').scope();a||(a=angular.element('.gst-form-wrap').scope()),a.webviewFileSizeError()};app.controller('fssaiController',['$scope','$rootScope','fssaiFactory','$cacheFactory','$q','$timeout','$cookies',function(a,b,c,d,e,f){a.restaurantId=0,a.fssai_status='',a.selectedForm='fssai',a.fssai={},a.fssaiFormSubmitted=!1,a.fssaiFormLoading=!0,b.fssaiSaveProgress=!1,a.fssaiProofUploading=!1,a.acknowledge={},a.acknowledgeFormSubmitted=!1,a.acknowledgeFormLoading=!1,b.acknowledgeSaveProgress=!1,a.acknowledgeProofUploading=!1,a.user_type=a.user_type||'partner',a.briefHidden=!0,a.googleForm=globals.googleForm,a.appUrl=globals.appUrl,a.cities=[],a.showBrief=function(){a.briefHidden=!a.briefHidden},a.setSelectedForm=function(b){a.selectedForm=b,'fssai'===b?a.fssaiTrack('select-fssai',a.restaurantId,a.user_type,null,null,a.restaurantId,'click'):a.fssaiTrack('select-acknowledge',a.restaurantId,a.user_type,null,null,a.restaurantId,'click')},a.fssaiTrack=function(){var a=arguments[4]||'profile_fssai',c=arguments[6]||'click',d={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":a,"object-position":arguments[5],eventType:c}};b.appTrack(d)},a.getUserDataFromFssaiDetails=function(a){var b={};try{if(a.owner_name&&(b.owner_name=a.owner_name),a.owner_contact_number&&(b.owner_contact_number=a.owner_contact_number),a.user_meta){var c=JSON.parse(a.user_meta);c.owner_name&&(b.owner_name=c.owner_name),c.owner_contact_number&&(b.owner_contact_number=c.owner_contact_number)}}catch(a){console.log('getUserDataFromFssai err')}return b},a.getFssaiDetails=function(){var b=a.selectedRest_restDetails_profile;a.restaurantId=b.rid,a.fssaiTrack('view-fssai-screen',a.restaurantId,a.user_type,null,null,a.restaurantId,'impression'),a.notWebView?a.briefHidden=!1:a.bindEvents();var e=d.get('restaurantInfo')||d('restaurantInfo'),f='fssai_'+a.restaurantId;c.getCities(a.restaurantId).then(function(b){return a.cities=b.data.cities,e.put('cities',JSON.stringify(a.cities)),c.get(a.restaurantId)}).then(function(b){if(a.fssai=b.data.fssaiDetails,b.data.fssaiDetails){b.data.fssaiDetails.application_date&&(a.acknowledge.application_date=b.data.fssaiDetails.application_date),b.data.fssaiDetails.acknowledgement_reference&&(a.acknowledge.acknowledgement_reference=b.data.fssaiDetails.acknowledgement_reference);var d=a.getUserDataFromFssaiDetails(b.data.fssaiDetails);d.owner_name&&(a.fssai.owner_name=d.owner_name,a.acknowledge.owner_name=d.owner_name),d.owner_contact_number&&(a.fssai.owner_contact_number=d.owner_contact_number,a.acknowledge.owner_contact_number=d.owner_contact_number)}return a.fssai_status=b.data.fssaiDetails.fssai_status,c.getCity(a.fssai.official_city_id,a.restaurantId)}).then(function(b){var c=b.data.cityDetails;a.fssai.official_city_id=c.id,a.fssai.official_city=c.name,a.acknowledge.official_city_id=c.id,a.acknowledge.official_city=c.name,e.put(f,JSON.stringify(a.fssai)),a.selectedCity=c.name,a.fssaiFormLoading=!1},function(){e.put(f,JSON.stringify({})),a.fssai={},a.selectedCity='',a.fssaiFormLoading=!1})},a.saveFssaiDetails=function(f){if(f.preventDefault(),a.fssaiForm.$valid&&a.fssai.fssai_licence_validity){var g=a.fssai.fssai_licence_validity;if(moment(g,'YYYY-MM-DD').isBefore(moment()))return void swal({html:'<p>Error: FSSAI "VALID UPTO" date should be in the future.</p>',confirmButtonClass:'btn btn-lg btn-warning',allowOutsideClick:!1,padding:20,width:410,buttonsStyling:!1})}if(a.fssaiFormSubmitted=!0,a.fssaiForm.$valid){b.fssaiSaveProgress=!0;var h;if(a.file){a.fssaiProofUploading=!0;var i=!a.notWebView;h=c.saveProof(a.file,a.restaurantId,i,a.selectedFile.name)}else h=e.when(!a.file);h.then(function(b){var d=null;if(a.fssaiTrack('upload_fssai','Success',a.user_type,null,null,a.restaurantId,'click'),a.file){var e=b.data.fileDetails;d=e.s3_url,a.file=void 0,a.selectedFile=void 0}a.fssai.restaurant_id=a.restaurantId,a.fssai.user_id=localStorage.getItem('Swiggy_user'),a.fssai.user_type='te',a.fssai.user_meta='',a.fssai.status=0,a.fssai.address_line_2||(a.fssai.address_line_2='');var f=angular.copy(a.fssai);return d&&(f.document_url=d),c.save(f)}).then(function(c){a.fssai.id=c.data.fssaiDetails.id,a.fssai.document_url=c.data.fssaiDetails.document_url;var e=d.get('restaurantInfo')||d('restaurantInfo'),f='fssai_'+a.restaurantId;e.put(f,JSON.stringify(a.fssai)),a.fssaiTrack('save_fssai','Success',a.user_type,null,null,a.restaurantId,'click'),b.$broadcast('fssai-details-added'),a.fssaiProofUploading=!1,b.fssaiSaveProgress=!1,swal({html:'<p>Thank you for submitting FSSAI details</p>',confirmButtonClass:'btn btn-lg btn-warning',allowOutsideClick:!1,padding:20,width:410,buttonsStyling:!1})},function(){a.fssaiProofUploading=!1,b.fssaiSaveProgress=!1,a.fssaiTrack('upload_fssai','Failure',a.user_type,null,null,a.restaurantId,'click'),a.fssaiTrack('save_fssai','Failure',a.user_type,null,null,a.restaurantId,'click'),swal({html:'<p>FSSAI details cannot be saved. There was an issue while processing the request</p>',confirmButtonClass:'btn btn-lg btn-warning',allowOutsideClick:!1,padding:20,width:410,buttonsStyling:!1})})}},a.saveAcknowledgeDetails=function(d){if(d.preventDefault(),a.acknowledgeFormSubmitted=!0,!a.acknowledgeForm.$valid)console.log('err, acknowledge form invalid');else if(a.acknowledgeSaveProgress=!0,a.acknowledgeFile){a.acknowledgeProofUploading=!0;var e=!a.notWebView,f=c.saveAcknowledgeProof(a.acknowledgeFile,a.restaurantId,e,a.acknowledgeFile.name);f.then(function(b){a.fssaiTrack('upload-acknowledge','Success',a.user_type,null,null,a.restaurantId,'click');var d=b.data.fileDetails;a.acknowledge.restaurant_id=a.restaurantId,a.acknowledge.user_id=localStorage.getItem('Swiggy_user'),a.acknowledge.user_type='te';var e=angular.copy(a.acknowledge);return d&&d.s3_url&&(e.document_url=d.s3_url),c.saveAcknowledge(e)},function(b){throw console.log('err uploading acknowledgement proof!, err = ',b),a.fssaiTrack('upload-acknowledge','Failure',a.user_type,null,null,a.restaurantId,'click'),a.acknowledgeSaveProgress=!1,a.acknowledgeProofUploading=!1,new Error(b)}).then(function(c){a.acknowledgeSaveProgress=!1,a.acknowledgeProofUploading=!1,a.acknowledge.id=c.data.fssaiDetails.id,a.acknowledge.document_url=c.data.fssaiDetails.document_url,b.$broadcast('acknowledge-details-added'),a.fssaiTrack('save-acknowledge','Success',a.user_type,null,null,a.restaurantId),swal({html:'<p>Thank you for submitting Acknowledgement details</p>',confirmButtonClass:'btn btn-lg btn-warning',allowOutsideClick:!1,padding:20,width:410,buttonsStyling:!1})},function(b){a.acknowledgeSaveProgress=!1,a.acknowledgeProofUploading=!1,a.fssaiTrack('save-acknowledge','Failure',a.user_type,null,null,a.restaurantId),console.log('err saving acknowledge detils, err = ',b),swal({html:'<p>Acknowledge details cannot be saved. There was an issue while processing the request</p>',confirmButtonClass:'btn btn-lg btn-warning',allowOutsideClick:!1,padding:20,width:410,buttonsStyling:!1})})}else console.log('err, acknowledge file not present in order to submit!')},a.openWebViewUrl=function(){swiggyWebInterface.openOutsideUrl(a.googleForm)},a.openWebViewDocument=function(a){swiggyWebInterface.openOutsideUrl(a)},a.webviewBrowseFile=function(){a.notWebView||(a.fssai.document_url?swal({title:'<h4>Are you sure?</h4>',html:'<p>You are about to replace the existing file. This cannot be undone.</p>',showCancelButton:!0,confirmButtonClass:'btn btn-lg btn-warning',cancelButtonClass:'btn btn-lg btn-default',confirmButtonText:'Yes',allowOutsideClick:!1,buttonsStyling:!1,reverseButtons:!0,padding:20,width:410}).then(function(){swiggyWebInterface.browseFile()}):swiggyWebInterface.browseFile())},a.webviewPrepareFile=function(){for(var b=swiggyWebInterface.getFile(),c=swiggyWebInterface.getFileName(),d=atob(b),e=new Uint8Array(d.length),f=0;f<d.length;f++)e[f]=d.charCodeAt(f);b={buffer:e.buffer,name:c,size:d.length,type:a.getFileMimeType(c)},'fssai'===a.selectedForm?a.$apply(function(){b.type?10485760<b.size?(a.fssaiForm.file.$setValidity('pattern',!0),a.fssaiForm.file.$setValidity('maxSize',!1)):(a.fssaiForm.file.$setValidity('pattern',!0),a.fssaiForm.file.$setValidity('maxSize',!0),a.selectedFile=b,a.file=new Blob([b.buffer],{name:b.name,size:b.size,type:b.type})):(a.fssaiForm.file.$setValidity('pattern',!1),a.fssaiForm.file.$setValidity('maxSize',!0))}):'acknowledge'===a.selectedForm&&a.$apply(function(){b.type?10485760<b.size?(a.acknowledgeForm.acknowledgeFile.$setValidity('pattern',!0),a.acknowledgeForm.acknowledgeFile.$setValidity('maxSize',!1)):(a.acknowledgeForm.acknowledgeFile.$setValidity('pattern',!0),a.acknowledgeForm.acknowledgeFile.$setValidity('maxSize',!0),a.selectedAcknowledgeFile=b,a.acknowledgeFile=new Blob([b.buffer],{name:b.name,size:b.size,type:b.type})):(a.acknowledgeForm.acknowledgeFile.$setValidity('pattern',!1),a.acknowledgeForm.acknowledgeFile.$setValidity('maxSize',!0))})},a.webviewFileSizeError=function(){a.$apply(function(){'fssai'===a.selectedForm?(a.fssaiForm.file.$setValidity('pattern',!0),a.fssaiForm.file.$setValidity('maxSize',!1)):'acknowledge'===a.selectedForm&&(a.acknowledgeForm.acknowledgeFile.$setValidity('pattern',!0),a.acknowledgeForm.acknowledgeFile.$setValidity('maxSize',!1))})},a.getFileMimeType=function(a){return a.toLowerCase().match(/\.jpg$/)?'image/jpeg':a.toLowerCase().match(/\.jpeg$/)?'image/jpeg':a.toLowerCase().match(/\.png$/)?'image/png':a.toLowerCase().match(/\.gif$/)?'image/gif':a.toLowerCase().match(/\.pdf$/)?'application/pdf':a.toLowerCase().match(/\.doc$/)?'application/msword':a.toLowerCase().match(/\.docx$/)?'application/vnd.openxmlformats-officedocument.wordprocessingml.document':void 0},a.selectFile=function(b){b&&a.fssai.document_url?swal({title:'<h4>Are you sure?</h4>',html:'<p>You are about to replace the existing file. This cannot be undone.</p>',showCancelButton:!0,confirmButtonClass:'btn btn-lg btn-warning',cancelButtonClass:'btn btn-lg btn-default',confirmButtonText:'Yes',allowOutsideClick:!1,buttonsStyling:!1,reverseButtons:!0,padding:20,width:410}).then(function(){f(function(){a.$apply(function(){a.selectedFile=b})},0)},function(){a.file=void 0,a.selectedFile=void 0}):a.selectedFile=b},a.selectAcknowledgeFile=function(b){b&&a.acknowledge.document_url?swal({title:'<h4>Are you sure?</h4>',html:'<p>You are about to replace the existing file. This cannot be undone.</p>',showCancelButton:!0,confirmButtonClass:'btn btn-lg btn-warning',cancelButtonClass:'btn btn-lg btn-default',confirmButtonText:'Yes',allowOutsideClick:!1,buttonsStyling:!1,reverseButtons:!0,padding:20,width:410}).then(function(){f(function(){a.$apply(function(){a.selectedAcknowledgeFile=b})},0)},function(){a.acknowledgeFile=void 0,a.selectedAcknowledgeFile=void 0}):a.selectedAcknowledgeFile=b},a.selectCity=function(b){b?(a.fssai.official_city_id=b.originalObject.id,a.fssai.official_city=b.originalObject.name):a.selectedCity=''},a.beforeRender=function(a,b){b.filter(function(b){if('day'===a){var c=moment().unix();return b.utcDateValue/1e3<c}if('year'===a){var d=moment().format('YYYY'),e=moment(b.utcDateValue).format('YYYY');return e<d}}).forEach(function(a){a.selectable=!1})},a.beforeRenderApplicationDate=function(a,b){b.filter(function(b){if('day'===a){var c=moment().unix();return b.utcDateValue/1e3>c}if('year'===a){var d=moment().format('YYYY'),e=moment(b.utcDateValue).format('YYYY');return e>d}}).forEach(function(a){a.selectable=!1})},a.onDateSet=function(b){a.fssai.fssai_licence_validity=moment(b).format('YYYY-MM-DD')},a.onAcknowledgeApplicationDateSet=function(b){a.acknowledge.application_date=moment(b).format('YYYY-MM-DD')},a.downloadFile=function(){b.fssaiSaveProgress=!0,c.downloadFile(a.fssai.document_url).then(function(c){b.fssaiSaveProgress=!1,a.notWebView?window.open(a.appUrl+c.data.localUrl):a.openWebViewDocument(a.appUrl+c.data.localUrl)},function(){b.fssaiSaveProgress=!1})},a.bindEvents=function(){jQuery(document).on('keydown','input',function(a){var b=jQuery(this),c=b.attr('maxlength');if(c){b.val().length>=parseInt(c)&&-1===[8,9,37,38,39,40,46].indexOf(a.keyCode)&&a.preventDefault()}})}}]);
'use strict';(function(){app.factory('gstFactory',['$q','$http','$httpParamSerializer','Upload','$cookies',function(a,b,c,d){return{submitGstFormDetails:function(a,c){var d=[];Array.isArray(c)&&c.forEach(function(b){if(b.selected){var c=JSON.parse(JSON.stringify(a));c.restaurant_id=b.rid,d.push(c)}});var e='/v1/gst-details/?restaurant_id='+d[0].restaurant_id;return b({url:e,method:'POST',data:d})},getGstFormDetails:function(a){var d=c({restaurant_id:a.join(',')});return b({url:'/v1/gst-details'+'?'+d,method:'GET'})},submitNonGstForm:function(a,c){return b({url:'/v1/gst-details/non-gst-details/?restaurant_id='+c,method:'POST',data:[{restaurant_id:c,vmsDetails:a}]})},submitDeclaration:function(a,c){var d=[];Array.isArray(c)&&c.forEach(function(b){if(b.selected){var c=JSON.parse(JSON.stringify(a));c.restaurant_id=b.rid,d.push(c)}});var e='/v1/gst-details/?restaurant_id='+d[0].restaurant_id;return b({url:e,method:'POST',data:d})},uploadGstFile:function(a,c,e,f){var g='/v1/gst-details/upload-gst?restaurant_id='+c;if(!e)return d.upload({url:g,data:{file:a}});var h=new FormData;return h.append('file',a,f),b({url:g,method:'POST',data:h,headers:{"Content-Type":void 0}})},fetchGstStaticInfo:function(){return b({url:'/v1/broadcast/gst-static-info/',method:'GET'})},downloadFile:function(a){return b({url:'/v1/download-file',method:'POST',data:{url:a}})}}}])})();
'use strict';app.controller('gstController',['$scope','$rootScope','gstFactory','$cacheFactory','$q','$timeout','$cookies',function(a,b,c,d,e){a.Object=Object,a.restaurantId=0,a.formSubmitted=!1,a.errors={},a.isFormValid=!0,a.vmsErrors={},a.isVmsFormValid=!0,a.user_type=a.user_type||'partner',a.appUrl=globals.appUrl,a.updatedByDetails={},a.gstStaticData={message:'',lastDate:''},a.fileName='';var f=a.selectedRest_restDetails_profile;a.restaurantId=f.rid,a.isFormFilledOnce=!1,a.formStatus={text:'Pending',className:'gst__status__value'},a.availableRestForGst=[],a.allRestaurantsSelected=!1,Object.keys(a.profileRestrntObject).forEach(function(b){a.profileRestrntObject[b]&&a.profileRestrntObject[b].forEach(function(b){var c=!(b.rid!=a.restaurantId);a.availableRestForGst.push({rid:b.rid,selected:c,city:b.area,locality:b.locality})})});var g=0;a.availableRestForGst.some(function(b,c){return!(b.rid!=a.restaurantId)&&(g=c,!0)}),a.selectedRestaurants=1,a.availableRestForGst.splice(0,0,a.availableRestForGst.splice(g,1)[0]),a.showRestList=!1,a.trackTopMoreClick=function(){},a.openRestaurantList=function(b){b.stopImmediatePropagation(),b.stopPropagation(),a.showRestList=!a.showRestList},a.booleanOptions=[{text:'Yes',value:!0},{text:'No',value:!1}],a.currentTab='gst-present',a.openTab=function(b){a.currentTab=b,'gst-present'===b?a.gstTrack('select-add-gst-info',a.restaurantId,a.user_type,null,null,a.restaurantId,'click'):a.gstTrack('select-not-eligible',a.restaurantId,a.user_type,null,null,a.restaurantId,'click')},a.isGstinEnteredCorrectly=!1;a.gstFormData={business_name:'',restaurant_id:'',registration_doc_url:'',gstin:'',gstin_for_check:'',vmsDetails:{}},a.declarationFormData={isRevenueBelowLimit:!1},a.gstTrack=function(){var a=arguments[4]||'profile_gst',c=arguments[6]||'click',d={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":a,"object-position":arguments[5],eventType:c}};b.appTrack(d)},a.$watch('gstFormData.gstin_for_check',function(b){a.isGstinEnteredCorrectly=!1,b===a.gstFormData.gstin&&a.gstFormData.gstin&&b&&15===a.gstFormData.gstin.length&&(a.isGstinEnteredCorrectly=!0,a.gstinMismatch=!1),a.gstFormData.gstin_for_check&&a.gstFormData.gstin&&a.gstFormData.gstin_for_check!=a.gstFormData.gstin&&(a.gstinMismatch=!0)}),a.$watch('gstFormData.gstin',function(b){a.isGstinEnteredCorrectly=!1,b===a.gstFormData.gstin_for_check&&a.gstFormData.gstin_for_check&&b&&15===a.gstFormData.gstin.length&&(a.isGstinEnteredCorrectly=!0,a.gstinMismatch=!1),a.gstFormData.gstin_for_check&&a.gstFormData.gstin&&a.gstFormData.gstin_for_check!=a.gstFormData.gstin&&(a.gstinMismatch=!0)}),a.$watch('gstFormData',function(){a.formSubmitted=!1,a.isFormValid=!0}),a.onRestaurantListClick=function(b,c){return b.stopPropagation(),b.stopImmediatePropagation(),a.restaurantId==c?void 0:'all'===c?(a.allRestaurantsSelected=!a.allRestaurantsSelected,a.availableRestForGst.forEach(function(b){b.selected=b.rid==a.restaurantId||a.allRestaurantsSelected}),void(a.selectedRestaurants=a.allRestaurantsSelected?a.availableRestForGst.length:1)):void a.availableRestForGst.forEach(function(b){b.rid===c&&(b.selected=!b.selected,b.selected?++a.selectedRestaurants:--a.selectedRestaurants,a.allRestaurantsSelected=a.selectedRestaurants===a.availableRestForGst.length)})},document.addEventListener('click',function(){a.showRestList=!1,a.$apply()}),a.getGstFormDetails=function(){var b=a.selectedRest_restDetails_profile;a.restaurantId=b.rid,a.gstTrack('view-gst-screen',a.restaurantId,a.user_type,null,null,a.restaurantId,'impression');var e=d.get('restaurantInfo')||d('restaurantInfo'),f='gst_'+a.restaurantId,g=e.get(f),h='gst_static_data';try{g=JSON.parse(g)}catch(a){console.warn('error in getGstFormDetails: ',a),g=null}try{a.gstStaticData=JSON.parse(e.get(h))}catch(b){console.warn('error in gstController: ',b),c.fetchGstStaticInfo().then(function(b){1===b.data.statusCode&&(a.gstStaticData=b.data.data,e.put(h,JSON.stringify(b.data.data)))})}g?(g.vmsDetails.is_gst_submitted?a.formStatus={text:' GSTIN submitted',className:'gst__status__value gst__status__value--done'}:g.vmsDetails.is_non_gst_reasons_given&&(a.formStatus={text:' GSTIN Not submitted',className:'gst__status__value'}),a.gstFormData=g,a.declarationFormData={isRevenueBelowLimit:g.isRevenueBelowLimit},a.gstNumberInCache=g.gstin,a.isRevenueBelowLimitInCache='boolean'==typeof g.isRevenueBelowLimit,a.storeUpdatedByDetails()):c.getGstFormDetails([a.restaurantId]).then(function(b){if(b.data.statusCode)if(b.data.data){var c=b.data.data;a.gstNumberInAPI=c.gstin,a.isRevenueBelowLimitInAPI='boolean'==typeof c.isRevenueBelowLimit,c.vmsDetails.is_gst_submitted?a.formStatus={text:' GSTIN submitted',className:'gst__status__value gst__status__value--done'}:c.vmsDetails.is_non_gst_reasons_given&&(a.formStatus={text:' GSTIN Not submitted',className:'gst__status__value'}),a.gstFormData={business_name:c.business_name,restaurant_id:c.restaurant_id,registration_doc_url:c.registration_doc_url,gstin:c.gstin,gstin_for_check:c.gstin,vmsDetails:c.vmsDetails},a.declarationFormData={isRevenueBelowLimit:c.isRevenueBelowLimit},a.storeUpdatedByDetails(),a.fileName=''}else a.isFormFilledOnce=!1}).catch(function(a){console.warn('getGstFormDetails:: ',a)})},a.storeUpdatedByDetails=function(){a.gstFormData.vmsDetails.updated_at&&(a.updatedByDetails={},a.updatedByDetails.name=a.gstFormData.vmsDetails.updated_by&&a.gstFormData.vmsDetails.updated_by.userName,a.updatedByDetails.userId=a.gstFormData.vmsDetails.updated_by&&a.gstFormData.vmsDetails.updated_by.userId,a.updatedByDetails.date=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getFullYear();return b+'/'+c+'/'+d}(new Date(a.gstFormData.vmsDetails.updated_at)),a.updatedByDetails.time=function(a){var b=a.getMinutes(),c=a.getHours(),d=12<c?'PM':'AM';return c=12===c?c:c%12,c+':'+b+' '+d}(new Date(a.gstFormData.vmsDetails.updated_at)))},a.submitGstFormDetails=function(f){function g(){b.gstLoadProgress=!0;var f=e.when(!1);if(a.selectedFile){var g=!a.notWebView;f=c.uploadGstFile(a.selectedFile,a.restaurantId,g,a.selectedFile.name||a.fileName)}f.then(function(b){return b&&b.data.statusCode&&(a.gstFormData.registration_doc_url=b.data.fileDetails.s3_url,a.selectedFile=null),c.submitGstFormDetails(a.gstFormData,a.availableRestForGst,a.isFormFilledOnce)}).then(function(c){b.gstLoadProgress=!1,1===c.data.statusCode&&c.data.data&&(a.gstFormData=c.data.data[0],a.storeUpdatedByDetails());var e=d.get('restaurantInfo')||d('restaurantInfo'),f='gst_'+a.restaurantId;e.put(f,JSON.stringify(a.gstFormData)),b.$broadcast('gst-details-added'),a.gstTrack('save_gst','Success',a.user_type,'gstin',null,a.restaurantId,'click'),swal({html:'<div class="gst-modal"><div><img class="gst-modal__img" src="/img/tick-mark.svg"></div><p class="gst-modal__title">Thank you for your response.</p><p class="gst-modal__sub-title">You can still update GST details for your outlet from GST tab.</p></div>',confirmButtonClass:'btn btn-lg btn-warning gst-modal__btn',allowOutsideClick:!1,padding:20,width:500,buttonsStyling:!1}).then(function(){a.formSubmitted=!1,a.isFormValid=!0,a.gstFormData.vmsDetails.is_gst_submitted=!0;var b=d.get('restaurantInfo')||d('restaurantInfo'),c='gst_'+a.restaurantId;b.put(c,JSON.stringify(a.gstFormData)),a.formStatus={text:' GSTIN submitted',className:'gst__status__value gst__status__value--done'},a.$apply()})}).catch(function(){b.gstLoadProgress=!1,a.gstTrack('save_gst','Failure',a.user_type,'gstin',null,a.restaurantId,'click'),swal({html:'<p>GST details cannot be saved. There was an issue while processing the request</p>',confirmButtonClass:'btn btn-lg btn-warning gst-modal__btn',allowOutsideClick:!1,padding:20,width:410,buttonsStyling:!1})})}a.formSubmitted=!0,f.preventDefault(),a.errors={},a.gstFormData.gstin&&a.gstFormData.gstin_for_check&&a.gstFormData.gstin==a.gstFormData.gstin_for_check&&15==a.gstFormData.gstin.length||(a.errors=a.errors||{},a.errors.gstinNumber=!0),(!a.gstFormData.business_name||3>a.gstFormData.business_name.length)&&(a.errors=a.errors||{},a.errors.business_name=!0);var h=a.availableRestForGst.some(function(a){return a.selected});return h||(a.errors=a.errors||{},a.errors.availableRestForGst=!0),(null===a.gstFormData.vmsDetails.is_composite_structure_on||void 0===a.gstFormData.vmsDetails.is_composite_structure_on)&&(a.errors=a.errors||{},a.errors.is_composite_structure_on=!0),1<=Object.keys(a.errors).length?(a.isFormValid=!1,a.$apply(),console.log('there were validation errors! $scope.errors->'),!1):void(a.isFormValid=!0,1<a.selectedRestaurants?swal({title:'<h4>Are you sure?</h4>',html:'<p>You have selected more than one outlet. It will update all the selected restaurants.</p>',showCancelButton:!0,confirmButtonClass:'btn btn-lg btn-warning',cancelButtonClass:'btn btn-lg btn-default',confirmButtonText:'Yes',allowOutsideClick:!1,buttonsStyling:!1,reverseButtons:!0,padding:20,width:410}).then(function(){g()},function(){}):g())},a.emailClicked=function(){a.gstTrack('email-support',a.restaurantId,a.user_type,null,null,a.restaurantId,'click')},a.submitDeclaration=function(f){f.preventDefault(),a.gstFormData.vmsDetails.isRevenueBelowLimit=a.declarationFormData.isRevenueBelowLimit,a.gstFormData.isRevenueBelowLimit=a.declarationFormData.isRevenueBelowLimit,b.gstLoadProgress=!0,c.submitDeclaration(a.gstFormData,a.availableRestForGst).then(function(c){b.gstLoadProgress=!1,1===c.data.statusCode&&(a.gstFormData.vmsDetails=c.data.data&&c.data.data[0].vmsDetails,a.storeUpdatedByDetails());var e=d.get('restaurantInfo')||d('restaurantInfo'),f='gst_'+a.restaurantId;e.put(f,JSON.stringify(a.gstFormData)),b.$broadcast('gst-details-added'),a.gstTrack('save_gst','Success',a.user_type,'declaration',null,a.restaurantId,'click'),swal({html:'<div class="gst-modal"><div><img class="gst-modal__img" src="/img/tick-mark.svg"></div><p class="gst-modal__title">Thank you for your response.</p><p class="gst-modal__sub-title">We will get back to you shortly</p></div>',confirmButtonClass:'btn btn-lg btn-warning gst-modal__btn',allowOutsideClick:!1,padding:20,width:500,buttonsStyling:!1}).then(function(){a.formStatus={text:' GSTIN Not submitted',className:'gst__status__value'},a.$apply()})}).catch(function(){b.gstLoadProgress=!1,a.gstTrack('save_gst','Failure',a.user_type,'declaration',null,a.restaurantId,'click'),swal({html:'<p>Declaration cannot be saved. There was an issue while processing the request</p>',confirmButtonClass:'btn btn-lg btn-warning gst-modal__btn',allowOutsideClick:!1,padding:20,width:410,buttonsStyling:!1})})},a.openWebViewDocument=function(a){swiggyWebInterface.openOutsideUrl(a)}}]);
(function(){app.factory('tcFactory',['$q','$http','$httpParamSerializer',function(a,b,c){return{get:function(d){var e=a.defer(),f=c({restaurant_id:d,random:Math.random()});return b({url:'/v1/terms-and-conditions?'+f,method:'GET',config:{silent:!0}}).then(function(a){a&&a.data&&a.data.details?e.resolve(a.data.details):e.resolve(null)},function(){e.resolve(null)}),e.promise},getAcceptance:function(d){var e=a.defer();return a.all(d.map(function(d){var e=a.defer(),f=c({restaurant_id:d,random:Math.random()});return b({url:'/v1/terms-and-conditions/acceptance?'+f,method:'GET',config:{silent:!0}}).then(function(a){a&&a.data&&a.data.details&&a.data.details.id?e.resolve(a):e.reject(a)},function(a){e.reject(a)}),e.promise})).then(function(a){e.resolve(a)},function(a){e.reject(a)}),e.promise},postAcceptance:function(c){var d=a.defer();return b({url:'/v1/terms-and-conditions/accept',method:'POST',data:c}).then(function(a){a.data?a.data&&a.data.details&&a.data.details.restaurants_with_successful_acceptance?d.resolve(a.data.details):d.reject(a):d.reject(a)},function(a){d.reject(a)}),d.promise},getLastAccepted:function(d,e){var f=a.defer(),g=c({restaurant_id:d,random:Math.random()});return b({url:'/v1/terms-and-conditions/last-accepted?'+g,method:'GET',config:{silent:!0===e}}).then(function(a){a.data?a.data&&a.data.details&&a.data.details.last_acceptance?f.resolve(a.data.details):f.reject(a):f.reject(a)},function(a){f.reject(a)}),f.promise}}}])})();
app.controller('tcController',['$scope','$rootScope','tcFactory','$cacheFactory','$q','$cookies',function(a,b,c,d,e,f){a.tc={},a.ownerRole=1,b.tcShowLink=!1,a.getRestaurantIds=function(){var a=localStorage.getItem('Swiggy_outlets'),b=[];if(!a){if(a=f.get('restIds'),!a)return b;b=a.split(',')}else{a=JSON.parse(a);for(var c=0;c<a.length;c++)b.push(a[c].rest_rid)}return b},a.getRestaurantId=function(){var a,b=localStorage.getItem('Swiggy_outlets');if(!b){if(b=f.get('restIds'),!b)return a;var c=b.split(',');a=c[0]}else b=JSON.parse(b),a=b[0].rest_rid;return a},a.getUserId=function(){var a=localStorage.getItem('Swiggy_user');return a||(a=f.get('Swiggy_Session-user')),a},a.getUserRole=function(){var a=localStorage.getItem('Swiggy_role');return a||(a=f.get('userRole')),a},a.tcEnabled=function(){var e=a.getRestaurantId(),f=d.get('tc')||d('tc'),g=f.get('enabled');e&&(g===void 0?(b.tcFetchProgress=!0,c.getLastAccepted(e,!0).then(function(){f.put('enabled',!0),b.toggleTcLink(),b.tcFetchProgress=!1},function(){f.put('enabled',!1),b.toggleTcLink(),b.tcFetchProgress=!1})):b.toggleTcLink())},b.toggleTcLink=function(){var a=d.get('tc')||d('tc'),c=a.get('enabled');return c?void(b.tcShowLink=!0):void(b.tcShowLink=!1)},a.getLatestTc=function(){var d=a.getRestaurantId();d&&(b.tcFetchProgress=!0,c.get(d).then(function(c){a.tc=c,b.tcFetchProgress=!1},function(){b.tcFetchProgress=!1}))},a.getAcceptance=function(){var d=a.getRestaurantIds(),f=a.getUserRole(),g=a.getUserId;if(0<d.length&&f.toString()===a.ownerRole.toString()&&g){var h=d[0];b.tcFetchProgress=!0,c.get(h).then(function(b){var f;return b?(a.tc=b,f=c.getAcceptance(d)):f=e.when(!b),f}).then(function(){b.tcFetchProgress=!1},function(){angular.element('#tcModal').modal({keyboard:!1,backdrop:'static'}).show(),b.tcFetchProgress=!1})}},a.getLastAcceptedTc=function(){var d=a.getRestaurantId();d&&(b.tcFetchProgress=!0,c.getLastAccepted(d,!1).then(function(c){a.tc=c.terms_and_conditions_detail,b.tcFetchProgress=!1},function(){b.tcFetchProgress=!1}))},a.postAcceptance=function(){var e=a.getRestaurantIds(),f=a.getUserId();if(0<e.length&&f){var g={};g.user_id=f,g.restaurant_ids=e,g.user_type='te',g.user_meta='',b.postProgress=!0,c.postAcceptance(g).then(function(){angular.element('#tcModal').modal('hide'),a.notWebView||swiggyWebInterface.closePopup();var c=d.get('tc')||d('tc');c.put('enabled',!0),b.toggleTcLink(),b.postProgress=!1},function(){b.postProgress=!1})}},angular.element(document).bind('click',function(){b.toggleTcLink()})}]);
app.controller('TradeDiscountController',TradeDiscountController).controller('TradeDiscountModalController',TradeDiscountModalController).controller('CloneTradeDiscount',CloneTradeDiscount).directive('createTradeDiscount',function(){return{restrict:'E',templateUrl:'/app/trade-discount/templates/v1/create-trade-discount.html'}}).directive('editFutureTradeDiscount',function(){return{restrict:'E',templateUrl:'/app/trade-discount/templates/v1/edit-future-trade-discount.html'}}).directive('toggleBar',function(){return{link:function(a,b){b.on('click',function(){'tab-data col-xs-10 col-lg-8 tab-active'===b.parent().attr('class')?b.parent().removeClass('tab-active'):b.parent().addClass('tab-active')})}}}).directive('toggleRestBar',function(){return{link:function(a,b){b.on('click',function(){var a=b.parent().parent();a.attr('class')?a.removeClass('show-children'):a.addClass('show-children')})}}}).factory('tradeContrlFactory',function(){return{}}),TradeDiscountController.$inject=['$scope','HomeFactory','$document','$window','$uibModal','$rootScope','$cookies','$timeout'],CloneTradeDiscount.$inject=['$scope','HomeFactory','$document','$window','$uibModal','$rootScope','$cookies'],TradeDiscountModalController.$inject=['$scope','HomeFactory','$uibModalInstance','$rootScope','$cookies','data'];function TradeDiscountController(a,b,c,d,f,g,h,i){a.showliveDetails=!1,a.activeData='',a.expiredDatas=[],a.daysLeft='',a.scheduledDatas=[],a.loadDiscountTemplateLoaderChild=!0,a.selectedFutureData={},a.restAllocatedList=JSON.parse(localStorage.Swiggy_outlets),a.timeStart='',a.timeEnd='',a.disabledDatas=[],a.createTradeDiscountView=!1,a.editFutureTradeDiscountView=!1,a.customerTypeMap={};a.miniLoader=!1,g.tradeDiscountTrack=function(){var a={event:arguments[0],data:{"object-name":arguments[0],"object-value":arguments[1],context:arguments[2],field1:arguments[3],"screen-name":'discount-page',"object-position":null,eventType:'click'}};g.appTrack(a)},a.removeToaster=function(){a.toasterFlagProfile&&(a.toasterFlagProfile=!1,a.toasterContent='')},a.initStopTradeDiscountModal=function(b){for(var c in a.globalMessage='',a.restIdList=[],a.activeData.restaurantList){a.restIdList.push(a.getRestList[c].rest_rid);var d=!1;for(var h in a.getRestList)if(a.getRestList[h].rest_rid==a.activeData.restaurantList[c].id){d=!0;break}if(!d)return void(a.globalMessage='Sorry, you dont have permission to stop the trade discount. Please contact the creator')}b.restaurantIds=a.restIdList,b.updatedBy=b.createdBy;var i=f.open({templateUrl:'/app/trade-discount/templates/v1/common-modal.html',controller:'TradeDiscountModalController',size:'md',resolve:{data:function(){return b}},backdrop:'static',animation:!1,keyboard:!1});i.result.then(function(c){c&&'success'===c&&(g.tradeDiscountTrack('stop-discount-click',b.id,b.description,b.restaurantIds.join(',')),a.currentClickedSideBar('trade-discount'))})},a.headerClick=function(a){$(a.target).addClass('active')},a.toggleTradeDiscount=function(){a.showliveDetails=!1},a.getMetricsData=function(c){a.liveMetricsData='',a.liveMetricsDataExist=!1,a.fetchingData=!0,'viewData'==c.source&&(a.loadDiscountTemplateLoaderChild=!1),b.getMetricsDataApi(c).success(function(b){if(null==b.data&&(a.liveMetricsDataExist=!1,a.fetchingData=!1),'liveData'==c.source){if(0!=b.statusCode)return a.fetchingData=!1,void(a.liveMetricsDataExist=!1);a.liveMetricsDataExist=!0,a.liveMetricsData=b.data}else'viewData'==c.source&&(c.tdMetricsData=b,a.getTdMetaDetailsForEdit(c))}).error(function(){'liveData'==c.source?(a.fetchingData=!1,a.liveMetricsDataExist=!0,a.liveMetricsData=''):'viewData'==c.source&&(c.tdMetricsData='metricsLiveFailed',a.getTdMetaDetailsForEdit(c))})},a.initLiveCloneTradeDiscount=function(b){a.showliveDetails&&(a.showliveDetails=!1),activeCloneData=_.deepClone(b),g.$emit('initCloneCreateTdPage',[activeCloneData,a.metaData])},a.getTdMetaDetailsForLive=function(c){a.loadDiscountTemplateLoaderChild=!1;var d={restaurantId:c.restaurant_id};b.getTdMetaData(d).success(function(b){if(a.activeData.customerType='',a.loadDiscountTemplateLoaderChild=!0,!b.data)return a.showliveDetails=!1,a.toasterContent='Sorry, Something went wrong, Please try again.',a.toasterFlagProfile=!0,void i(function(){a.removeToaster()},8e3);if(a.metaData=b.data,a.userRestrictionMetaList=b.data.userRestrictionMetaList,a.activeData)for(var c in a.userRestrictionMetaList){var d=0;if(!a.activeData.customerType.length)for(var f in a.userRestrictionMetaList[c].fieldValueMap)a.activeData[f]===a.userRestrictionMetaList[c].fieldValueMap[f]&&d++,a.activeData.customerType=Object.keys(a.userRestrictionMetaList[c].fieldValueMap).length==d?a.userRestrictionMetaList[c].restrictionKey:''}a.showliveDetails=!0}).error(function(){a.loadDiscountTemplateLoaderChild=!0,a.showliveDetails=!1,a.toasterContent='Sorry, Something went wrong, Please try again.',a.toasterFlagProfile=!0,i(function(){a.removeToaster()},8e3)})},a.getDiscountDetails=function(c){a.loadDiscountTemplateLoaderChild=!1;var d={restaurant_id:c.restaurant_id,discount_id:c.discount_id};b.getDiscountDetailsApi(d).success(function(b){if(a.loadDiscountTemplateLoaderChild=!0,!b.data)return a.toasterContent='Sorry, Something went wrong, Please try again.',a.toasterFlagProfile=!0,void i(function(){a.removeToaster()},8e3);if('liveData'==c.source){a.activeData.commissionOnFullBill=b.data.commissionOnFullBill,a.activeData.createdAt=b.data.createdAt,a.activeData.createdBy=b.data.createdBy,a.activeData.discountLevel=b.data.discountLevel,a.activeData.ruleDiscountType=b.data.campaign_type,a.activeData.firstOrderRestriction=b.data.firstOrderRestriction,a.activeData.isCurrentlyActive=b.data.isCurrentlyActive,a.activeData.priority=b.data.priority,a.activeData.restaurantFirstOrder=b.data.restaurantFirstOrder,a.activeData.restaurantList=b.data.restaurantList,a.activeData.ruleDiscount=b.data.ruleDiscount,a.activeData.slots=b.data.slots,a.activeData.taxesOnDiscountedBill=b.data.taxesOnDiscountedBill,a.activeData.timeSlotRestriction=b.data.timeSlotRestriction,a.activeData.updatedBy=b.data.updatedBy,a.activeData.userRestriction=b.data.userRestriction,a.getTdMetaDetailsForLive(c),a.getMetricsData(c);var d;d=b.data.restaurantList.map(function(a){return a.id}).join(','),g.tradeDiscountTrack('more-btn-click-discount-card',b.data.id,b.data.description,d)}else if('editData'==c.source){var f=_.deepClone(c.futureTdData);f.commissionOnFullBill=b.data.commissionOnFullBill,f.createdAt=b.data.createdAt,f.createdBy=b.data.createdBy,f.discountLevel=b.data.discountLevel,f.ruleDiscountType=b.data.campaign_type,f.firstOrderRestriction=b.data.firstOrderRestriction,f.isCurrentlyActive=b.data.isCurrentlyActive,f.priority=b.data.priority,f.restaurantFirstOrder=b.data.restaurantFirstOrder,f.restaurantList=b.data.restaurantList,f.ruleDiscount=b.data.ruleDiscount,f.slots=b.data.slots,f.taxesOnDiscountedBill=b.data.taxesOnDiscountedBill,f.timeSlotRestriction=b.data.timeSlotRestriction,f.updatedBy=b.data.updatedBy,f.userRestriction=b.data.userRestriction,c.futureDataToClone=f,a.getTdMetaDetailsForEdit(c);var d;d=f.restaurantList.map(function(a){return a.id}).join(','),g.tradeDiscountTrack('more-btn-click-discount-card',f.id,f.description,d)}else if('viewData'==c.source){var f=_.deepClone(c.futureTdData);f.commissionOnFullBill=b.data.commissionOnFullBill,f.createdAt=b.data.createdAt,f.createdBy=b.data.createdBy,f.discountLevel=b.data.discountLevel,f.ruleDiscountType=b.data.campaign_type,f.firstOrderRestriction=b.data.firstOrderRestriction,f.isCurrentlyActive=b.data.isCurrentlyActive,f.priority=b.data.priority,f.restaurantFirstOrder=b.data.restaurantFirstOrder,f.restaurantList=b.data.restaurantList,f.ruleDiscount=b.data.ruleDiscount,f.slots=b.data.slots,f.taxesOnDiscountedBill=b.data.taxesOnDiscountedBill,f.timeSlotRestriction=b.data.timeSlotRestriction,f.updatedBy=b.data.updatedBy,f.userRestriction=b.data.userRestriction,c.futureDataToClone=f,a.getMetricsData(c);try{var d;d=f.restaurantList.map(function(a){return a.id}).join(','),g.tradeDiscountTrack('more-btn-click-discount-card',f.id,f.description,d)}catch(a){}}}).error(function(){a.loadDiscountTemplateLoaderChild=!0,a.toasterContent='Sorry, Something went wrong, Please try again.',a.toasterFlagProfile=!0,i(function(){a.removeToaster()},8e3)})},a.toggleTradeDiscountLive=function(){var b={discount_id:a.activeData.id,restaurant_id:a.currentSelectedRest,source:'liveData'};a.getDiscountDetails(b)},a.getTdMetaDetails=function(){a.loadDiscountTemplateLoaderChild=!1;var c={restaurantId:a.currentSelectedRest};b.getTdMetaData(c).success(function(b){return a.loadDiscountTemplateLoaderChild=!0,b.data?void(g.$emit('initCreateTdPage',[b.data]),a.$parent.createTradeDiscountView=!0,a.$parent.tradeDiscountCommonPageView=!1):(a.toasterContent='Sorry, Something went wrong, Please try again.',a.toasterFlagProfile=!0,void i(function(){a.removeToaster()},8e3))}).error(function(){a.loadDiscountTemplateLoaderChild=!0,a.toasterContent='Sorry, Something went wrong, Please try again.',a.toasterFlagProfile=!0,i(function(){a.removeToaster()},8e3),a.metaData=''})},a.getTdMetaDetailsForEdit=function(c){a.loadDiscountTemplateLoaderChild=!1;var d={restaurantId:a.currentSelectedRest};b.getTdMetaData(d).success(function(b){return a.loadDiscountTemplateLoaderChild=!0,b.data?void g.$emit('initEditTdPage',[c.futureDataToClone,b.data,c.source,c.tdMetricsData]):(a.toasterContent='Sorry, Something went wrong, Please try again.',a.toasterFlagProfile=!0,void i(function(){a.removeToaster()},8e3))}).error(function(){return a.loadDiscountTemplateLoaderChild=!0,a.toasterContent='Sorry, Something went wrong, Please try again.',a.toasterFlagProfile=!0,void i(function(){a.removeToaster()},8e3)})},a.filterRest=function(b){for(e in a.restAllocatedList)_.where(b,{id:a.restAllocatedList[e].rest_rid})},a.editFutureTd=function(b,c){var d={discount_id:b.id,restaurant_id:a.currentSelectedRest,source:c,futureTdData:b};a.getDiscountDetails(d)},g.$on('initTradeDiscountView',function(b,c){return a.expiredDatas=[],a.disabledDatas=[],a.scheduledDatas=[],a.activeData='',a.showliveDetails=!1,c?void(c.restaurantCampaignStatusList.length&&(c.restaurantCampaignStatusList[0].campaignStatusMap.Active&&(a.activeData=c.restaurantCampaignStatusList[0].campaignStatusMap.Active[0],a.daysLeft=moment(a.activeData.valid_till).diff(moment(c.currentTime),'days')),a.expiredDatas=c.restaurantCampaignStatusList[0].campaignStatusMap.Expired,a.disabledDatas=c.restaurantCampaignStatusList[0].campaignStatusMap.Disabled,a.scheduledDatas=c.restaurantCampaignStatusList[0].campaignStatusMap.Scheduled)):(a.toasterContent='Sorry, Something went wrong, Please try again.',a.toasterFlagProfile=!0,void i(function(){a.removeToaster()},8e3))}),a.initCreateTradeDiscount=function(){g.tradeDiscountTrack('create-discount-click',null,null,g.globals.choosenOutlet.rest_rid),a.getTdMetaDetails()}}function CloneTradeDiscount(a,b,c,d,f,g){a.selectedData='',a.metaData='',g.$on('cloneTdPage',function(b,c){a.$parent.createTradeDiscountView=!0,a.selectedData=c[0],a.metaData=c[1]})}function TradeDiscountModalController(a,b,c,d,f,g){a.miniLoader=!1,a.tdSucc=!1,a.tdFailed='';var g=g;a.cancel=function(){c.dismiss()},a.stopTradeDiscount=function(){var c=_.deepClone(g);a.miniLoader=!0,c.enabled=!1,a.tdFailed='',a.convetNetFlat=function(){c.campaign_type='Flat',c.ruleDiscountType='Flat',c.ruleDiscount.type='Flat'},'Net'==c.campaign_type&&a.convetNetFlat(),b.editTradeDiscountCallApi(c).success(function(b){return a.miniLoader=!1,0==b.statusCode?void(a.tdSucc=!0):void(a.tdFailed='Sorry, Something went wrong. Please try again')}).error(function(){a.miniLoader=!1,a.tdFailed='Sorry, Something went wrong. Please try again'})},a.ok=function(){c.close('success')}}
app.controller('CreateTradeDiscount',CreateTradeDiscount),CreateTradeDiscount.$inject=['$scope','HomeFactory','$document','$window','$uibModal','$rootScope','$cookies'];function CreateTradeDiscount(a,b,c,d,g,h,i){var j=minDate=moment().startOf('day'),k=moment().add(2,'days').endOf('day'),l=moment().add(600,'days').endOf('day'),m=!1;a.slotTime=[{closeTime:'',day:'ALL',openTime:''}],a.metaData='',a.ruleDiscounts=[],a.globalMessage='',a.userRestrictionMetaList=[],a.loadDiscountTemplateLoaderChildV2=!0,a.minCartAmount=null,a.discount=null,tradeDiscountData={},tradeDiscountDataToSend={},a.restAllocatedList=JSON.parse(localStorage.Swiggy_outlets),a.categoryDatas=[],a.restListError='',a.loadingCatData=!1,a.reintElement=!0,a.selectedData={restList:{},valid_from:'',valid_till:'',customerType:'All'},a.resetData=function(){a.slotTime=[{closeTime:'',day:'ALL',openTime:''}],j=minDate=moment().startOf('day'),k=moment().add(2,'days').endOf('day'),l=moment().add(6,'days').endOf('day'),m=!1,a.categoryDatas=[],a.globalMessage='',a.createDiscountForm.$setPristine(),a.createDiscountForm.$setUntouched(),a.selectedData={restList:{},valid_from:'',valid_till:'',customerType:'All'}},a.setRestUnchecked=function(){for(var b=0;b<a.restAllocatedList.length;b++)a.selectedData.restList[a.restAllocatedList[b].rest_rid]=!0;a.selectedData.restList.all=!0};var n=function(b){for(e in a.selectedData.restList)if('object'==typeof a.selectedData.restList[e])for(f in a.selectedData.restList[e])a.selectedData.restList[e][f]=b;else a.selectedData.restList[e]=b};a.allCheckUncheck=function(b,c){if(a.selectedData.restList[c]){if(a.selectedData.restList[c+'-cat'])for(e in a.selectedData.restList[c+'-cat'])a.selectedData.restList[c+'-cat'][e]=!0;for(e in a.selectedData.restList)if('all'!==e&&!a.selectedData.restList[e])return void(a.selectedData.restList.all=!1);a.selectedData.restList.all=!0}else if(a.selectedData.restList.all=!1,a.selectedData.restList[c+'-cat'])for(e in a.selectedData.restList[c+'-cat'])a.selectedData.restList[c+'-cat'][e]=!1},a.allSelected=function(b){if(a.restListError='',void 0!==b)return n(b)},a.scheduleTradeDiscount=function(){h.tradeDiscountTrack(),a.globalMessage='',a.restListError='';var c=[],d={},g=i.get('Swiggy_Session-user'),j=!1;if(a.createDiscountForm.$invalid)return void(a.globalMessage='Please fill the required details');for(var k in a.selectedData.restList)!0==a.selectedData.restList[k]&&'object'!=typeof a.selectedData.restList[k]&&(j=!0);return'Percentage'==a.selectedData.discountTypeName&&99<a.selectedData.discount?void(a.globalMessage='Percentage value cannot be more than 99%'):j?void(6>g.length&&(g+='primary owner'),!a.selectedData.minCartAmount&&(a.selectedData.minCartAmount=0),d={enabled:!0,valid_from:a.selectedData.valid_from,valid_till:a.selectedData.valid_till,campaign_type:a.selectedData.discountTypeName,ruleDiscountType:a.selectedData.discountTypeName,createdBy:g,discountLevel:'Restaurant',slots:[],restaurantList:[],restaurant_hit:'100',swiggy_hit:'0',taxesOnDiscountedBill:!1,commissionOnFullBill:!1,timeSlotRestriction:!0},a.slotTime[0].closeTime&&(d.slots=a.slotTime),a.fetchRestId=function(){for(var b in a.selectedData.restList)a.selectedData.restList[b]&&'object'!=typeof a.selectedData.restList[b]&&'all'!=b&&c.push(parseInt(b));d.restaurantIds=c},a.fetchRestList=function(){for(var b,h=0;h<c.length;h++)for(var i in b={},a.restAllocatedList)if(a.restAllocatedList[i].rest_rid===c[h]){for(var g in b.id=c[h],b.name=a.restAllocatedList[i].rest_name,b.city=a.restAllocatedList[i].rest_city,b.area=a.restAllocatedList[i].rest_area,b.recommended=0,b.costForTwo=0,b.deliveryCharge=0,b.minimumOrder=0,b.opened=0,b.deliveryTime=0,b.tmpClosed=0,b.postalCode=0,b.cityDeliveryCharge=0,b.threshold=0,b.discountType=0,b.tradeCampaignHeaders=[],b.select=!1,b['new']=!1,b.categories=[],a.selectedData.restList[c[h]+'-cat'])if(a.selectedData.restList[c[h]+'-cat'][g]&&'all'!=g)for(var j in a.categoryDatas)if(a.categoryDatas[j].restId===c[h]){for(var l in a.categoryDatas[j].categories)if(g==a.categoryDatas[j].categories[l].id){b.categories.push({id:g,name:a.categoryDatas[j].categories[l].name}),d.discountLevel='Category';break}break}d.restaurantList.push(b);break}},a.fetchType=function(){'Net'==a.selectedData.discountTypeName||'Flat'==a.selectedData.discountTypeName?d.ruleDiscount={type:a.selectedData.discountTypeName,discountLevel:d.discountLevel,flatDiscountAmount:parseFloat(a.selectedData.discount),minCartAmount:parseFloat(a.selectedData.minCartAmount)}:'Percentage'==a.selectedData.discountTypeName&&(d.ruleDiscount={type:a.selectedData.discountTypeName,discountLevel:d.discountLevel,percentDiscount:parseFloat(a.selectedData.discount),minCartAmount:parseFloat(a.selectedData.minCartAmount),percentDiscountAbsoluteCap:0})},a.createTradeDiscountApi=function(c){var d=_.deepClone(c);a.loadDiscountTemplateLoaderChildV2=!1,a.globalMessage='',d.timeSlotRestriction=!!c.slots.length,a.convetNetFlat=function(){d.campaign_type='Flat',d.ruleDiscountType='Flat',d.ruleDiscount.type='Flat'},'Net'==d.campaign_type&&a.convetNetFlat(),b.createTradeDiscountCallApi(d).success(function(b){h.tradeDiscountTrack('new-discount-schedule-click',globals.userInfoDataParam.user_id,null,d.restaurantIds.join(',')),a.loadDiscountTemplateLoaderChildV2=!0,a.returnMessage={restMessage:null,catMessage:null};var c='',g='',i='',j='',k=!1;if(b.data&&b.data.dataRest&&(c=b.data.dataRest.statusMessage,g=b.data.dataRest.statusCode,a.returnMessage.restMessage=b.data.dataRest),b.data&&b.data.dataCat&&(i=b.data.dataCat.statusMessage,j=b.data.dataCat.statusCode,a.returnMessage.catMessage=b.data.dataCat,j===g&&i==c&&(k=!0)),0!=b.statusCode){if(!b.data)return void(a.globalMessage=b.statusMessage);if(b.data.dataRest&&b.data.dataCat){if(k&&(a.globalMessage=c),k||(a.globalMessage=c+'('+b.data.dataRest.restaurantIds+') and '+i+' ('+b.data.dataCat.restaurantIds+')'),0!==b.data.dataRest.statusCode&&0!==b.data.dataCat.statusCode)return;}else if(!b.data.dataRest||b.data.dataCat){if(b.data.dataRest||!b.data.dataCat)return void(a.globalMessage='Something went wrong, please try again');if(a.globalMessage=i,0!==b.data.dataCat.statusCode)return}else if(a.globalMessage=c,0!==b.data.dataRest.statusCode)return}a.cancel(null,!0),a.currentClickedSideBar('trade-discount'),h.$broadcast('tradeDiscountSuccessToster',[a.returnMessage])}).error(function(){a.loadDiscountTemplateLoaderChildV2=!0,a.globalMessage='Something went wrong, Please try again'})},a.fetchCustomerType=function(){for(k in a.userRestrictionMetaList)if(a.userRestrictionMetaList[k].restrictionKey===a.selectedData.customerType){d.firstOrderRestriction=a.userRestrictionMetaList[k].fieldValueMap.firstOrderRestriction,d.userRestriction=a.userRestrictionMetaList[k].fieldValueMap.userRestriction,d.restaurantFirstOrder=a.userRestrictionMetaList[k].fieldValueMap.restaurantFirstOrder;break}},a.checkTDEnabled=function(){a.globalMessage='';var c={restaurantIds:d.restaurantIds};for(var g in a.cityList={},a.noRestExit=[],a.cityNameMap={},a.alocatedCityList=JSON.parse(localStorage.Swiggy_outlets),d.restaurantIds)for(var h in a.alocatedCityList){var i=a.alocatedCityList[h].rest_city_id,j=a.alocatedCityList[h].rest_rid,k=d.restaurantIds[g];if(j==k){a.cityList[i]?a.cityList[i].push(j):a.cityList[i]=[k];break}}a.loadDiscountTemplateLoaderChildV2=!1,b.istradeDiscountEnabled(c).success(function(b){if(a.loadDiscountTemplateLoaderChildV2=!0,0!=b.statusCode)return void(a.globalMessage='Something went wrong, please try again');for(var c in a.cityEnabledList=b.data.cityIds,a.cityNameMap=b.data.cityMap,a.restListUncheck='',a.cityEnabledList)a.cityList.hasOwnProperty(parseInt(a.cityEnabledList[c]))&&a.noRestExit.push(a.cityEnabledList[c]);if(a.showEnabledCities=function(){var b='';for(var c in a.cityEnabledList)b+=a.cityNameMap[a.cityEnabledList[c]],parseInt(c)!=a.cityEnabledList.length-1&&(b+=', ');return b.length?'('+b+')':''},!a.noRestExit.length||!a.cityEnabledList.length)return void(a.globalMessage='Discounts is currently in beta phase and is enabled only for few cities '+a.showEnabledCities());if(a.cityEnabledList.length)for(var c in a.cityList){var g=parseInt(c);-1==a.cityEnabledList.indexOf(g)&&(a.restListUncheck+=a.cityList[c]+', ')}return a.cityEnabledList.length&&a.restListUncheck.length?void(a.globalMessage='Discounts is currently in beta phase and is enabled only for few cities '+a.showEnabledCities()+'. You cannot create discounts for the following restaurant(s) '+a.restListUncheck+'. Please unselect these restaurants from applicable outlets.'):void a.createTradeDiscountApi(d)}).error(function(){a.loadDiscountTemplateLoaderChildV2=!0,a.globalMessage='Something went wrong, please try again'})},a.fetchRestId(),a.fetchRestList(),a.fetchType(),a.fetchCustomerType(),a.checkTDEnabled()):void(a.restListError='Please select any one of the restaurant from restaurant list')},a.childAllCheckUncheck=function(b,c,d,g){if(g){var h=!0,i=!0;for(e in a.selectedData.restList[c]=!0,a.selectedData.restList[c+'-cat'])if('all'!==e&&!a.selectedData.restList[c+'-cat'][e]){h=!1;break}for(e in a.selectedData.restList[c+'-cat'].all=!!h,a.selectedData.restList){var j=e.toString();if('all'!==j&&j!=c+'-cat'&&!a.selectedData.restList[e]){i=!1;break}}a.selectedData.restList.all=!!i}else{for(e in a.selectedData.restList[c+'-cat'].all=!1,a.selectedData.restList[c]=!1,a.selectedData.restList.all=!0,a.selectedData.restList[c+'-cat'])if('all'!==e&&a.selectedData.restList[c+'-cat'][e]){a.selectedData.restList[c]=!0;break}for(e in a.selectedData.restList){var j=e.toString();if('all'!==j&&j!=c+'-cat'&&!a.selectedData.restList[e]){a.selectedData.restList.all=!1;break}}}},a.allSubSelected=function(b,c,d){for(e in a.selectedData.restList[b]=c,d)d[e]=c;if(!c)a.selectedData.restList.all=!1;else{for(e in a.selectedData.restList)if('all'!==e&&!a.selectedData.restList[e])return void(a.selectedData.restList.all=!1);a.selectedData.restList.all=!0}},a.getCategrories=function(c){a.loadingCatData=!0,a.restListError='';var d=c.vm,g=c.showChildData,h=c.restaurantId,j={restaurantId:h};b.getCategrories(j).success(function(b){a.loadingCatData=!1;var c={};if(0!=b.statusCode)return a.restListError='Failed to retrieve catalogue, please try again',[];for(var h in d.showChildData=!g,a.catData=[],b.data.categories)a.catData.push({id:b.data.categories[h].id,name:b.data.categories[h].name});a.categoryDatas.push({restId:j.restaurantId,categories:a.catData});for(var k=0;k<b.data.categories.length;k++)c[b.data.categories[k].id]=a.selectedData.restList[j.restaurantId];c.all=a.selectedData.restList[j.restaurantId],a.selectedData.restList[j.restaurantId+'-cat']=c}).error(function(){return a.loadingCatData=!1,a.restListError='Failed to retrive catlaogues, please try again',a.errorCat=!0,[]})},a.showChild=function(b,c,d){if(a.callCatApi=!0,a.checkRestCatExist=function(b){for(var c=0;c<a.categoryDatas.length;c++)if(b===a.categoryDatas[c].restId)return void(a.callCatApi=!1)},c||a.checkRestCatExist(d),!c&&a.callCatApi){a.getCategrories({vm:b,showChildData:c,restaurantId:d})}else b.showChildData=!c};var o=function(b,c){$('#tradeDiscountDate span').html(b.format('MMMM D, YYYY')+' - '+c.format('MMMM D, YYYY')),$('#tradeDiscountTime span').html(b.format('hh:mm A')+' - '+c.endOf('day').format('hh:mm A')),a.selectedData.valid_from=b.valueOf(),a.selectedData.valid_till=c.valueOf(),q(b,c)},p=function(b,c){a.selectedData.valid_from=b.valueOf(),a.selectedData.valid_till=c.valueOf(),$('#tradeDiscountTime span').html(b.format('hh:mm A')+' - '+c.format('hh:mm A'));var d=moment(c).format('HH')-moment(b).format('HH'),g=function(a,b){if('minute'==b)var c=moment(a.valueOf()).minute();else if('hours'==b)var c=moment(a.valueOf()).hours();return 0===+c?c='00':10>+c&&(c='0'+c),c},h=g(b,'hours')+''+g(b,'minute'),i=g(c,'hours')+''+g(c,'minute');0<d?(a.slotTime=[{closeTime:'',day:'ALL',openTime:''}],a.slotTime[0].closeTime=i,a.slotTime[0].day='ALL',a.slotTime[0].openTime=h):(a.slotTime=[],a.slotTime=[{closeTime:'2359',day:'ALL',openTime:h},{closeTime:i,day:'ALL',openTime:'0'}])},q=function(a,b){$('#tradeDiscountTime').daterangepicker({startDate:a,endDate:b,timePicker:!0,parentEl:'div#timeCal',locale:{format:'h:mm A'}},p)},r=function(a,b){$('#tradeDiscountDate').daterangepicker({startDate:a,minDate:minDate,dateLimit:{days:60},endDate:b},o)};h.$on('initCreateTdPage',function(b,c){a.reintElement=!0,a.resetData(),a.setRestUnchecked(),r(j,k),o(j,k),a.ruleDiscounts=c[0].ruleDiscounts,a.userRestrictionMetaList=c[0].userRestrictionMetaList}),h.$on('initCloneCreateTdPage',function(b,c){var d,g,i;for(var j in a.selectedData=c[0],a.ruleDiscounts=c[1].ruleDiscounts,a.userRestrictionMetaList=c[1].userRestrictionMetaList,d=g=moment().add(1,'m'),i=moment().add(2,'days').endOf('day'),r(d,i),o(d,i),a.$parent.createTradeDiscountView=!0,a.$parent.tradeDiscountCommonPageView=!1,a.$parent.editFutureTradeDiscountView&&(a.$parent.editFutureTradeDiscountView=!1),h.tradeDiscountTrack('clone-discount-click',a.selectedData.id,a.selectedData.description,a.selectedData.restaurantList.map(function(a){return a.id}).join(',')),a.setRestList=function(){for(var b in a.selectedData.restList={},a.selectedData.restList.all=!0,a.restAllocatedList)a.selectedData.restList[a.restAllocatedList[b].rest_rid]=!1;for(var b in a.selectedData.restaurantList)if(a.selectedData.restList[a.selectedData.restaurantList[b].id]=!0,a.selectedData.restaurantList[b].categories&&a.selectedData.restaurantList[b].categories.length){var c={},d=[];for(var g in a.selectedData.restaurantList[b].categories)c[a.selectedData.restaurantList[b].categories[g].id]=!0,d.push({id:a.selectedData.restaurantList[b].categories[g].id,name:a.selectedData.restaurantList[b].categories[g].name});a.categoryDatas.push({restId:a.selectedData.restaurantList[b].id,categories:d}),c.all=!1;a.selectedData.restaurantList[b].id;a.selectedData.restList[a.selectedData.restaurantList[b].id+'-cat']=c}for(var b in a.selectedData.restList)if(!a.selectedData.restList[b]){a.selectedData.restList.all=!1;break}},a.ruleDiscounts)if(a.ruleDiscounts[j].type===a.selectedData.campaign_type){a.selectedData.discounttype=a.ruleDiscounts[j],a.selectedData.discounttype.type=a.selectedData.ruleDiscount.type,a.selectedData.discountTypeName=a.selectedData.campaign_type,a.selectedData.minCartAmount=a.selectedData.ruleDiscount.minCartAmount,a.selectedData.discount=a.selectedData.ruleDiscount.flatDiscountAmount?a.selectedData.ruleDiscount.flatDiscountAmount:a.selectedData.ruleDiscount.percentDiscount;break}a.reintElement=!0,a.setRestList()}),a.setTdInitData=function(b){a.setMinValue=function(){null===b.discounttype.minCartAmount?(a.selectedData.minCartAmount=0,a.selectedData.minCartAmountType=b.discounttype.type):a.selectedData.minCartAmount=b.discounttype.minCartAmount},b.discounttype?'Net'==b.discounttype.type||'Flat'==b.discounttype.type?(a.selectedData.discount=b.discounttype.flatDiscountAmount?b.discounttype.flatDiscountAmount:'',a.selectedData.discountTypeName=b.discounttype.type,a.setMinValue()):'Percentage'==b.discounttype.type&&(a.selectedData.discount=b.discounttype.percentDiscount?b.discounttype.percentDiscount:'',a.selectedData.discountTypeName=b.discounttype.type,a.setMinValue()):(a.selectedData.discount='',a.selectedData.minCartAmount='',a.selectedData.minCartAmountType='',a.selectedData.discountType='',b.discountTypeName='')},a.cancel=function(b,c){a.categoryDatas=[],a.reintElement=!1,a.selectedData={restList:{},valid_from:'',valid_till:'',customerType:'All'},a.restListError='',a.globalMessage='',a.$parent.tradeDiscountCommonPageView=!0,a.$parent.tradeDiscountPageView=!0,a.$parent.createTradeDiscountView=!1,a.$parent.editFutureTradeDiscountView=!1,a.createDiscountForm.$setPristine(),a.createDiscountForm.$setUntouched(),c||h.tradeDiscountTrack('new-discount-cancel-click',globals.userInfoDataParam.user_id,null,h.globals.choosenOutlet.rest_rid)}}
app.controller('EditTradeDiscount',EditTradeDiscount),EditTradeDiscount.$inject=['$scope','HomeFactory','$document','$window','$uibModal','$rootScope','$cookies'];function EditTradeDiscount(c,a,b,d,g,h,i){c.disableEdit=!1,c.loadDiscountTemplateLoaderChildV2=!0;var j=moment().add(15,'m'),k=moment().add(600,'days').endOf('day'),l=!0;c.categoryDatas=[],c.slotTime=[{closeTime:'',day:'ALL',openTime:''}],c.restAllocatedList=JSON.parse(localStorage.Swiggy_outlets),c.metaData='',c.resetData=function(){c.slotTime=[{closeTime:'',day:'ALL',openTime:''}],start=j=moment().add(15,'m'),end=moment().add(2,'days').endOf('day'),k=moment().add(600,'days').endOf('day'),l=!1,c.categoryDatas=[],c.globalMessage='',c.createDiscountForm.$setPristine(),c.createDiscountForm.$setUntouched(),c.selectedData={restList:{},valid_from:'',valid_till:'',customerType:'All'}},c.setRestUnchecked=function(){for(var a=0;a<c.restAllocatedList.length;a++)c.selectedData.restList[c.restAllocatedList[a].rest_rid]=!0;c.selectedData.restList.all=!0};var m=function(a){for(e in c.selectedData.restList)if('object'==typeof c.selectedData.restList[e])for(f in c.selectedData.restList[e])c.selectedData.restList[e][f]=a;else c.selectedData.restList[e]=a};c.allCheckUncheck=function(a,b){if(c.selectedData.restList[b]){if(c.selectedData.restList[b+'-cat'])for(e in c.selectedData.restList[b+'-cat'])c.selectedData.restList[b+'-cat'][e]=!0;for(e in c.selectedData.restList)if('all'!==e&&!c.selectedData.restList[e])return void(c.selectedData.restList.all=!1);c.selectedData.restList.all=!0}else if(c.selectedData.restList.all=!1,c.selectedData.restList[b+'-cat'])for(e in c.selectedData.restList[b+'-cat'])c.selectedData.restList[b+'-cat'][e]=!1},c.allSelected=function(a){if(c.restListError='',void 0!==a)return m(a)},c.childAllCheckUncheck=function(a,b,d,g){if(g){var h=!0,i=!0;for(e in c.selectedData.restList[b]=!0,c.selectedData.restList[b+'-cat'])if('all'!==e&&!c.selectedData.restList[b+'-cat'][e]){h=!1;break}for(e in c.selectedData.restList[b+'-cat'].all=!!h,c.selectedData.restList){var j=e.toString();if('all'!==j&&j!=b+'-cat'&&!c.selectedData.restList[e]){i=!1;break}}c.selectedData.restList.all=!!i}else{for(e in c.selectedData.restList[b+'-cat'].all=!1,c.selectedData.restList[b]=!1,c.selectedData.restList.all=!0,c.selectedData.restList[b+'-cat'])if('all'!==e&&c.selectedData.restList[b+'-cat'][e]){c.selectedData.restList[b]=!0;break}for(e in c.selectedData.restList){var j=e.toString();if('all'!==j&&j!=b+'-cat'&&!c.selectedData.restList[e]){c.selectedData.restList.all=!1;break}}}},c.allSubSelected=function(a,b,d){for(e in c.selectedData.restList[a]=b,d)d[e]=b;if(!b)c.selectedData.restList.all=!1;else{for(e in c.selectedData.restList)if('all'!==e&&!c.selectedData.restList[e])return void(c.selectedData.restList.all=!1);c.selectedData.restList.all=!0}},c.getCategrories=function(b){c.loadingCatData=!0,c.restListError='';var d=b.vm,h=b.showChildData,g=b.restaurantId,j={restaurantId:g};a.getCategrories(j).success(function(a){c.loadingCatData=!1;var b={};if(0!=a.statusCode)return c.restListError='Failed to retrieve catalogue, please try again',[];d.showChildData=!h,c.catData=[];var l=!1;for(var m in c.categoryDatas)if(j.restaurantId==c.categoryDatas[m].restId){for(var n in c.categoryDatas[m].categories)for(var k in a.data.categories){var g=c.categoryDatas[m].categories[n].id,o=a.data.categories[k].id;if(parseInt(o)!==parseInt(g)){c.selectedData.restList.hasOwnProperty(o)||c.selectedData.restList[j.restaurantId+'-cat'][o]||(c.selectedData.restList[j.restaurantId+'-cat'][o]=!1);var p=0;for(var q in c.categoryDatas[m].categories)if(c.categoryDatas[m].categories[q].id==a.data.categories[k].id){p++,c.categoryDatas[m].categories[q].name=a.data.categories[k].name;break}0==p&&c.categoryDatas[m].categories.push({id:parseInt(a.data.categories[k].id),name:a.data.categories[k].name})}}l=!0;break}if(!l){for(var i in a.data.categories)c.catData.push({id:a.data.categories[i].id,name:a.data.categories[i].name});c.categoryDatas.push({restId:j.restaurantId,categories:c.catData});for(var q=0;q<a.data.categories.length;q++)b[a.data.categories[q].id]=c.selectedData.restList.all;if(b.all=c.selectedData.restList.all,c.selectedData.restList[j.restaurantId+'-cat'])for(i in c.selectedData.restList[j.restaurantId+'-cat'])b[i]=!0;c.selectedData.restList[j.restaurantId+'-cat']=b}}).error(function(){return d.showChildData=!1,c.loadingCatData=!1,c.restListError='Failed to retrive catlaogues, please try again',c.errorCat=!0,[]})},c.showChild=function(a,b,d){if(!b){c.getCategrories({vm:a,showChildData:b,restaurantId:d})}else a.showChildData=!b},c.setTdInitData=function(a){c.setMinValue=function(){null===a.discounttype.minCartAmount?(c.selectedData.minCartAmount=0,c.selectedData.minCartAmountType=a.discounttype.type):c.selectedData.minCartAmount=a.discounttype.minCartAmount},a.discounttype?'Net'==a.discounttype.type||'Flat'==c.selectedData.discountTypeName?(c.selectedData.discount=a.discounttype.flatDiscountAmount?a.discounttype.flatDiscountAmount:'',c.selectedData.discountTypeName=a.discounttype.type,c.setMinValue()):'Percentage'==a.discounttype.type&&(c.selectedData.discount=a.discounttype.percentDiscount?a.discounttype.percentDiscount:'',c.selectedData.discountTypeName=a.discounttype.type,c.setMinValue()):(c.selectedData.discount='',c.selectedData.minCartAmount='',c.selectedData.minCartAmountType='',c.selectedData.discountType='',a.discountTypeName='')};var n=function(a,b){$('#editTradeDiscountDate span').html(a.format('MMMM D, YYYY')+' - '+b.endOf('day').format('MMMM D, YYYY')),$('#editTradeDiscountTime span').html(a.format('hh:mm A')+' - '+b.endOf('day').format('hh:mm A')),c.selectedData.valid_from=a.valueOf(),c.selectedData.valid_till=b.valueOf(),p(a,b)},o=function(a,b){c.selectedData.valid_from=a.valueOf(),c.selectedData.valid_till=b.valueOf(),$('#editTradeDiscountTime span').html(a.format('hh:mm A')+' - '+b.format('hh:mm A'));var d=moment(b).format('HH')-moment(a).format('HH'),g=function(a,b){if('minute'==b)var c=moment(a.valueOf()).minute();else if('hours'==b)var c=moment(a.valueOf()).hours();return 0===+c?c='00':10>+c&&(c='0'+c),c},h=g(a,'hours')+''+g(a,'minute'),i=g(b,'hours')+''+g(b,'minute');0<d?(c.slotTime=[{closeTime:'',day:'ALL',openTime:''}],c.slotTime[0].closeTime=i,c.slotTime[0].day='ALL',c.slotTime[0].openTime=h):(c.slotTime=[],c.slotTime=[{closeTime:'2359',day:'ALL',openTime:h},{closeTime:i,day:'ALL',openTime:'0'}])};h.$on('initEditTdPage',function(d,g){if(c.disableEdit=!1,c.liveMetricsDataExist=!1,c.liveMetricsData='','viewData'==g[2]&&(c.disableEdit=!0),c.selectedData=g[0],c.ruleDiscounts=g[1].ruleDiscounts,c.userRestrictionMetaList=g[1].userRestrictionMetaList,g[3]&&'metricsLiveFailed'!==g[3])if(c.liveMetricsData=g[3].data,c.liveMetricsData){var h=parseInt(c.selectedData.valid_from),i=parseInt(c.liveMetricsData.restrictedDate),j=moment(i),a=moment(h);c.liveMetricsDataExist=!!(0<a.diff(j))}else c.liveMetricsDataExist=!1;c.selectedData.restList={},c.metaData=g[1],c.selectedData.customerType||(c.selectedData.customerType='All'),q(moment(c.selectedData.valid_from),moment(c.selectedData.valid_till));var b=function(a,b){$('#editTradeDiscountDate span').html(a.format('MMMM D, YYYY')+' - '+b.format('MMMM D, YYYY')),$('#editTradeDiscountTime span').html(a.format('hh:mm A')+' - '+b.format('hh:mm A')),p(a,b)};for(var k in b(moment(c.selectedData.valid_from),moment(c.selectedData.valid_till)),c.$parent.tradeDiscountCommonPageView=!1,c.$parent.editFutureTradeDiscountView=!0,c.$parent.createTradeDiscountView&&(c.$parent.createTradeDiscountView=!1),c.setRestList=function(){for(var a in c.selectedData.restList={},c.selectedData.restList.all=!0,c.restAllocatedList)c.selectedData.restList[c.restAllocatedList[a].rest_rid]=!1;for(var a in c.selectedData.restaurantList)if(c.selectedData.restList[c.selectedData.restaurantList[a].id]=!0,c.selectedData.restaurantList[a].categories&&c.selectedData.restaurantList[a].categories.length){var b={},d=[];for(var g in c.selectedData.restaurantList[a].categories)b[c.selectedData.restaurantList[a].categories[g].id]=!0,d.push({id:c.selectedData.restaurantList[a].categories[g].id,name:c.selectedData.restaurantList[a].categories[g].name});c.categoryDatas.push({restId:c.selectedData.restaurantList[a].id,categories:d}),b.all=!1;c.selectedData.restaurantList[a].id;c.selectedData.restList[c.selectedData.restaurantList[a].id+'-cat']=b}for(var a in c.selectedData.restList)if(!c.selectedData.restList[a]){c.selectedData.restList.all=!1;break}},c.setCustomerType=function(){!1==c.selectedData.firstOrderRestriction&&!1==c.selectedData.userRestriction&&!1==c.selectedData.restaurantFirstOrder?c.selectedData.customerType='All':!1==c.selectedData.firstOrderRestriction&&!1==c.selectedData.userRestriction&&!0==c.selectedData.restaurantFirstOrder&&(c.selectedData.customerType='RestFirst')},c.ruleDiscounts)if(c.ruleDiscounts[k].type===c.selectedData.campaign_type){c.selectedData.discounttype=c.ruleDiscounts[k],c.selectedData.discounttype.type=c.selectedData.ruleDiscount.type,c.selectedData.discountTypeName=c.selectedData.campaign_type,c.selectedData.minCartAmount=c.selectedData.ruleDiscount.minCartAmount,c.selectedData.discount=c.selectedData.ruleDiscount.flatDiscountAmount?c.selectedData.ruleDiscount.flatDiscountAmount:c.selectedData.ruleDiscount.percentDiscount;break}c.reintElement=!0,c.setRestList(),c.setCustomerType(),c.selectedDataCloned=_.deepClone(c.selectedData)});var p=function(a,b){$('#editTradeDiscountTime').daterangepicker({startDate:a,timePicker:!0,endDate:b,parentEl:'div#timeCalEdit',locale:{format:'h:mm A'}},o)},q=function(a,b){$('#editTradeDiscountDate').daterangepicker({startDate:a,minDate:j,dateLimit:{days:60},endDate:b},n)};c.cancel=function(){c.categoryDatas=[],c.reintElement=!1,c.selectedData={restList:{},valid_from:'',valid_till:'',customerType:'All'},c.restListError='',c.globalMessage='',c.$parent.tradeDiscountCommonPageView=!0,c.$parent.tradeDiscountPageView=!0,c.$parent.createTradeDiscountView=!1,c.$parent.editFutureTradeDiscountView=!1,c.createDiscountForm.$setPristine(),c.createDiscountForm.$setUntouched()},c.initEditCloneTradeDiscount=function(a){h.$emit('initCloneCreateTdPage',[a,c.metaData])},c.initPastCloneTradeDiscount=function(a){h.$emit('initCloneCreateTdPage',[a,c.metaData])},c.reScheduleTradeDiscount=function(){if(c.globalMessage='',c.restListError='',!c.checkPermission())return void(c.globalMessage='Sorry, you dont have permission to edit the trade discount. Please contact the creator');var b=!1,d=[],g=i.get('Swiggy_Session-user'),b=!1;if(c.createDiscountForm.$invalid)return void(c.globalMessage='Please fill the required details');for(var j in c.selectedData.restList)!0==c.selectedData.restList[j]&&'object'!=typeof c.selectedData.restList[j]&&(b=!0);return'Percentage'==c.selectedData.discountTypeName&&99<c.selectedData.discount?void(c.globalMessage='Percentage value cannot be more than 99%'):b?void(6>g.length&&(g+='primary owner'),!c.selectedData.minCartAmount&&(c.selectedData.minCartAmount=0),tradeDiscountDataToSend={enabled:!0,valid_from:c.selectedData.valid_from,valid_till:c.selectedData.valid_till,campaign_type:c.selectedData.discountTypeName,ruleDiscountType:c.selectedData.discountTypeName,createdBy:g,discountLevel:'Restaurant',slots:[],restaurantList:[],restaurant_hit:'100',swiggy_hit:'0',taxesOnDiscountedBill:!1,commissionOnFullBill:!1,timeSlotRestriction:!0},c.slotTime[0].closeTime&&(tradeDiscountDataToSend.slots=c.slotTime),c.fetchRestId=function(){for(var a in c.selectedData.restList)c.selectedData.restList[a]&&'object'!=typeof c.selectedData.restList[a]&&'all'!=a&&d.push(parseInt(a));tradeDiscountDataToSend.restaurantIds=d},c.fetchRestList=function(){for(var a,b=0;b<d.length;b++)for(var h in a={},c.restAllocatedList)if(c.restAllocatedList[h].rest_rid===d[b]){for(var g in a.id=d[b],a.name=c.restAllocatedList[h].rest_name,a.city=c.restAllocatedList[h].rest_city,a.area=c.restAllocatedList[h].rest_area,a.recommended=0,a.costForTwo=0,a.deliveryCharge=0,a.minimumOrder=0,a.opened=0,a.deliveryTime=0,a.tmpClosed=0,a.postalCode=0,a.cityDeliveryCharge=0,a.threshold=0,a.discountType=0,a.tradeCampaignHeaders=[],a.select=!1,a['new']=!1,a.categories=[],c.selectedData.restList[d[b]+'-cat'])if(c.selectedData.restList[d[b]+'-cat'][g]&&'all'!=g)for(var i in c.categoryDatas)if(c.categoryDatas[i].restId===d[b]){for(var j in c.categoryDatas[i].categories)if(g==c.categoryDatas[i].categories[j].id){a.categories.push({id:g,name:c.categoryDatas[i].categories[j].name}),tradeDiscountDataToSend.discountLevel='Category';break}break}tradeDiscountDataToSend.restaurantList.push(a);break}},c.fetchType=function(){'Net'==c.selectedData.discountTypeName||'Flat'==c.selectedData.discountTypeName?tradeDiscountDataToSend.ruleDiscount={type:c.selectedData.discountTypeName,discountLevel:tradeDiscountDataToSend.discountLevel,flatDiscountAmount:parseFloat(c.selectedData.discount),minCartAmount:parseFloat(c.selectedData.minCartAmount)}:'Percentage'==c.selectedData.discountTypeName&&(tradeDiscountDataToSend.ruleDiscount={type:c.selectedData.discountTypeName,discountLevel:tradeDiscountDataToSend.discountLevel,percentDiscount:parseFloat(c.selectedData.discount),minCartAmount:parseFloat(c.selectedData.minCartAmount),percentDiscountAbsoluteCap:0})},tradeDiscountDataToSend.updatedBy=g,tradeDiscountDataToSend.id=c.selectedData.id,c.fetchCustomerType=function(){for(j in c.userRestrictionMetaList)if(c.userRestrictionMetaList[j].restrictionKey===c.selectedData.customerType){tradeDiscountDataToSend.firstOrderRestriction=c.userRestrictionMetaList[j].fieldValueMap.firstOrderRestriction,tradeDiscountDataToSend.userRestriction=c.userRestrictionMetaList[j].fieldValueMap.userRestriction,tradeDiscountDataToSend.restaurantFirstOrder=c.userRestrictionMetaList[j].fieldValueMap.restaurantFirstOrder;break}},c.editTradeDiscountApi=function(b){var d=_.deepClone(b);c.loadDiscountTemplateLoaderChildV2=!1,c.globalMessage='',c.convetNetFlat=function(){d.campaign_type='Flat',d.ruleDiscountType='Flat',d.ruleDiscount.type='Flat'},'Net'==d.campaign_type&&c.convetNetFlat(),d.timeSlotRestriction=!!b.slots.length,a.editTradeDiscountCallApi(d).success(function(a){c.loadDiscountTemplateLoaderChildV2=!0,c.loadDiscountTemplateLoaderChildV2=!0,c.returnMessage={restMessage:'',catMessage:''};var b='',d='',g='',i='',j=!1;if(a.data&&a.data.dataRest&&(b=a.data.dataRest.statusMessage,d=a.data.dataRest.statusCode,c.returnMessage.restMessage=a.data.dataRest),a.data&&a.data.dataCat&&(g=a.data.dataCat.statusMessage,i=a.data.dataCat.statusCode,c.returnMessage.catMessage=a.data.dataCat,i===d&&g==b&&(j=!0)),0!=a.statusCode){if(!a.data)return void(c.globalMessage=a.statusMessage);if(a.data.dataRest&&a.data.dataCat){if(j&&(c.globalMessage=b),j||(c.globalMessage=b+'('+a.data.dataRest.restaurantIds+') and '+g+' ('+a.data.dataCat.restaurantIds+')'),0!==a.data.dataRest.statusCode&&0!==a.data.dataCat.statusCode)return;}else if(!a.data.dataRest||a.data.dataCat){if(a.data.dataRest||!a.data.dataCat)return void(c.globalMessage='Something went wrong, please try again');if(c.globalMessage=g,0!==a.data.dataCat.statusCode)return}else if(c.globalMessage=b,0!==a.data.dataRest.statusCode)return}c.cancel(),c.currentClickedSideBar('trade-discount'),h.$broadcast('tradeDiscountSuccessToster',[c.returnMessage])}).error(function(){c.loadDiscountTemplateLoaderChildV2=!0,c.globalMessage='Something went wrong, Please try again'})},c.checkTDEnabled=function(){c.globalMessage='';var b={restaurantIds:tradeDiscountDataToSend.restaurantIds};for(var d in c.cityList={},c.noRestExit=[],c.cityNameMap={},c.alocatedCityList=JSON.parse(localStorage.Swiggy_outlets),tradeDiscountDataToSend.restaurantIds)for(var g in c.alocatedCityList){var h=c.alocatedCityList[g].rest_city_id,i=c.alocatedCityList[g].rest_rid,j=tradeDiscountDataToSend.restaurantIds[d];if(i==j){c.cityList[h]?c.cityList[h].push(i):c.cityList[h]=[j];break}}c.loadDiscountTemplateLoaderChildV2=!1,a.istradeDiscountEnabled(b).success(function(a){if(c.loadDiscountTemplateLoaderChildV2=!0,0!=a.statusCode)return void(c.globalMessage='Something went wrong, please try again');for(var b in c.cityEnabledList=a.data.cityIds,c.cityNameMap=a.data.cityMap,c.restListUncheck='',c.cityEnabledList)c.cityList.hasOwnProperty(parseInt(c.cityEnabledList[b]))&&c.noRestExit.push(c.cityEnabledList[b]);if(c.showEnabledCities=function(){var a='';for(var b in c.cityEnabledList)a+=c.cityNameMap[c.cityEnabledList[b]],parseInt(b)!=c.cityEnabledList.length-1&&(a+=', ');return a.length?'('+a+')':''},!c.noRestExit.length||!c.cityEnabledList.length)return void(c.globalMessage='Discounts is currently in beta phase and is enabled only for few cities '+c.showEnabledCities());if(c.cityEnabledList.length)for(var b in c.cityList){var d=parseInt(b);-1==c.cityEnabledList.indexOf(d)&&(c.restListUncheck+=c.cityList[b]+', ')}return c.cityEnabledList.length&&c.restListUncheck.length?void(c.globalMessage='Discounts is currently in beta phase and is enabled only for few cities '+c.showEnabledCities()+'. You cannot create discounts for the following restaurant(s) '+c.restListUncheck+'. Please unselect these restaurants from applicable outlets.'):void c.editTradeDiscountApi(tradeDiscountDataToSend)}).error(function(){c.loadDiscountTemplateLoaderChildV2=!0,c.globalMessage='Something went wrong, please try again'})},c.fetchRestId(),c.fetchRestList(),c.fetchType(),c.fetchCustomerType(),c.checkTDEnabled()):void(c.restListError='Please select any one of the restaurant from restaurant list')},c.checkPermission=function(){for(var a in c.selectedData.restaurantList){var b=!1;if(c.getRestList[a])for(var d in c.restIdList&&c.restIdList.push(c.getRestList[a].rest_rid),c.getRestList)if(c.getRestList[d].rest_rid==c.selectedData.restaurantList[a].id){b=!0;break}if(!b){return!1}}return!0},c.initStopTradeDiscountModal=function(a){if(c.globalMessage='',c.restIdList=[],!c.checkPermission())return void(c.globalMessage='Sorry, you dont have permission to stop the trade discount. Please contact the creator');a.restaurantIds=c.restIdList,a.updatedBy=a.createdBy;var b=g.open({templateUrl:'/app/trade-discount/templates/v1/common-modal.html',controller:'TradeDiscountModalController',size:'md',resolve:{data:function(){return a}},backdrop:'static',animation:!1,keyboard:!1});b.result.then(function(b){b&&'success'===b&&(h.tradeDiscountTrack('stop-discount-click',a.id,a.description,a.restaurantIds.join(',')),c.currentClickedSideBar('trade-discount'))})}}
app.controller('SellerTierController',SellerTierController),SellerTierController.$inject=['$scope','HomeFactory','$rootScope','$timeout','$cookies'];function SellerTierController(a,b,c,d,e){a.dataBenefits={},a.scrollActiveStatus='',a.moveActiveDefiner=function(){if('Gold'==a.currentRestTier)return'gold-active';return'Silver'==a.currentRestTier?'silver-active':'Platinum'==a.currentRestTier?'platinum-active':'Bronze'==a.currentRestTier?'bronze-acitve':void 0},a.calculatePos=function(){a.scrollActiveStatus='';var b=1;return'Bronze'==a.currentRestTier?(a.scrollActiveStatus='bronze-status',b):'Silver'==a.currentRestTier?(a.scrollActiveStatus='silver-status',b):'Gold'==a.currentRestTier?(a.scrollActiveStatus='gold-status',100*b):'Platinum'==a.currentRestTier?(a.scrollActiveStatus='platinum-status',200*b):void 0},a.processDataBenefits=function(b){a.dataBenefits=b,a.config={autoHideScrollbar:!1,theme:'light',advanced:{updateOnContentResize:!0},scrollbarPosition:'inside',axis:'x',scrollTo:''},d(function(){$('#scrollWrapper').mCustomScrollbar('scrollTo',a.calculatePos(a.dataBenefits.tier))},0)},a.processSellerTierMetricsData=function(b){for(var c in a.sellerTierMetricsData=b,a.sellerTierMetricsData)a.sellerTierMetricsData.acceptanceRate=parseFloat(a.sellerTierMetricsData.acceptanceRate),a.sellerTierMetricsData.cancellationRate=parseFloat(a.sellerTierMetricsData.cancellationRate),a.sellerTierMetricsData.editRate=parseFloat(a.sellerTierMetricsData.editRate),a.sellerTierMetricsData.totalRevenue=parseFloat(a.sellerTierMetricsData.totalRevenue)},a.fireEvents=function(a){'know_more_tier_info'==a,'merchent_tier'==a,'faq_tier'==a},a.openExternalBrowser=function(b,c,d){if(!a.notWebView){var d=e.get('restaurantId');a.fireEvents(c,d)}else a.fireEvents(c,d);swiggyWebInterface.openOutsideUrl(b)},c.$on('initSellerTierView',function(b,c){a.processSellerTierMetricsData(c)}),c.$on('initSellerTierPermformance',function(b,c){a.processDataBenefits(c)}),c.$on('initSellerCombinedData',function(b,c){a.currentRestTier=c[0].tier,a.processSellerTierMetricsData(c[0]),a.processDataBenefits(c[1])})}
angular.element(document).ready(function(){angular.element('.page__sidebar .nav--features a.dropdown-toggle').on('touchstart click',function(a){a.preventDefault();var b=angular.element(this);return'touchstart'===a.type?(b.hasClass('no-follow')||b.addClass('no-follow'),void b.dropdown('toggle')):void('click'===a.type&&!b.hasClass('no-follow')&&(window.location.href=b.attr('href')))}),angular.element('#tcModal .content').mCustomScrollbar({autoHideScrollbar:!0}),angular.element('.page__sidebar').mCustomScrollbar({axis:'y',autoHideScrollbar:!0,live:!0}),angular.element('.toggle-outlets .toggle-outlets__tabs').mCustomScrollbar({axis:'x',live:!0}),angular.element('.toggle-outlets__list').mCustomScrollbar({autoHideScrollbar:!0,live:!0}),angular.element('.choose-outlet__list').mCustomScrollbar({autoHideScrollbar:!0,live:!0}),angular.element('.order-previews').mCustomScrollbar({autoHideScrollbar:!0,live:!0}),angular.element('.order-details__menu-content').mCustomScrollbar({autoHideScrollbar:!0,live:!0}),angular.element('.order-details__sidebar').mCustomScrollbar({autoHideScrollbar:!0,live:!0}),angular.element('.order-details__menu-footer .dropdown-menu').mCustomScrollbar({autoHideScrollbar:!0,live:!0}),angular.element('.close-kitchen-popup-content').mCustomScrollbar({autoHideScrollbar:!0,live:!0}),angular.element(document).on('click',function(){var a=angular.element(this);a.find('.dropdown.keep-open').removeClass('keep-open')}),angular.element(document).on('click','.dropdown-menu',function(){var a=angular.element(this).parent();a.hasClass('keep-open')||a.addClass('keep-open')}),angular.element(document).on('hide.bs.dropdown','.dropdown',function(){var a=angular.element(this);return a.hasClass('keep-open')?(a.removeClass('keep-open'),!1):0<a.children('.toggle-outlets').length?!1===angular.element('.toggle-outlets__confirm-popup').is(':visible'):void 0});var a=function(){switch(globals.menu){case'currentOrders':c.pageRefreshed=!0,c.currentClickedSideBar('current-orders');break;case'pastOrders':c.pageRefreshed=!0,c.currentClickedSideBar('past-orders');break;case'restaurantPastOrders':var a=c.chainOutletObject,b=JSON.parse(globals.params);for(var d in a){var e=a[d];if(e.rest_rid.toString()===b.restaurant_id.toString()){c.pageRefreshed=!0,c.currentClickedSideBar('past-orders'),c.openPastOrders(e.rest_rid,e.rest_city,e.rest_area,e.rest_locality);break}}break;case'menu':c.pageRefreshed=!0,c.currentClickedSideBar('catalog-tab');break;case'restaurantMenu':var a=c.chainOutletObject,b=JSON.parse(globals.params);for(var d in a){var e=a[d];if(e.rest_rid.toString()===b.restaurant_id.toString()){c.restLocation=e.rest_city+'-'+e.rest_area+'-'+e.rest_locality,c.pageRefreshed=!0,c.currentClickedSideBar('restaurant-menu');break}}break;case'outofStockItems':c.pageRefreshed=!0,c.currentClickedSideBar('item-outstock');break;case'restaurantOutofStockItems':var a=c.chainOutletObject,b=JSON.parse(globals.params);for(var d in a){var e=a[d];if(e.rest_rid.toString()===b.restaurant_id.toString()){c.restLocation=e.rest_city+'-'+e.rest_area+'-'+e.rest_locality,c.pageRefreshed=!0,c.currentClickedSideBar('item-outstock');break}}break;case'revisionHistory':case'restaurantRevisionHistory':case'menuUpload':case'restaurantMenuUpload':var b=JSON.parse(globals.params),f=+b.restaurant_id;if(c.pageFeatureNotAvailable=!1,f){var g=JSON.parse(globals.featureGatePermission);if(!(g.self_serve_menu_enabled_restaurants&&g.self_serve_menu_enabled_restaurants instanceof Array))c.pageFeatureNotAvailable=!0;else if(-1<g.self_serve_menu_enabled_restaurants.indexOf(f))switch(c.pageRefreshed=!0,globals.menu){case'revisionHistory':case'restaurantRevisionHistory':c.currentClickedSideBar('menu-revision');break;case'menuUpload':case'restaurantMenuUpload':c.currentClickedSideBar('menu-images');}else c.pageFeatureNotAvailable=!0}break;case'sellerTier':c.pageRefreshed=!0,c.currentClickedSideBar('seller-desc');break;case'restaurantSellerTier':var a=c.chainOutletObject,b=JSON.parse(globals.params);for(var d in a){var e=a[d];if(e.rest_rid.toString()===b.restaurant_id.toString()){c.restLocation=e.rest_city+'-'+e.rest_area+'-'+e.rest_locality,c.pageRefreshed=!0;var h={area:e.area,cityId:e.rest_city_id,locality:e.rest_locality,rid:e.rest_rid,tier:e.tier};c.initSellerTierCall(h,e.rest_city,!1);break}}break;case'sellerDescDirectMenu':var a=c.chainOutletObject,b=JSON.parse(globals.params);for(var d in a){var e=a[d];if(e.rest_rid.toString()===b.restaurant_id.toString()){c.restLocation=e.rest_city+'-'+e.rest_area+'-'+e.rest_locality,c.pageRefreshed=!0,c.currentClickedSideBar('seller-desc-direct-menu');break}}break;case'tradeDiscount':c.pageRefreshed=!0,c.currentClickedSideBar('trade-discount');break;case'restaurantTradeDiscount':var a=c.chainOutletObject,b=JSON.parse(globals.params);for(var d in a){var e=a[d];if(e.rest_rid.toString()===b.restaurant_id.toString()){c.restLocation=e.rest_city+'-'+e.rest_area+'-'+e.rest_locality,c.pageRefreshed=!0,c.currentClickedSideBar('trade-discount'),c.initTradeDiscountApi(e.rest_city,{locality:e.rest_locality,rid:e.rest_rid,area:e.rest_area});break}}break;case'restaurantInfo':c.pageRefreshed=!0,c.currentClickedSideBar('rest-info');break;case'restaurantProfile':case'restaurantAccount':case'restaurantUsers':case'restaurantFinance':case'restaurantFssai':case'restaurantGst':case'restaurantPrepTime':var a=c.chainOutletObject,b=JSON.parse(globals.params),i='';switch(globals.menu){case'restaurantProfile':case'restaurantAccount':i='profile';break;case'restaurantUsers':i='users';break;case'restaurantFinance':i='finance';break;case'restaurantFssai':i='fssai';break;case'restaurantGst':i='gst';break;case'restaurantPrepTime':i='prepTimeTab';}for(var d in a){var e=a[d];if(e.rest_rid.toString()===b.restaurant_id.toString()){c.pageRefreshed=!0,c.currentClickedSideBar('rest-info'),c.showProfilePage(e.rest_city,{locality:e.rest_locality,rid:e.rest_rid,area:e.rest_area},null,function(a){if(a){var b=angular.element('.restaurant-info-profile'),c=angular.element(b).scope();c.showProfileTabs(i)}});break}}break;case'contact':c.pageRefreshed=!0,c.currentClickedSideBar('contact-swiggy');break;case'settings':c.pageRefreshed=!0,c.currentClickedSideBar('setting-page');break;case'ordersSettings':c.pageRefreshed=!0,c.currentClickedSideBar('setting-page'),c.settingsMainMenu('notification');break;case'debugSettings':c.pageRefreshed=!0,c.currentClickedSideBar('setting-page'),c.settingsMainMenu('debugSettings');break;case'profileSettings':c.pageRefreshed=!0,c.currentClickedSideBar('setting-page'),c.settingsMainMenu('profile');break;case'changePassword':c.pageRefreshed=!0,c.currentClickedSideBar('setting-page'),c.profileforchangepassword();break;case'termsConditions':c.pageRefreshed=!0,c.currentClickedSideBar('terms-condition');break;case'swiggy-pop':c.pageRefreshed=!0,c.currentClickedSideBar('swiggy-pop');break;case'ticketDetails':c.pageRefreshed=!0;var a=c.chainOutletObject,b=JSON.parse(globals.params);c.itemTicketApi(b.ticketId);}};if(globals.menu&&0<globals.menu.length){var b=angular.element('.app'),c=angular.element(b).scope();if(c.pageAccessDenied=!1,globals.params&&0<globals.params.length){var d=c.chainOutletObject,e=JSON.parse(globals.params);for(var f in d){var g=d[f];if(g.rest_name)return void a()}c.fetchUserRestDetails(e,function(b){!1===b?c.pageAccessDenied=!0:a()})}else a()}});
var app=angular.module('loginApp',['ngRaven','ngCookies','ui.bootstrap']);app.config(['$interpolateProvider','$httpProvider',function(a,b){a.startSymbol('{[{'),a.endSymbol('}]}'),b.interceptors.push(['$rootScope','$q',function(a,b){var c=0;return{request:function(d){return d.timeout=15000,d.config&&d.config.silent||(c++,a.$broadcast('httpRequestsInProgress')),d.start=new Date().getTime(),d||b.when(d)},requestError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),b.reject(d)},response:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:d.data.statusCode,md:d.config.method,pn:'Login'}),d||b.when(d)},responseError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:-999,md:d.config.method,pn:'Login'}),b.reject(d)}}}])}]),app.run(['$rootScope',function(){localStorage.removeItem('Swiggy_outlets'),localStorage.removeItem('Swiggy_user'),localStorage.removeItem('Swiggy_perms'),localStorage.removeItem('Swiggy_role'),localStorage.removeItem('Swiggy_internal_user'),localStorage.removeItem('sw_gst_pop_up_click_flag'),localStorage.removeItem('self_serve_menu_enabled_restaurants'),localStorage.removeItem('choosen_outlet'),localStorage.removeItem('config'),localStorage.removeItem('stopOrderNotification'),localStorage.removeItem('just_logged_in'),localStorage.removeItem('fcm'),localStorage.removeItem('history')}]),app.directive('loginEnter',function(){return function(a,b,c){b.bind('keydown keypress',function(b){13===b.which&&(a.apply(function(){a.$eval(c.loginEnter)}),b.preventDefault())})}}),app.factory('LoginFactory',['$http',function(b){return{restaurants:function(){return b.get('/vms/restaurants/')},users:function(){return b.get('/vms/users/')},login:function(c){return b.post('/authentication/v1/login/',c)}}}]),app.controller('LoginCtrl',['$scope','$cookies','$timeout','$interval','$window','LoginFactory','$uibModal','$rootScope',function(a,b,c,d,e,f,g,h){h.appTrack=function(a){window._vmsTracker_queue=window._vmsTracker_queue||[],window._vmsTracker_queue.push(a)},a.trackForLoginPage=function(a,b,c,d,e){h.appTrack({event:a,data:{eventType:'click',"object-name":a,"screen-name":'login-page',"object-value":b,field1:e,context:d,"object-position":c}})},a.status=!1,a.showRes=null,a.init=function(){a.status=!1,a.showRes='',a.mobNo='',a.otp='',a.disableFields=!1,a.showSignInError=''},a.showAgrrement=function(){g.open({animation:!1,templateUrl:'/app/terms-and-conditions/templates/v1/terms-conditon-holder.html',controller:'termsConditionController',size:'lg',backdrop:'static',resolve:{}})},a.checkStatus=function(){return a.status},a.forgotpassword=function(){a.trackForLoginPage('forgot-password-btn-click',null,null,null,null),e.location.href='/forgotpassword/'},a.clearData=function(){a.showSignInError=''},a.changeStatus=function(){var b={username:a.mobNo,password:a.otp};a.showSignInErrorMobile=!1,a.showSignInErrorOtp=!1,a.disableFields=!0,f.login(b).success(function(b){if(0!=b.statusCode)return a.showSignInError=b.statusMessage,a.disableFields=!1,void a.trackForLoginPage('sign-in-btn-click','login-fail',null,null,null);if('undefined'==typeof Storage)return a.showSignInError='Browser not compatible. Please update your browser',void(a.disableFields=!1);for(var c=0;c<b.outlets.length;c++)b.outlets[c].isPolling=!0,b.outlets[c].isOpen=!0;localStorage.setItem('Swiggy_outlets',JSON.stringify(b.outlets)),localStorage.setItem('choosen_outlet',JSON.stringify(b.outlets[0])),localStorage.setItem('Swiggy_user',b.user_id),localStorage.setItem('Swiggy_perms',JSON.stringify(b.permissions)),localStorage.setItem('Swiggy_role',b.role_id),localStorage.setItem('just_logged_in',!0);try{Raven.setUserContext({userId:b.user_id,id:b.user_id})}catch(a){console.log('error doing raven init userContext')}localStorage.Swiggy_outlets?a.trackForLoginPage('sign-in-btn-click','login-sucess',null,null,null):a.trackForLoginPage('sign-in-btn-click','login-fail',null,null,null);var d=location.toString().replace('http://','').replace('https://',''),e=d.split('?'),f=b.redirect_url,g='';e=e.filter(function(a){return!!a&&-1===a.indexOf('_branch_match_id')});for(var c=1;c<e.length;c++)1<c&&(g+='/'),g+=e[c];return 0<g.length&&(f='/'+g),f=f.replace('next=',''),void(window.location.href=f)}).error(function(b){a.showSignInError=b.statusMessage,null!=b.redirect_url&&(window.location.href=b.redirect_url)})},a.init()}]),app.controller('termsConditionController',['$scope','$uibModalInstance',function(a,b){a.cancel=function(){b.dismiss('cancel')}}]);
var app=angular.module('forgotApp',['ngRaven','ngCookies']);app.config(['$interpolateProvider','$httpProvider',function(a,b){a.startSymbol('{[{'),a.endSymbol('}]}'),b.interceptors.push(['$rootScope','$q',function(a,b){var c=0;return{request:function(d){return d.timeout=15000,d.config&&d.config.silent||(c++,a.$broadcast('httpRequestsInProgress')),d.start=new Date().getTime(),d||b.when(d)},requestError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),b.reject(d)},response:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:d.data.statusCode,md:d.config.method,pn:'Forgot Password'}),d||b.when(d)},responseError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:-999,md:d.config.method,pn:'Forgot Password'}),b.reject(d)}}}])}]),app.factory('forgotFactory',['$http',function(b){return{postUserName:function(c){return b.post('/forgotPassword/v1/step0/',c)},otpField:function(c){return b.post('/forgotPassword/v1/step1/',c)},updatePassword:function(c){return b.post('/forgotPassword/v1/step2/',c)},resend_otp:function(c){return b.post('/forgotPassword/v1/resendOtp/',c)},reqPasswordConfig:function(c){return b.get('/api/password/v1/passwordConfig/',{params:c})}}}]),app.directive('passwordPolicyConfigView',function(){return{restrict:'E',templateUrl:'/app/shared/templates/password-policy-config-view.html'}}),app.controller('forotCtrl',['$scope','$cookies','$timeout','$interval','forgotFactory','$rootScope',function(a,b,c,d,e,f){a.status=!1,a.showRes=null,f.appTrack=function(a){window._vmsTracker_queue=window._vmsTracker_queue||[],window._vmsTracker_queue.push(a)},a.trackForForgotPassword=function(a,b,c,d,e){f.appTrack({event:a,data:{eventType:'click',"object-name":a,"screen-name":'forgot-password-page',"object-value":b,field1:e,context:d,"object-position":c}})},a.init=function(){a.status=!1,a.showRes='',a.mobNo='',a.currentUserNum='',a.otp='',a.forgotStep=0;a.buttonMessage='Submit',a.resentOtpText='Resend OTP',a.passwordPolicyData='',a.showPasswordConfigData=!1,a.passwordPolicyRegex='',a.passwordPolicyErrorText='',a.otpVerificationMessage=''},a.resendOtp=function(){var b={};a.resentOtpText='Resending OTP..',a.trackForForgotPassword('resent-otp-click',null,null,null,null),b.username=userName,e.resend_otp(b).success(function(b){return a.resentOtpText='Resend OTP',b.statusCode?void(a.showRes=b.statusMessage):void(a.showRes=b.statusMessage)}).error(function(b){a.resentOtpText='Resend OTP',a.showRes=b.statusMessage})},a.getUserInfo=function(b){a.showLoad=!0,e.reqPasswordConfig({username:b}).success(function(b){return a.showLoad=!1,0==b.statusCode?void(a.passwordPolicyData=b.data.text,a.passwordPolicyRegex=b.data.regex,a.passwordPolicyErrorText=b.data.text):(a.passwordPolicyData='',a.passwordPolicyRegex='',void(a.passwordPolicyErrorText=''))}).error(function(){a.showLoad=!1,a.passwordPolicyData='',a.passwordPolicyRegex='',a.passwordPolicyErrorText=''})},a.showPasswordConfig=function(){a.showPasswordConfigData=!0},a.hidePasswordConfig=function(){a.showPasswordConfigData=!1},a.forgotpassword=function(b){a.status=!1;var c=!0;a.showRes='';var d={};switch(b){case 0:a.currentUserNum='',a.buttonMessage='Submit';var f=document.getElementById('forgotusername').value;if(f.length)d.username=f,userName=f,d.step=0;else return a.showRes='Please enter the user name',a.trackForForgotPassword('forgot-password-submit','user-name-missing',null,null,null),void(c=!1);a.currentUserNum=f;break;case 1:a.getUserInfo(a.currentUserNum),a.buttonMessage='Verify';var g=document.getElementById('forgotverifyotp').value;if(g.length)d.otp=g,d.username=userName,d.step=1;else return a.showRes='Please enter the OTP',a.trackForForgotPassword('submit-otp-click','otp-missing',null,null,null),void(c=!1);break;case 2:var h=document.getElementById('forgotverifypassword').value,i=document.getElementById('reenterforgotverifypassword').value;if(h.length&&i.length){if(h!=i)return c=!1,a.status=!0,a.showRes='New password and confirm password do not match please retry.',void a.trackForForgotPassword('update-password-submit','password-not-matching',null,null,null);if(a.passwordPolicyRegex){var j=new RegExp(a.passwordPolicyRegex);if(!j.test(h)||!j.test(i))return c=!1,a.showPasswordConfigData=!0,document.getElementById('forgotverifypassword').focus(),a.showRes='Password does not match with the required policy',void a.trackForForgotPassword('update-password-submit','password-policy-failed',null,null,null)}d.step=2,d.username=userName,d.newPassword=h,d.confirmPassword=i}else return a.showRes='Please enter required details',a.trackForForgotPassword('update-password-submit','password-not-enetered',null,null,null),void(c=!1);break;default:a.status=!0,a.showRes='Invalid details',a.buttonMessage='Submit';}c&&(0==d.step?(a.buttonMessage='Submitting...',e.postUserName(d).success(function(b){if(0!=b.statusCode){a.buttonMessage='Submit',a.showRes=b.statusMessage;var c=b.statusMessage.toLowerCase();return c=b.statusMessage.replace(' ','-'),void a.trackForForgotPassword('forgot-password-submit',c,null,null,null)}a.buttonMessage='Verify',a.otpVerificationMessage=b.statusMessage,a.trackForForgotPassword('forgot-password-submit',null,null,null,null),a.forgotStep=1,b.step=1}).error(function(b){a.buttonMessage='Submit',a.showRes=b.statusMessage;var c=b.statusMessage.toLowerCase();c=b.statusMessage.replace(' ','-'),a.trackForForgotPassword('forgot-password-submit',c,null,null,null)})):1==d.step?(a.buttonMessage='Verifying...',e.otpField(d).success(function(b){if(0!=b.statusCode){a.buttonMessage='Verify',a.showRes=b.statusMessage;var c=b.statusMessage.toLowerCase();return c=b.statusMessage.replace(' ','-'),void a.trackForForgotPassword('submit-otp-click',c,null,null,null)}a.buttonMessage='Submit',a.forgotStep=2,a.trackForForgotPassword('submit-otp-click',null,null,null,null),b.step=2}).error(function(b){a.buttonMessage='Verify',a.showRes=b.statusMessage;var c=b.statusMessage.toLowerCase();return c=b.statusMessage.replace(' ','-'),void a.trackForForgotPassword('submit-otp-click',c,null,null,null)})):2==d.step&&(a.buttonMessage='Submitting..',e.updatePassword(d).success(function(b){if(0!=b.statusCode){var c;return void(b.data&&!b.data.isValid?(a.showRes=b.data.message,a.passwordPolicyData=succData.data.text,a.passwordPolicyRegex=succData.data.regex,a.passwordPolicyErrorText=succData.data.text,c=a.showRes.toLowerCase(),c=a.showRes.replace(' ','-'),a.trackForForgotPassword('update-password-submit',c,null,null,null)):(a.buttonMessage='Submit',a.showRes=b.statusMessage,c=b.statusMessage.toLowerCase(),c=b.statusMessage.replace(' ','-'),a.trackForForgotPassword('update-password-submit',c,null,null,null)))}a.buttonMessage='Success!!',a.trackForForgotPassword('update-password-submit',null,null,null,null),setTimeout('',3e3),window.location.href=b.redirect_url}).error(function(b){a.buttonMessage='Submit',a.showRes=b.statusMessage;var c=a.showRes.toLowerCase();c=a.showRes.replace(' ','-'),a.trackForForgotPassword('update-password-submit',c,null,null,null)})))},a.init()}]);
var app=angular.module('changepassApp',['ngRaven','ngCookies']);app.config(['$interpolateProvider','$httpProvider',function(a,b){a.startSymbol('{[{'),a.endSymbol('}]}'),b.interceptors.push(['$rootScope','$q',function(a,b){var c=0;return{request:function(d){return d.timeout=15000,d.config&&d.config.silent||(c++,a.$broadcast('httpRequestsInProgress')),d.start=new Date().getTime(),d||b.when(d)},requestError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),b.reject(d)},response:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:d.data.statusCode,md:d.config.method,pn:'Change Password'}),d||b.when(d)},responseError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:-999,md:d.config.method,pn:'Change Password'}),b.reject(d)}}}])}]),app.factory('changepassFactory',['$http',function(b){return{changePassword:function(c){return b.post('/vms/changepasswordstep/',c)}}}]),app.controller('changepassCtrl',['$scope','$cookies','$timeout','$interval','changepassFactory',function(a,b,c,d,e){a.status=!1,a.showRes=null,a.init=function(){a.status=!1,a.showRes='',a.mobNo='',a.otp='',a.finalres=0},a.checkStatus=function(){return a.status},a.changepassword=function(){a.status=!1;var b=document.getElementById('oldpassword').value,c=document.getElementById('newpassword').value,d=document.getElementById('reenternewpassword').value;if(b.length&&c.length&&d.length){if(a.status=!1,c!=d)return a.status=!0,void(a.showRes='New password and confirm password do not match please retry.');var f={};f.oldpass=b,f.newpass=c,f.confirmpass=c,e.changePassword(f).success(function(b){console.log(b),a.status=!0,a.showRes='';var c=b.code;701==c?(a.showRes=b.status,a.finalres=1):(a.status=!0,a.showRes=b.status)}).error(function(b){a.status=!0,a.showRes='Error happend',console.log('Error orders  - '+JSON.stringify(b))})}},a.init()}]);
var app=angular.module('firsttimechangeApp',['ngRaven','ngCookies']);app.config(['$interpolateProvider','$httpProvider',function(a,b){a.startSymbol('{[{'),a.endSymbol('}]}'),b.interceptors.push(['$rootScope','$q',function(a,b){var c=0;return{request:function(d){return d.timeout=15000,d.config&&d.config.silent||(c++,a.$broadcast('httpRequestsInProgress')),d.start=new Date().getTime(),d||b.when(d)},requestError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),b.reject(d)},response:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:d.data.statusCode,md:d.config.method,pn:'Change Password'}),d||b.when(d)},responseError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:-999,md:d.config.method,pn:'Change Password'}),b.reject(d)}}}])}]),app.factory('firsttimechangeFactory',['$http',function(b){return{firsttimechangepassword:function(c){return b.post('/vms/userDetails/',c)},resend_otp:function(c){return b.post('/vms/resend_otp/',c)}}}]),app.controller('firsttimechangeCtrl',['$scope','$cookies','$timeout','$interval','firsttimechangeFactory',function(a,b,c,d,e){a.status=!1,a.showRes=null,a.init=function(){a.status=!1,a.showRes='',a.mobNo='',a.otp='',a.userStep=0},a.checkStatus=function(){return a.status},a.togglestep=function(b){a.userStep=b},a.resendOtp=function(){var a={};a.type=2,e.resend_otp(a).success(function(a){console.log(a);var b=a.code;718==b&&setTimeout(function(){window.location.href='/vms/migration/details/'},5e3)}).error(function(a){console.log(a)})},a.firsttimechangepass=function(b){a.status=!1;var c=!0,d={};switch(b){case 0:console.log('step 0');var f=/^\d{10}$/,g=document.getElementById('mobileno').value;console.log(g),0==g.length?(console.log('test 493840'),c=!1):f.test(g)?(d.mobile=g,d.step=0,a.mobNo=g):(a.status=!0,a.showRes='Invalid mobile Number',c=!1);break;case 1:var h=document.getElementById('verifyotp').value;0==h.length?c=!1:(d.otp=h,d.step=1);break;case 2:var i=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,j=document.getElementById('emailid').value,k=document.getElementById('name').value,l=document.getElementById('passwordid').value,m=document.getElementById('reenterpasswordid').value;l.length&&m.length?l==m?j.length&&!i.test(j)?(c=!1,a.status=!0,a.showRes='Invalid email id'):(d.step=2,d.email=j,d.name=k,d.newpass=l):(c=!1,a.status=!0,a.showRes='Both password are not matching'):c=!1;break;default:a.status=!0,a.showRes='Invalid detail',c=!1;}c&&e.firsttimechangepassword(d).success(function(b){a.status||(a.status=!0),a.showRes='';var c=b.code;console.log(b),701==c?b.isNewUser?(a.status=!1,++a.userStep):(setTimeout('',1e3),window.location.href='/vms/home/'):(a.status=!0,a.showRes=b.status,718==c&&setTimeout(function(){window.location.href='/vms/migration/details/'},5e3))}).error(function(b){a.status||(a.status=!0),console.log(b),a.showRes=JSON.stringify(b)})},a.init()}]);
var app=angular.module('firsttimeApp',['ngRaven','ngCookies','ui.bootstrap']);app.config(['$interpolateProvider','$httpProvider',function(a,b){a.startSymbol('{[{'),a.endSymbol('}]}'),b.interceptors.push(['$rootScope','$q',function(a,b){var c=0;return{request:function(d){return d.timeout=15000,d.config&&d.config.silent||(c++,a.$broadcast('httpRequestsInProgress')),d.start=new Date().getTime(),d||b.when(d)},requestError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),b.reject(d)},response:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:d.data.statusCode,md:d.config.method,pn:'Signup'}),d||b.when(d)},responseError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:-999,md:d.config.method,pn:'Signup'}),b.reject(d)}}}])}]),app.directive('getPasswordPolicy',['$rootScope',function(a){return{restrict:'A',link:function(b,c){c.bind('blur',function(){b.$watch('policyInit',function(){a.getUserInfo(c.val())})})},policyInit:'='}}]).directive('passwordPolicyConfigView',function(){return{restrict:'E',templateUrl:'/app/shared/templates/password-policy-config-view.html'}}),app.factory('firsttimeFactory',['$http',function(b){return{firstTimeLogin:function(c){return b.post('/registration/v1/signup/',c)},confirmOtp:function(c){return b.post('/registration/v1/confirmOtp/',c)},resendOtp:function(c){return b.get('/registration/v1/resendOtp/',{params:c})},reqPasswordConfig:function(c){return b.get('/api/password/v1/passwordConfig/',{params:c})}}}]),app.controller('firsttimeCtrl',['$scope','$cookies','$timeout','$interval','firsttimeFactory','$uibModal','$rootScope',function(a,b,c,d,e,f,g){a.showRes=null,a.init=function(){a.showRes='',a.mobNo='',a.passwordPolicyData='',a.passwordPolicyRegex='',a.otp='',a.oldReqUserPhoneNumber='',a.userStep=0,a.showPasswordConfigData=!1,a.showdiv=1,a.submittingOtp=!1,a.showHeader=!1,a.userSummary=[],a.enableSettingInputs=!1,a.disableInputField=!1,a.resendOtpView=!1,a.mobileError=!1,a.nameError=!1,a.passwordError=!1,a.confirmPasswordError=!1,a.emailError=!1,a.showLoad=!1,a.featuresList=[{featureName:'Order Taking',isChecked:!0,id:'1',description:'Accept, Edit & Cancel Orders. See order history'},{featureName:'Catalogue Management',isChecked:!0,id:'2',description:'Make item out of stock, List Menu'},{featureName:'User Management',isChecked:!1,id:'3',description:'Create logins & permissions for staffs'},{featureName:'Business Metrics',isChecked:!1,id:'4',description:'Analyze reports & metrics of your business'}]},a.toggleInputRestrictions=function(){var b=document.getElementById('oldpassword').value;return b?void(a.enableSettingInputs=!1):void(a.enableSettingInputs=!0)},a.showAgrrement=function(){f.open({animation:!1,templateUrl:'/app/terms-and-conditions/templates/v1/terms-conditon-holder.html',controller:'termsConditionController',size:'lg',backdrop:'static',resolve:{}})},a.openVmsApp=function(){window.location.href='/login'},a.clearOtpMessage=function(){a.showRes='',a.mobileError=!1,a.nameError=!1,a.passwordError=!1,a.confirmPasswordError=!1,a.emailError=!1},a.resendotp=function(){var b={};b.mobile=a.mobNo,a.disableInputField=!0,a.resendOtpView=!0,e.resendOtp(b).success(function(b){var c=b.statusCode;return a.disableInputField=!1,a.resendOtpView=!1,0==c?void(a.showRes='Sent new OTP'):void(a.showRes=b.statusMessage)}).error(function(b){a.showRes=b.statusMessage,a.disableInputField=!1,a.resendOtpView=!1})},a.togglestep=function(b){a.userStep=b},a.checkNumber=function(){if(document.getElementById('mobileno').value){var b=document.getElementById('mobileno').value;if(a.showRes='',0<+b.length&&10!==+b.length)return void(a.showRes='Please enter a valid phone number');a.showRes='',10!==+b.length||a.showPasswordConfigData||g.getUserInfo(b)}},a.firsttimelogin=function(b){var c=!0,d={};switch(b){case 0:var f=/^\d{10}$/,g=document.getElementById('mobileno').value,h=document.getElementById('name').value,i=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,j=document.getElementById('emailid').value,k=document.getElementById('passwordid').value,l=document.getElementById('reenterpasswordid').value;if(a.disableFields=!1,a.showHeader=!1,!f.test(g)||0==g.length)return a.showRes='Please enter a valid phone number',c=!1,void(a.mobileError=!0);if(50<h.length)return a.showRes='Name should be less than 40 characters',void(a.nameError=!0);if(0===k.length||0===l.length){if(a.showRes='Please enter a password',c=!1,0===k.length)return void(a.passwordError=!0);if(0===l.length)return void(a.confirmPasswordError=!0)}if(0<j.length&&!i.test(j))return c=!1,a.showRes='Please enter a valid email-id',void(a.emailError=!0);if(k.length&&l.length){if(30<k.length||30<l.length)return c=!1,30<k.length&&(a.passwordError=!0),30<l.length&&(a.confirmPasswordError=!0),void(a.showRes='Please restrict the password below or equal to 30');if(k!=l)return c=!1,a.passwordError=!0,a.confirmPasswordError=!0,void(a.showRes='New password and confirm password does not match please retry.')}if(a.passwordPolicyRegex){var m=new RegExp(a.passwordPolicyRegex);if(!m.test(k)||!m.test(l))return c=!1,a.showPasswordConfigData=!0,document.getElementById('passwordid').focus(),void(a.showRes='Password does not match with the required policy')}c&&(d.mobile=g,d.step=0,d.step=2,d.email=j,d.name=h,d.password=k,d.confirmpass=l,a.mobNo=g,a.disableFields=!0,a.showRes='',''==d.email.length&&(d.email=null),''==d.name.length&&(d.name=null),e.firstTimeLogin(d).success(function(b){return a.disableFields=!1,0==b.statusCode?void(a.showRes='',a.userStep=1):void(b.data&&!b.data.isValid?(a.showRes=b.data.message,a.passwordPolicyData=succData.data.text,a.passwordPolicyRegex=succData.data.regex,a.passwordPolicyErrorText=succData.data.text):a.showRes=b.statusMessage)}).error(function(b){a.disableFields=!1,a.showRes=JSON.stringify(b)}));break;case 1:var n=document.getElementById('verifyotp').value;if(a.showHeader=!1,0==n.length)return c=!1,void(a.showRes='Please enter an OTP');d.otp=n,d.mobile=a.mobNo,d.step=1,c&&(a.submittingOtp=!0,e.confirmOtp(d).success(function(b){return a.submittingOtp=!1,0==b.statusCode?void(a.showRes='',a.userSummary=b.data,a.userStep=2,a.showHeader=!0):void(a.showRes=b.statusMessage)}).error(function(b){a.showRes=JSON.stringify(b),a.submittingOtp=!1}));break;default:a.showRes='Invalid details',c=!1;}},a.redirectUser=function(){window.location.href='/login'},a.init(),a.showPasswordConfig=function(){a.showPasswordConfigData=!0},a.hidePasswordConfig=function(){a.showPasswordConfigData=!1},g.getUserInfo=function(b){if(!(a.passwordPolicyData&&a.showLoad||+a.oldReqUserPhoneNumber===+b)){if(a.mobileError=!1,10!==+b.length)return a.showRes='Please enter a valid phone number',void(a.mobileError=!0);a.showLoad=!0,e.reqPasswordConfig({username:b}).success(function(c){return a.showLoad=!1,0==c.statusCode?void(a.oldReqUserPhoneNumber=b,a.passwordPolicyData=c.data.text,a.passwordPolicyRegex=c.data.regex,a.passwordPolicyErrorText=c.data.text):(a.passwordPolicyData='',a.passwordPolicyRegex='',a.passwordPolicyErrorText='',void(a.oldReqUserPhoneNumber=''))}).error(function(){a.showLoad=!1,a.passwordPolicyData='',a.passwordPolicyRegex='',a.passwordPolicyErrorText='',a.oldReqUserPhoneNumber=''})}}}]),app.controller('termsConditionController',['$scope','$uibModalInstance',function(a,b){a.cancel=function(){b.dismiss('cancel')}}]);
var app=angular.module('restOneLoginApp',['ngRaven','google-signin','ngCookies']);app.config(['GoogleSigninProvider','$interpolateProvider','$httpProvider',function(a,b,c){b.startSymbol('{[{'),b.endSymbol('}]}'),a.init({client_id:'110484347766-mm4sfoetl4ii36p28d2bpoqo8s8t4v2c.apps.googleusercontent.com'}),c.interceptors.push(['$rootScope','$q',function(a,b){var c=0;return{request:function(d){return d.timeout=15000,d.config&&d.config.silent||(c++,a.$broadcast('httpRequestsInProgress')),d.start=new Date().getTime(),d||b.when(d)},requestError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),b.reject(d)},response:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:d.data.statusCode,md:d.config.method,pn:'Internal User Login'}),d||b.when(d)},responseError:function(d){return d.config&&d.config.config&&d.config.config.silent||(c--,0==c&&a.$broadcast('httpRequestsCompleted')),d.end=new Date().getTime(),appMetrics.log({mn:'apiResTime',mv:(+d.end-+d.config.start)/1e3,ep:d.config.url,rc:d.status,sc:-999,md:d.config.method,pn:'Internal User Login'}),b.reject(d)}}}])}]),app.run(['$http','$cookies',function(a,b){if(0<globals.query.length){var c=JSON.parse(globals.query);if(c.rest_id){var d=c.rest_id,e=b.get('Swiggy_Session-alpha');if(e){var f=localStorage.getItem('Swiggy_internal_user');if(null===f||0===parseInt(f))localStorage.removeItem('Swiggy_outlets'),localStorage.removeItem('Swiggy_user'),localStorage.removeItem('Swiggy_perms'),localStorage.removeItem('Swiggy_role'),localStorage.removeItem('Swiggy_internal_user'),localStorage.removeItem('sw_gst_pop_up_click_flag'),localStorage.removeItem('self_serve_menu_enabled_restaurants'),localStorage.removeItem('choosen_outlet'),localStorage.removeItem('config'),localStorage.removeItem('stopOrderNotification'),localStorage.removeItem('just_logged_in'),localStorage.removeItem('fcm'),localStorage.removeItem('history'),b.remove('Swiggy_Session-alpha',{path:'/'}),b.remove('Swiggy_Session-user',{path:'/'}),b.remove('Swiggy_Session-perms',{path:'/'}),b.remove('Swiggy_user_role',{path:'/'}),b.remove('Swiggy_internal_user',{path:'/'});else{var g=localStorage.getItem('Swiggy_outlets');g=JSON.parse(g),a({url:'/authentication/v1/user/restaurants/',method:'POST',data:{restaurantIds:[d]}}).then(function(a){0===a.data.statusCode?(localStorage.setItem('Swiggy_outlets',JSON.stringify([a.data.data])),window.location.href='/home'):window.location.href='/home'},function(){window.location.href='/home'})}}}else{var e=b.get('Swiggy_Session-alpha');e&&(window.location.href='/home')}}else{var e=b.get('Swiggy_Session-alpha');e&&(window.location.href='/home')}}]),app.service('GoogleSignFactory',['$http',function(b){this.restOneLogin=function(c){var a=c.code;return b.post('/authentication/rest-one/v1/login/',{properties:JSON.stringify({code:a,is_web:1}),authType:'Google',state:globals.query})}}]),app.controller('RestOneLoginCtrl',['$scope','GoogleSignin','GoogleSignFactory','$http',function(a,b,c,d){a.loading=!1,a.login=function(){a.loading=!0,b.grantOfflineAccess({redirect_uri:'postmessage',approval_prompt:'force'}).then(c.restOneLogin.bind(c)).then(function(b){if(-1!==b.data.statusCode){var c=b.data.outlets?b.data.outlets:[],e={};0<b.config.data.state.length&&(e=JSON.parse(b.config.data.state));var f=c[0];localStorage.setItem('choosen_outlet',JSON.stringify(f)),localStorage.setItem('Swiggy_outlets',JSON.stringify([f])),localStorage.setItem('Swiggy_user',b.data.user_id),localStorage.setItem('Swiggy_perms',JSON.stringify(b.data.permissions)),localStorage.setItem('Swiggy_role',b.data.role_id),localStorage.setItem('Swiggy_internal_user',1),localStorage.setItem('just_logged_in',!0),e.rest_id?f.rest_rid.toString()===e.rest_id.toString()?window.location.href='/home':d({url:'/authentication/v1/user/restaurants/',method:'POST',data:{restaurantIds:[e.rest_id]}}).then(function(a){0===a.data.statusCode?(localStorage.setItem('Swiggy_outlets',JSON.stringify([a.data.data])),window.location.href='/home'):window.location.href='/home'},function(){window.location.href='/home'}):window.location.href='/home'}a.loading=!1}).catch(function(){a.loading=!1})}}]);